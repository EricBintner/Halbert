{"text": "rsyslog 8.2510.0 documentation\nContents\nMenu\nExpand\nLight mode\nDark mode\nAuto light/dark, in light mode\nAuto light/dark, in dark mode\nHide navigation sidebar\nHide table of contents sidebar\nSkip to content\nToggle site navigation sidebar\nrsyslog 8.2510.0 documentation\nToggle Light / Dark / Auto color theme\nToggle table of contents sidebar\nrsyslog 8.2510.0 documentation\nAbout rsyslog\nToggle navigation of About rsyslog\nAI-First (Human-Controlled): Principles and Practice\nrsyslog Release Numbering Scheme\nHistory of rsyslog\nOrigins of rsyslog (1983â2003)\nGetting Started with rsyslog\nToggle navigation of Getting Started with rsyslog\nBeginner Tutorials\nToggle navigation of Beginner Tutorials\n1. Installing rsyslog\n2. Your First Configuration\n3. Understanding the Default Configuration\n4. The Log Pipeline: Inputs â Rulesets â Actions\n5. Order Matters: Config and Include Files\n6. Your First Remote Log Server\nAI Assistants\nInstalling rsyslog\nBasic Configuration\nUnderstanding the Default Configuration\nForwarding Logs\nNext Steps\nConfiguration\nToggle navigation of Configuration\nBasic Structure\nOutput Modules\nToggle navigation of Output Modules\nomamqp1: AMQP 1.0 Messaging Output Module\nomazureeventhubs: Microsoft Azure Event Hubs Output Module\nToggle navigation of omazureeventhubs: Microsoft Azure Event Hubs Output Module\nazurehost\nazureport\nazure_key_name\nazure_key\ncontainer\ntemplate\namqp_address\neventproperties\nstatsname\nomclickhouse: ClickHouse Output Module\nToggle navigation of omclickhouse: ClickHouse Output Module\nallowUnsignedCerts\nbulkMode\nerrorFile\nhealthCheckTimeout\nmaxBytes\nport\npwd\nserver\nskipVerifyHost\ntemplate\ntimeout\nuseHttps\nuser\nomczmq: Output module for ZeroMQ\nomdtls: Output Module for DTLS Protocol over UDP\nToggle navigation of omdtls: Output Module for DTLS Protocol over UDP\ntarget\nport\ntemplate\ntls.authmode\ntls.cacert\ntls.mycert\ntls.myprivkey\ntls.tlscfgcmd\nstatsname\nomelasticsearch: Elasticsearch Output Module\nToggle navigation of omelasticsearch: Elasticsearch Output Module\nServer\nServerport\nHealthCheckTimeout\nesVersion.major\nsearchIndex\ndynSearchIndex\nsearchType\ndynSearchType\npipelineName\ndynPipelineName\nskipPipelineIfEmpty\nasyncrepl\nusehttps\ntimeout\nindexTimeout\ntemplate\nbulkmode\nmaxbytes\nparent\ndynParent\nuid\npwd\napikey\nerrorFile\ntls.cacert\ntls.mycert\ntls.myprivkey\nallowunsignedcerts\nskipverifyhost\nbulkid\ndynbulkid\nwriteoperation\nretryfailures\nretryruleset\nratelimit.interval\nratelimit.burst\nrebindinterval\nomfile: File Output Module\nToggle navigation of omfile: File Output Module\nasyncWriting\naddLF\ncloseTimeout\ncompression.driver\ncompression.zstd.workers\ncreateDirs\ncry.Provider\ndirCreateMode\ndirGroup\ndirGroupNum\ndirOwner\ndirOwnerNum\ndynaFile\ndynafile.donotsuspend\ndynaFileCacheSize\nfailOnChOwnFailure\nFile\nfileCreateMode\nfileGroup\nfileGroupNum\nfileOwner\nfileOwnerNum\nflushInterval\nflushOnTXEnd\nioBufferSize\nrotation.sizeLimit\nrotation.sizeLimitCommand\nsig.Provider\nsync\nTemplate\nveryRobustZip\nzipLevel\nomfwd: syslog Forwarding Output Module\nToggle navigation of omfwd: syslog Forwarding Output Module\nBasic Parameters\nModule Parameters\nGSSAPI module support in rsyslog v3\nConfiguration Parameters\nToggle navigation of Configuration Parameters\nGssForwardServiceName\nGssMode\nActionGSSForwardDefaultTemplate\nomhdfs: Hadoop Filesystem Output Module\nToggle navigation of omhdfs: Hadoop Filesystem Output Module\nomhdfsFileName\nomhdfsHost\nomhdfsPort\nomhdfsDefaultTemplate\nomhiredis: Redis Output Module\nomhttp: HTTP Output Module\nToggle navigation of omhttp: HTTP Output Module\nserver\nserverport\nhealthchecktimeout\nhttpcontenttype\nhttpheaderkey\nhttpheadervalue\nhttpheaders\nhttpretrycodes\nhttpignorablecodes\nproxyhost\nproxyport\nuid\npwd\nrestpath\ndynrestpath\nrestpathtimeout\ncheckpath\nbatch\nbatch.format\nbatch.maxsize\nbatch.maxbytes\ntemplate\nretry\nretry.ruleset\nretry.addmetadata\nratelimit.interval\nratelimit.burst\nerrorfile\ncompress\ncompress.level\nuseHttps\ntls.cacert\ntls.mycert\ntls.myprivkey\nallowunsignedcerts\nskipverifyhost\nreloadonhup\nstatsname\nomhttpfs: Hadoop HTTPFS Output Module\nomjournal: Systemd Journal Output\nToggle navigation of omjournal: Systemd Journal Output\ntemplate\nnamespace\nomkafka: write to Apache Kafka\nToggle navigation of omkafka: write to Apache Kafka\nBroker\nTopic\nKey\nDynaKey\nDynaTopic\nDynaTopic.Cachesize\nPartitions.Auto\nPartitions.number\nPartitions.useFixed\nerrorFile\nstatsFile\nConfParam\nTopicConfParam\nKafkaHeader\nTemplate\ncloseTimeout\nresubmitOnFailure\nKeepFailedMessages\nfailedMsgFile\nstatsName\nomlibdbi: Generic Database Output Module\nToggle navigation of omlibdbi: Generic Database Output Module\nDriverDirectory\nTemplate\nDriver\nServer\nUID\nPWD\nDB\nommail: Mail Output Module\nommongodb: MongoDB Output Module\nommysql: MariaDB/MySQL Database Output Module\nomoracle: Oracle Database Output Module\nPostgreSQL Database Output Module (ompgsql)\nompipe: Pipe Output Module\nomprog: Program integration Output module\nToggle navigation of omprog: Program integration Output module\ntemplate\nbinary\nconfirmMessages\nconfirmTimeout\nreportFailures\nuseTransactions\nbeginTransactionMark\ncommitTransactionMark\noutput\nfileCreateMode\nhup.signal\nsignalOnClose\ncloseTimeout\nkillUnresponsive\nforceSingleInstance\nomrabbitmq: RabbitMQ output module\nomrelp: RELP Output Module\nomruleset: ruleset output/including module\nomsendertrack: Sender Tracking Output Module\nToggle navigation of omsendertrack: Sender Tracking Output Module\nsenderid\ninterval\nstatefile\ncmdfile\nomsnmp: SNMP Trap Output Module\nToggle navigation of omsnmp: SNMP Trap Output Module\nServer\nPort\nTransport\nVersion\nCommunity\nTrapOID\nMessageOID\nEnterpriseOID\nSpecificType\nSnmpv1DynSource\nTrapType\nomstdout: stdout output module (testbench tool)\nomudpspoof: UDP spoofing output module\nomusrmsg: notify users\nomuxsock: Unix sockets Output Module\nGuardTime Log Signature Provider (gt)\nKeyless Signature Infrastructure Provider (ksi)\nKSI Signature Provider (rsyslog-ksi-ls12)\nInput Modules\nToggle navigation of Input Modules\nim3195: RFC3195 Input Module\nToggle navigation of im3195: RFC3195 Input Module\nInput3195ListenPort\nimbatchreport: Batch report input module\nimczmq: Input module for ZeroMQ\nimdiag: Diagnostic instrumentation\nToggle navigation of imdiag: Diagnostic instrumentation\nAbortTimeout\nInjectDelayMode\nMaxSessions\nListenPortFileName\nServerRun\nServerStreamDriverMode\nServerStreamDriverAuthMode\nServerStreamDriverPermittedPeer\nServerInputName\nimdocker: Docker Input Module\nToggle navigation of imdocker: Docker Input Module\nDockerApiUnixSockAddr\nApiVersionStr\nPollingInterval\nListContainersOptions\nGetContainerLogOptions\nRetrieveNewLogsFromStart\nDefaultFacility\nDefaultSeverity\nescapeLF\nimdtls: Input Module for DTLS Protocol over UDP\nToggle navigation of imdtls: Input Module for DTLS Protocol over UDP\nAddress\nPort\nTimeout\nName\nRuleset\ntls.authMode\ntls.caCert\ntls.myCert\ntls.myPrivKey\ntls.tlsCfgCmd\ntls.permittedPeer\nimfile: Text File Input Module\nToggle navigation of imfile: Text File Input Module\naddCeeTag\naddMetadata\ndeleteStateOnFileDelete\ndeleteStateOnFileMove\ndiscardTruncatedMsg\nendmsg.regex\nescapeLF\nescapeLF.replacement\nFacility\nFile\nfreshStartTail\nignoreOlderThan\nMaxBytesPerMinute\nMaxLinesAtOnce\nMaxLinesPerMinute\nMaxSubmitAtOnce\nMode\nmsgDiscardingError\nneedParse\npersistStateAfterSubmission\nPersistStateInterval\nPollingInterval\nreadMode\nreadTimeout\nreopenOnTruncate\nRuleset\nSeverity\nsortFiles\nstartmsg.regex\nstateFile\nstatefile.directory\nTag\ntimeoutGranularity\ntrimLineOverBytes\nimgssapi: GSSAPI Syslog Input Module\nToggle navigation of imgssapi: GSSAPI Syslog Input Module\nInputGSSServerRun\nInputGSSServerServiceName\nInputGSSServerPermitPlainTcp\nInputGSSServerMaxSessions\nInputGSSServerKeepAlive\nInputGSSListenPortFileName\nImhiredis: Redis input plugin\nimhttp: HTTP input module\nimjournal: Systemd Journal Input Module\nToggle navigation of imjournal: Systemd Journal Input Module\nPersistStateInterval\nFileCreateMode\nStateFile\nRatelimit.Interval\nRatelimit.Burst\nIgnorePreviousMessages\nDefaultSeverity\nDefaultFacility\nUsePidFromSystem\nUsePid\nIgnoreNonValidStatefile\nWorkAroundJournalBug\nFSync\nRemote\ndefaultTag\nMain\nimkafka: read from Apache Kafka\nToggle navigation of imkafka: read from Apache Kafka\nbroker\nconfparam\nconsumergroup\nparseHostname\nruleset\ntopic\nimklog: Kernel Log Input Module\nToggle navigation of imklog: Kernel Log Input Module\nInternalMsgFacility\nPermitNonKernelFacility\nConsoleLogLevel\nParseKernelTimestamp\nKeepKernelTimestamp\nLogPath\nRatelimitInterval\nRatelimitBurst\nimkmsg: /dev/kmsg Log Input Module\nimmark: Mark Message Input Module\nToggle navigation of immark: Mark Message Input Module\ninterval\nmarkMessageText\nruleset\nuse.markFlag\nuse.syslogCall\nImpcap: network traffic capture\nimprog: Program integration input module\nimpstats: Generate Periodic Statistics of Internal Counters\nToggle navigation of impstats: Generate Periodic Statistics of Internal Counters\ninterval\nfacility\nseverity\nresetcounters\nformat\nlog.syslog\nlog.file\nruleset\nbracketing\nimptcp: Plain TCP Syslog\nToggle navigation of imptcp: Plain TCP Syslog\nThreads\nMaxSessions\nProcessOnPoller\nPort\nPath\nDiscardTruncatedMsg\nFileOwner\nFileOwnerNum\nFileGroup\nFileGroupNum\nFileCreateMode\nFailOnChOwnFailure\nUnlink\nName\nRuleset\nMaxFrameSize\nAddress\nAddtlFrameDelimiter\nSupportOctetCountedFraming\nNotifyOnConnectionClose\nNotifyOnConnectionOpen\nKeepAlive\nKeepAlive.Probes\nKeepAlive.Interval\nKeepAlive.Time\nRateLimit.Interval\nRateLimit.Burst\nCompression.mode\nflowControl\nMultiLine\nframing.delimiter.regex\nSocketBacklog\nDefaulttz\nFramingfix.cisco.asa\nListenPortFileName\nimrelp: RELP Input Module\nToggle navigation of imrelp: RELP Input Module\nruleset\ntls.tlsLib\nport\naddress\nname\nruleset\nmaxDataSize\ntls\ntls.compression\ntls.dhBits\ntls.permittedPeer\ntls.authMode\ntls.caCert\ntls.myCert\ntls.myPrivKey\ntls.priorityString\ntls.tlsCfgCmd\nkeepAlive\nkeepAlive.probes\nkeepAlive.interval\nkeepAlive.time\noversizeMode\nflowControl\nimsolaris: Solaris Input Module\nToggle navigation of imsolaris: Solaris Input Module\nIMSolarisLogSocketName\nimtcp: TCP Syslog Input Module\nToggle navigation of imtcp: TCP Syslog Input Module\nAddtlFrameDelimiter\nDisableLFDelimiter\nMaxFrameSize\nNotifyOnConnectionOpen\nNotifyOnConnectionClose\nKeepAlive\nKeepAlive.Probes\nKeepAlive.Time\nKeepAlive.Interval\nFlowControl\nMaxListeners\nMaxSessions\nStreamDriver.Name\nWorkerThreads\nStarvationProtection.MaxReads\nStreamDriver.Mode\nStreamDriver.AuthMode\nStreamDriver.PermitExpiredCerts\nstreamDriver.checkExtendedKeyPurpose\nStreamDriver.PrioritizeSAN\nStreamDriver.TlsVerifyDepth\nPermittedPeer\nDiscardTruncatedMsg\ngnutlsPriorityString\nPreserveCase\nPort\nListenPortFileName\nAddress\nName\nRuleset\nSupportOctetCountedFraming\nSocketBacklog\nRateLimit.Interval\nRateLimit.Burst\nstreamDriver.CAFile\nstreamDriver.CRLFile\nstreamDriver.KeyFile\nstreamDriver.CertFile\nimtuxedoulog: Tuxedo ULOG input module\nimudp: UDP Syslog Input Module\nToggle navigation of imudp: UDP Syslog Input Module\nTimeRequery\nSchedulingPolicy\nSchedulingPriority\nBatchSize\nThreads\nPreserveCase\nAddress\nPort\nIpFreeBind\nDevice\nRuleset\nRateLimit.Interval\nRateLimit.Burst\nName\nName.appendPort\nDefaultTZ\nRcvBufSize\nimuxsock: Unix Socket Input Module\nToggle navigation of imuxsock: Unix Socket Input Module\nSysSock.IgnoreTimestamp\nSysSock.IgnoreOwnMessages\nSysSock.Use\nSysSock.Name\nSysSock.FlowControl\nSysSock.UsePIDFromSystem\nSysSock.RateLimit.Interval\nSysSock.RateLimit.Burst\nSysSock.RateLimit.Severity\nSysSock.UseSysTimeStamp\nSysSock.Annotate\nSysSock.ParseTrusted\nSysSock.Unlink\nSysSock.UseSpecialParser\nSysSock.ParseHostname\nRuleset\nIgnoreTimestamp\nIgnoreOwnMessages\nFlowControl\nRateLimit.Interval\nRateLimit.Burst\nRateLimit.Severity\nUsePIDFromSystem\nUseSysTimeStamp\nCreatePath\nSocket\nHostName\nAnnotate\nParseTrusted\nUnlink\nUseSpecialParser\nParseHostname\nParser Modules\nToggle navigation of Parser Modules\npmciscoios\npmdb2diag: DB2 Diag file parser module\npmlastmsg: last message repeated n times\nLog Message Normalization Parser Module (pmnormalize)\npmnull: Syslog Null Parser Module\npmrfc3164: Parse RFC3164-formatted messages\nToggle navigation of pmrfc3164: Parse RFC3164-formatted messages\npermit.squareBracketsInHostname\npermit.slashesInHostname\npermit.AtSignsInHostname\nforce.tagEndingByColon\nremove.msgFirstSpace\ndetect.YearAfterTimestamp\ndetect.headerless\nheaderless.hostname\nheaderless.tag\nheaderless.ruleset\nheaderless.errorfile\nheaderless.drop\npmrfc3164sd: Parse RFC5424 structured data inside RFC3164 messages\npmrfc5424: Parse RFC5424-formatted messages\nMessage Modification Modules\nToggle navigation of Message Modification Modules\nAI-based classification (mmaitag)\nToggle navigation of AI-based classification (mmaitag)\nprovider\ntag\nmodel\nexpert.initialPrompt\ninputProperty\napiKey\napiKeyFile\nIP Address Anonymization Module (mmanon)\nToggle navigation of IP Address Anonymization Module (mmanon)\nipv4.enable\nipv4.mode\nipv4.bits\nipv4.replaceChar\nipv6.enable\nipv6.anonMode\nipv6.bits\nembeddedIpv4.enable\nembeddedIpv4.anonMode\nembeddedIpv4.bits\nLinux Audit Log Parser (mmaudit)\nmmcount\nToggle navigation of mmcount\nappName\nkey\nvalue\nDarwin connector (mmdarwin)\nToggle navigation of Darwin connector (mmdarwin)\ncontainer\nkey\nsocketpath\nresponse\nfiltercode\nfields\nsend_partial\nMaxMind/GeoIP DB lookup (mmdblookup)\nToggle navigation of MaxMind/GeoIP DB lookup (mmdblookup)\ncontainer\nkey\nmmdbfile\nfields\nreloadonhup\nSupport module for external message modification modules\nToggle navigation of Support module for external message modification modules\nbinary\ninterface.input\noutput\nforceSingleInstance\nFields Extraction Module (mmfields)\nToggle navigation of Fields Extraction Module (mmfields)\nseparator\njsonroot\nJSON Structured Content Extraction Module (mmjsonparse)\nToggle navigation of JSON Structured Content Extraction Module (mmjsonparse)\nmode\ncookie\nmax_scan_bytes\nallow_trailing\nuseRawMsg\ncontainer\nJSON Dotted Key Rewriter (mmjsonrewrite)\nPurpose\nFailure conditions\nConfiguration Parameters\nConflict handling\nExamples\nTroubleshooting\nToggle navigation of Troubleshooting\ninput\noutput\nJSON Dotted Key Transformer (mmjsontransform)\nPurpose\nFailure conditions\nNotable Features\nConfiguration Parameters\nTransformation modes\nConflict handling\nExamples\nTroubleshooting\nToggle navigation of Troubleshooting\ninput\noutput\nmode\nKubernetes Metadata Module (mmkubernetes)\nToggle navigation of Kubernetes Metadata Module (mmkubernetes)\nannotation_match\nallowunsignedcerts\nbusyretryinterval\ncacheentryttl\ncacheexpireinterval\ncontainerrulebase\ncontainerrules\nde_dot\nde_dot_separator\ndstmetadatapath\nfilenamerulebase\nfilenamerules\nKubernetesURL\nskipverifyhost\nsrcmetadatapath\nsslpartialchain\ntls.cacert\ntls.mycert\ntls.myprivkey\ntoken\ntokenfile\nLEEF Structured Content Extraction Module (mmleefparse)\nPurpose\nParsing Result\nConfiguration Parameters\nExamples\nLog Message Normalization Module (mmnormalize)\nToggle navigation of Log Message Normalization Module (mmnormalize)\nallowRegex\nruleBase\nrule\nuseRawMsg\npath\nvariable\nRFC5424 structured data parsing module (mmpstrucdata)\nConfiguration Parameters\nToggle navigation of Configuration Parameters\njsonRoot\nsd_name.lowercase\nmmrfc5424addhmac\nToggle navigation of mmrfc5424addhmac\nkey\nhashFunction\nsdId\nmmrm1stspace: First Space Modification Module\nNumber generator and counter module (mmsequence)\nmmsnareparse - NXLog Snare Windows Security parser\nmmsnmptrapd message modification module\nToggle navigation of mmsnmptrapd message modification module\ntag\nseverityMapping\nmmtaghostname: message modification module\nToggle navigation of mmtaghostname: message modification module\ntag\nforceLocalHostname\nFix invalid UTF-8 Sequences (mmutf8fix)\nToggle navigation of Fix invalid UTF-8 Sequences (mmutf8fix)\nmode\nreplacementChar\nString Generator Modules\nLibrary Modules\nTemplates\nToggle navigation of Templates\nList template type\nSubtree template type\nString template type\nPlugin template type\nConstant statement\nProperty statement\nTemplate options\nTemplate examples\nReserved template names\nLegacy\n$template\nstatement\nrsyslog Properties\nToggle navigation of rsyslog Properties\nmsg\nrawmsg\nrawmsg-after-pri\nhostname\nsource\nfromhost\nfromhost-ip\nfromhost-port\nsyslogtag\nprogramname\npri\npri-text\niut\nsyslogfacility\nsyslogfacility-text\nsyslogseverity\nsyslogseverity-text\nsyslogpriority\nsyslogpriority-text\ntimegenerated\ntimereported\ntimestamp\nprotocol-version\nstructured-data\napp-name\nprocid\nmsgid\ninputname\nuuid\njsonmesg\n$bom\n$myhostname\n$now\n$year\n$month\n$day\n$wday\n$hour\n$hhour\n$qhour\n$minute\n$now-unixtimestamp\nThe Property Replacer\nToggle navigation of The Property Replacer\nProperty Replacer nomatch mode\nFilter Conditions\nRainerScript\nToggle navigation of RainerScript\nData Types\nExpressions\nFunctions\nToggle navigation of Functions\nBuilt-in Functions\nToggle navigation of Built-in Functions\ncnum()\ncstr()\ndyn_inc()\nexec_template()\nexists()\nfield()\nformat_time()\nget_property()\ngetenv()\nint2hex()\nnum2ipv4() / ipv42num()\nis_time()\nlookup()\nparse_json()\nparse_time()\npercentile_observe()\nprevious_action_suspended()\nprifilt()\nrandom()\nre_extract()\nre_extract_i()\nre_match()\nre_match_i()\nreplace()\nscript_error()\nstrlen()\nsubstring()\ntolower()\ntoupper()\nltrim() / rtrim()\nwrap()\nModule Functions\nToggle navigation of Module Functions\nFaup\nHashXX\nHashXXmod\nHTTP-Request\nUnflatten\nControl Structures\nconfiguration objects\nRsyslog Parameter String Constants\nExamples\nVariable (Property) types\nLookup Tables\nGeneral Queue Parameters\nThe rsyslog âcallâ statement\nThe rsyslog âcall_indirectâ statement\nglobal() configuration object\nThe rsyslog include() object\nActions\nInput\nParser\ntimezone\nExamples\nLegacy Configuration Directives\nToggle navigation of Legacy Configuration Directives\nConfiguration Parameter Types\nLegacy Global Configuration Statements\nToggle navigation of Legacy Global Configuration Statements\n$AbortOnUncleanConfig\n$DebugPrintCFSyslineHandlerList\n$DebugPrintModuleList\n$DebugPrintTemplateList\n$FailOnChownFailure\n$GenerateConfigGraph\n$IncludeConfig\n$MainMsgQueueSize\n$MaxOpenFiles\n$ModDir\n$ModLoad\n$UMASK\n$ResetConfigVariables\nLegacy Directives affecting Input Modules\nToggle navigation of Legacy Directives affecting Input Modules\n$AllowedSender\n$DropMsgsWithMaliciousDnsPTRRecords\n$ControlCharacterEscapePrefix\n$DropTrailingLFOnReception\n$Escape8BitCharactersOnReceive\n$EscapeControlCharactersOnReceive\n$MarkMessagePeriod\nDeprecated Legacy Action-Specific Configuration Statements\nToggle navigation of Deprecated Legacy Action-Specific Configuration Statements\nHow to Convert Deprecated\n$ActionExecOnlyWhenPreviousIsSuspended\nto Modern Style\nHow to Convert Deprecated\n$ActionResumeInterval\nto Modern Style\n$RepeatedMsgReduction\n$omfileForceChown\n$DirGroup\nHow to Convert Deprecated\n$DirOwner\nto Modern Style\n$DynaFileCacheSize\n$FileCreateMode\n$FileGroup\n$FileOwner\n$GssForwardServiceName\n$GssMode\nRuleset-Specific Legacy Configuration Statements\nToggle navigation of Ruleset-Specific Legacy Configuration Statements\n$RulesetCreateMainQueue\n$RulesetParser\nrsyslog statistic counter\nModules\nToggle navigation of Modules\nWhere are the modules integrated into the Message Flow?\nOutput Channels\nDropping privileges in rsyslog\nNotes on IPv6 Handling in Rsyslog\nlibgcrypt Log Crypto Provider (gcry)\nlibossl Log Crypto Provider (ossl)\nDynamic Stats\nLookup Tables\nPercentile Stats\nConverting older formats to\nadvanced\nConfiguration Formats\nsysklogd format\nFAQ\nToggle navigation of FAQ\nFAQ: some general topics often asked\nWhat is the difference between the main_queue and a queue with a ruleset tied to an input?\nFAQ: Encrypting MySQL Traffic with ommysql Plugin\nFAQ: Troubleshooting UDP Packet Loss\nCommon Configuration Mistakes and Misunderstandings\nWhy do I see gibberish when connecting with TLS?\nFAQ: Can rsyslog act as an ETL tool?\nFAQ: Sending Logs from rsyslog to Vespa.ai\nDoes rsyslog run under Windows?\nTutorials\nToggle navigation of Tutorials\nEncrypting Syslog Traffic with TLS (SSL)\nToggle navigation of Encrypting Syslog Traffic with TLS (SSL)\nSample Use Case: Single Central Log Server\nSetting up the CA\nGenerating the machine certificate\nSetting up the Central Server\nSetting up a client\nSetting up the UDP syslog relay\nError Messages\nCreating certificates with a script\nEncrypting Syslog Traffic with TLS (SSL) [short version]\nWriting syslog messages to MariaDB, MySQL, PostgreSQL or any other supported Database\nHandling a massive syslog database insert rate with Rsyslog\nReliable Forwarding of syslog Messages with Rsyslog\nRecording the Priority of Syslog Messages\nFailover Syslog Server\nLog rotation with rsyslog\nGELF forwarding in rsyslog\nLog Sampling\nRandom sampling\nHash-based Sampling\nTroubleshooting\nToggle navigation of Troubleshooting\nOutput File is not Being Written\nTroubleshooting SELinux-Related Issues\nRsyslog Debug Support\ntroubleshooting problems\nHow to create a debug log\nConcepts\nToggle navigation of Concepts\nThe Log Pipeline\nToggle navigation of The Log Pipeline\nPipeline Stages\nPipeline Design Patterns\nExample: JSON Parse and Transformation\nPipeline Troubleshooting\nUnderstanding rsyslog Queues\nThe Janitor Process\nMessage parsers in rsyslog\nMultiple Rulesets in rsyslog\nNetStream Drivers\nToggle navigation of NetStream Drivers\nptcp Network Stream Driver\ngtls Network Stream Driver\nSupported Driver Modes\nSupported Authentication Modes\nCheckExtendedKeyPurpose\nPrioritizeSAN\nopenssl Network Stream Driver\nmbedtls Network Stream Driver\nDevelopment\nToggle navigation of Development\nThe rsyslog config data model\nObjects\nDebugging\nAction Threads and Queue Engine (Developer-Oriented)\nrsyslog code style\nWriting Rsyslog Output Plugins\nThe rsyslog queue object\nwriting rsyslog tests\nDocumentation Reference Section Structure Guidelines\nDocumentation Style Guide\nDeveloper Overview: rsyslog Engine\nGeneric design of a syslogd\nInternal tooling\nReference\nToggle navigation of Reference\nHistory of rsyslog\nRsyslog Containers\nToggle navigation of Rsyslog Containers\nUser-Focused Images\nToggle navigation of User-Focused Images\nrsyslog/rsyslog-minimal\nrsyslog/rsyslog\nrsyslog/rsyslog-collector\nrsyslog/rsyslog-dockerlogs\nDevelopment and Historical Images\nInstallation\nToggle navigation of Installation\nInstalling rsyslog from Package\nUsing Rsyslog Docker Containers\nInstalling rsyslog from Source\nInstalling rsyslog from the source repository\nHistorical Documents\nToggle navigation of Historical Documents\nUsing php-syslog-ng with rsyslog\nLegacy Format Samples for Multiple Rulesets\nDeveloping rsyslog modules (outdated)\nReceiving massive amounts of messages with high performance\nCompatibility Notes for rsyslog v8\nCompatibility Notes for rsyslog v7\nCompatibility Notes for rsyslog v6\nCompatibility Notes for rsyslog v5\nCompatibility Notes for rsyslog v4\nCompatibility Notes for rsyslog v3\nThis Page Has Moved\nLicensing\nHow you can Help\nCommunity Resources\nRSyslog - Features\nProposals\nRsyslog Whitepapers\nToggle navigation of Rsyslog Whitepapers\nsyslog parsing in rsyslog\nsyslog-protocol support in rsyslog\nTurning Lanes and Rsyslog Queues\nPreserving syslog sender over NAT\nHow reliable should reliable logging be?\nBack to top\nView this page\nToggle Light / Dark / Auto color theme\nToggle table of contents sidebar\nrsyslog\nÂ¶\nImportant\nConfirm Your Source: Use the Official Documentation\nThe rsyslog project is widely used, and as a result, you may find unofficial\ncopies of our documentation on third-party websites, including outdated versions\non platforms like readthedocs.io.\nTo ensure your configuration is secure, performant, and uses modern\nRainerScript\nsyntax, please rely\nexclusively\non the official documentation hosted\nat\nwww.rsyslog.com/doc\nThis is the only\nsource actively maintained by the rsyslog development team.\nrsyslog\nis a high-performance, modular logging framework designed for\nboth traditional syslog workloads and modern log processing pipelines. It\nsupports flexible routing, advanced filtering, structured logging, and\nintegrations with modern observability tools such as\nElasticsearch,\nKafka, and cloud-based systems\n.\nrsyslog is widely used as the default logging daemon on Linux systems and\nscales from embedded environments to large enterprise deployments. Its\nmodular design enables you to collect, transform, and reliably deliver\nlogs to a wide variety of destinations.\nStart Here:\n-\nGetting Started\n-\nConfiguration Basics\n-\nTroubleshooting\n-\nTutorials\nAbout rsyslog\nAI-First (Human-Controlled): Principles and Practice\nrsyslog Release Numbering Scheme\nHistory of rsyslog\nOrigins of rsyslog (1983â2003)\nGetting Started with rsyslog\nBeginner Tutorials\nAI Assistants\nInstalling rsyslog\nBasic Configuration\nUnderstanding the Default Configuration\nForwarding Logs\nNext Steps\nUnderstanding rsyslog version numbers\nConfiguration\nBasic Structure\nOutput Modules\nInput Modules\nParser Modules\nMessage Modification Modules\nString Generator Modules\nLibrary Modules\nTemplates\nrsyslog Properties\nThe Property Replacer\nFilter Conditions\nRainerScript\nActions\nInput\nParser\ntimezone\nExamples\nLegacy Configuration Directives\nrsyslog statistic counter\nModules\nOutput Channels\nDropping privileges in rsyslog\nNotes on IPv6 Handling in Rsyslog\nlibgcrypt Log Crypto Provider (gcry)\nlibossl Log Crypto Provider (ossl)\nDynamic Stats\nLookup Tables\nPercentile Stats\nConverting older formats to\nadvanced\nConfiguration Formats\nsysklogd format\nAdditional Resources\nCompatibility Note\nFAQ\nFAQ: some general topics often asked\nWhat is the difference between the main_queue and a queue with a ruleset tied to an input?\nFAQ: Encrypting MySQL Traffic with ommysql Plugin\nFAQ: Troubleshooting UDP Packet Loss\nCommon Configuration Mistakes and Misunderstandings\nWhy do I see gibberish when connecting with TLS?\nFAQ: Can rsyslog act as an ETL tool?\nFAQ: Sending Logs from rsyslog to Vespa.ai\nDoes rsyslog run under Windows?\nTutorials\nEncrypting Syslog Traffic with TLS (SSL)\nEncrypting Syslog Traffic with TLS (SSL) [short version]\nWriting syslog messages to MariaDB, MySQL, PostgreSQL or any other supported Database\nHandling a massive syslog database insert rate with Rsyslog\nReliable Forwarding of syslog Messages with Rsyslog\nRecording the Priority of Syslog Messages\nFailover Syslog Server\nLog rotation with rsyslog\nGELF forwarding in rsyslog\nLog Sampling\nRandom sampling\nHash-based Sampling\nTroubleshooting\nTypical Problems\nGeneral Procedure\nConcepts\nOverview\nCore concepts\nHow to use this section\nDevelopment\nThe rsyslog config data model\nObjects\nDebugging\nAction Threads and Queue Engine (Developer-Oriented)\nrsyslog code style\nWriting Rsyslog Output Plugins\nThe rsyslog queue object\nwriting rsyslog tests\nDocumentation Reference Section Structure Guidelines\nDocumentation Style Guide\nDeveloper Overview: rsyslog Engine\nGeneric design of a syslogd\nInternal tooling\nReference\nHistory of rsyslog\nRsyslog Containers\nInstallation\nHistorical Documents\nThis Page Has Moved\nLicensing\nHow you can Help\nCommunity Resources\nRSyslog - Features\nProposals\nRsyslog Whitepapers\nCommunity and Sponsors\nÂ¶\nSee the\nSponsorâs Page\nfor details on\nproject sponsors and how to support ongoing development.\nWant to help? See\nHow you can Help\n.\nContributing to Documentation\nÂ¶\nThis documentation is hosted on\nGitHub\n. Use the âEdit in\nGitHubâ button on any page to suggest improvements.\nSupport:\nrsyslog Assistant\n|\nGitHub Discussions\n|\nGitHub Issues:\nrsyslog source project\nContributing:\nSource & docs:\nrsyslog source project\nÂ© 2008â2025\nRainer Gerhards\nand others. Licensed under the\nApache License 2.0\n.\nOn this page\nrsyslog\nCommunity and Sponsors\nContributing to Documentation\nn\nn\nn\nn", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://www.rsyslog.com/doc/master/index.html"}}
{"text": "Configuration - rsyslog 8.2510.0 documentation\nContents\nMenu\nExpand\nLight mode\nDark mode\nAuto light/dark, in light mode\nAuto light/dark, in dark mode\nHide navigation sidebar\nHide table of contents sidebar\nSkip to content\nToggle site navigation sidebar\nrsyslog 8.2510.0 documentation\nToggle Light / Dark / Auto color theme\nToggle table of contents sidebar\nrsyslog 8.2510.0 documentation\nAbout rsyslog\nToggle navigation of About rsyslog\nAI-First (Human-Controlled): Principles and Practice\nrsyslog Release Numbering Scheme\nHistory of rsyslog\nOrigins of rsyslog (1983â2003)\nGetting Started with rsyslog\nToggle navigation of Getting Started with rsyslog\nBeginner Tutorials\nToggle navigation of Beginner Tutorials\n1. Installing rsyslog\n2. Your First Configuration\n3. Understanding the Default Configuration\n4. The Log Pipeline: Inputs â Rulesets â Actions\n5. Order Matters: Config and Include Files\n6. Your First Remote Log Server\nAI Assistants\nInstalling rsyslog\nBasic Configuration\nUnderstanding the Default Configuration\nForwarding Logs\nNext Steps\nConfiguration\nToggle navigation of Configuration\nBasic Structure\nOutput Modules\nToggle navigation of Output Modules\nomamqp1: AMQP 1.0 Messaging Output Module\nomazureeventhubs: Microsoft Azure Event Hubs Output Module\nToggle navigation of omazureeventhubs: Microsoft Azure Event Hubs Output Module\nazurehost\nazureport\nazure_key_name\nazure_key\ncontainer\ntemplate\namqp_address\neventproperties\nstatsname\nomclickhouse: ClickHouse Output Module\nToggle navigation of omclickhouse: ClickHouse Output Module\nallowUnsignedCerts\nbulkMode\nerrorFile\nhealthCheckTimeout\nmaxBytes\nport\npwd\nserver\nskipVerifyHost\ntemplate\ntimeout\nuseHttps\nuser\nomczmq: Output module for ZeroMQ\nomdtls: Output Module for DTLS Protocol over UDP\nToggle navigation of omdtls: Output Module for DTLS Protocol over UDP\ntarget\nport\ntemplate\ntls.authmode\ntls.cacert\ntls.mycert\ntls.myprivkey\ntls.tlscfgcmd\nstatsname\nomelasticsearch: Elasticsearch Output Module\nToggle navigation of omelasticsearch: Elasticsearch Output Module\nServer\nServerport\nHealthCheckTimeout\nesVersion.major\nsearchIndex\ndynSearchIndex\nsearchType\ndynSearchType\npipelineName\ndynPipelineName\nskipPipelineIfEmpty\nasyncrepl\nusehttps\ntimeout\nindexTimeout\ntemplate\nbulkmode\nmaxbytes\nparent\ndynParent\nuid\npwd\napikey\nerrorFile\ntls.cacert\ntls.mycert\ntls.myprivkey\nallowunsignedcerts\nskipverifyhost\nbulkid\ndynbulkid\nwriteoperation\nretryfailures\nretryruleset\nratelimit.interval\nratelimit.burst\nrebindinterval\nomfile: File Output Module\nToggle navigation of omfile: File Output Module\nasyncWriting\naddLF\ncloseTimeout\ncompression.driver\ncompression.zstd.workers\ncreateDirs\ncry.Provider\ndirCreateMode\ndirGroup\ndirGroupNum\ndirOwner\ndirOwnerNum\ndynaFile\ndynafile.donotsuspend\ndynaFileCacheSize\nfailOnChOwnFailure\nFile\nfileCreateMode\nfileGroup\nfileGroupNum\nfileOwner\nfileOwnerNum\nflushInterval\nflushOnTXEnd\nioBufferSize\nrotation.sizeLimit\nrotation.sizeLimitCommand\nsig.Provider\nsync\nTemplate\nveryRobustZip\nzipLevel\nomfwd: syslog Forwarding Output Module\nToggle navigation of omfwd: syslog Forwarding Output Module\nBasic Parameters\nModule Parameters\nGSSAPI module support in rsyslog v3\nConfiguration Parameters\nToggle navigation of Configuration Parameters\nGssForwardServiceName\nGssMode\nActionGSSForwardDefaultTemplate\nomhdfs: Hadoop Filesystem Output Module\nToggle navigation of omhdfs: Hadoop Filesystem Output Module\nomhdfsFileName\nomhdfsHost\nomhdfsPort\nomhdfsDefaultTemplate\nomhiredis: Redis Output Module\nomhttp: HTTP Output Module\nToggle navigation of omhttp: HTTP Output Module\nserver\nserverport\nhealthchecktimeout\nhttpcontenttype\nhttpheaderkey\nhttpheadervalue\nhttpheaders\nhttpretrycodes\nhttpignorablecodes\nproxyhost\nproxyport\nuid\npwd\nrestpath\ndynrestpath\nrestpathtimeout\ncheckpath\nbatch\nbatch.format\nbatch.maxsize\nbatch.maxbytes\ntemplate\nretry\nretry.ruleset\nretry.addmetadata\nratelimit.interval\nratelimit.burst\nerrorfile\ncompress\ncompress.level\nuseHttps\ntls.cacert\ntls.mycert\ntls.myprivkey\nallowunsignedcerts\nskipverifyhost\nreloadonhup\nstatsname\nomhttpfs: Hadoop HTTPFS Output Module\nomjournal: Systemd Journal Output\nToggle navigation of omjournal: Systemd Journal Output\ntemplate\nnamespace\nomkafka: write to Apache Kafka\nToggle navigation of omkafka: write to Apache Kafka\nBroker\nTopic\nKey\nDynaKey\nDynaTopic\nDynaTopic.Cachesize\nPartitions.Auto\nPartitions.number\nPartitions.useFixed\nerrorFile\nstatsFile\nConfParam\nTopicConfParam\nKafkaHeader\nTemplate\ncloseTimeout\nresubmitOnFailure\nKeepFailedMessages\nfailedMsgFile\nstatsName\nomlibdbi: Generic Database Output Module\nToggle navigation of omlibdbi: Generic Database Output Module\nDriverDirectory\nTemplate\nDriver\nServer\nUID\nPWD\nDB\nommail: Mail Output Module\nommongodb: MongoDB Output Module\nommysql: MariaDB/MySQL Database Output Module\nomoracle: Oracle Database Output Module\nPostgreSQL Database Output Module (ompgsql)\nompipe: Pipe Output Module\nomprog: Program integration Output module\nToggle navigation of omprog: Program integration Output module\ntemplate\nbinary\nconfirmMessages\nconfirmTimeout\nreportFailures\nuseTransactions\nbeginTransactionMark\ncommitTransactionMark\noutput\nfileCreateMode\nhup.signal\nsignalOnClose\ncloseTimeout\nkillUnresponsive\nforceSingleInstance\nomrabbitmq: RabbitMQ output module\nomrelp: RELP Output Module\nomruleset: ruleset output/including module\nomsendertrack: Sender Tracking Output Module\nToggle navigation of omsendertrack: Sender Tracking Output Module\nsenderid\ninterval\nstatefile\ncmdfile\nomsnmp: SNMP Trap Output Module\nToggle navigation of omsnmp: SNMP Trap Output Module\nServer\nPort\nTransport\nVersion\nCommunity\nTrapOID\nMessageOID\nEnterpriseOID\nSpecificType\nSnmpv1DynSource\nTrapType\nomstdout: stdout output module (testbench tool)\nomudpspoof: UDP spoofing output module\nomusrmsg: notify users\nomuxsock: Unix sockets Output Module\nGuardTime Log Signature Provider (gt)\nKeyless Signature Infrastructure Provider (ksi)\nKSI Signature Provider (rsyslog-ksi-ls12)\nInput Modules\nToggle navigation of Input Modules\nim3195: RFC3195 Input Module\nToggle navigation of im3195: RFC3195 Input Module\nInput3195ListenPort\nimbatchreport: Batch report input module\nimczmq: Input module for ZeroMQ\nimdiag: Diagnostic instrumentation\nToggle navigation of imdiag: Diagnostic instrumentation\nAbortTimeout\nInjectDelayMode\nMaxSessions\nListenPortFileName\nServerRun\nServerStreamDriverMode\nServerStreamDriverAuthMode\nServerStreamDriverPermittedPeer\nServerInputName\nimdocker: Docker Input Module\nToggle navigation of imdocker: Docker Input Module\nDockerApiUnixSockAddr\nApiVersionStr\nPollingInterval\nListContainersOptions\nGetContainerLogOptions\nRetrieveNewLogsFromStart\nDefaultFacility\nDefaultSeverity\nescapeLF\nimdtls: Input Module for DTLS Protocol over UDP\nToggle navigation of imdtls: Input Module for DTLS Protocol over UDP\nAddress\nPort\nTimeout\nName\nRuleset\ntls.authMode\ntls.caCert\ntls.myCert\ntls.myPrivKey\ntls.tlsCfgCmd\ntls.permittedPeer\nimfile: Text File Input Module\nToggle navigation of imfile: Text File Input Module\naddCeeTag\naddMetadata\ndeleteStateOnFileDelete\ndeleteStateOnFileMove\ndiscardTruncatedMsg\nendmsg.regex\nescapeLF\nescapeLF.replacement\nFacility\nFile\nfreshStartTail\nignoreOlderThan\nMaxBytesPerMinute\nMaxLinesAtOnce\nMaxLinesPerMinute\nMaxSubmitAtOnce\nMode\nmsgDiscardingError\nneedParse\npersistStateAfterSubmission\nPersistStateInterval\nPollingInterval\nreadMode\nreadTimeout\nreopenOnTruncate\nRuleset\nSeverity\nsortFiles\nstartmsg.regex\nstateFile\nstatefile.directory\nTag\ntimeoutGranularity\ntrimLineOverBytes\nimgssapi: GSSAPI Syslog Input Module\nToggle navigation of imgssapi: GSSAPI Syslog Input Module\nInputGSSServerRun\nInputGSSServerServiceName\nInputGSSServerPermitPlainTcp\nInputGSSServerMaxSessions\nInputGSSServerKeepAlive\nInputGSSListenPortFileName\nImhiredis: Redis input plugin\nimhttp: HTTP input module\nimjournal: Systemd Journal Input Module\nToggle navigation of imjournal: Systemd Journal Input Module\nPersistStateInterval\nFileCreateMode\nStateFile\nRatelimit.Interval\nRatelimit.Burst\nIgnorePreviousMessages\nDefaultSeverity\nDefaultFacility\nUsePidFromSystem\nUsePid\nIgnoreNonValidStatefile\nWorkAroundJournalBug\nFSync\nRemote\ndefaultTag\nMain\nimkafka: read from Apache Kafka\nToggle navigation of imkafka: read from Apache Kafka\nbroker\nconfparam\nconsumergroup\nparseHostname\nruleset\ntopic\nimklog: Kernel Log Input Module\nToggle navigation of imklog: Kernel Log Input Module\nInternalMsgFacility\nPermitNonKernelFacility\nConsoleLogLevel\nParseKernelTimestamp\nKeepKernelTimestamp\nLogPath\nRatelimitInterval\nRatelimitBurst\nimkmsg: /dev/kmsg Log Input Module\nimmark: Mark Message Input Module\nToggle navigation of immark: Mark Message Input Module\ninterval\nmarkMessageText\nruleset\nuse.markFlag\nuse.syslogCall\nImpcap: network traffic capture\nimprog: Program integration input module\nimpstats: Generate Periodic Statistics of Internal Counters\nToggle navigation of impstats: Generate Periodic Statistics of Internal Counters\ninterval\nfacility\nseverity\nresetcounters\nformat\nlog.syslog\nlog.file\nruleset\nbracketing\nimptcp: Plain TCP Syslog\nToggle navigation of imptcp: Plain TCP Syslog\nThreads\nMaxSessions\nProcessOnPoller\nPort\nPath\nDiscardTruncatedMsg\nFileOwner\nFileOwnerNum\nFileGroup\nFileGroupNum\nFileCreateMode\nFailOnChOwnFailure\nUnlink\nName\nRuleset\nMaxFrameSize\nAddress\nAddtlFrameDelimiter\nSupportOctetCountedFraming\nNotifyOnConnectionClose\nNotifyOnConnectionOpen\nKeepAlive\nKeepAlive.Probes\nKeepAlive.Interval\nKeepAlive.Time\nRateLimit.Interval\nRateLimit.Burst\nCompression.mode\nflowControl\nMultiLine\nframing.delimiter.regex\nSocketBacklog\nDefaulttz\nFramingfix.cisco.asa\nListenPortFileName\nimrelp: RELP Input Module\nToggle navigation of imrelp: RELP Input Module\nruleset\ntls.tlsLib\nport\naddress\nname\nruleset\nmaxDataSize\ntls\ntls.compression\ntls.dhBits\ntls.permittedPeer\ntls.authMode\ntls.caCert\ntls.myCert\ntls.myPrivKey\ntls.priorityString\ntls.tlsCfgCmd\nkeepAlive\nkeepAlive.probes\nkeepAlive.interval\nkeepAlive.time\noversizeMode\nflowControl\nimsolaris: Solaris Input Module\nToggle navigation of imsolaris: Solaris Input Module\nIMSolarisLogSocketName\nimtcp: TCP Syslog Input Module\nToggle navigation of imtcp: TCP Syslog Input Module\nAddtlFrameDelimiter\nDisableLFDelimiter\nMaxFrameSize\nNotifyOnConnectionOpen\nNotifyOnConnectionClose\nKeepAlive\nKeepAlive.Probes\nKeepAlive.Time\nKeepAlive.Interval\nFlowControl\nMaxListeners\nMaxSessions\nStreamDriver.Name\nWorkerThreads\nStarvationProtection.MaxReads\nStreamDriver.Mode\nStreamDriver.AuthMode\nStreamDriver.PermitExpiredCerts\nstreamDriver.checkExtendedKeyPurpose\nStreamDriver.PrioritizeSAN\nStreamDriver.TlsVerifyDepth\nPermittedPeer\nDiscardTruncatedMsg\ngnutlsPriorityString\nPreserveCase\nPort\nListenPortFileName\nAddress\nName\nRuleset\nSupportOctetCountedFraming\nSocketBacklog\nRateLimit.Interval\nRateLimit.Burst\nstreamDriver.CAFile\nstreamDriver.CRLFile\nstreamDriver.KeyFile\nstreamDriver.CertFile\nimtuxedoulog: Tuxedo ULOG input module\nimudp: UDP Syslog Input Module\nToggle navigation of imudp: UDP Syslog Input Module\nTimeRequery\nSchedulingPolicy\nSchedulingPriority\nBatchSize\nThreads\nPreserveCase\nAddress\nPort\nIpFreeBind\nDevice\nRuleset\nRateLimit.Interval\nRateLimit.Burst\nName\nName.appendPort\nDefaultTZ\nRcvBufSize\nimuxsock: Unix Socket Input Module\nToggle navigation of imuxsock: Unix Socket Input Module\nSysSock.IgnoreTimestamp\nSysSock.IgnoreOwnMessages\nSysSock.Use\nSysSock.Name\nSysSock.FlowControl\nSysSock.UsePIDFromSystem\nSysSock.RateLimit.Interval\nSysSock.RateLimit.Burst\nSysSock.RateLimit.Severity\nSysSock.UseSysTimeStamp\nSysSock.Annotate\nSysSock.ParseTrusted\nSysSock.Unlink\nSysSock.UseSpecialParser\nSysSock.ParseHostname\nRuleset\nIgnoreTimestamp\nIgnoreOwnMessages\nFlowControl\nRateLimit.Interval\nRateLimit.Burst\nRateLimit.Severity\nUsePIDFromSystem\nUseSysTimeStamp\nCreatePath\nSocket\nHostName\nAnnotate\nParseTrusted\nUnlink\nUseSpecialParser\nParseHostname\nParser Modules\nToggle navigation of Parser Modules\npmciscoios\npmdb2diag: DB2 Diag file parser module\npmlastmsg: last message repeated n times\nLog Message Normalization Parser Module (pmnormalize)\npmnull: Syslog Null Parser Module\npmrfc3164: Parse RFC3164-formatted messages\nToggle navigation of pmrfc3164: Parse RFC3164-formatted messages\npermit.squareBracketsInHostname\npermit.slashesInHostname\npermit.AtSignsInHostname\nforce.tagEndingByColon\nremove.msgFirstSpace\ndetect.YearAfterTimestamp\ndetect.headerless\nheaderless.hostname\nheaderless.tag\nheaderless.ruleset\nheaderless.errorfile\nheaderless.drop\npmrfc3164sd: Parse RFC5424 structured data inside RFC3164 messages\npmrfc5424: Parse RFC5424-formatted messages\nMessage Modification Modules\nToggle navigation of Message Modification Modules\nAI-based classification (mmaitag)\nToggle navigation of AI-based classification (mmaitag)\nprovider\ntag\nmodel\nexpert.initialPrompt\ninputProperty\napiKey\napiKeyFile\nIP Address Anonymization Module (mmanon)\nToggle navigation of IP Address Anonymization Module (mmanon)\nipv4.enable\nipv4.mode\nipv4.bits\nipv4.replaceChar\nipv6.enable\nipv6.anonMode\nipv6.bits\nembeddedIpv4.enable\nembeddedIpv4.anonMode\nembeddedIpv4.bits\nLinux Audit Log Parser (mmaudit)\nmmcount\nToggle navigation of mmcount\nappName\nkey\nvalue\nDarwin connector (mmdarwin)\nToggle navigation of Darwin connector (mmdarwin)\ncontainer\nkey\nsocketpath\nresponse\nfiltercode\nfields\nsend_partial\nMaxMind/GeoIP DB lookup (mmdblookup)\nToggle navigation of MaxMind/GeoIP DB lookup (mmdblookup)\ncontainer\nkey\nmmdbfile\nfields\nreloadonhup\nSupport module for external message modification modules\nToggle navigation of Support module for external message modification modules\nbinary\ninterface.input\noutput\nforceSingleInstance\nFields Extraction Module (mmfields)\nToggle navigation of Fields Extraction Module (mmfields)\nseparator\njsonroot\nJSON Structured Content Extraction Module (mmjsonparse)\nToggle navigation of JSON Structured Content Extraction Module (mmjsonparse)\nmode\ncookie\nmax_scan_bytes\nallow_trailing\nuseRawMsg\ncontainer\nJSON Dotted Key Rewriter (mmjsonrewrite)\nPurpose\nFailure conditions\nConfiguration Parameters\nConflict handling\nExamples\nTroubleshooting\nToggle navigation of Troubleshooting\ninput\noutput\nJSON Dotted Key Transformer (mmjsontransform)\nPurpose\nFailure conditions\nNotable Features\nConfiguration Parameters\nTransformation modes\nConflict handling\nExamples\nTroubleshooting\nToggle navigation of Troubleshooting\ninput\noutput\nmode\nKubernetes Metadata Module (mmkubernetes)\nToggle navigation of Kubernetes Metadata Module (mmkubernetes)\nannotation_match\nallowunsignedcerts\nbusyretryinterval\ncacheentryttl\ncacheexpireinterval\ncontainerrulebase\ncontainerrules\nde_dot\nde_dot_separator\ndstmetadatapath\nfilenamerulebase\nfilenamerules\nKubernetesURL\nskipverifyhost\nsrcmetadatapath\nsslpartialchain\ntls.cacert\ntls.mycert\ntls.myprivkey\ntoken\ntokenfile\nLEEF Structured Content Extraction Module (mmleefparse)\nPurpose\nParsing Result\nConfiguration Parameters\nExamples\nLog Message Normalization Module (mmnormalize)\nToggle navigation of Log Message Normalization Module (mmnormalize)\nallowRegex\nruleBase\nrule\nuseRawMsg\npath\nvariable\nRFC5424 structured data parsing module (mmpstrucdata)\nConfiguration Parameters\nToggle navigation of Configuration Parameters\njsonRoot\nsd_name.lowercase\nmmrfc5424addhmac\nToggle navigation of mmrfc5424addhmac\nkey\nhashFunction\nsdId\nmmrm1stspace: First Space Modification Module\nNumber generator and counter module (mmsequence)\nmmsnareparse - NXLog Snare Windows Security parser\nmmsnmptrapd message modification module\nToggle navigation of mmsnmptrapd message modification module\ntag\nseverityMapping\nmmtaghostname: message modification module\nToggle navigation of mmtaghostname: message modification module\ntag\nforceLocalHostname\nFix invalid UTF-8 Sequences (mmutf8fix)\nToggle navigation of Fix invalid UTF-8 Sequences (mmutf8fix)\nmode\nreplacementChar\nString Generator Modules\nLibrary Modules\nTemplates\nToggle navigation of Templates\nList template type\nSubtree template type\nString template type\nPlugin template type\nConstant statement\nProperty statement\nTemplate options\nTemplate examples\nReserved template names\nLegacy\n$template\nstatement\nrsyslog Properties\nToggle navigation of rsyslog Properties\nmsg\nrawmsg\nrawmsg-after-pri\nhostname\nsource\nfromhost\nfromhost-ip\nfromhost-port\nsyslogtag\nprogramname\npri\npri-text\niut\nsyslogfacility\nsyslogfacility-text\nsyslogseverity\nsyslogseverity-text\nsyslogpriority\nsyslogpriority-text\ntimegenerated\ntimereported\ntimestamp\nprotocol-version\nstructured-data\napp-name\nprocid\nmsgid\ninputname\nuuid\njsonmesg\n$bom\n$myhostname\n$now\n$year\n$month\n$day\n$wday\n$hour\n$hhour\n$qhour\n$minute\n$now-unixtimestamp\nThe Property Replacer\nToggle navigation of The Property Replacer\nProperty Replacer nomatch mode\nFilter Conditions\nRainerScript\nToggle navigation of RainerScript\nData Types\nExpressions\nFunctions\nToggle navigation of Functions\nBuilt-in Functions\nToggle navigation of Built-in Functions\ncnum()\ncstr()\ndyn_inc()\nexec_template()\nexists()\nfield()\nformat_time()\nget_property()\ngetenv()\nint2hex()\nnum2ipv4() / ipv42num()\nis_time()\nlookup()\nparse_json()\nparse_time()\npercentile_observe()\nprevious_action_suspended()\nprifilt()\nrandom()\nre_extract()\nre_extract_i()\nre_match()\nre_match_i()\nreplace()\nscript_error()\nstrlen()\nsubstring()\ntolower()\ntoupper()\nltrim() / rtrim()\nwrap()\nModule Functions\nToggle navigation of Module Functions\nFaup\nHashXX\nHashXXmod\nHTTP-Request\nUnflatten\nControl Structures\nconfiguration objects\nRsyslog Parameter String Constants\nExamples\nVariable (Property) types\nLookup Tables\nGeneral Queue Parameters\nThe rsyslog âcallâ statement\nThe rsyslog âcall_indirectâ statement\nglobal() configuration object\nThe rsyslog include() object\nActions\nInput\nParser\ntimezone\nExamples\nLegacy Configuration Directives\nToggle navigation of Legacy Configuration Directives\nConfiguration Parameter Types\nLegacy Global Configuration Statements\nToggle navigation of Legacy Global Configuration Statements\n$AbortOnUncleanConfig\n$DebugPrintCFSyslineHandlerList\n$DebugPrintModuleList\n$DebugPrintTemplateList\n$FailOnChownFailure\n$GenerateConfigGraph\n$IncludeConfig\n$MainMsgQueueSize\n$MaxOpenFiles\n$ModDir\n$ModLoad\n$UMASK\n$ResetConfigVariables\nLegacy Directives affecting Input Modules\nToggle navigation of Legacy Directives affecting Input Modules\n$AllowedSender\n$DropMsgsWithMaliciousDnsPTRRecords\n$ControlCharacterEscapePrefix\n$DropTrailingLFOnReception\n$Escape8BitCharactersOnReceive\n$EscapeControlCharactersOnReceive\n$MarkMessagePeriod\nDeprecated Legacy Action-Specific Configuration Statements\nToggle navigation of Deprecated Legacy Action-Specific Configuration Statements\nHow to Convert Deprecated\n$ActionExecOnlyWhenPreviousIsSuspended\nto Modern Style\nHow to Convert Deprecated\n$ActionResumeInterval\nto Modern Style\n$RepeatedMsgReduction\n$omfileForceChown\n$DirGroup\nHow to Convert Deprecated\n$DirOwner\nto Modern Style\n$DynaFileCacheSize\n$FileCreateMode\n$FileGroup\n$FileOwner\n$GssForwardServiceName\n$GssMode\nRuleset-Specific Legacy Configuration Statements\nToggle navigation of Ruleset-Specific Legacy Configuration Statements\n$RulesetCreateMainQueue\n$RulesetParser\nrsyslog statistic counter\nModules\nToggle navigation of Modules\nWhere are the modules integrated into the Message Flow?\nOutput Channels\nDropping privileges in rsyslog\nNotes on IPv6 Handling in Rsyslog\nlibgcrypt Log Crypto Provider (gcry)\nlibossl Log Crypto Provider (ossl)\nDynamic Stats\nLookup Tables\nPercentile Stats\nConverting older formats to\nadvanced\nConfiguration Formats\nsysklogd format\nFAQ\nToggle navigation of FAQ\nFAQ: some general topics often asked\nWhat is the difference between the main_queue and a queue with a ruleset tied to an input?\nFAQ: Encrypting MySQL Traffic with ommysql Plugin\nFAQ: Troubleshooting UDP Packet Loss\nCommon Configuration Mistakes and Misunderstandings\nWhy do I see gibberish when connecting with TLS?\nFAQ: Can rsyslog act as an ETL tool?\nFAQ: Sending Logs from rsyslog to Vespa.ai\nDoes rsyslog run under Windows?\nTutorials\nToggle navigation of Tutorials\nEncrypting Syslog Traffic with TLS (SSL)\nToggle navigation of Encrypting Syslog Traffic with TLS (SSL)\nSample Use Case: Single Central Log Server\nSetting up the CA\nGenerating the machine certificate\nSetting up the Central Server\nSetting up a client\nSetting up the UDP syslog relay\nError Messages\nCreating certificates with a script\nEncrypting Syslog Traffic with TLS (SSL) [short version]\nWriting syslog messages to MariaDB, MySQL, PostgreSQL or any other supported Database\nHandling a massive syslog database insert rate with Rsyslog\nReliable Forwarding of syslog Messages with Rsyslog\nRecording the Priority of Syslog Messages\nFailover Syslog Server\nLog rotation with rsyslog\nGELF forwarding in rsyslog\nLog Sampling\nRandom sampling\nHash-based Sampling\nTroubleshooting\nToggle navigation of Troubleshooting\nOutput File is not Being Written\nTroubleshooting SELinux-Related Issues\nRsyslog Debug Support\ntroubleshooting problems\nHow to create a debug log\nConcepts\nToggle navigation of Concepts\nThe Log Pipeline\nToggle navigation of The Log Pipeline\nPipeline Stages\nPipeline Design Patterns\nExample: JSON Parse and Transformation\nPipeline Troubleshooting\nUnderstanding rsyslog Queues\nThe Janitor Process\nMessage parsers in rsyslog\nMultiple Rulesets in rsyslog\nNetStream Drivers\nToggle navigation of NetStream Drivers\nptcp Network Stream Driver\ngtls Network Stream Driver\nSupported Driver Modes\nSupported Authentication Modes\nCheckExtendedKeyPurpose\nPrioritizeSAN\nopenssl Network Stream Driver\nmbedtls Network Stream Driver\nDevelopment\nToggle navigation of Development\nThe rsyslog config data model\nObjects\nDebugging\nAction Threads and Queue Engine (Developer-Oriented)\nrsyslog code style\nWriting Rsyslog Output Plugins\nThe rsyslog queue object\nwriting rsyslog tests\nDocumentation Reference Section Structure Guidelines\nDocumentation Style Guide\nDeveloper Overview: rsyslog Engine\nGeneric design of a syslogd\nInternal tooling\nReference\nToggle navigation of Reference\nHistory of rsyslog\nRsyslog Containers\nToggle navigation of Rsyslog Containers\nUser-Focused Images\nToggle navigation of User-Focused Images\nrsyslog/rsyslog-minimal\nrsyslog/rsyslog\nrsyslog/rsyslog-collector\nrsyslog/rsyslog-dockerlogs\nDevelopment and Historical Images\nInstallation\nToggle navigation of Installation\nInstalling rsyslog from Package\nUsing Rsyslog Docker Containers\nInstalling rsyslog from Source\nInstalling rsyslog from the source repository\nHistorical Documents\nToggle navigation of Historical Documents\nUsing php-syslog-ng with rsyslog\nLegacy Format Samples for Multiple Rulesets\nDeveloping rsyslog modules (outdated)\nReceiving massive amounts of messages with high performance\nCompatibility Notes for rsyslog v8\nCompatibility Notes for rsyslog v7\nCompatibility Notes for rsyslog v6\nCompatibility Notes for rsyslog v5\nCompatibility Notes for rsyslog v4\nCompatibility Notes for rsyslog v3\nThis Page Has Moved\nLicensing\nHow you can Help\nCommunity Resources\nRSyslog - Features\nProposals\nRsyslog Whitepapers\nToggle navigation of Rsyslog Whitepapers\nsyslog parsing in rsyslog\nsyslog-protocol support in rsyslog\nTurning Lanes and Rsyslog Queues\nPreserving syslog sender over NAT\nHow reliable should reliable logging be?\nBack to top\nView this page\nToggle Light / Dark / Auto color theme\nToggle table of contents sidebar\nConfiguration\nÂ¶\nThis section is the\nreference manual for configuring rsyslog\n. It\ncovers all major configuration concepts, modules, and directives needed\nto build robust logging infrastructures â from simple setups to complex\nlog processing pipelines.\nrsyslogâs primary configuration file is located at:\n/etc/rsyslog.conf\nAdditional configuration snippets are commonly placed in:\n/etc/rsyslog.d/*.conf\nWithin these files, you define:\n-\nInput modules\n(where logs come from)\n-\nFilters and parsers\n(how logs are processed)\n-\nActions\n(where logs are sent)\n-\nGlobal directives\n(overall behavior and performance tuning)\nThe topics listed below provide a complete guide to rsyslog\nconfiguration.\nBasic Structure\nMessage Flow Overview\nProcessing Principles\nConfiguration File\nSupported Configuration Formats\nComments\nProcessing Order\nInputs\nOutputs (Actions)\nRulesets and Rules\nOutput Modules\nomamqp1: AMQP 1.0 Messaging Output Module\nomazureeventhubs: Microsoft Azure Event Hubs Output Module\nomclickhouse: ClickHouse Output Module\nomczmq: Output module for ZeroMQ\nomdtls: Output Module for DTLS Protocol over UDP\nomelasticsearch: Elasticsearch Output Module\nomfile: File Output Module\nomfwd: syslog Forwarding Output Module\nGSSAPI module support in rsyslog v3\nConfiguration Parameters\nomhdfs: Hadoop Filesystem Output Module\nomhiredis: Redis Output Module\nomhttp: HTTP Output Module\nomhttpfs: Hadoop HTTPFS Output Module\nomjournal: Systemd Journal Output\nomkafka: write to Apache Kafka\nomlibdbi: Generic Database Output Module\nommail: Mail Output Module\nommongodb: MongoDB Output Module\nommysql: MariaDB/MySQL Database Output Module\nomoracle: Oracle Database Output Module\nPostgreSQL Database Output Module (ompgsql)\nompipe: Pipe Output Module\nomprog: Program integration Output module\nomrabbitmq: RabbitMQ output module\nomrelp: RELP Output Module\nomruleset: ruleset output/including module\nomsendertrack: Sender Tracking Output Module\nomsnmp: SNMP Trap Output Module\nomstdout: stdout output module (testbench tool)\nomudpspoof: UDP spoofing output module\nomusrmsg: notify users\nomuxsock: Unix sockets Output Module\nGuardTime Log Signature Provider (gt)\nKeyless Signature Infrastructure Provider (ksi)\nKSI Signature Provider (rsyslog-ksi-ls12)\nInput Modules\nim3195: RFC3195 Input Module\nimbatchreport: Batch report input module\nimczmq: Input module for ZeroMQ\nimdiag: Diagnostic instrumentation\nimdocker: Docker Input Module\nimdtls: Input Module for DTLS Protocol over UDP\nimfile: Text File Input Module\nimgssapi: GSSAPI Syslog Input Module\nImhiredis: Redis input plugin\nimhttp: HTTP input module\nimjournal: Systemd Journal Input Module\nimkafka: read from Apache Kafka\nimklog: Kernel Log Input Module\nimkmsg: /dev/kmsg Log Input Module\nimmark: Mark Message Input Module\nImpcap: network traffic capture\nimprog: Program integration input module\nimpstats: Generate Periodic Statistics of Internal Counters\nimptcp: Plain TCP Syslog\nimrelp: RELP Input Module\nimsolaris: Solaris Input Module\nimtcp: TCP Syslog Input Module\nimtuxedoulog: Tuxedo ULOG input module\nimudp: UDP Syslog Input Module\nimuxsock: Unix Socket Input Module\nParser Modules\npmciscoios\npmdb2diag: DB2 Diag file parser module\npmlastmsg: last message repeated n times\nLog Message Normalization Parser Module (pmnormalize)\npmnull: Syslog Null Parser Module\npmrfc3164: Parse RFC3164-formatted messages\npmrfc3164sd: Parse RFC5424 structured data inside RFC3164 messages\npmrfc5424: Parse RFC5424-formatted messages\nMessage Modification Modules\nAI-based classification (mmaitag)\nIP Address Anonymization Module (mmanon)\nLinux Audit Log Parser (mmaudit)\nmmcount\nDarwin connector (mmdarwin)\nMaxMind/GeoIP DB lookup (mmdblookup)\nSupport module for external message modification modules\nFields Extraction Module (mmfields)\nJSON Structured Content Extraction Module (mmjsonparse)\nJSON Dotted Key Rewriter (mmjsonrewrite)\nPurpose\nFailure conditions\nConfiguration Parameters\nConflict handling\nExamples\nTroubleshooting\nJSON Dotted Key Transformer (mmjsontransform)\nPurpose\nFailure conditions\nNotable Features\nConfiguration Parameters\nTransformation modes\nConflict handling\nExamples\nTroubleshooting\nKubernetes Metadata Module (mmkubernetes)\nLEEF Structured Content Extraction Module (mmleefparse)\nPurpose\nParsing Result\nConfiguration Parameters\nExamples\nLog Message Normalization Module (mmnormalize)\nRFC5424 structured data parsing module (mmpstrucdata)\nConfiguration Parameters\nmmrfc5424addhmac\nmmrm1stspace: First Space Modification Module\nNumber generator and counter module (mmsequence)\nmmsnareparse - NXLog Snare Windows Security parser\nmmsnmptrapd message modification module\nmmtaghostname: message modification module\nFix invalid UTF-8 Sequences (mmutf8fix)\nString Generator Modules\nLibrary Modules\nTemplates\nOverview\nMessage pipeline integration\nChoosing a template type\nSchema mapping with JSONF\nTemplates for textual transports\nThe\ntemplate()\nobject\nTemplate types\nTemplate statements\nAdditional topics\nReserved template names overview\nLegacy\n$template\nstatement\nSee also\nrsyslog Properties\nMessage Properties\nSystem Properties\nThe Property Replacer\nAccessing Properties\nFurther Links\nFilter Conditions\nSelectors\nProperty-Based Filters\nExpression-Based Filters\nBSD-style Blocks\nExamples\nRainerScript\nData Types\nExpressions\nFunctions\nControl Structures\nconfiguration objects\nRsyslog Parameter String Constants\nExamples\nVariable (Property) types\nLookup Tables\nGeneral Queue Parameters\nThe rsyslog âcallâ statement\nThe rsyslog âcall_indirectâ statement\nglobal() configuration object\nThe rsyslog include() object\nActions\nGeneral Action Parameters\nUseful Links\nLegacy Format\nInput\nGeneral Input Parameters\nParser\nGeneral Parser Parameters\nSamples\ntimezone\nParameters\nSample\nExamples\nTemplates\nRule Examples\nLegacy Configuration Directives\nConfiguration Parameter Types\nLegacy Global Configuration Statements\nLegacy Directives affecting Input Modules\nDeprecated Legacy Action-Specific Configuration Statements\nRuleset-Specific Legacy Configuration Statements\nrsyslog statistic counter\nQueue\nActions\nPlugins\nModules\nWhere are the modules integrated into the Message Flow?\nOutput Channels\nDropping privileges in rsyslog\nNotes on IPv6 Handling in Rsyslog\nlibgcrypt Log Crypto Provider (gcry)\nlibossl Log Crypto Provider (ossl)\nDynamic Stats\nDyn-stats configuration\nReporting\nLookup Tables\nTypes\nLookup Table File Format\nLookup-table configuration\nImplementation Details\nPercentile Stats\nPercentile Stats Configuration\nReporting\nConverting older formats to\nadvanced\nDo not overdo conversion\nConverting Module Load\nConverting Actions\nAction with Multiple Parameters\nConverting Action Chains\nConfiguration Formats\nWhich Format Should I Use?\nConclusion\nsysklogd format\nDESCRIPTION\nSELECTORS\nACTIONS\nEXAMPLES\nCONFIGURATION FILE SYNTAX DIFFERENCES\nBUGS\nAdditional Resources\nÂ¶\nConfig snippets:\nSee\nrsyslog config snippets\nfor ready-to-use building\nblocks.\nExample configuration:\nDownload a sample configuration file:\nrsyslog-example.conf\n.\nCompatibility Note\nÂ¶\nrsyslog retains partial configuration compatibility with traditional\nBSD-style syslogd, which can be helpful when migrating from older\nimplementations (e.g., on Solaris or AIX). On modern Linux systems,\nnative rsyslog configuration formats (especially RainerScript) are\nrecommended and provide access to all advanced features.\nSupport:\nrsyslog Assistant\n|\nGitHub Discussions\n|\nGitHub Issues:\nrsyslog source project\nContributing:\nSource & docs:\nrsyslog source project\nÂ© 2008â2025\nRainer Gerhards\nand others. Licensed under the\nApache License 2.0\n.\nOn this page\nConfiguration\nAdditional Resources\nCompatibility Note\nn\nn\nn\nn", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://www.rsyslog.com/doc/master/configuration/index.html"}}
{"text": "logrotate(8) - Linux manual page\nman7.org\n> Linux >\nman-pages\nLinux/UNIX system programming training\nlogrotate(8) — Linux manual page\nNAME\n|\nSYNOPSIS\n|\nDESCRIPTION\n|\nOPTIONS\n|\nCONFIGURATION FILE\n|\nCONFIGURATION FILE DIRECTIVES\n|\nSCRIPTS\n|\nUSER AND GROUP\n|\nFILES\n|\nSEE ALSO\n|\nAUTHORS\n|\nCOLOPHON\nLOGROTATE\n(8)          System Administrator's Manual\nLOGROTATE\n(8)\nNAME\ntop\nlogrotate â rotates, compresses, and mails system logs\nSYNOPSIS\ntop\nlogrotate\n[\n--force\n] [\n--debug\n] [\n--state\nfile\n] [\n--skip-state-lock\n]\n[\n--wait-for-state-lock\n] [\n--verbose\n] [\n--log\nfile\n] [\n--mail\ncommand\n]\nconfig_file\n[\nconfig_file2 ...\n]\nDESCRIPTION\ntop\nlogrotate\nis designed to ease administration of systems that\ngenerate large numbers of log files.  It allows automatic\nrotation, compression, removal, and mailing of log files.  Each\nlog file may be handled daily, weekly, monthly, or when it grows\ntoo large.\nNormally,\nlogrotate\nis run as a daily cron job.  It will not\nmodify a log more than once in one day unless the criterion for\nthat log is based on the log's size and\nlogrotate\nis being run\nmore than once each day, or unless the\n-f\nor\n--force\noption is\nused.\nAny number of config files may be given on the command line.\nLater config files may override the options given in earlier\nfiles, so the order in which the\nlogrotate\nconfig files are listed\nis important.  Normally, a single config file which includes any\nother config files which are needed should be used.  See below for\nmore information on how to use the\ninclude\ndirective to accomplish\nthis.  If a directory is given on the command line, every file in\nthat directory is used as a config file.\nIf no command line arguments are given,\nlogrotate\nwill print\nversion and copyright information, along with a short usage\nsummary.  If any errors occur while rotating logs,\nlogrotate\nwill\nexit with non-zero status, although the state file will be\nupdated.\nOPTIONS\ntop\n-f\n,\n--force\nTells\nlogrotate\nto force the rotation, even if it doesn't\nthink this is necessary.  Sometimes this is useful after\nadding new entries to a\nlogrotate\nconfig file, or if old\nlog files have been removed by hand, as the new files will\nbe created, and logging will continue correctly.\n-d\n,\n--debug\nTurn on debug mode, which means that no changes are made to\nthe logs and the\nlogrotate\nstate file is not updated.  Only\ndebug messages are printed.\n-s\n,\n--state\nstatefile\nTells\nlogrotate\nto use an alternate state file.  This is\nuseful if\nlogrotate\nis being run as a different user for\nvarious sets of log files.  To prevent parallel execution\nlogrotate\nby default acquires a lock on the state file, if\nit cannot be acquired\nlogrotate\nwill exit with value 3.\nThe default state file is\n/var/lib/logrotate.status\n.  If\n/dev/null\nis given as the state file, then\nlogrotate\nwill\nnot try to lock or write the state file.\n--skip-state-lock\nDo not lock the state file, for example if locking is\nunsupported or prohibited.\n--wait-for-state-lock\nWait until lock on the state file is released by another\nlogrotate process.  This option may cause logrotate to wait\nindefinitely.  Use with caution.\n-v\n,\n--verbose\nTurns on verbose mode, for example to display messages\nduring rotation.\n-l\n,\n--log\nfile\nTells\nlogrotate\nto log verbose output into the log_file.\nThe verbose output logged to that file is the same as when\nrunning\nlogrotate\nwith\n-v\nswitch.  The log file is\noverwritten on every\nlogrotate\nexecution.\n-m\n,\n--mail\ncommand\nTells\nlogrotate\nwhich command to use when mailing logs.\nThis command should accept the following arguments:\n1) the subject of the message given with '-s subject'\n2) the recipient.\nThe command must then read a message on standard input and\nmail it to the recipient.  The default mail command is\n/bin/mail\n.\n--usage\nPrints a short usage message.\n-?\n,\n--help\nPrints help message.\n--version\nDisplay version information.\nCONFIGURATION FILE\ntop\nlogrotate\nreads everything about the log files it should be\nhandling from the series of configuration files specified on the\ncommand line.  Each configuration file can set global options\n(local definitions override global ones, and later definitions\noverride earlier ones) and specify logfiles to rotate.  Global\noptions do not affect preceding include directives.  A simple\nconfiguration file looks like this:\n# sample logrotate configuration file\ncompress\n/var/log/messages {\nrotate 5\nweekly\npostrotate\n/usr/bin/killall -HUP syslogd\nendscript\n}\n\"/var/log/httpd/access.log\" /var/log/httpd/error.log {\nrotate 5\nmail recipient@example.org\nsize 100k\nsharedscripts\npostrotate\n/usr/bin/killall -HUP httpd\nendscript\n}\n/var/log/news/* {\nmonthly\nrotate 2\nolddir /var/log/news/old\nmissingok\nsharedscripts\npostrotate\nkill -HUP $(cat /var/run/inn.pid)\nendscript\nnocompress\n}\n~/log/*.log {}\nThe first few lines set global options; in the example, logs are\ncompressed after they are rotated.  Note that comments may appear\nanywhere in the config file as long as the first non-whitespace\ncharacter on the line is a\n#\n.\nValues are separated from directives by whitespace and/or an\noptional =.  Numbers must be specified in a format understood by\nstrtoul(3)\n.\nThe next section of the config file defines how to handle the log\nfile\n/var/log/messages\n.  The log will go through five weekly\nrotations before being removed.  After the log file has been\nrotated (but before the old version of the log has been\ncompressed), the command\n/usr/bin/killall -HUP syslogd\nwill be\nexecuted.\nThe next section defines the parameters for both\n/var/log/httpd/access.log\nand\n/var/log/httpd/error.log\n.  Each is\nrotated whenever it grows over 100 kilobytes in size, and the old\nlogs files are mailed (uncompressed) to recipient@example.org\nafter going through 5 rotations, rather than being removed.  The\nsharedscripts\nmeans that the\npostrotate\nscript will only be run\nonce for this section, not once for each log which is rotated.\nNote that log file names may be enclosed in quotes (and that\nquotes are required if the name contains spaces).  Normal shell\nquoting rules apply, with\n'\n,\n\"\n, and\n\\\ncharacters supported.\nThe next section defines the parameters for all of the files in\n/var/log/news\n. Each file is rotated on a monthly basis.\nThe last section uses tilde expansion to rotate log files in the\nhome directory of the current user.  This is only available, if\nyour glob library supports tilde expansion.  GNU glob does support\nthis.\nPlease use wildcards with caution.  If you specify *,\nlogrotate\nwill rotate all files, including previously rotated ones.  A way\naround this is to use the\nolddir\ndirective or a more exact\nwildcard (such as *.log).\nPlease note, by default when using\nsystemd(1)\n, the option\nProtectSystem=full\nis set in the\nlogrotate.service\nfile.  This\nprevents\nlogrotate\nfrom modifying logs in\n/etc\nand\n/usr\n.\nHere is more information on the directives which may be included\nin a\nlogrotate\nconfiguration file:\nCONFIGURATION FILE DIRECTIVES\ntop\nThese directives may be included in a\nlogrotate\nconfiguration\nfile:\nRotation\nrotate\ncount\nLog files are rotated\ncount\ntimes before being removed or\nmailed to the address specified in a\nmail\ndirective.  If\ncount\nis 0, old versions are removed rather than rotated.\nIf\ncount\nis -1, old logs are not removed at all, except\nthey are affected by\nmaxage\n(use with caution, may waste\nperformance and disk space).  Default is 0.\nolddir\ndirectory\nLogs are moved into\ndirectory\nfor rotation.  The\ndirectory\nmust be on the same physical device as the log file being\nrotated, unless\ncopy\n,\ncopytruncate\nor\nrenamecopy\noption is\nused.  The\ndirectory\nis assumed to be relative to the\ndirectory holding the log file unless an absolute path name\nis specified.  When this option is used all old versions of\nthe log end up in\ndirectory\n.  This option may be overridden\nby the\nnoolddir\noption.\nnoolddir\nLogs are rotated in the directory they normally reside in\n(this overrides the\nolddir\noption).\nsu\nuser group\nRotate log files set under this user and group instead of\nusing default user/group (usually root).\nuser\nspecifies\nthe user used for rotation and\ngroup\nspecifies the group\nused for rotation (see the section\nUSER AND GROUP\nfor\ndetails).  If the user/group you specify here does not have\nsufficient privilege to make files with the ownership\nyou've specified in a\ncreate\ndirective, it will cause an\nerror.  If\nlogrotate\nruns with root privileges, it is\nrecommended to use the\nsu\ndirective to rotate files in\ndirectories that are directly or indirectly in control of\nnon-privileged users.\nFrequency\nhourly\nLog files are rotated every hour.  Note that usually\nlogrotate\nis configured to be run by cron daily (or by\nlogrotate.timer\nwhen using\nsystemd(1)\n).  You have to change\nthis configuration and run\nlogrotate\nhourly to be able to\nreally rotate logs hourly.\ndaily\nLog files are rotated every day.\nweekly\n[\nweekday\n]\nLog files are rotated once each\nweekday\n, or if the date is\nadvanced by at least 7 days since the last rotation (while\nignoring the exact time).  The\nweekday\ninterpretation is\nfollowing: 0 means Sunday, 1 means Monday, ..., 6 means\nSaturday; the special value 7 means each 7 days,\nirrespectively of weekday.  Defaults to 0 if the\nweekday\nargument is omitted.\nmonthly\n[\nmonthday\n]\nLog files are rotated the first time\nlogrotate\nis run in a\nmonth (this is normally on the first day of the month) by\ndefault.  If monthday is specified log files will be\nrotated either if not rotated for 31 days, on the day of\nthe month specified (1 means 1st), or on the last day of\nthe month (e.g. on the 30th if 31 was specified).\nyearly\nLog files are rotated if the current year is not the same\nas the last rotation.\nminutes\nminutes\nLog files are rotated the first time\nlogrotate\nis run after\nminutes\nhave expired.\nsize\nsize\nLog files are rotated only if they grow bigger than\nsize\nbytes.  If\nsize\nis followed by\nk\n, the size is assumed to be\nin kilobytes.  If\nM\nis used, the size is in megabytes, and\nif\nG\nis used, the size is in gigabytes. So\nsize 100\n,\nsize\n100k\n,\nsize 100M\nand\nsize 100G\nare all valid.  This option\nis mutually exclusive with the time interval options, and\nit causes log files to be rotated without regard for the\nlast rotation time, if specified after the time criteria\n(the last specified option takes the precedence).\nFile selection\nmissingok\nIf the log file is missing, go on to the next one without\nissuing an error message.  See also\nnomissingok\n.\nnomissingok\nIf a log file does not exist, issue an error.  This is the\ndefault.\nignoreduplicates\nIgnore any following matches of a log file.\nifempty\nRotate the log file even if it is empty, overriding the\nnotifempty\noption (\nifempty\nis the default).\nnotifempty\nDo not rotate the log if it is empty (this overrides the\nifempty\noption).\nminage\ncount\nDo not rotate logs which are less than <count> days old.\nmaxage\ncount\nRemove rotated logs older than <count> days.  The age is\nonly checked if the logfile is to be rotated.\nrotate -1\ndoes not hinder removal.  The files are mailed to the\nconfigured address if\nmaillast\nand\nmail\nare configured.\nminsize\nsize\nLog files are rotated when they grow bigger than\nsize\nbytes, but not before the additionally specified time\ninterval (\ndaily\n,\nweekly\n,\nmonthly\n, or\nyearly\n).  The related\nsize\noption is similar except that it is mutually exclusive\nwith the time interval options, and it causes log files to\nbe rotated without regard for the last rotation time, if\nspecified after the time criteria (the last specified\noption takes the precedence).  When\nminsize\nis used, both\nthe size and timestamp of a log file are considered.\nmaxsize\nsize\nLog files are rotated when they grow bigger than\nsize\nbytes\neven before the additionally specified time interval\n(\ndaily\n,\nweekly\n,\nmonthly\n, or\nyearly\n).  The related\nsize\noption is similar except that it is mutually exclusive with\nthe time interval options, and it causes log files to be\nrotated without regard for the last rotation time, if\nspecified after the time criteria (the last specified\noption takes the precedence).  When\nmaxsize\nis used, both\nthe size and timestamp of a log file are considered.\ntabooext\n[+]\nlist\nThe current taboo extension list is changed (see the\ninclude\ndirective for information on the taboo extensions).\nIf a + precedes the list of extensions, the current taboo\nextension list is augmented, otherwise it is replaced.  At\nstartup, the taboo extension list\n,v\n,\n.bak\n,\n.cfsaved\n,\n.disabled\n,\n.dpkg-bak\n,\n.dpkg-del\n,\n.dpkg-dist\n,\n.dpkg-new\n,\n.dpkg-old\n,\n.dpkg-tmp\n,\n.new\n,\n.old\n,\n.orig\n,\n.pacnew\n,\n.pacorig\n,\n.pacsave\n,\n.rhn-cfg-tmp-*\n,\n.rpmnew\n,\n.rpmorig\n,\n.rpmsave\n,\n.swp\n,\n.ucf-dist\n,\n.ucf-new\n,\n.ucf-old\n,\n~\ntaboopat\n[+]\nlist\nThe current taboo glob pattern list is changed (see the\ninclude\ndirective for information on the taboo extensions\nand patterns).  If a + precedes the list of patterns, the\ncurrent taboo pattern list is augmented, otherwise it is\nreplaced.  At startup, the taboo pattern list is empty.\nFiles and Folders\ncreate\nmode owner group\n,\ncreate\nowner group\nImmediately after rotation (before the\npostrotate\nscript is\nrun) the log file is created (with the same name as the log\nfile just rotated).\nmode\nspecifies the mode for the log\nfile in octal (the same as\nchmod(2)\n),\nowner\nspecifies the\nuser who will own the log file, and\ngroup\nspecifies the\ngroup the log file will belong to (see the section\nUSER AND\nGROUP\nfor details).  Any of the log file attributes may be\nomitted, in which case those attributes for the new file\nwill use the same values as the original log file for the\nomitted attributes.  This option can be disabled using the\nnocreate\noption.\nnocreate\nNew log files are not created (this overrides the\ncreate\noption).\ncreateolddir\nmode\n[\nowner\n[\ngroup\n]],\ncreateolddir\n[\nowner\n[\ngroup\n]]\nIf the directory specified by\nolddir\ndirective does not\nexist, it is created.\nmode\nspecifies the mode for the\nolddir\ndirectory in octal (the same as\nchmod(2)\n),\nowner\nspecifies the user who will own the\nolddir\ndirectory, and\ngroup\nspecifies the group the\nolddir\ndirectory will belong\nto (see the section\nUSER AND GROUP\nfor details).  If\nmode\nis not specified,\n0755\nis assumed.  This option can be\ndisabled using the\nnocreateolddir\noption.\nnocreateolddir\nolddir\ndirectory is not created by\nlogrotate\nwhen it does\nnot exist.\ncopy\nMake a copy of the log file, but don't change the original\nat all.  This option can be used, for instance, to make a\nsnapshot of the current log file, or when some other\nutility needs to truncate or parse the file.  When this\noption is used, the\ncreate\noption will have no effect, as\nthe old log file stays in place.  The\ncopy\noption allows\nstoring rotated log files on the different devices using\nolddir\ndirective.\nnocopy\nDo not copy the original log file and leave it in place.\n(this overrides the\ncopy\noption).\ncopytruncate\nTruncate the original log file to zero size in place after\ncreating a copy, instead of moving the old log file and\noptionally creating a new one.  It can be used when some\nprogram cannot be told to close its logfile and thus might\ncontinue writing (appending) to the previous log file\nforever.  Note that there is a very small time slice\nbetween copying the file and truncating it, so some logging\ndata might be lost.  When this option is used, the\ncreate\noption will have no effect, as the old log file stays in\nplace.  The\ncopytruncate\noption allows storing rotated log\nfiles on the different devices using\nolddir\ndirective.  The\ncopytruncate\noption implies\nnorenamecopy\n.\nnocopytruncate\nDo not truncate the original log file in place after\ncreating a copy (this overrides the\ncopytruncate\noption).\nrenamecopy\nLog file is renamed to temporary filename in the same\ndirectory by adding \".tmp\" extension to it.  After that,\npostrotate\nscript is run and log file is copied from\ntemporary filename to final filename.  In the end,\ntemporary filename is removed.  The\nrenamecopy\noption\nallows storing rotated log files on the different devices\nusing\nolddir\ndirective.  The\nrenamecopy\noption implies\nnocopytruncate\n.\nnorenamecopy\nDo not rename and copy the original log file (this\noverrides the\nrenamecopy\noption).\nshred\nDelete log files using\nshred\n-u instead of unlink().  This\nshould ensure that logs are not readable after their\nscheduled deletion; this is off by default.  See also\nnoshred\n.\nnoshred\nDo not use\nshred\nwhen deleting old log files.  See also\nshred\n.\nshredcycles\ncount\nAsks GNU\nshred(1)\nto overwrite log files\ncount\ntimes before\ndeletion.  Without this option,\nshred\n's default will be\nused.\nallowhardlink\nRotate files with multiple hard links; this is off by\ndefault.  The target file might get emptied, e.g. with\nshred\nor\ncopytruncate\n.  Use with caution, especially when\nthe log files are rotated as root.\nnoallowhardlink\nDo not rotate files with multiple hard links.  See also\nallowhardlink\n.\nCompression\ncompress\nOld versions of log files are compressed with\n/bin/gzip\n(1)\nby default.  See also\nnocompress\n.\nnocompress\nOld versions of log files are not compressed.  See also\ncompress\n.\ncompresscmd\nSpecifies which command to use to compress log files.  The\ndefault is\n/bin/gzip\n(1).  See also\ncompress\n. See\ncompressext\nto update the extension if necessary.\nuncompresscmd\nSpecifies which command to use to uncompress log files.\nThe default is\n/bin/gunzip\n(1).\ncompressext\nSpecifies which extension to use on compressed logfiles, if\ncompression is enabled.  The default extension is .gz but\nlogrotate will attempt to match to the specified\ncompresscmd\n(currently supports gzip=.gz, bzip2=.bz2,\nxz=.xz, zstd=.zst, compress=.Z and zip=.zip).\ncompressoptions\nCommand line options may be passed to the compression\nprogram, if one is in use.  The default, for\ngzip\n(1), is\n\"-6\" (biased towards high compression at the expense of\nspeed).  If you use a different compression command, you\nmay need to change the\ncompressoptions\nto match.\ndelaycompress\nPostpone compression of the previous log file to the next\nrotation cycle.  This only has effect when used in\ncombination with\ncompress\n.  It can be used when some\nprogram cannot be told to close its logfile and thus might\ncontinue writing to the previous log file for some time.\nnodelaycompress\nDo not postpone compression of the previous log file to the\nnext rotation cycle (this overrides the\ndelaycompress\noption).\nFilenames\nextension\next\nLog files with\next\nextension can keep it after the\nrotation.  If compression is used, the compression\nextension (normally\n.gz\n) appears after\next\n.  For example\nyou have a logfile named mylog.foo and want to rotate it to\nmylog.1.foo.gz instead of mylog.foo.1.gz.\naddextension\next\nLog files are given the final extension\next\nafter rotation.\nIf the original file already ends with\next\n, the extension\nis not duplicated, but merely moved to the end, that is\nboth\nfilename\nand\nfilename\next\nwould get rotated to\nfilename.1\next\n.  If compression is used, the compression\nextension (normally\n.gz\n) appears after\next\n.\nstart\ncount\nThis is the number to use as the base for rotation.  For\nexample, if you specify 0, the logs will be created with a\n.0 extension as they are rotated from the original log\nfiles.  If you specify 9, log files will be created with a\n.9, skipping 0â8.  Files will still be rotated the number\nof times specified with the\nrotate\ndirective.\ndateext\nArchive old versions of log files adding a date extension\nlike YYYYMMDD instead of simply adding a number.  The\nextension may be configured using the\ndateformat\nand\ndateyesterday\noptions.\nnodateext\nDo not archive old versions of log files with date\nextension (this overrides the\ndateext\noption).\ndateformat\nformat_string\nSpecify the extension for\ndateext\nusing the notation\nsimilar to\nstrftime(3)\nfunction.  Only %Y %m %d %H %M %S %G\n%V %U %W %u %w %y %g %j %s and %z specifiers are allowed.\nThe default value is -%Y%m%d except hourly, which uses\n-%Y%m%d%H as default value.  Note that also the character\nseparating log name from the extension is part of the\ndateformat string.  The system clock must be set past Sep\n9th 2001 for %s to work correctly.  Note that the\ndatestamps generated by this format must be lexically\nsortable (that is first the year, then the month then the\nday.  For example 2001/12/01 is ok, but 01/12/2001 is not,\nsince 01/11/2002 would sort lower while it is later).  This\nis because when using the\nrotate\noption,\nlogrotate\nsorts\nall rotated filenames to find out which logfiles are older\nand should be removed.\ndateyesterday\nUse yesterday's instead of today's date to create the\ndateext\nextension, so that the rotated log file has a date\nin its name that is the same as the timestamps within it.\nnodateyesterday\nDo not use yesterday's instead of today's date to create\nthe\ndateext\nextension.  See also\ndateyesterday\n.\ndatehourago\nUse hour ago instead of current date to create the\ndateext\nextension, so that the rotated log file has a hour in its\nname that is the same as the timestamps within it.  Useful\nwith rotate\nhourly\n.\nnodatehourago\nDo not use hour ago instead of current date to create the\ndateext\nextension.  See also\ndatehourago\n.\nMail\nmail\naddress\nWhen a log is rotated out of existence, it is mailed to\naddress\n.  If no mail should be generated by a particular\nlog, the\nnomail\ndirective may be used.\nnomail\nDo not mail old log files to any address.\nmailfirst\nWhen using the\nmail\ncommand, mail the just-rotated file,\ninstead of the about-to-expire file.\nmaillast\nWhen using the\nmail\ncommand, mail the about-to-expire file,\ninstead of the just-rotated file (this is the default).\nAdditional config files\ninclude\nfile_or_directory\nReads the file given as an argument as if it was included\ninline where the\ninclude\ndirective appears.  If a directory\nis given, most of the files in that directory are read in\nalphabetic order before processing of the including file\ncontinues.  The only files which are ignored are files\nwhich are not regular files (such as directories and named\npipes) and files whose names end with one of the taboo\nextensions or patterns, as specified by the\ntabooext\nor\ntaboopat\ndirectives, respectively.  The given path may\nstart with\n~/\nto make it relative to the home directory of\nthe executing user.  For security reasons configuration\nfiles must not be group-writable nor world-writable.\nScripts\nsharedscripts\nNormally,\nprerotate\nand\npostrotate\nscripts are run for each\nlog which is rotated and the absolute path to the log file\nis passed as first argument to the script.  That means a\nsingle script may be run multiple times for log file\nentries which match multiple files (such as the\n/var/log/news/*\nexample).  If\nsharedscripts\nis specified,\nthe scripts are only run once, no matter how many logs\nmatch the wildcarded pattern, and whole pattern is passed\nto them.  However, if none of the logs in the pattern\nrequire rotating, the scripts will not be run at all.  If\nthe scripts exit with error (or any log fails to rotate),\nthe remaining actions will not be executed for any logs.\nThis option overrides the\nnosharedscripts\noption.\nnosharedscripts\nRun\nprerotate\nand\npostrotate\nscripts for every log file\nwhich is rotated (this is the default, and overrides the\nsharedscripts\noption).  The absolute path to the log file\nis passed as first argument to the script.  The absolute\npath to the final rotated log file is passed as the second\nargument to the\npostrotate\nscript.  If the scripts exit\nwith error, the remaining actions will not be executed for\nthe affected log only.\nfirstaction\nscript\nendscript\nThe\nscript\nis executed once before all log files that match\nthe wildcarded pattern are rotated, before the prerotate\nscript is run and only if at least one log will actually be\nrotated.  These directives may only appear inside a log\nfile definition.  The whole pattern is passed to the script\nas its first argument. If the script exits with an error,\nno further processing is done.  See also\nlastaction\nand the\nSCRIPTS\nsection.\nlastaction\nscript\nendscript\nThe\nscript\nis executed once after all log files that match\nthe wildcarded pattern are rotated, after the postrotate\nscript is run and only if at least one log is rotated.\nThese directives may only appear inside a log file\ndefinition.  The whole pattern is passed to the script as\nits first argument.  If the script exits with an error,\njust an error message is shown (as this is the last\naction).  See also\nfirstaction\nand the\nSCRIPTS\nsection.\nprerotate\nscript\nendscript\nThe\nscript\nis executed before the log file and its old logs\nare rotated and only if the log will actually be rotated.\nThese directives may only appear inside a log file\ndefinition.  Normally, the absolute path to the log file is\npassed as the first argument to the script.  If\nsharedscripts\nis specified, the whole pattern is passed to\nthe script.  See also\npostrotate\nand the\nSCRIPTS\nsection.\nSee\nsharedscripts\nand\nnosharedscripts\nfor error handling.\npostrotate\nscript\nendscript\nThe\nscript\nis executed after the log file is rotated and\nbefore the log file is being compressed.  These directives\nmay only appear inside a log file definition.  Normally,\nthe absolute path to the log file is passed as the first\nargument to the script and the absolute path to the final\nrotated log file is passed as the second argument to the\nscript.  If\nsharedscripts\nis specified, the whole pattern\nis passed as the first argument to the script, and the\nsecond argument is omitted.  See also\nprerotate\nand the\nSCRIPTS\nsection.  See\nsharedscripts\nand\nnosharedscripts\nfor\nerror handling.\npreremove\nscript\nendscript\nThe\nscript\nis executed once just before removal of a log\nfile.\nlogrotate\nwill pass the name of file which is soon\nto be removed as the first argument to the script. See also\nfirstaction\nand the\nSCRIPTS\nsection.\nSCRIPTS\ntop\nThe lines between the starting keyword (e.g.\nprerotate\n) and\nendscript\n(both of which must appear on lines by themselves) are\nexecuted (using\n/bin/sh\n).  The script inherits some traits from\nthe\nlogrotate\nprocess, including stderr, stdout, the current\ndirectory, the environment, and the umask.  Scripts are run as the\ninvoking user and group, irrespective of any\nsu\ndirective.  If the\n--log\nflag was specified, file descriptor 3 is the log file.  The\ncurrent working directory is unspecified.\nUSER AND GROUP\ntop\nUser and group identifiers are resolved first by trying the\ntextual representation and, in case it fails, afterwards by the\nnumeric value.  The numeric value can be prepended by a colon to\nforce the usage of a non-existent user or group.\nFILES\ntop\n/var/lib/logrotate.status\nDefault state file.\n/etc/logrotate.conf\nConfiguration options.\nSEE ALSO\ntop\nchmod(2)\n,\ngunzip\n(1),\ngzip\n(1),\nmail\n(1),\nshred(1)\n,\nstrftime(3)\n,\nstrtoul(3)\n, <\nhttps://github.com/logrotate/logrotate\n>\nAUTHORS\ntop\nErik Troan, Preston Brown, Jan Kaluza.\n<\nhttps://github.com/logrotate/logrotate\n>\nCOLOPHON\ntop\nThis page is part of the\nlogrotate\n(simplify the administration of\nlog files) project.  Information about the project can be found at\nâ¨\nhttps://github.com/logrotate/logrotate\nâ©.  If you have a bug\nreport for this manual page, see\nâ¨\nhttps://github.com/logrotate/logrotate/issues\nâ©.  This page was\nobtained from the project's upstream Git repository\nâ¨\nhttps://github.com/logrotate/logrotate.git\nâ© on 2025-08-11.  (At\nthat time, the date of the most recent commit that was found in\nthe repository was 2025-06-06.)  If you discover any rendering\nproblems in this HTML version of the page, or you believe there is\na better or more up-to-date source for the page, or you have\ncorrections or improvements to the information in this COLOPHON\n(which is\nnot\npart of the original manual page), send a mail to\nman-pages@man7.org\nLinux                         3.22.0.37_73ae\nLOGROTATE\n(8)\nPages that refer to this page:\ndaemon(3)\nHTML rendering created 2025-09-06\nby\nMichael Kerrisk\n,\nauthor of\nThe Linux Programming Interface\n.\nFor details of in-depth\nLinux/UNIX system programming training courses\nthat I teach, look\nhere\n.\nHosting by\njambit GmbH\n.", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://man7.org/linux/man-pages/man8/logrotate.8.html"}}
{"text": "Get started with Elasticsearch | Elastic Docs\nLoading\nElastic Docs\n/\nSolutions and use cases\n/\nElasticsearch\nGet started with Elasticsearch\nServerless Elasticsearch\nStack\nNew to Elasticsearch? Start building a search experience by setting up your first deployment, refining your search goals, and adding data.\nNote\nIf you're looking for an introduction to the Elastic Stack or the Elasticsearch product, go to\nElastic fundamentals\nor\nThe Elasticsearch data store\n.\nChoose your deployment type\nElastic provides several self-managed and Elastic-managed options.\nFor simplicity and speed, try out Elasticsearch Serverless:\nCreate an Elasticsearch Serverless project\nThere are two options to create serverless projects:\nIf you are a new user,\nsign up for a free 14-day trial\nto create a serverless project. For more information about the Elastic Cloud trials, check\nTrial features\n.\nIf you are an existing customer,\nlog in to Elastic Cloud\n. On the home page, you will see a new option to create serverless projects. The\nadmin\npredefined role or an equivalent custom role is required to create projects. Refer to\nUser roles and privileges\n.\nChoose the Elasticsearch project type and provide a name.\nYou can optionally edit the project settings, such as the\nregion\n.\nWhen your project is created, you're ready to move on to the next step and to start creating indices, adding data, and performing searches.\nAlternatively, create a\nlocal development installation\nin Docker:\ncurl -fsSL https://elastic.co/start-local | sh\nCheck out the full list of\ndeployment types\nto learn more.\nIdentify your search goals\nDepending on your use case, you can choose multiple\nsearch approaches\n, for example full-text and semantic search.\nEach approach affects your options for storing and querying your data.\nIf you're unsure which approaches match your goals, you can try them out with sample data. For example,\nGet started with semantic search\n.\nIf you prefer to ingest your data first and transform or reindex it as needed later, skip to the next step.\nIngest your data\nIf your goals include vector or semantic AI-powered search, create vectorized data with built-in and third-party natural language processing (NLP) models and store it in an Elasticsearch vector database.\nThe approach that requires the least configuration involves adding\nsemantic_text\nfields when ingesting your data.\nThis method is described in\nSemantic search with semantic_text\n.\nTo learn about adding data for other search goals, go to\nIngest for search use cases\n.\nFor a broader overview of ingestion options, go to\nIngest: Bring your data to Elastic\n.\nIf you're not ready to add your own data, you can use\nsample data\nor create small data sets when you follow the instructions in the\nquickstarts\n.\nThe Elasticsearch home page in the UI also provides workflow guides for creating indices and ready-to-use code examples for ingesting data by using REST APIs.\nBuild your search queries\nYour next steps will be to choose a method to write queries and interact with Elasticsearch.\nYou can pick a programming language\nclient\nthat matches your application and choose which\nquery languages\nyou will use to express your search logic.\nEach decision builds on the previous ones, offering flexibility to mix and match approaches based on your needs.\nNot sure where to start exploring?\nGet an introduction to\nindex and search basics\nor\nbuild your first search query with Python\n.\nRelated resources\nUse these resources to learn more about Elasticsearch or get started in a different way:\nDetailed deployment comparison\nGet started with Query DSL search and filters\nGet started with ES|QL queries\nAnalyze eCommerce data with aggregations using Query DSL", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://www.elastic.co/guide/en/elasticsearch/reference/current/getting-started.html"}}
{"text": "Getting started with Logstash | Logstash\nLoading\nElastic Docs\n/\nReference\n/\nIngestion tools\n/\nLogstash\nGetting started with Logstash\nThis section guides you through the process of installing Logstash and verifying that everything is running properly.\nAfter learning how to stash your first event, you can go on to create a more advanced pipeline that takes Apache web logs as input, parses the logs, and writes the parsed data to an Elasticsearch cluster.\nThen you learn how to stitch together multiple input and output plugins to unify data from a variety of disparate sources.\nThis section includes these topics:\nJava (JVM) version\nInstalling Logstash\nStashing Your First Event\nParsing Logs with Logstash\nStitching Together Multiple Input and Output Plugins\nJava (JVM) version\nLogstash requires one of these versions:\nJava 17\nJava 21 (default).\nUse the\nofficial Oracle distribution\nor an open-source distribution, such as\nOpenJDK\n. The\nElastic Support Matrix\nis the official word on supported versions across releases.\nBundled JDK\nLogstash offers architecture-specific\ndownloads\nthat include Adoptium Eclipse Temurin 21, a long term support (LTS) release of the JDK.\nUse the LS_JAVA_HOME environment variable if you want to use a JDK other than the version that is bundled. If you have the LS_JAVA_HOME environment variable set to use a custom JDK, Logstash will continue to use the JDK version you have specified, even after you upgrade.\nCheck your Java version\nRun this command:\njava -version\nOn systems with Java installed, this command produces output similar to:\nopenjdk version \"17.0.12\" 2024-07-16\nOpenJDK Runtime Environment Temurin-17.0.12+7 (build 17.0.12+7)\nOpenJDK 64-Bit Server VM Temurin-17.0.12+7 (build 17.0.12+7, mixed mode)\nLS_JAVA_HOME\nLogstash includes a bundled JDK which has been verified to work with each specific version of Logstash, and generally provides the best performance and reliability. If you need to use a JDK other than the bundled version, then set the\nLS_JAVA_HOME\nenvironment variable to the version you want to use.\nOn some Linux systems, you may need to have the\nLS_JAVA_HOME\nenvironment exported before installing Logstash, particularly if you installed Java from a tarball. Logstash uses Java during installation to automatically detect your environment and install the correct startup method (SysV init scripts, Upstart, or systemd). If Logstash is unable to find the\nLS_JAVA_HOME\nenvironment variable during package installation, you may get an error message, and Logstash will not start properly.\nUpdate JDK settings when upgrading from Logstash 7.11.x (or earlier)\nLogstash uses JDK 21 by default.\nIf you are upgrading from Logstash 7.11.x (or earlier), you need to update Java settings in\njvm.options\nand\nlog4j2.properties\n.\nUpdates to\njvm.options\nIn the\nconfig/jvm.options\nfile, remove all CMS related flags:\n## GC configuration\n-XX:+UseConcMarkSweepGC\n-XX:CMSInitiatingOccupancyFraction=75\n-XX:+UseCMSInitiatingOccupancyOnly\nFor more information about how to use\njvm.options\n, please refer to\nJVM settings\n.\nUpdates to\nlog4j2.properties\nIn the\nconfig/log4j2.properties\n:\nReplace properties that start with\nappender.rolling.avoid_pipelined_filter.*\nwith:\nappender.rolling.avoid_pipelined_filter.type = PipelineRoutingFilter\nReplace properties that start with\nappender.json_rolling.avoid_pipelined_filter.*\nwith:\nappender.json_rolling.avoid_pipelined_filter.type = PipelineRoutingFilter\nReplace properties that start with\nappender.routing.*\nwith:\nappender.routing.type = PipelineRouting\nappender.routing.name = pipeline_routing_appender\nappender.routing.pipeline.type = RollingFile\nappender.routing.pipeline.name = appender-${ctx:pipeline.id}\nappender.routing.pipeline.fileName = ${sys:ls.logs}/pipeline_${ctx:pipeline.id}.log\nappender.routing.pipeline.filePattern = ${sys:ls.logs}/pipeline_${ctx:pipeline.id}.%i.log.gz\nappender.routing.pipeline.layout.type = PatternLayout\nappender.routing.pipeline.layout.pattern = [%d{ISO8601}][%-5p][%-25c] %m%n\nappender.routing.pipeline.policy.type = SizeBasedTriggeringPolicy\nappender.routing.pipeline.policy.size = 100MB\nappender.routing.pipeline.strategy.type = DefaultRolloverStrategy\nappender.routing.pipeline.strategy.max = 30", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://www.elastic.co/guide/en/logstash/current/getting-started-with-logstash.html"}}
{"text": "Get started with Grafana Loki | Grafana Loki documentation\nProducts\nOpen Source\nSolutions\nLearn\nDocs\nPricing\nDownloads\nContact us\nSign in\nCreate free account\nContact us\nProducts\nAll\nProducts\nGrafana Cloud\nMonitor, analyze, and act faster with AI-powered observability.\nGrafana Cloud overview\nLGTM+ Stack\nLogs\npowered by Grafana Loki\nGrafana\nfor visualization\nTraces\npowered by Grafana Tempo\nMetrics\npowered by Grafana Mimir and Prometheus\nKey Capabilities\nAI/ML insights\nIdentify anomalies and reduce toil\nContextual root cause analysis\nAutomated anomaly correlation\nSLO management\nCreate SLOs and error budget alerts\nAlerting\nTrigger alerts from any data source\nPlugins\nConnect Grafana to data sources, apps, and more\nObservability Solutions\nApplication Observability\nMonitor application performance\nInfrastructure observability\nEnsure infrastructure health and performance\nTesting\nPerformance testing\nPowered by Grafana k6\nSynthetic Monitoring\npowered by Grafana k6\nIRM\nIncident response\nRoutine task automation for incidents\nOn-call management\nFlexible on-call management\nOpen Source\nAll\nOpen Source\nGrafana Loki\nMulti-tenant log aggregation system\nGrafana\nQuery, visualize, and alert on data\nGrafana Tempo\nHigh-scale distributed tracing backend\nGrafana Mimir\nScalable and performant metrics backend\nGrafana Pyroscope\nScalable continuous profiling backend\nGrafana Beyla\neBPF auto-instrumentation\nGrafana Faro\nFrontend application observability web SDK\nGrafana Alloy\nOpenTelemetry Collector distribution with Prometheus pipelines\nGrafana k6\nLoad testing for engineering teams\nPrometheus\nMonitor Kubernetes and cloud native\nOpenTelemetry\nInstrument and collect telemetry data\nGraphite\nScalable monitoring for time series data\nAll\nCommunity resources\nDashboard templates\nTry out and share prebuilt visualizations\nPrometheus exporters\nGet your metrics into Prometheus quickly\nSolutions\nAll\nend-to-end solutions\nOpinionated solutions that help you get there easier and faster\nKubernetes Monitoring\nGet K8s health, performance, and cost monitoring from cluster to container\nApplication Observability\nMonitor application performance\nFrontend Observability\nGain real user monitoring insights\nIncident Response & Management\nDetect and respond to incidents with a simplified workflow\nAll monitoring and visualization solutions\nmonitor infrastructure\nOut-of-the-box KPIs, dashboards, and alerts for observability\nLinux\nWindows\nDocker\nPostgres\nMySQL\nAWS\nKafka\nJenkins\nRabbitMQ\nMongoDB\nMicrosoft Azure\nGoogle Cloud\nAll monitoring solutions\nvisualize any data\nInstantly connect all your data sources to Grafana\nMongoDB\nAppDynamics\nOracle\nGitLab\nJira\nSalesforce\nSplunk\nDatadog\nNew Relic\nSnowflake\nAll visualization solutions\nLearn\nAll\nLearn\nCommunity and events\nEvents\nUpcoming in-person and virtual events\nObservabilityCON 2025\nOur flagship observability event\nGrafanaCON 2026\nOur annual OSS community conference\nObservabilityCON on the Road\nOur observability conference on the road\nCommunity\nJoin the Grafana community\nCommunity forums\nAsk the community for help\nResources\nBlog\nNews, releases, cool stories, and more\n4th annual Observability Survey\nShare your thoughts on the state of observability\nBenefits of Observability\nNew research, reports, and insights\nSuccess stories\nBy use case, product, and industry\nHow-to\nDocumentation\nAll the docs\nWebinars and videos\nDemos, webinars, and feature tours\nTutorials\nStep-by-step guides\nWorkshops\nFree, in-person or online\nLearning Journeys\nExpert guidance for mastering our platform\nProfessional Services\nExpert guidance and training\nDocs\nPricing\nHelp build the future of open source observability software\nOpen positions\nCheck out the open source projects we support\nDownloads\nSign in\nGrafana Cloud\nMonitor, analyze, and act faster with AI-powered observability.\nGrafana Cloud overview\nLGTM+ Stack\nLogs\nGrafana\nTraces\nMetrics\nKey Capabilities\nAI/ML insights\nContextual root cause analysis\nSLO management\nAlerting\nPlugins\nObservability Solutions\nApplication Observability\nInfrastructure observability\nTesting\nPerformance testing\nSynthetic Monitoring\nIRM\nIncident response\nOn-call management\nThe actually useful free plan\nGrafana Cloud\nFree Tier\n10k series Prometheus metrics\n50GB logs, 50GB traces, 50GB profiles\n500VUk k6 testing\n20+ Enterprise data source plugins\n100+ pre-built solutions\nCreate account\nGrafana Loki\nMulti-tenant log aggregation system\nGrafana\nQuery, visualize, and alert on data\nGrafana Tempo\nHigh-scale distributed tracing backend\nGrafana Mimir\nScalable and performant metrics backend\nGrafana Pyroscope\nScalable continuous profiling backend\nGrafana Beyla\neBPF auto-instrumentation\nGrafana Faro\nFrontend application observability web SDK\nGrafana Alloy\nOpenTelemetry Collector distribution with Prometheus pipelines\nGrafana k6\nLoad testing for engineering teams\nPrometheus\nMonitor Kubernetes and cloud native\nOpenTelemetry\nInstrument and collect telemetry data\nGraphite\nScalable monitoring for time series data\nAll\nCommunity resources\nDashboard templates\nTry out and share prebuilt visualizations\nPrometheus exporters\nGet your metrics into Prometheus quickly\nend-to-end solutions\nOpinionated solutions that help you get there easier and faster\nKubernetes Monitoring\nGet K8s health, performance, and cost monitoring from cluster to container\nApplication Observability\nMonitor application performance\nFrontend Observability\nGain real user monitoring insights\nIncident Response & Management\nDetect and respond to incidents with a simplified workflow\nmonitor infrastructure\nOut-of-the-box KPIs, dashboards, and alerts for observability\nLinux\nWindows\nDocker\nPostgres\nMySQL\nAWS\nKafka\nJenkins\nRabbitMQ\nMongoDB\nMicrosoft Azure\nGoogle Cloud\nvisualize any data\nInstantly connect all your data sources to Grafana\nMongoDB\nAppDynamics\nOracle\nGitLab\nJira\nSalesforce\nSplunk\nDatadog\nNew Relic\nSnowflake\nAll monitoring and visualization solutions\nCommunity and events\nEvents\nObservabilityCON 2025\nGrafanaCON 2026\nObservabilityCON on the Road\nCommunity\nCommunity forums\nResources\nBlog\n4th annual Observability Survey\nBenefits of Observability\nSuccess stories\nHow-to\nDocumentation\nWebinars and videos\nTutorials\nWorkshops\nLearning Journeys\nProfessional Services\nFeatured webinar\nGetting started with managing your metrics, logs, and traces using Grafana\nLearn how to unify, correlate, and visualize data with dashboards using Grafana.\nLearn more â\nSite search\nAsk Grot AI\nTry using\nGrot AI\nfor this query ->\nMenu\nDocumentation\nGrafana Loki\nGet started\nOpen source\nGet started with Grafana Loki\nLoki is a horizontally scalable, highly available, multi-tenant log aggregation system inspired by Prometheus.\nIt’s designed to be very cost-effective and easy to operate.\nIt doesn’t index the contents of the logs, but rather a set of labels for each log stream.\nBecause all Loki implementations are unique, the installation process is different for every customer.\nBut there are some steps in the process that are common to every installation.\nTo collect logs and view your log data generally involves the following steps:\nInstall Loki on Kubernetes in simple scalable mode, using the recommended\nHelm chart\n.\nSupply the Helm chart with your object storage authentication details.\nStorage options\nConfiguration reference\nThere are\nexamples\nfor specific object storage providers that you can modify.\nDeploy\nGrafana Alloy\nto collect logs from your applications.\nOn Kubernetes, deploy Grafana Alloy using the Helm chart.\nConfigure Grafana Alloy to scrape logs from your Kubernetes cluster, and add your Loki endpoint details.\nRefer to the following section for an example Grafana Alloy configuration file.\nAdd\nlabels\nto your logs following our\nbest practices\n.\nMost Loki users start by adding labels that describe where the logs are coming from such as region, cluster, or environment.\nDeploy\nGrafana\nor\nGrafana Cloud\nand configure a\nLoki data source\n.\nSelect the\nExplore feature\nin the Grafana main menu.\nTo\nview logs in Explore\n:\nPick a time range.\nChoose the Loki data source.\nUse\nLogQL\nin the\nquery editor\n, use the Builder view to explore your labels, or select from sample pre-configured queries using the\nKick start your query\nbutton.\nNext steps:\nLearn more about the Loki query language,\nLogQL\n.\nExample Grafana Alloy and Agent configuration files to ship Kubernetes Pod logs to Loki\nTo deploy Grafana Alloy or Agent to collect Pod logs from your Kubernetes cluster and ship them to Loki, you can use a Helm chart, and a\nvalues.yaml\nfile.\nThis sample\nvalues.yaml\nfile is configured to:\nInstall Grafana Agent to discover Pod logs.\nAdd\ncontainer\nand\npod\nlabels to the logs.\nPush the logs to your Loki cluster using the tenant ID\ncloud\n.\nInstall Loki with the\nHelm chart\n.\nDeploy either Grafana Alloy or Grafana Agent, using the Helm chart:\nGrafana Alloy Helm chart\nGrafana Agent Helm chart\nCreate a\nvalues.yaml\nfile, based on the following example, making sure to update the value for\nforward_to = [loki.write.endpoint.receiver]\n:\nGrafana Alloy\nGrafana Agent\nYAML\nCopy\nalloy:\nmounts:\nvarlog: true\nconfigMap:\ncontent: |\nlogging {\nlevel  = \"info\"\nformat = \"logfmt\"\n}\ndiscovery.kubernetes \"pods\" {\nrole = \"pod\"\n}\nloki.source.kubernetes \"pods\" {\ntargets    = discovery.kubernetes.pods.targets\nforward_to = [loki.write.endpoint.receiver]\n}\nloki.write \"endpoint\" {\nendpoint {\nurl = \"http://loki-gateway.default.svc.cluster.local:80/loki/api/v1/push\"\ntenant_id = \"local\"\n}\n}\nYAML\nCopy\nagent:\nmounts:\nvarlog: true\nconfigMap:\ncontent: |\nlogging {\nlevel  = \"info\"\nformat = \"logfmt\"\n}\ndiscovery.kubernetes \"k8s\" {\nrole = \"pod\"\n}\ndiscovery.relabel \"k8s\" {\ntargets = discovery.kubernetes.k8s.targets\nrule {\nsource_labels = [\"__meta_kubernetes_pod_name\"]\naction = \"replace\"\ntarget_label = \"pod\"\n}\nrule {\nsource_labels = [\"__meta_kubernetes_pod_container_name\"]\naction = \"replace\"\ntarget_label = \"container\"\n}\nrule {\nsource_labels = [\"__meta_kubernetes_namespace\", \"__meta_kubernetes_pod_label_name\"]\ntarget_label  = \"job\"\nseparator     = \"/\"\n}\nrule {\nsource_labels = [\"__meta_kubernetes_pod_uid\", \"__meta_kubernetes_pod_container_name\"]\ntarget_label  = \"__path__\"\nseparator     = \"/\"\nreplacement   = \"/var/log/pods/*$1/*.log\"\n}\n}\nlocal.file_match \"pods\" {\npath_targets = discovery.relabel.k8s.output\n}\nloki.source.file \"pods\" {\ntargets = local.file_match.pods.targets\nforward_to = [loki.write.endpoint.receiver]\n}\nloki.write \"endpoint\" {\nendpoint {\nurl = \"http://loki-gateway:80/loki/api/v1/push\"\ntenant_id = \"cloud\"\n}\n}\nThen install Alloy or the Agent in your Kubernetes cluster using:\nGrafana Alloy\nGrafana Agent\nAlloy\nCopy\nhelm install alloy grafana/alloy -f ./values.yml\nagent\nCopy\nhelm upgrade -f values.yaml agent grafana/grafana-agent\nWas this page helpful?\nYes\nNo\nSuggest an edit in GitHub\nCreate a GitHub issue\nEmail docs@grafana.com\nHelp and support\nCommunity\nRelated resources from Grafana Labs\nAdditional helpful documentation, links, and articles:\nVideo\nGetting started with logging and Grafana Loki\nSee a demo of the updated features in Loki, and how to create metrics from logs and alert on your logs with powerful Prometheus-style alerting rules.\nVideo\nEssential Grafana Loki configuration settings\nThis webinar focuses on Grafana Loki configuration including agents Promtail and Docker; the Loki server; and Loki storage for popular backends.\nVideo\nScaling and securing your logs with Grafana Loki\nThis webinar covers the challenges of scaling and securing logs, and how Grafana Cloud Logs powered by Grafana Loki can help, cost-effectively.\nIs this page helpful?\nYes\nNo", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://grafana.com/docs/loki/latest/get-started/"}}
