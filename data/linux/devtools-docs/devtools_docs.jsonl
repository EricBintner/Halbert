{"text": "Git - Reference\nReference\nQuick reference guide:\nCheat Sheet\nComplete list of all commands\nSetup and Config\ngit\nconfig\nhelp\nbugreport\nCredential helpers\nGetting and Creating Projects\ninit\nclone\nBasic Snapshotting\nadd\nstatus\ndiff\ncommit\nnotes\nrestore\nreset\nrm\nmv\nBranching and Merging\nbranch\ncheckout\nswitch\nmerge\nmergetool\nlog\nstash\ntag\nworktree\nSharing and Updating Projects\nfetch\npull\npush\nremote\nsubmodule\nInspection and Comparison\nshow\nlog\ndiff\ndifftool\nrange-diff\nshortlog\ndescribe\nPatching\napply\ncherry-pick\ndiff\nrebase\nrevert\nDebugging\nbisect\nblame\ngrep\nGuides\ngitattributes\nCommand-line interface conventions\nEveryday Git\nFrequently Asked Questions (FAQ)\nGlossary\nHooks\ngitignore\ngitmodules\nRevisions\nSubmodules\nTutorial\nWorkflows\nAll guides...\nEmail\nam\napply\nimap-send\nformat-patch\nsend-email\nrequest-pull\nExternal Systems\nsvn\nfast-import\nAdministration\nclean\ngc\nfsck\nreflog\nfilter-branch\ninstaweb\narchive\nbundle\nServer Admin\ndaemon\nupdate-server-info\nPlumbing Commands\ncat-file\ncheck-ignore\ncheckout-index\ncommit-tree\ncount-objects\ndiff-index\nfor-each-ref\nhash-object\nls-files\nls-tree\nmerge-base\nread-tree\nrev-list\nrev-parse\nshow-ref\nsymbolic-ref\nupdate-index\nupdate-ref\nverify-pack\nwrite-tree", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://git-scm.com/docs"}}
{"text": "Git - git Documentation\nEnglish ▾\nLocalized versions of\ngit\nmanual\nEnglish\nDeutsch\nEspañol\nFrançais\nPortuguês (Brasil)\nукраїнська мова\n简体中文\nTopics ▾\nSetup and Config\ngit\nconfig\nhelp\nbugreport\nCredential helpers\nGetting and Creating Projects\ninit\nclone\nBasic Snapshotting\nadd\nstatus\ndiff\ncommit\nnotes\nrestore\nreset\nrm\nmv\nBranching and Merging\nbranch\ncheckout\nswitch\nmerge\nmergetool\nlog\nstash\ntag\nworktree\nSharing and Updating Projects\nfetch\npull\npush\nremote\nsubmodule\nInspection and Comparison\nshow\nlog\ndiff\ndifftool\nrange-diff\nshortlog\ndescribe\nPatching\napply\ncherry-pick\ndiff\nrebase\nrevert\nDebugging\nbisect\nblame\ngrep\nEmail\nam\napply\nimap-send\nformat-patch\nsend-email\nrequest-pull\nExternal Systems\nsvn\nfast-import\nServer Admin\ndaemon\nupdate-server-info\nGuides\ngitattributes\nCommand-line interface conventions\nEveryday Git\nFrequently Asked Questions (FAQ)\nGlossary\nHooks\ngitignore\ngitmodules\nRevisions\nSubmodules\nTutorial\nWorkflows\nAll guides...\nAdministration\nclean\ngc\nfsck\nreflog\nfilter-branch\ninstaweb\narchive\nbundle\nPlumbing Commands\ncat-file\ncheck-ignore\ncheckout-index\ncommit-tree\ncount-objects\ndiff-index\nfor-each-ref\nhash-object\nls-files\nls-tree\nmerge-base\nread-tree\nrev-list\nrev-parse\nshow-ref\nsymbolic-ref\nupdate-index\nupdate-ref\nverify-pack\nwrite-tree\nLatest version\n▾\ngit last updated in 2.52.0\nChanges in the\ngit\nmanual\n2.52.0\n2025-11-17\n2.51.2 no changes\n2.51.1\n2025-10-15\n2.50.1 → 2.51.0 no changes\n2.50.0\n2025-06-16\n2.49.1 no changes\n2.49.0\n2025-03-14\n2.48.1 → 2.48.2 no changes\n2.48.0\n2025-01-10\n2.47.1 → 2.47.3 no changes\n2.47.0\n2024-10-06\n2.46.1 → 2.46.4 no changes\n2.46.0\n2024-07-29\n2.45.2 → 2.45.4 no changes\n2.45.1\n2024-04-29\n2.45.0\n2024-04-29\n2.44.2 → 2.44.4 no changes\n2.44.1\n2024-04-19\n2.44.0\n2024-02-23\n2.43.5 → 2.43.7 no changes\n2.43.4\n2024-04-19\n2.43.2 → 2.43.3 no changes\n2.43.1\n2024-02-09\n2.43.0\n2023-11-20\n2.42.3 → 2.42.4 no changes\n2.42.2\n2024-04-19\n2.42.1\n2023-11-02\n2.42.0\n2023-08-21\n2.41.2 → 2.41.3 no changes\n2.41.1\n2024-04-19\n2.41.0\n2023-06-01\n2.40.3 → 2.40.4 no changes\n2.40.2\n2024-04-19\n2.40.1 no changes\n2.40.0 no changes\n2.39.5 no changes\n2.39.4\n2024-04-19\n2.39.1 → 2.39.3 no changes\n2.39.0\n2022-12-12\n2.38.3 → 2.38.5 no changes\n2.38.2\n2022-12-11\n2.38.1 no changes\n2.38.0\n2022-10-02\n2.37.3 → 2.37.7 no changes\n2.37.2\n2022-08-11\n2.37.1 no changes\n2.37.0\n2022-06-27\n2.36.1 → 2.36.6 no changes\n2.36.0\n2022-04-18\n2.35.1 → 2.35.8 no changes\n2.35.0\n2022-01-24\n2.34.1 → 2.34.8 no changes\n2.34.0\n2021-11-15\n2.33.3 → 2.33.8 no changes\n2.33.2\n2022-03-23\n2.33.1\n2021-10-12\n2.32.1 → 2.33.0 no changes\n2.32.0\n2021-06-06\n2.31.1 → 2.31.8 no changes\n2.31.0\n2021-03-15\n2.30.1 → 2.30.9 no changes\n2.30.0\n2020-12-27\n2.29.1 → 2.29.3 no changes\n2.29.0\n2020-10-19\n2.28.1 no changes\n2.28.0\n2020-07-27\n2.27.1 no changes\n2.27.0\n2020-06-01\n2.26.1 → 2.26.3 no changes\n2.26.0\n2020-03-22\n2.25.2 → 2.25.5 no changes\n2.25.1\n2020-02-17\n2.25.0\n2020-01-13\n2.23.1 → 2.24.4 no changes\n2.23.0\n2019-08-16\n2.22.2 → 2.22.5 no changes\n2.22.1\n2019-08-11\n2.22.0\n2019-06-07\n2.20.1 → 2.21.4 no changes\n2.20.0\n2018-12-09\n2.19.3 → 2.19.6 no changes\n2.19.2\n2018-11-21\n2.19.1 no changes\n2.19.0\n2018-09-10\n2.18.1 → 2.18.5 no changes\n2.18.0\n2018-06-21\n2.17.1 → 2.17.6 no changes\n2.17.0\n2018-04-02\n2.16.6\n2019-12-06\n2.15.4\n2019-12-06\n2.14.6\n2019-12-06\n2.13.7 no changes\n2.12.5\n2017-09-22\n2.11.4\n2017-09-22\n2.10.5\n2017-09-22\n2.9.5\n2017-07-30\n2.8.6\n2017-07-30\n2.7.6\n2017-07-30\n2.6.7\n2017-05-05\n2.5.6\n2017-05-05\n2.4.12\n2017-05-05\n2.3.10\n2015-09-28\n2.2.3\n2015-09-04\n2.1.4\n2014-12-17\n2.0.5\n2014-12-17\nNAME\ngit - the stupid content tracker\nSYNOPSIS\ngit\n[-v | --version] [-h | --help] [-C <path>] [-c <name>=<value>]\n[--exec-path[=<path>]] [--html-path] [--man-path] [--info-path]\n[-p | --paginate | -P | --no-pager] [--no-replace-objects] [--no-lazy-fetch]\n[--no-optional-locks] [--no-advice] [--bare] [--git-dir=<path>]\n[--work-tree=<path>] [--namespace=<name>] [--config-env=<name>=<envvar>]\n<command> [<args>]\nDESCRIPTION\nGit is a fast, scalable, distributed revision control system with an\nunusually rich command set that provides both high-level operations\nand full access to internals.\nSee\ngittutorial[7]\nto get started, then see\ngiteveryday[7]\nfor a useful minimum set of\ncommands.  The\nGit User’s Manual\nhas a more\nin-depth introduction.\nAfter you mastered the basic concepts, you can come back to this\npage to learn what commands Git offers.  You can learn more about\nindividual Git commands with \"git help command\".\ngitcli[7]\nmanual page gives you an overview of the command-line command syntax.\nA formatted and hyperlinked copy of the latest Git documentation\ncan be viewed at\nhttps://git.github.io/htmldocs/git.html\nor\nhttps://git-scm.com/docs\n.\nOPTIONS\n-v\n--version\nPrints the Git suite version that the\ngit\nprogram came from.\nThis option is internally converted to\ngit\nversion\n...\nand accepts\nthe same options as the\ngit-version[1]\ncommand. If\n--help\nis\nalso given, it takes precedence over\n--version\n.\n-h\n--help\nPrints the synopsis and a list of the most commonly used\ncommands. If the option\n--all\nor\n-a\nis given then all\navailable commands are printed. If a Git command is named this\noption will bring up the manual page for that command.\nOther options are available to control how the manual page is\ndisplayed. See\ngit-help[1]\nfor more information,\nbecause\ngit\n--help\n...\nis converted internally into\ngit\nhelp\n...\n.\n-C <path>\nRun as if git was started in\n<path>\ninstead of the current working\ndirectory.  When multiple\n-C\noptions are given, each subsequent\nnon-absolute\n-C\n<path>\nis interpreted relative to the preceding\n-C\n<path>\n.  If\n<path>\nis present but empty, e.g.\n-C\n\"\"\n, then the\ncurrent working directory is left unchanged.\nThis option affects options that expect path name like\n--git-dir\nand\n--work-tree\nin that their interpretations of the path names would be\nmade relative to the working directory caused by the\n-C\noption. For\nexample the following invocations are equivalent:\ngit --git-dir=a.git --work-tree=b -C c status\ngit --git-dir=c/a.git --work-tree=c/b status\n-c <name>=<value>\nPass a configuration parameter to the command. The value\ngiven will override values from configuration files.\nThe <name> is expected in the same format as listed by\ngit config\n(subkeys separated by dots).\nNote that omitting the\n=\nin\ngit\n-c\nfoo.bar\n...\nis allowed and sets\nfoo.bar\nto the boolean true value (just like\n[\nfoo\n]\nbar\nwould in a\nconfig file). Including the equals but with an empty value (like\ngit\n-c\nfoo.bar=\n...\n) sets\nfoo.bar\nto the empty string which\ngit\nconfig\n--type=bool\nwill convert to\nfalse\n.\n--config-env=<name>=<envvar>\nLike\n-c\n<name>\n=\n<value>\n, give configuration variable\n<name>\na value, where <envvar> is the name of an\nenvironment variable from which to retrieve the value. Unlike\n-c\nthere is no shortcut for directly setting the value to an\nempty string, instead the environment variable itself must be\nset to the empty string.  It is an error if the\n<envvar>\ndoes not exist\nin the environment.\n<envvar>\nmay not contain an equals sign\nto avoid ambiguity with\n<name>\ncontaining one.\nThis is useful for cases where you want to pass transitory\nconfiguration options to git, but are doing so on operating systems\nwhere other processes might be able to read your command line\n(e.g.\n/proc/self/cmdline\n), but not your environment\n(e.g.\n/proc/self/environ\n). That behavior is the default on\nLinux, but may not be on your system.\nNote that this might add security for variables such as\nhttp.extraHeader\nwhere the sensitive information is part of\nthe value, but not e.g.\nurl.\n<base>\n.insteadOf\nwhere the\nsensitive information can be part of the key.\n--exec-path[=<path>]\nPath to wherever your core Git programs are installed.\nThis can also be controlled by setting the GIT_EXEC_PATH\nenvironment variable. If no path is given,\ngit\nwill print\nthe current setting and then exit.\n--html-path\nPrint the path, without trailing slash, where Git’s HTML\ndocumentation is installed and exit.\n--man-path\nPrint the manpath (see\nman\n(\n1\n)\n) for the man pages for\nthis version of Git and exit.\n--info-path\nPrint the path where the Info files documenting this\nversion of Git are installed and exit.\n-p\n--paginate\nPipe all output into\nless\n(or if set, $PAGER) if standard\noutput is a terminal.  This overrides the\npager.\n<cmd>\nconfiguration options (see the \"Configuration Mechanism\" section\nbelow).\n-P\n--no-pager\nDo not pipe Git output into a pager.\n--git-dir=<path>\nSet the path to the repository (\".git\" directory). This can also be\ncontrolled by setting the\nGIT_DIR\nenvironment variable. It can be\nan absolute path or relative path to current working directory.\nSpecifying the location of the \".git\" directory using this\noption (or\nGIT_DIR\nenvironment variable) turns off the\nrepository discovery that tries to find a directory with\n\".git\" subdirectory (which is how the repository and the\ntop-level of the working tree are discovered), and tells Git\nthat you are at the top level of the working tree.  If you\nare not at the top-level directory of the working tree, you\nshould tell Git where the top-level of the working tree is,\nwith the\n--work-tree=\n<path>\noption (or\nGIT_WORK_TREE\nenvironment variable)\nIf you just want to run git as if it was started in\n<path>\nthen use\ngit\n-C\n<path>\n.\n--work-tree=<path>\nSet the path to the working tree. It can be an absolute path\nor a path relative to the current working directory.\nThis can also be controlled by setting the GIT_WORK_TREE\nenvironment variable and the core.worktree configuration\nvariable (see core.worktree in\ngit-config[1]\nfor a\nmore detailed discussion).\n--namespace=<path>\nSet the Git namespace.  See\ngitnamespaces[7]\nfor more\ndetails.  Equivalent to setting the\nGIT_NAMESPACE\nenvironment\nvariable.\n--bare\nTreat the repository as a bare repository.  If GIT_DIR\nenvironment is not set, it is set to the current working\ndirectory.\n--no-replace-objects\nDo not use replacement refs to replace Git objects.\nThis is equivalent to exporting the\nGIT_NO_REPLACE_OBJECTS\nenvironment variable with any value.\nSee\ngit-replace[1]\nfor more information.\n--no-lazy-fetch\nDo not fetch missing objects from the promisor remote on\ndemand.  Useful together with\ngit\ncat-file\n-e\n<object>\nto\nsee if the object is locally available.\nThis is equivalent to setting the\nGIT_NO_LAZY_FETCH\nenvironment variable to\n1\n.\n--no-optional-locks\nDo not perform optional operations that require locks. This is\nequivalent to setting the\nGIT_OPTIONAL_LOCKS\nto\n0\n.\n--no-advice\nDisable all advice hints from being printed.\n--literal-pathspecs\nTreat pathspecs literally (i.e. no globbing, no pathspec magic).\nThis is equivalent to setting the\nGIT_LITERAL_PATHSPECS\nenvironment\nvariable to\n1\n.\n--glob-pathspecs\nAdd \"glob\" magic to all pathspec. This is equivalent to setting\nthe\nGIT_GLOB_PATHSPECS\nenvironment variable to\n1\n. Disabling\nglobbing on individual pathspecs can be done using pathspec\nmagic \":(literal)\"\n--noglob-pathspecs\nAdd \"literal\" magic to all pathspec. This is equivalent to setting\nthe\nGIT_NOGLOB_PATHSPECS\nenvironment variable to\n1\n. Enabling\nglobbing on individual pathspecs can be done using pathspec\nmagic \":(glob)\"\n--icase-pathspecs\nAdd \"icase\" magic to all pathspec. This is equivalent to setting\nthe\nGIT_ICASE_PATHSPECS\nenvironment variable to\n1\n.\n--list-cmds=<group>[,<group>…​]\nList commands by group. This is an internal/experimental\noption and may change or be removed in the future. Supported\ngroups are: builtins, parseopt (builtin commands that use\nparse-options), deprecated (deprecated builtins),\nmain (all commands in libexec directory),\nothers (all other commands in\n$PATH\nthat have git- prefix),\nlist-<category> (see categories in command-list.txt),\nnohelpers (exclude helper commands), alias and config\n(retrieve command list from config variable completion.commands)\n--attr-source=\n<tree-ish>\nRead gitattributes from\n<tree-ish>\ninstead of the worktree. See\ngitattributes[5]\n. This is equivalent to setting the\nGIT_ATTR_SOURCE\nenvironment variable.\nGIT COMMANDS\nWe divide Git into high level (\"porcelain\") commands and low level\n(\"plumbing\") commands.\nHigh-level commands (porcelain)\nWe separate the porcelain commands into the main commands and some\nancillary user utilities.\nMain porcelain commands\ngit-add[1]\nAdd file contents to the index\ngit-am[1]\nApply a series of patches from a mailbox\ngit-archive[1]\nCreate an archive of files from a named tree\ngit-backfill[1]\nDownload missing objects in a partial clone\ngit-bisect[1]\nUse binary search to find the commit that introduced a bug\ngit-branch[1]\nList, create, or delete branches\ngit-bundle[1]\nMove objects and refs by archive\ngit-checkout[1]\nSwitch branches or restore working tree files\ngit-cherry-pick[1]\nApply the changes introduced by some existing commits\ngit-citool[1]\nGraphical alternative to git-commit\ngit-clean[1]\nRemove untracked files from the working tree\ngit-clone[1]\nClone a repository into a new directory\ngit-commit[1]\nRecord changes to the repository\ngit-describe[1]\nGive an object a human readable name based on an available ref\ngit-diff[1]\nShow changes between commits, commit and working tree, etc\ngit-fetch[1]\nDownload objects and refs from another repository\ngit-format-patch[1]\nPrepare patches for e-mail submission\ngit-gc[1]\nCleanup unnecessary files and optimize the local repository\ngit-grep[1]\nPrint lines matching a pattern\ngit-gui[1]\nA portable graphical interface to Git\ngit-init[1]\nCreate an empty Git repository or reinitialize an existing one\ngit-log[1]\nShow commit logs\ngit-maintenance[1]\nRun tasks to optimize Git repository data\ngit-merge[1]\nJoin two or more development histories together\ngit-mv[1]\nMove or rename a file, a directory, or a symlink\ngit-notes[1]\nAdd or inspect object notes\ngit-pull[1]\nFetch from and integrate with another repository or a local branch\ngit-push[1]\nUpdate remote refs along with associated objects\ngit-range-diff[1]\nCompare two commit ranges (e.g. two versions of a branch)\ngit-rebase[1]\nReapply commits on top of another base tip\ngit-reset[1]\nReset current HEAD to the specified state\ngit-restore[1]\nRestore working tree files\ngit-revert[1]\nRevert some existing commits\ngit-rm[1]\nRemove files from the working tree and from the index\ngit-shortlog[1]\nSummarize\ngit log\noutput\ngit-show[1]\nShow various types of objects\ngit-sparse-checkout[1]\nReduce your working tree to a subset of tracked files\ngit-stash[1]\nStash the changes in a dirty working directory away\ngit-status[1]\nShow the working tree status\ngit-submodule[1]\nInitialize, update or inspect submodules\ngit-switch[1]\nSwitch branches\ngit-tag[1]\nCreate, list, delete or verify tags\ngit-worktree[1]\nManage multiple working trees\ngitk[1]\nThe Git repository browser\nscalar[1]\nA tool for managing large Git repositories\nAncillary Commands\nManipulators:\ngit-config[1]\nGet and set repository or global options\ngit-fast-export[1]\nGit data exporter\ngit-fast-import[1]\nBackend for fast Git data importers\ngit-filter-branch[1]\nRewrite branches\ngit-mergetool[1]\nRun merge conflict resolution tools to resolve merge conflicts\ngit-pack-refs[1]\nPack heads and tags for efficient repository access\ngit-prune[1]\nPrune all unreachable objects from the object database\ngit-reflog[1]\nManage reflog information\ngit-refs[1]\nLow-level access to refs\ngit-remote[1]\nManage set of tracked repositories\ngit-repack[1]\nPack unpacked objects in a repository\ngit-replace[1]\nCreate, list, delete refs to replace objects\nInterrogators:\ngit-annotate[1]\nAnnotate file lines with commit information\ngit-blame[1]\nShow what revision and author last modified each line of a file\ngit-bugreport[1]\nCollect information for user to file a bug report\ngit-count-objects[1]\nCount unpacked number of objects and their disk consumption\ngit-diagnose[1]\nGenerate a zip archive of diagnostic information\ngit-difftool[1]\nShow changes using common diff tools\ngit-fsck[1]\nVerifies the connectivity and validity of the objects in the database\ngit-help[1]\nDisplay help information about Git\ngit-instaweb[1]\nInstantly browse your working repository in gitweb\ngit-merge-tree[1]\nPerform merge without touching index or working tree\ngit-rerere[1]\nReuse recorded resolution of conflicted merges\ngit-show-branch[1]\nShow branches and their commits\ngit-verify-commit[1]\nCheck the GPG signature of commits\ngit-verify-tag[1]\nCheck the GPG signature of tags\ngit-version[1]\nDisplay version information about Git\ngit-whatchanged[1]\nShow logs with differences each commit introduces\ngitweb[1]\nGit web interface (web frontend to Git repositories)\nInteracting with Others\nThese commands are to interact with foreign SCM and with other\npeople via patch over e-mail.\ngit-archimport[1]\nImport a GNU Arch repository into Git\ngit-cvsexportcommit[1]\nExport a single commit to a CVS checkout\ngit-cvsimport[1]\nSalvage your data out of another SCM people love to hate\ngit-cvsserver[1]\nA CVS server emulator for Git\ngit-imap-send[1]\nSend a collection of patches from stdin to an IMAP folder\ngit-p4[1]\nImport from and submit to Perforce repositories\ngit-quiltimport[1]\nApplies a quilt patchset onto the current branch\ngit-request-pull[1]\nGenerates a summary of pending changes\ngit-send-email[1]\nSend a collection of patches as emails\ngit-svn[1]\nBidirectional operation between a Subversion repository and Git\nReset, restore and revert\nThere are three commands with similar names:\ngit\nreset\n,\ngit\nrestore\nand\ngit\nrevert\n.\ngit-revert[1]\nis about making a new commit that reverts the\nchanges made by other commits.\ngit-restore[1]\nis about restoring files in the working tree\nfrom either the index or another commit. This command does not\nupdate your branch. The command can also be used to restore files in\nthe index from another commit.\ngit-reset[1]\nis about updating your branch, moving the tip\nin order to add or remove commits from the branch. This operation\nchanges the commit history.\ngit\nreset\ncan also be used to restore the index, overlapping with\ngit\nrestore\n.\nLow-level commands (plumbing)\nAlthough Git includes its\nown porcelain layer, its low-level commands are sufficient to support\ndevelopment of alternative porcelains.  Developers of such porcelains\nmight start by reading about\ngit-update-index[1]\nand\ngit-read-tree[1]\n.\nThe interface (input, output, set of options and the semantics)\nto these low-level commands are meant to be a lot more stable\nthan Porcelain level commands, because these commands are\nprimarily for scripted use.  The interface to Porcelain commands\non the other hand are subject to change in order to improve the\nend user experience.\nThe following description divides\nthe low-level commands into commands that manipulate objects (in\nthe repository, index, and working tree), commands that interrogate and\ncompare objects, and commands that move objects and references between\nrepositories.\nManipulation commands\ngit-apply[1]\nApply a patch to files and/or to the index\ngit-checkout-index[1]\nCopy files from the index to the working tree\ngit-commit-graph[1]\nWrite and verify Git commit-graph files\ngit-commit-tree[1]\nCreate a new commit object\ngit-hash-object[1]\nCompute object ID and optionally create an object from a file\ngit-index-pack[1]\nBuild pack index file for an existing packed archive\ngit-merge-file[1]\nRun a three-way file merge\ngit-merge-index[1]\nRun a merge for files needing merging\ngit-mktag[1]\nCreates a tag object with extra validation\ngit-mktree[1]\nBuild a tree-object from ls-tree formatted text\ngit-multi-pack-index[1]\nWrite and verify multi-pack-indexes\ngit-pack-objects[1]\nCreate a packed archive of objects\ngit-prune-packed[1]\nRemove extra objects that are already in pack files\ngit-read-tree[1]\nReads tree information into the index\ngit-replay[1]\nEXPERIMENTAL: Replay commits on a new base, works with bare repos too\ngit-symbolic-ref[1]\nRead, modify and delete symbolic refs\ngit-unpack-objects[1]\nUnpack objects from a packed archive\ngit-update-index[1]\nRegister file contents in the working tree to the index\ngit-update-ref[1]\nUpdate the object name stored in a ref safely\ngit-write-tree[1]\nCreate a tree object from the current index\nInterrogation commands\ngit-cat-file[1]\nProvide contents or details of repository objects\ngit-cherry[1]\nFind commits yet to be applied to upstream\ngit-diff-files[1]\nCompares files in the working tree and the index\ngit-diff-index[1]\nCompare a tree to the working tree or index\ngit-diff-pairs[1]\nCompare the content and mode of provided blob pairs\ngit-diff-tree[1]\nCompares the content and mode of blobs found via two tree objects\ngit-for-each-ref[1]\nOutput information on each ref\ngit-for-each-repo[1]\nRun a Git command on a list of repositories\ngit-get-tar-commit-id[1]\nExtract commit ID from an archive created using git-archive\ngit-last-modified[1]\nEXPERIMENTAL: Show when files were last modified\ngit-ls-files[1]\nShow information about files in the index and the working tree\ngit-ls-remote[1]\nList references in a remote repository\ngit-ls-tree[1]\nList the contents of a tree object\ngit-merge-base[1]\nFind as good common ancestors as possible for a merge\ngit-name-rev[1]\nFind symbolic names for given revs\ngit-pack-redundant[1]\nFind redundant pack files\ngit-repo[1]\nRetrieve information about the repository\ngit-rev-list[1]\nLists commit objects in reverse chronological order\ngit-rev-parse[1]\nPick out and massage parameters\ngit-show-index[1]\nShow packed archive index\ngit-show-ref[1]\nList references in a local repository\ngit-unpack-file[1]\nCreates a temporary file with a blob’s contents\ngit-var[1]\nShow a Git logical variable\ngit-verify-pack[1]\nValidate packed Git archive files\nIn general, the interrogate commands do not touch the files in\nthe working tree.\nSyncing repositories\ngit-daemon[1]\nA really simple server for Git repositories\ngit-fetch-pack[1]\nReceive missing objects from another repository\ngit-http-backend[1]\nServer side implementation of Git over HTTP\ngit-send-pack[1]\nPush objects over Git protocol to another repository\ngit-update-server-info[1]\nUpdate auxiliary info file to help dumb servers\nThe following are helper commands used by the above; end users\ntypically do not use them directly.\ngit-http-fetch[1]\nDownload from a remote Git repository via HTTP\ngit-http-push[1]\nPush objects over HTTP/DAV to another repository\ngit-receive-pack[1]\nReceive what is pushed into the repository\ngit-shell[1]\nRestricted login shell for Git-only SSH access\ngit-upload-archive[1]\nSend archive back to git-archive\ngit-upload-pack[1]\nSend objects packed back to git-fetch-pack\nInternal helper commands\nThese are internal helper commands used by other commands; end\nusers typically do not use them directly.\ngit-check-attr[1]\nDisplay gitattributes information\ngit-check-ignore[1]\nDebug gitignore / exclude files\ngit-check-mailmap[1]\nShow canonical names and email addresses of contacts\ngit-check-ref-format[1]\nEnsures that a reference name is well formed\ngit-column[1]\nDisplay data in columns\ngit-credential[1]\nRetrieve and store user credentials\ngit-credential-cache[1]\nHelper to temporarily store passwords in memory\ngit-credential-store[1]\nHelper to store credentials on disk\ngit-fmt-merge-msg[1]\nProduce a merge commit message\ngit-hook[1]\nRun git hooks\ngit-interpret-trailers[1]\nAdd or parse structured information in commit messages\ngit-mailinfo[1]\nExtracts patch and authorship from a single e-mail message\ngit-mailsplit[1]\nSimple UNIX mbox splitter program\ngit-merge-one-file[1]\nThe standard helper program to use with git-merge-index\ngit-patch-id[1]\nCompute unique ID for a patch\ngit-sh-i18n[1]\nGit’s i18n setup code for shell scripts\ngit-sh-setup[1]\nCommon Git shell script setup code\ngit-stripspace[1]\nRemove unnecessary whitespace\nGuides\nThe following documentation pages are guides about Git concepts.\ngitcore-tutorial[7]\nA Git core tutorial for developers\ngitcredentials[7]\nProviding usernames and passwords to Git\ngitcvs-migration[7]\nGit for CVS users\ngitdiffcore[7]\nTweaking diff output\ngiteveryday[7]\nA useful minimum set of commands for Everyday Git\ngitfaq[7]\nFrequently asked questions about using Git\ngitglossary[7]\nA Git Glossary\ngitnamespaces[7]\nGit namespaces\ngitremote-helpers[7]\nHelper programs to interact with remote repositories\ngitsubmodules[7]\nMounting one repository inside another\ngittutorial[7]\nA tutorial introduction to Git\ngittutorial-2[7]\nA tutorial introduction to Git: part two\ngitworkflows[7]\nAn overview of recommended workflows with Git\nRepository, command and file interfaces\nThis documentation discusses repository and command interfaces which\nusers are expected to interact with directly. See\n--user-formats\nin\ngit-help[1]\nfor more details on the criteria.\ngitattributes[5]\nDefining attributes per path\ngitcli[7]\nGit command-line interface and conventions\ngithooks[5]\nHooks used by Git\ngitignore[5]\nSpecifies intentionally untracked files to ignore\ngitmailmap[5]\nMap author/committer names and/or E-Mail addresses\ngitmodules[5]\nDefining submodule properties\ngitrepository-layout[5]\nGit Repository Layout\ngitrevisions[7]\nSpecifying revisions and ranges for Git\nFile formats, protocols and other developer interfaces\nThis documentation discusses file formats, over-the-wire protocols and\nother git developer interfaces. See\n--developer-interfaces\nin\ngit-help[1]\n.\ngitformat-bundle[5]\nThe bundle file format\ngitformat-chunk[5]\nChunk-based file formats\ngitformat-commit-graph[5]\nGit commit-graph format\ngitformat-index[5]\nGit index format\ngitformat-pack[5]\nGit pack format\ngitformat-signature[5]\nGit cryptographic signature formats\ngitprotocol-capabilities[5]\nProtocol v0 and v1 capabilities\ngitprotocol-common[5]\nThings common to various protocols\ngitprotocol-http[5]\nGit HTTP-based protocols\ngitprotocol-pack[5]\nHow packs are transferred over-the-wire\ngitprotocol-v2[5]\nGit Wire Protocol, Version 2\nConfiguration Mechanism\nGit uses a simple text format to store customizations that are per\nrepository and are per user.  Such a configuration file may look\nlike this:\n#\n# A '#' or ';' character indicates a comment.\n#\n; core variables\n[core]\n; Don't trust file modes\nfilemode = false\n; user identity\n[user]\nname = \"Junio C Hamano\"\nemail = \"gitster@pobox.com\"\nVarious commands read from the configuration file and adjust\ntheir operation accordingly.  See\ngit-config[1]\nfor a\nlist and more details about the configuration mechanism.\nIdentifier Terminology\n<object>\nIndicates the object name for any type of object.\n<blob>\nIndicates a blob object name.\n<tree>\nIndicates a tree object name.\n<commit>\nIndicates a commit object name.\n<tree-ish>\nIndicates a tree, commit or tag object name.  A\ncommand that takes a\n<tree-ish>\nargument ultimately wants to\noperate on a\n<tree>\nobject but automatically dereferences\n<commit>\nand\n<tag>\nobjects that point at a\n<tree>\n.\n<commit-ish>\nIndicates a commit or tag object name.  A\ncommand that takes a <commit-ish> argument ultimately wants to\noperate on a\n<commit>\nobject but automatically dereferences\n<tag>\nobjects that point at a\n<commit>\n.\n<type>\nIndicates that an object type is required.\nCurrently one of:\nblob\n,\ntree\n,\ncommit\n, or\ntag\n.\n<file>\nIndicates a filename - almost always relative to the\nroot of the tree structure\nGIT_INDEX_FILE\ndescribes.\nSymbolic Identifiers\nAny Git command accepting any\n<object>\ncan also use the following\nsymbolic notation:\nHEAD\nindicates the head of the current branch.\n<tag>\na valid tag\nname\n(i.e. a\nrefs/tags/\n<tag>\nreference).\n<head>\na valid head\nname\n(i.e. a\nrefs/heads/\n<head>\nreference).\nFor a more complete list of ways to spell object names, see\n\"SPECIFYING REVISIONS\" section in\ngitrevisions[7]\n.\nFile/Directory Structure\nPlease see the\ngitrepository-layout[5]\ndocument.\nRead\ngithooks[5]\nfor more details about each hook.\nHigher level SCMs may provide and manage additional information in the\n$GIT_DIR\n.\nTerminology\nPlease see\ngitglossary[7]\n.\nEnvironment Variables\nVarious Git commands pay attention to environment variables and change\ntheir behavior.  The environment variables marked as \"Boolean\" take\ntheir values the same way as Boolean valued configuration variables, i.e.,\n\"true\", \"yes\", \"on\" and positive numbers are taken as \"yes\", while \"false\",\n\"no\", \"off\", and \"0\" are taken as \"no\".\nHere are the variables:\nSystem\nHOME\nSpecifies the path to the user’s home directory. On Windows, if\nunset, Git will set a process environment variable equal to:\n$HOMEDRIVE$HOMEPATH\nif both\n$HOMEDRIVE\nand\n$HOMEPATH\nexist;\notherwise\n$USERPROFILE\nif\n$USERPROFILE\nexists.\nThe Git Repository\nThese environment variables apply to\nall\ncore Git commands. Nb: it\nis worth noting that they may be used/overridden by SCMS sitting above\nGit so take care if using a foreign front-end.\nGIT_INDEX_FILE\nThis environment variable specifies an alternate\nindex file. If not specified, the default of\n$GIT_DIR/index\nis used.\nGIT_INDEX_VERSION\nThis environment variable specifies what index version is used\nwhen writing the index file out.  It won’t affect existing index\nfiles.  By default index file version 2 or 3 is used. See\ngit-update-index[1]\nfor more information.\nGIT_OBJECT_DIRECTORY\nIf the object storage directory is specified via this\nenvironment variable then the sha1 directories are created\nunderneath - otherwise the default\n$GIT_DIR/objects\ndirectory is used.\nGIT_ALTERNATE_OBJECT_DIRECTORIES\nDue to the immutable nature of Git objects, old objects can be\narchived into shared, read-only directories. This variable\nspecifies a \":\" separated (on Windows \";\" separated) list\nof Git object directories which can be used to search for Git\nobjects. New objects will not be written to these directories.\nEntries that begin with\n\"\n(double-quote) will be interpreted\nas C-style quoted paths, removing leading and trailing\ndouble-quotes and respecting backslash escapes. E.g., the value\n\"path-with-\\\"-and-:-in-it\":vanilla-path\nhas two paths:\npath-with-\"-and-:-in-it\nand\nvanilla-path\n.\nGIT_DIR\nIf the\nGIT_DIR\nenvironment variable is set then it\nspecifies a path to use instead of the default\n.git\nfor the base of the repository.\nThe\n--git-dir\ncommand-line option also sets this value.\nGIT_WORK_TREE\nSet the path to the root of the working tree.\nThis can also be controlled by the\n--work-tree\ncommand-line\noption and the core.worktree configuration variable.\nGIT_NAMESPACE\nSet the Git namespace; see\ngitnamespaces[7]\nfor details.\nThe\n--namespace\ncommand-line option also sets this value.\nGIT_CEILING_DIRECTORIES\nThis should be a colon-separated list of absolute paths.  If\nset, it is a list of directories that Git should not chdir up\ninto while looking for a repository directory (useful for\nexcluding slow-loading network directories).  It will not\nexclude the current working directory or a GIT_DIR set on the\ncommand line or in the environment.  Normally, Git has to read\nthe entries in this list and resolve any symlink that\nmight be present in order to compare them with the current\ndirectory.  However, if even this access is slow, you\ncan add an empty entry to the list to tell Git that the\nsubsequent entries are not symlinks and needn’t be resolved;\ne.g.,\nGIT_CEILING_DIRECTORIES=/maybe/symlink::/very/slow/non/symlink\n.\nGIT_DISCOVERY_ACROSS_FILESYSTEM\nWhen run in a directory that does not have \".git\" repository\ndirectory, Git tries to find such a directory in the parent\ndirectories to find the top of the working tree, but by default it\ndoes not cross filesystem boundaries.  This Boolean environment variable\ncan be set to true to tell Git not to stop at filesystem\nboundaries.  Like\nGIT_CEILING_DIRECTORIES\n, this will not affect\nan explicit repository directory set via\nGIT_DIR\nor on the\ncommand line.\nGIT_COMMON_DIR\nIf this variable is set to a path, non-worktree files that are\nnormally in $GIT_DIR will be taken from this path\ninstead. Worktree-specific files such as HEAD or index are\ntaken from $GIT_DIR. See\ngitrepository-layout[5]\nand\ngit-worktree[1]\nfor\ndetails. This variable has lower precedence than other path\nvariables such as GIT_INDEX_FILE, GIT_OBJECT_DIRECTORY…​\nGIT_DEFAULT_HASH\nIf this variable is set, the default hash algorithm for new\nrepositories will be set to this value. This value is\nignored when cloning and the setting of the remote repository\nis always used. The default is \"sha1\".\nSee\n--object-format\nin\ngit-init[1]\n.\nGIT_DEFAULT_REF_FORMAT\nIf this variable is set, the default reference backend format for new\nrepositories will be set to this value. The default is \"files\".\nSee\n--ref-format\nin\ngit-init[1]\n.\nGit Commits\nGIT_AUTHOR_NAME\nThe human-readable name used in the author identity when creating commit or\ntag objects, or when writing reflogs. Overrides the\nuser.name\nand\nauthor.name\nconfiguration settings.\nGIT_AUTHOR_EMAIL\nThe email address used in the author identity when creating commit or\ntag objects, or when writing reflogs. Overrides the\nuser.email\nand\nauthor.email\nconfiguration settings.\nGIT_AUTHOR_DATE\nThe date used for the author identity when creating commit or tag objects, or\nwhen writing reflogs. See\ngit-commit[1]\nfor valid formats.\nGIT_COMMITTER_NAME\nThe human-readable name used in the committer identity when creating commit or\ntag objects, or when writing reflogs. Overrides the\nuser.name\nand\ncommitter.name\nconfiguration settings.\nGIT_COMMITTER_EMAIL\nThe email address used in the author identity when creating commit or\ntag objects, or when writing reflogs. Overrides the\nuser.email\nand\ncommitter.email\nconfiguration settings.\nGIT_COMMITTER_DATE\nThe date used for the committer identity when creating commit or tag objects, or\nwhen writing reflogs. See\ngit-commit[1]\nfor valid formats.\nEMAIL\nThe email address used in the author and committer identities if no other\nrelevant environment variable or configuration setting has been set.\nGit Diffs\nGIT_DIFF_OPTS\nOnly valid setting is \"--unified=??\" or \"-u??\" to set the\nnumber of context lines shown when a unified diff is created.\nThis takes precedence over any \"-U\" or \"--unified\" option\nvalue passed on the Git diff command line.\nGIT_EXTERNAL_DIFF\nWhen the environment variable\nGIT_EXTERNAL_DIFF\nis set, the\nprogram named by it is called to generate diffs, and Git\ndoes not use its builtin diff machinery.\nFor a path that is added, removed, or modified,\nGIT_EXTERNAL_DIFF\nis called with 7 parameters:\npath old-file old-hex old-mode new-file new-hex new-mode\nwhere:\n<old|new>-file\nare files GIT_EXTERNAL_DIFF can use to read the\ncontents of <old|new>,\n<old|new>-hex\nare the 40-hexdigit SHA-1 hashes,\n<old|new>-mode\nare the octal representation of the file modes.\nThe file parameters can point at the user’s working file\n(e.g.\nnew-file\nin \"git-diff-files\"),\n/dev/null\n(e.g.\nold-file\nwhen a new file is added), or a temporary file (e.g.\nold-file\nin the\nindex).\nGIT_EXTERNAL_DIFF\nshould not worry about unlinking the\ntemporary file — it is removed when\nGIT_EXTERNAL_DIFF\nexits.\nFor a path that is unmerged,\nGIT_EXTERNAL_DIFF\nis called with 1\nparameter, <path>.\nFor each path\nGIT_EXTERNAL_DIFF\nis called, two environment variables,\nGIT_DIFF_PATH_COUNTER\nand\nGIT_DIFF_PATH_TOTAL\nare set.\nGIT_EXTERNAL_DIFF_TRUST_EXIT_CODE\nIf this Boolean environment variable is set to true then the\nGIT_EXTERNAL_DIFF\ncommand is expected to return exit code\n0 if it considers the input files to be equal or 1 if it\nconsiders them to be different, like\ndiff\n(\n1\n)\n.\nIf it is set to false, which is the default, then the command\nis expected to return exit code 0 regardless of equality.\nAny other exit code causes Git to report a fatal error.\nGIT_DIFF_PATH_COUNTER\nA 1-based counter incremented by one for every path.\nGIT_DIFF_PATH_TOTAL\nThe total number of paths.\nother\nGIT_MERGE_VERBOSITY\nA number controlling the amount of output shown by\nthe recursive merge strategy.  Overrides merge.verbosity.\nSee\ngit-merge[1]\nGIT_PAGER\nThis environment variable overrides\n$PAGER\n. If it is set\nto an empty string or to the value \"cat\", Git will not launch\na pager.  See also the\ncore.pager\noption in\ngit-config[1]\n.\nGIT_PROGRESS_DELAY\nA number controlling how many seconds to delay before showing\noptional progress indicators. Defaults to 1.\nGIT_EDITOR\nThis environment variable overrides\n$EDITOR\nand\n$VISUAL\n.\nIt is used by several Git commands when, on interactive mode,\nan editor is to be launched. See also\ngit-var[1]\nand the\ncore.editor\noption in\ngit-config[1]\n.\nGIT_SEQUENCE_EDITOR\nThis environment variable overrides the configured Git editor\nwhen editing the todo list of an interactive rebase. See also\ngit-rebase[1]\nand the\nsequence.editor\noption in\ngit-config[1]\n.\nGIT_SSH\nGIT_SSH_COMMAND\nIf either of these environment variables is set then\ngit fetch\nand\ngit push\nwill use the specified command instead of\nssh\nwhen they need to connect to a remote system.\nThe command-line parameters passed to the configured command are\ndetermined by the ssh variant.  See\nssh.variant\noption in\ngit-config[1]\nfor details.\n$GIT_SSH_COMMAND\ntakes precedence over\n$GIT_SSH\n, and is interpreted\nby the shell, which allows additional arguments to be included.\n$GIT_SSH\non the other hand must be just the path to a program\n(which can be a wrapper shell script, if additional arguments are\nneeded).\nUsually it is easier to configure any desired options through your\npersonal\n.ssh/config\nfile.  Please consult your ssh documentation\nfor further details.\nGIT_SSH_VARIANT\nIf this environment variable is set, it overrides Git’s autodetection\nwhether\nGIT_SSH\n/\nGIT_SSH_COMMAND\n/\ncore.sshCommand\nrefer to OpenSSH,\nplink or tortoiseplink. This variable overrides the config setting\nssh.variant\nthat serves the same purpose.\nGIT_SSL_NO_VERIFY\nSetting and exporting this environment variable to any value\ntells Git not to verify the SSL certificate when fetching or\npushing over HTTPS.\nGIT_ATTR_SOURCE\nSets the treeish that gitattributes will be read from.\nGIT_ASKPASS\nIf this environment variable is set, then Git commands which need to\nacquire passwords or passphrases (e.g. for HTTP or IMAP authentication)\nwill call this program with a suitable prompt as command-line argument\nand read the password from its STDOUT. See also the\ncore.askPass\noption in\ngit-config[1]\n.\nGIT_TERMINAL_PROMPT\nIf this Boolean environment variable is set to false, git will not prompt\non the terminal (e.g., when asking for HTTP authentication).\nGIT_CONFIG_GLOBAL\nGIT_CONFIG_SYSTEM\nTake the configuration from the given files instead from global or\nsystem-level configuration files. If\nGIT_CONFIG_SYSTEM\nis set, the\nsystem config file defined at build time (usually\n/etc/gitconfig\n)\nwill not be read. Likewise, if\nGIT_CONFIG_GLOBAL\nis set, neither\n$HOME/.gitconfig\nnor\n$XDG_CONFIG_HOME/git/config\nwill be read. Can\nbe set to\n/dev/null\nto skip reading configuration files of the\nrespective level.\nGIT_CONFIG_NOSYSTEM\nWhether to skip reading settings from the system-wide\n$\n(\nprefix\n)\n/etc/gitconfig\nfile.  This Boolean environment variable can\nbe used along with\n$HOME\nand\n$XDG_CONFIG_HOME\nto create a\npredictable environment for a picky script, or you can set it\nto true to temporarily avoid using a buggy\n/etc/gitconfig\nfile while\nwaiting for someone with sufficient permissions to fix it.\nGIT_FLUSH\nIf this Boolean environment variable is set to true, then commands such\nas\ngit blame\n(in incremental mode),\ngit rev-list\n,\ngit log\n,\ngit check-attr\nand\ngit check-ignore\nwill\nforce a flush of the output stream after each record have been\nflushed. If this\nvariable is set to false, the output of these commands will be done\nusing completely buffered I/O.   If this environment variable is\nnot set, Git will choose buffered or record-oriented flushing\nbased on whether stdout appears to be redirected to a file or not.\nGIT_TRACE\nEnables general trace messages, e.g. alias expansion, built-in\ncommand execution and external command execution.\nIf this variable is set to \"1\", \"2\" or \"true\" (comparison\nis case insensitive), trace messages will be printed to\nstderr.\nIf the variable is set to an integer value greater than 2\nand lower than 10 (strictly) then Git will interpret this\nvalue as an open file descriptor and will try to write the\ntrace messages into this file descriptor.\nAlternatively, if the variable is set to an absolute path\n(starting with a\n/\ncharacter), Git will interpret this\nas a file path and will try to append the trace messages\nto it.\nUnsetting the variable, or setting it to empty, \"0\" or\n\"false\" (case insensitive) disables trace messages.\nGIT_TRACE_FSMONITOR\nEnables trace messages for the filesystem monitor extension.\nSee\nGIT_TRACE\nfor available trace output options.\nGIT_TRACE_PACK_ACCESS\nEnables trace messages for all accesses to any packs. For each\naccess, the pack file name and an offset in the pack is\nrecorded. This may be helpful for troubleshooting some\npack-related performance problems.\nSee\nGIT_TRACE\nfor available trace output options.\nGIT_TRACE_PACKET\nEnables trace messages for all packets coming in or out of a\ngiven program. This can help with debugging object negotiation\nor other protocol issues. Tracing is turned off at a packet\nstarting with \"PACK\" (but see\nGIT_TRACE_PACKFILE\nbelow).\nSee\nGIT_TRACE\nfor available trace output options.\nGIT_TRACE_PACKFILE\nEnables tracing of packfiles sent or received by a\ngiven program. Unlike other trace output, this trace is\nverbatim: no headers, and no quoting of binary data. You almost\ncertainly want to direct into a file (e.g.,\nGIT_TRACE_PACKFILE=/tmp/my.pack\n) rather than displaying it on\nthe terminal or mixing it with other trace output.\nNote that this is currently only implemented for the client side\nof clones and fetches.\nGIT_TRACE_PERFORMANCE\nEnables performance related trace messages, e.g. total execution\ntime of each Git command.\nSee\nGIT_TRACE\nfor available trace output options.\nGIT_TRACE_REFS\nEnables trace messages for operations on the ref database.\nSee\nGIT_TRACE\nfor available trace output options.\nGIT_TRACE_SETUP\nEnables trace messages printing the .git, working tree and current\nworking directory after Git has completed its setup phase.\nSee\nGIT_TRACE\nfor available trace output options.\nGIT_TRACE_SHALLOW\nEnables trace messages that can help debugging fetching /\ncloning of shallow repositories.\nSee\nGIT_TRACE\nfor available trace output options.\nGIT_TRACE_CURL\nEnables a curl full trace dump of all incoming and outgoing data,\nincluding descriptive information, of the git transport protocol.\nThis is similar to doing curl\n--trace-ascii\non the command line.\nSee\nGIT_TRACE\nfor available trace output options.\nGIT_TRACE_CURL_NO_DATA\nWhen a curl trace is enabled (see\nGIT_TRACE_CURL\nabove), do not dump\ndata (that is, only dump info lines and headers).\nGIT_TRACE2\nEnables more detailed trace messages from the \"trace2\" library.\nOutput from\nGIT_TRACE2\nis a simple text-based format for human\nreadability.\nIf this variable is set to \"1\", \"2\" or \"true\" (comparison\nis case insensitive), trace messages will be printed to\nstderr.\nIf the variable is set to an integer value greater than 2\nand lower than 10 (strictly) then Git will interpret this\nvalue as an open file descriptor and will try to write the\ntrace messages into this file descriptor.\nAlternatively, if the variable is set to an absolute path\n(starting with a\n/\ncharacter), Git will interpret this\nas a file path and will try to append the trace messages\nto it.  If the path already exists and is a directory, the\ntrace messages will be written to files (one per process)\nin that directory, named according to the last component\nof the SID and an optional counter (to avoid filename\ncollisions).\nIn addition, if the variable is set to\naf_unix:\n[\n<socket-type>\n:\n]\n<absolute-pathname>\n, Git will try\nto open the path as a Unix Domain Socket.  The socket type\ncan be either\nstream\nor\ndgram\n.\nUnsetting the variable, or setting it to empty, \"0\" or\n\"false\" (case insensitive) disables trace messages.\nSee\nTrace2 documentation\nfor full details.\nGIT_TRACE2_EVENT\nThis setting writes a JSON-based format that is suited for machine\ninterpretation.\nSee\nGIT_TRACE2\nfor available trace output options and\nTrace2 documentation\nfor full details.\nGIT_TRACE2_PERF\nIn addition to the text-based messages available in\nGIT_TRACE2\n, this\nsetting writes a column-based format for understanding nesting\nregions.\nSee\nGIT_TRACE2\nfor available trace output options and\nTrace2 documentation\nfor full details.\nGIT_TRACE_REDACT\nBy default, when tracing is activated, Git redacts the values of\ncookies, the \"Authorization:\" header, the \"Proxy-Authorization:\"\nheader and packfile URIs. Set this Boolean environment variable to false to prevent this\nredaction.\nGIT_NO_REPLACE_OBJECTS\nSetting and exporting this environment variable tells Git to\nignore replacement refs and do not replace Git objects.\nGIT_LITERAL_PATHSPECS\nSetting this Boolean environment variable to true will cause Git to treat all\npathspecs literally, rather than as glob patterns. For example,\nrunning\nGIT_LITERAL_PATHSPECS=1\ngit\nlog\n--\n*.c'\nwill search\nfor commits that touch the path\n*.c\n, not any paths that the\nglob\n*.c\nmatches. You might want this if you are feeding\nliteral paths to Git (e.g., paths previously given to you by\ngit\nls-tree\n,\n--raw\ndiff output, etc).\nGIT_GLOB_PATHSPECS\nSetting this Boolean environment variable to true will cause Git to treat all\npathspecs as glob patterns (aka \"glob\" magic).\nGIT_NOGLOB_PATHSPECS\nSetting this Boolean environment variable to true will cause Git to treat all\npathspecs as literal (aka \"literal\" magic).\nGIT_ICASE_PATHSPECS\nSetting this Boolean environment variable to true will cause Git to treat all\npathspecs as case-insensitive.\nGIT_NO_LAZY_FETCH\nSetting this Boolean environment variable to true tells Git\nnot to lazily fetch missing objects from the promisor remote\non demand.\nGIT_REFLOG_ACTION\nWhen a ref is updated, reflog entries are created to keep\ntrack of the reason why the ref was updated (which is\ntypically the name of the high-level command that updated\nthe ref), in addition to the old and new values of the ref.\nA scripted Porcelain command can use set_reflog_action\nhelper function in\ngit-sh-setup\nto set its name to this\nvariable when it is invoked as the top level command by the\nend user, to be recorded in the body of the reflog.\nGIT_REF_PARANOIA\nIf this Boolean environment variable is set to false, ignore broken or badly named refs when iterating\nover lists of refs. Normally Git will try to include any such\nrefs, which may cause some operations to fail. This is usually\npreferable, as potentially destructive operations (e.g.,\ngit-prune[1]\n) are better off aborting rather than\nignoring broken refs (and thus considering the history they\npoint to as not worth saving). The default value is\n1\n(i.e.,\nbe paranoid about detecting and aborting all operations). You\nshould not normally need to set this to\n0\n, but it may be\nuseful when trying to salvage data from a corrupted repository.\nGIT_COMMIT_GRAPH_PARANOIA\nWhen loading a commit object from the commit-graph, Git performs an\nexistence check on the object in the object database. This is done to\navoid issues with stale commit-graphs that contain references to\nalready-deleted commits, but comes with a performance penalty.\nThe default is \"false\", which disables the aforementioned behavior.\nSetting this to \"true\" enables the existence check so that stale commits\nwill never be returned from the commit-graph at the cost of performance.\nGIT_ALLOW_PROTOCOL\nIf set to a colon-separated list of protocols, behave as if\nprotocol.allow\nis set to\nnever\n, and each of the listed\nprotocols has\nprotocol.\n<name>\n.allow\nset to\nalways\n(overriding any existing configuration). See the description of\nprotocol.allow\nin\ngit-config[1]\nfor more details.\nGIT_PROTOCOL_FROM_USER\nSet this Boolean environment variable to false to prevent protocols used by fetch/push/clone which are\nconfigured to the\nuser\nstate.  This is useful to restrict recursive\nsubmodule initialization from an untrusted repository or for programs\nwhich feed potentially-untrusted URLS to git commands.  See\ngit-config[1]\nfor more details.\nGIT_PROTOCOL\nFor internal use only.  Used in handshaking the wire protocol.\nContains a colon\n:\nseparated list of keys with optional values\n<key>[=<value>]\n.  Presence of unknown keys and values must be\nignored.\nNote that servers may need to be configured to allow this variable to\npass over some transports. It will be propagated automatically when\naccessing local repositories (i.e.,\nfile://\nor a filesystem path), as\nwell as over the\ngit://\nprotocol. For git-over-http, it should work\nautomatically in most configurations, but see the discussion in\ngit-http-backend[1]\n. For git-over-ssh, the ssh server may need\nto be configured to allow clients to pass this variable (e.g., by using\nAcceptEnv\nGIT_PROTOCOL\nwith OpenSSH).\nThis configuration is optional. If the variable is not propagated, then\nclients will fall back to the original \"v0\" protocol (but may miss out\non some performance improvements or features). This variable currently\nonly affects clones and fetches; it is not yet used for pushes (but may\nbe in the future).\nGIT_OPTIONAL_LOCKS\nIf this Boolean environment variable is set to false, Git will complete any requested operation without\nperforming any optional sub-operations that require taking a lock.\nFor example, this will prevent\ngit\nstatus\nfrom refreshing the\nindex as a side effect. This is useful for processes running in\nthe background which do not want to cause lock contention with\nother operations on the repository.  Defaults to\n1\n.\nGIT_REDIRECT_STDIN\nGIT_REDIRECT_STDOUT\nGIT_REDIRECT_STDERR\nWindows-only: allow redirecting the standard input/output/error\nhandles to paths specified by the environment variables. This is\nparticularly useful in multi-threaded applications where the\ncanonical way to pass standard handles via\nCreateProcess\n()\nis\nnot an option because it would require the handles to be marked\ninheritable (and consequently\nevery\nspawned process would\ninherit them, possibly blocking regular Git operations). The\nprimary intended use case is to use named pipes for communication\n(e.g.\n\\\\.\\pipe\\my-git-stdin-123\n).\nTwo special values are supported:\noff\nwill simply close the\ncorresponding standard handle, and if\nGIT_REDIRECT_STDERR\nis\n2>&1\n, standard error will be redirected to the same handle as\nstandard output.\nGIT_PRINT_SHA1_ELLIPSIS\n(deprecated)\nIf set to\nyes\n, print an ellipsis following an\n(abbreviated) SHA-1 value.  This affects indications of\ndetached HEADs (\ngit-checkout[1]\n) and the raw\ndiff output (\ngit-diff[1]\n).  Printing an\nellipsis in the cases mentioned is no longer considered\nadequate and support for it is likely to be removed in the\nforeseeable future (along with the variable).\nGIT_ADVICE\nIf set to\n0\n, then disable all advice messages. These messages are\nintended to provide hints to human users that may help them get out of\nproblematic situations or take advantage of new features. Users can\ndisable individual messages using the\nadvice.*\nconfig keys. These\nmessages may be disruptive to tools that execute Git processes, so this\nvariable is available to disable the messages. (The\n--no-advice\nglobal option is also available, but old Git versions may fail when\nthis option is not understood. The environment variable will be ignored\nby Git versions that do not understand it.)\nDiscussion\nMore detail on the following is available from the\nGit concepts chapter of the\nuser-manual\nand\ngitcore-tutorial[7]\n.\nA Git project normally consists of a working directory with a \".git\"\nsubdirectory at the top level.  The .git directory contains, among other\nthings, a compressed object database representing the complete history\nof the project, an \"index\" file which links that history to the current\ncontents of the working tree, and named pointers into that history such\nas tags and branch heads.\nThe object database contains objects of three main types: blobs, which\nhold file data; trees, which point to blobs and other trees to build up\ndirectory hierarchies; and commits, which each reference a single tree\nand some number of parent commits.\nThe commit, equivalent to what other systems call a \"changeset\" or\n\"version\", represents a step in the project’s history, and each parent\nrepresents an immediately preceding step.  Commits with more than one\nparent represent merges of independent lines of development.\nAll objects are named by the SHA-1 hash of their contents, normally\nwritten as a string of 40 hex digits.  Such names are globally unique.\nThe entire history leading up to a commit can be vouched for by signing\njust that commit.  A fourth object type, the tag, is provided for this\npurpose.\nWhen first created, objects are stored in individual files, but for\nefficiency may later be compressed together into \"pack files\".\nNamed pointers called refs mark interesting points in history.  A ref\nmay contain the SHA-1 name of an object or the name of another ref (the\nlatter is called a \"symbolic ref\").\nRefs with names beginning\nrefs/head/\ncontain the SHA-1 name of the most\nrecent commit (or \"head\") of a branch under development.  SHA-1 names of\ntags of interest are stored under\nrefs/tags/\n.  A symbolic ref named\nHEAD\ncontains the name of the currently checked-out branch.\nThe index file is initialized with a list of all paths and, for each\npath, a blob object and a set of attributes.  The blob object represents\nthe contents of the file as of the head of the current branch.  The\nattributes (last modified time, size, etc.) are taken from the\ncorresponding file in the working tree.  Subsequent changes to the\nworking tree can be found by comparing these attributes.  The index may\nbe updated with new content, and new commits may be created from the\ncontent stored in the index.\nThe index is also capable of storing multiple entries (called \"stages\")\nfor a given pathname.  These stages are used to hold the various\nunmerged version of a file when a merge is in progress.\nSECURITY\nSome configuration options and hook files may cause Git to run arbitrary\nshell commands. Because configuration and hooks are not copied using\ngit\nclone\n, it is generally safe to clone remote repositories with\nuntrusted content, inspect them with\ngit\nlog\n, and so on.\nHowever, it is not safe to run Git commands in a\n.git\ndirectory (or\nthe working tree that surrounds it) when that\n.git\ndirectory itself\ncomes from an untrusted source. The commands in its config and hooks\nare executed in the usual way.\nBy default, Git will refuse to run when the repository is owned by\nsomeone other than the user running the command. See the entry for\nsafe.directory\nin\ngit-config[1]\n. While this can help protect\nyou in a multi-user environment, note that you can also acquire\nuntrusted repositories that are owned by you (for example, if you\nextract a zip file or tarball from an untrusted source). In such cases,\nyou’d need to \"sanitize\" the untrusted repository first.\nIf you have an untrusted\n.git\ndirectory, you should first clone it\nwith\ngit\nclone\n--no-local\nto obtain a clean copy. Git does restrict\nthe set of options and hooks that will be run by\nupload-pack\n, which\nhandles the server side of a clone or fetch, but beware that the\nsurface area for attack against\nupload-pack\nis large, so this does\ncarry some risk. The safest thing is to serve the repository as an\nunprivileged user (either via\ngit-daemon[1]\n, ssh, or using\nother tools to change user ids). See the discussion in the\nSECURITY\nsection of\ngit-upload-pack[1]\n.\nFURTHER DOCUMENTATION\nSee the references in the \"description\" section to get started\nusing Git.  The following is probably more detail than necessary\nfor a first-time user.\nThe\nGit concepts chapter of the\nuser-manual\nand\ngitcore-tutorial[7]\nboth provide\nintroductions to the underlying Git architecture.\nSee\ngitworkflows[7]\nfor an overview of recommended workflows.\nSee also the\nhowto\ndocuments for some useful\nexamples.\nThe internals are documented in the\nGit API documentation\n.\nUsers migrating from CVS may also want to\nread\ngitcvs-migration[7]\n.\nAuthors\nGit was started by Linus Torvalds, and is currently maintained by Junio\nC Hamano. Numerous contributions have come from the Git mailing list\n<\ngit@vger.kernel.org\n>.\nhttps://openhub.net/p/git/contributors/summary\ngives you a more complete list of contributors.\nIf you have a clone of git.git itself, the\noutput of\ngit-shortlog[1]\nand\ngit-blame[1]\ncan show you\nthe authors for specific parts of the project.\nReporting Bugs\nReport bugs to the Git mailing list <\ngit@vger.kernel.org\n> where the\ndevelopment and maintenance is primarily done.  You do not have to be\nsubscribed to the list to send a message there.  See the list archive\nat\nhttps://lore.kernel.org/git\nfor previous bug reports and other\ndiscussions.\nIssues which are security relevant should be disclosed privately to\nthe Git Security mailing list <\ngit-security@googlegroups.com\n>.\nSEE ALSO\ngittutorial[7]\n,\ngittutorial-2[7]\n,\ngiteveryday[7]\n,\ngitcvs-migration[7]\n,\ngitglossary[7]\n,\ngitcore-tutorial[7]\n,\ngitcli[7]\n,\nThe Git User’s Manual\n,\ngitworkflows[7]\nGIT\nPart of the\ngit[1]\nsuite\ngit", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://git-scm.com/docs/git"}}
{"text": "Git - git-clone Documentation\nEnglish ▾\nLocalized versions of\ngit-clone\nmanual\nEnglish\nDeutsch\nEspañol\nFrançais\nÍslenska\n日本語\nPortuguês (Brasil)\nRomână\nРусский\nукраїнська мова\n简体中文\nTopics ▾\nSetup and Config\ngit\nconfig\nhelp\nbugreport\nCredential helpers\nGetting and Creating Projects\ninit\nclone\nBasic Snapshotting\nadd\nstatus\ndiff\ncommit\nnotes\nrestore\nreset\nrm\nmv\nBranching and Merging\nbranch\ncheckout\nswitch\nmerge\nmergetool\nlog\nstash\ntag\nworktree\nSharing and Updating Projects\nfetch\npull\npush\nremote\nsubmodule\nInspection and Comparison\nshow\nlog\ndiff\ndifftool\nrange-diff\nshortlog\ndescribe\nPatching\napply\ncherry-pick\ndiff\nrebase\nrevert\nDebugging\nbisect\nblame\ngrep\nEmail\nam\napply\nimap-send\nformat-patch\nsend-email\nrequest-pull\nExternal Systems\nsvn\nfast-import\nServer Admin\ndaemon\nupdate-server-info\nGuides\ngitattributes\nCommand-line interface conventions\nEveryday Git\nFrequently Asked Questions (FAQ)\nGlossary\nHooks\ngitignore\ngitmodules\nRevisions\nSubmodules\nTutorial\nWorkflows\nAll guides...\nAdministration\nclean\ngc\nfsck\nreflog\nfilter-branch\ninstaweb\narchive\nbundle\nPlumbing Commands\ncat-file\ncheck-ignore\ncheckout-index\ncommit-tree\ncount-objects\ndiff-index\nfor-each-ref\nhash-object\nls-files\nls-tree\nmerge-base\nread-tree\nrev-list\nrev-parse\nshow-ref\nsymbolic-ref\nupdate-index\nupdate-ref\nverify-pack\nwrite-tree\nLatest version\n▾\ngit-clone last updated in 2.52.0\nChanges in the\ngit-clone\nmanual\n2.52.0\n2025-11-17\n2.51.2 no changes\n2.51.1\n2025-10-15\n2.49.1 → 2.51.0 no changes\n2.49.0\n2025-03-14\n2.48.1 → 2.48.2 no changes\n2.48.0\n2025-01-10\n2.47.1 → 2.47.3 no changes\n2.47.0\n2024-10-06\n2.46.1 → 2.46.4 no changes\n2.46.0\n2024-07-29\n2.45.1 → 2.45.4 no changes\n2.45.0\n2024-04-29\n2.44.1 → 2.44.4 no changes\n2.44.0\n2024-02-23\n2.43.1 → 2.43.7 no changes\n2.43.0\n2023-11-20\n2.41.1 → 2.42.4 no changes\n2.41.0\n2023-06-01\n2.38.1 → 2.40.4 no changes\n2.38.0\n2022-10-02\n2.36.1 → 2.37.7 no changes\n2.36.0\n2022-04-18\n2.35.1 → 2.35.8 no changes\n2.35.0\n2022-01-24\n2.32.1 → 2.34.8 no changes\n2.32.0\n2021-06-06\n2.30.2 → 2.31.8 no changes\n2.30.1\n2021-02-08\n2.30.0\n2020-12-27\n2.29.1 → 2.29.3 no changes\n2.29.0\n2020-10-19\n2.28.1 no changes\n2.28.0\n2020-07-27\n2.27.1 no changes\n2.27.0\n2020-06-01\n2.25.1 → 2.26.3 no changes\n2.25.0\n2020-01-13\n2.23.1 → 2.24.4 no changes\n2.23.0\n2019-08-16\n2.22.2 → 2.22.5 no changes\n2.22.1\n2019-08-11\n2.22.0\n2019-06-07\n2.21.1 → 2.21.4 no changes\n2.21.0\n2019-02-24\n2.18.1 → 2.20.5 no changes\n2.18.0\n2018-06-21\n2.17.0 → 2.17.6 no changes\n2.16.6\n2019-12-06\n2.15.4 no changes\n2.14.6\n2019-12-06\n2.13.7\n2018-05-22\n2.12.5 no changes\n2.11.4\n2017-09-22\n2.10.5 no changes\n2.9.5\n2017-07-30\n2.8.6\n2017-07-30\n2.7.6\n2017-07-30\n2.4.12 → 2.6.7 no changes\n2.3.10\n2015-09-28\n2.1.4 → 2.2.3 no changes\n2.0.5\n2014-12-17\nNAME\ngit-clone - Clone a repository into a new directory\nSYNOPSIS\ngit\nclone\n[\n--template=\n<template-directory>\n]\n[\n-l\n] [\n-s\n] [\n--no-hardlinks\n] [\n-q\n] [\n-n\n] [\n--bare\n] [\n--mirror\n]\n[\n-o\n<name>\n] [\n-b\n<name>\n] [\n-u\n<upload-pack>\n] [\n--reference\n<repository>\n]\n[\n--dissociate\n] [\n--separate-git-dir\n<git-dir>\n]\n[\n--depth\n<depth>\n] [\n--\n[\nno-\n]\nsingle-branch\n] [\n--\n[\nno-\n]\ntags\n]\n[\n--recurse-submodules\n[\n=\n<pathspec>\n]] [\n--\n[\nno-\n]\nshallow-submodules\n]\n[\n--\n[\nno-\n]\nremote-submodules\n] [\n--jobs\n<n>\n] [\n--sparse\n] [\n--\n[\nno-\n]\nreject-shallow\n]\n[\n--filter=\n<filter-spec>\n[\n--also-filter-submodules\n]] [\n--\n]\n<repository>\n[\n<directory>\n]\nDESCRIPTION\nClones a repository into a newly created directory, creates\nremote-tracking branches for each branch in the cloned repository\n(visible using\ngit\nbranch\n--remotes\n), and creates and checks out an\ninitial branch that is forked from the cloned repository’s\ncurrently active branch.\nAfter the clone, a plain\ngit\nfetch\nwithout arguments will update\nall the remote-tracking branches, and a\ngit\npull\nwithout\narguments will in addition merge the remote master branch into the\ncurrent master branch, if any (this is untrue when\n--single-branch\nis given; see below).\nThis default configuration is achieved by creating references to\nthe remote branch heads under\nrefs/remotes/origin\nand\nby initializing\nremote.origin.url\nand\nremote.origin.fetch\nconfiguration variables.\nOPTIONS\n-l\n--local\nWhen the repository to clone from is on a local machine,\nthis flag bypasses the normal \"Git aware\" transport\nmechanism and clones the repository by making a copy of\nHEAD\nand everything under objects and refs directories.\nThe files under\n.git/objects/\ndirectory are hardlinked\nto save space when possible.\nIf the repository is specified as a local path (e.g.,\n/path/to/repo\n),\nthis is the default, and\n--local\nis essentially a no-op.  If the\nrepository is specified as a URL, then this flag is ignored (and we\nnever use the local optimizations).  Specifying\n--no-local\nwill\noverride the default when\n/path/to/repo\nis given, using the regular\nGit transport instead.\nIf the repository’s\n$GIT_DIR/objects\nhas symbolic links or is a\nsymbolic link, the clone will fail. This is a security measure to\nprevent the unintentional copying of files by dereferencing the symbolic\nlinks.\nThis option does not work with repositories owned by other users for security\nreasons, and\n--no-local\nmust be specified for the clone to succeed.\nNOTE\n: this operation can race with concurrent modification to the\nsource repository, similar to running\ncp\n-r\n<src>\n<dst>\nwhile modifying\n<src>\n.\n--no-hardlinks\nForce the cloning process from a repository on a local\nfilesystem to copy the files under the\n.git/objects\ndirectory instead of using hardlinks. This may be desirable\nif you are trying to make a back-up of your repository.\n-s\n--shared\nWhen the repository to clone is on the local machine,\ninstead of using hard links, automatically setup\n.git/objects/info/alternates\nto share the objects\nwith the source repository.  The resulting repository\nstarts out without any object of its own.\nNOTE\n: this is a possibly dangerous operation; do\nnot\nuse\nit unless you understand what it does. If you clone your\nrepository using this option and then delete branches (or use any\nother Git command that makes any existing commit unreferenced) in the\nsource repository, some objects may become unreferenced (or dangling).\nThese objects may be removed by normal Git operations (such as\ngit\ncommit\n)\nwhich automatically call\ngit\nmaintenance\nrun\n--auto\n. (See\ngit-maintenance[1]\n.) If these objects are removed and were referenced\nby the cloned repository, then the cloned repository will become corrupt.\nNote that running\ngit\nrepack\nwithout the\n--local\noption in a repository\ncloned with\n--shared\nwill copy objects from the source repository into a pack\nin the cloned repository, removing the disk space savings of\nclone\n--shared\n.\nIt is safe, however, to run\ngit\ngc\n, which uses the\n--local\noption by\ndefault.\nIf you want to break the dependency of a repository cloned with\n--shared\non\nits source repository, you can simply run\ngit\nrepack\n-a\nto copy all\nobjects from the source repository into a pack in the cloned repository.\n--reference\n[\n-if-able\n]\n<repository>\nIf the reference\n<repository>\nis on the local machine,\nautomatically setup\n.git/objects/info/alternates\nto\nobtain objects from the reference\n<repository>\n.  Using\nan already existing repository as an alternate will\nrequire fewer objects to be copied from the repository\nbeing cloned, reducing network and local storage costs.\nWhen using the\n--reference-if-able\n, a non existing\ndirectory is skipped with a warning instead of aborting\nthe clone.\nNOTE\n: see the NOTE for the\n--shared\noption, and also the\n--dissociate\noption.\n--dissociate\nBorrow the objects from reference repositories specified\nwith the\n--reference\noptions only to reduce network\ntransfer, and stop borrowing from them after a clone is made\nby making necessary local copies of borrowed objects.  This\noption can also be used when cloning locally from a\nrepository that already borrows objects from another\nrepository—​the new repository will borrow objects from the\nsame repository, and this option can be used to stop the\nborrowing.\n-q\n--quiet\nOperate quietly.  Progress is not reported to the standard\nerror stream.\n-v\n--verbose\nRun verbosely. Does not affect the reporting of progress status\nto the standard error stream.\n--progress\nProgress status is reported on the standard error stream\nby default when it is attached to a terminal, unless\n--quiet\nis specified. This flag forces progress status even if the\nstandard error stream is not directed to a terminal.\n--server-option=\n<option>\nTransmit the given string to the server when communicating using\nprotocol version 2.  The given string must not contain a NUL or LF\ncharacter.  The server’s handling of server options, including\nunknown ones, is server-specific.\nWhen multiple\n--server-option=\n<option>\nare given, they are all\nsent to the other side in the order listed on the command line.\nWhen no\n--server-option=\n<option>\nis given from the command\nline, the values of configuration variable\nremote.\n<name>\n.serverOption\nare used instead.\n-n\n--no-checkout\nNo checkout of\nHEAD\nis performed after the clone is complete.\n--\n[\nno-\n]\nreject-shallow\nFail if the source repository is a shallow repository.\nThe\nclone.rejectShallow\nconfiguration variable can be used to\nspecify the default.\n--bare\nMake a\nbare\nGit repository.  That is, instead of\ncreating\n<directory>\nand placing the administrative\nfiles in\n<directory>\n/.git\n, make the\n<directory>\nitself the\n$GIT_DIR\n. This obviously implies the\n--no-checkout\nbecause there is nowhere to check out the working tree.\nAlso the branch heads at the remote are copied directly\nto corresponding local branch heads, without mapping\nthem to\nrefs/remotes/origin/\n.  When this option is\nused, neither remote-tracking branches nor the related\nconfiguration variables are created.\n--sparse\nEmploy a sparse-checkout, with only files in the toplevel\ndirectory initially being present.  The\ngit-sparse-checkout[1]\ncommand can be used to grow the\nworking directory as needed.\n--filter=\n<filter-spec>\nUse the partial clone feature and request that the server sends\na subset of reachable objects according to a given object filter.\nWhen using\n--filter\n, the supplied\n<filter-spec>\nis used for\nthe partial clone filter. For example,\n--filter=blob:none\nwill\nfilter out all blobs (file contents) until needed by Git. Also,\n--filter=blob:limit=\n<size>\nwill filter out all blobs of size\nat least\n<size>\n. For more details on filter specifications, see\nthe\n--filter\noption in\ngit-rev-list[1]\n.\n--also-filter-submodules\nAlso apply the partial clone filter to any submodules in the repository.\nRequires\n--filter\nand\n--recurse-submodules\n. This can be turned on by\ndefault by setting the\nclone.filterSubmodules\nconfig option.\n--mirror\nSet up a mirror of the source repository.  This implies\n--bare\n.\nCompared to\n--bare\n,\n--mirror\nnot only maps local branches of the\nsource to local branches of the target, it maps all refs (including\nremote-tracking branches, notes etc.) and sets up a refspec configuration such\nthat all these refs are overwritten by a\ngit\nremote\nupdate\nin the\ntarget repository.\n-o\n<name>\n--origin\n<name>\nInstead of using the remote name\norigin\nto keep track of the upstream\nrepository, use\n<name>\n.  Overrides\nclone.defaultRemoteName\nfrom the\nconfig.\n-b\n<name>\n--branch\n<name>\nInstead of pointing the newly created\nHEAD\nto the branch pointed\nto by the cloned repository’s\nHEAD\n, point to\n<name>\nbranch\ninstead. In a non-bare repository, this is the branch that will\nbe checked out.\n--branch\ncan also take tags and detaches the\nHEAD\nat that commit\nin the resulting repository.\n--revision=\n<rev>\nCreate a new repository, and fetch the history leading to the given\nrevision\n<rev>\n(and nothing else), without making any remote-tracking\nbranch, and without making any local branch, and detach\nHEAD\nto\n<rev>\n. The argument can be a ref name (e.g.\nrefs/heads/main\nor\nrefs/tags/v1.0\n) that peels down to a commit, or a hexadecimal object\nname.\nThis option is incompatible with\n--branch\nand\n--mirror\n.\n-u\n<upload-pack>\n--upload-pack\n<upload-pack>\nWhen given, and the repository to clone from is accessed\nvia ssh, this specifies a non-default path for the command\nrun on the other end.\n--template=\n<template-directory>\nSpecify the directory from which templates will be used;\n(See the \"TEMPLATE DIRECTORY\" section of\ngit-init[1]\n.)\n-c\n<key>\n=\n<value>\n--config\n<key>\n=\n<value>\nSet a configuration variable in the newly-created repository;\nthis takes effect immediately after the repository is\ninitialized, but before the remote history is fetched or any\nfiles checked out.  The\n<key>\nis in the same format as expected by\ngit-config[1]\n(e.g.,\ncore.eol=true\n). If multiple\nvalues are given for the same key, each value will be written to\nthe config file. This makes it safe, for example, to add\nadditional fetch refspecs to the origin remote.\nDue to limitations of the current implementation, some configuration\nvariables do not take effect until after the initial fetch and checkout.\nConfiguration variables known to not take effect are:\nremote.\n<name>\n.mirror\nand\nremote.\n<name>\n.tagOpt\n.  Use the\ncorresponding\n--mirror\nand\n--no-tags\noptions instead.\n--depth\n<depth>\nCreate a\nshallow\nclone with a history truncated to the\nspecified number of commits. Implies\n--single-branch\nunless\n--no-single-branch\nis given to fetch the histories near the\ntips of all branches. If you want to clone submodules shallowly,\nalso pass\n--shallow-submodules\n.\n--shallow-since=\n<date>\nCreate a shallow clone with a history after the specified time.\n--shallow-exclude=\n<ref>\nCreate a shallow clone with a history, excluding commits\nreachable from a specified remote branch or tag.  This option\ncan be specified multiple times.\n--single-branch\n--no-single-branch\nClone only the history leading to the tip of a single branch,\neither specified by the\n--branch\noption or the primary\nbranch remote’s\nHEAD\npoints at.\nFurther fetches into the resulting repository will only update the\nremote-tracking branch for the branch this option was used for the\ninitial cloning.  If the\nHEAD\nat the remote did not point at any\nbranch when\n--single-branch\nclone was made, no remote-tracking\nbranch is created.\n--tags\n--no-tags\nControl whether or not tags will be cloned. When\n--no-tags\nis\ngiven, the option will be become permanent by setting the\nremote.\n<remote>\n.tagOpt=--no-tags\nconfiguration. This ensures that\nfuture\ngit\npull\nand\ngit\nfetch\nwon’t follow any tags. Subsequent\nexplicit tag fetches will still work (see\ngit-fetch[1]\n).\nBy default, tags are cloned and passing\n--tags\nis thus typically a\nno-op, unless it cancels out a previous\n--no-tags\n.\nCan be used in conjunction with\n--single-branch\nto clone and\nmaintain a branch with no references other than a single cloned\nbranch. This is useful e.g. to maintain minimal clones of the default\nbranch of some repository for search indexing.\n--recurse-submodules\n[\n=\n<pathspec>\n]\nAfter the clone is created, initialize and clone submodules\nwithin based on the provided\n<pathspec>\n.  If no\n=\n<pathspec>\nis\nprovided, all submodules are initialized and cloned.\nThis option can be given multiple times for pathspecs consisting\nof multiple entries.  The resulting clone has\nsubmodule.active\nset to\nthe provided pathspec, or \"\n.\n\" (meaning all submodules) if no\npathspec is provided.\nSubmodules are initialized and cloned using their default settings. This is\nequivalent to running\ngit\nsubmodule\nupdate\n--init\n--recursive\n<pathspec>\nimmediately after\nthe clone is finished. This option is ignored if the cloned repository does\nnot have a worktree/checkout (i.e. if any of\n--no-checkout\n/\n-n\n,\n--bare\n,\nor\n--mirror\nis given)\n--shallow-submodules\n--no-shallow-submodules\nAll submodules which are cloned will be shallow with a depth of 1.\n--remote-submodules\n--no-remote-submodules\nAll submodules which are cloned will use the status of the submodule’s\nremote-tracking branch to update the submodule, rather than the\nsuperproject’s recorded SHA-1. Equivalent to passing\n--remote\nto\ngit\nsubmodule\nupdate\n.\n--separate-git-dir=\n<git-dir>\nInstead of placing the cloned repository where it is supposed\nto be, place the cloned repository at the specified directory,\nthen make a filesystem-agnostic Git symbolic link to there.\nThe result is Git repository can be separated from working\ntree.\n--ref-format=\n<ref-format>\nSpecify the given ref storage format for the repository. The valid values are:\nfiles\nfor loose files with packed-refs. This is the default.\nreftable\nfor the reftable format. This format is experimental and its\ninternals are subject to change.\n-j\n<n>\n--jobs\n<n>\nThe number of submodules fetched at the same time.\nDefaults to the\nsubmodule.fetchJobs\noption.\n<repository>\nThe (possibly remote)\n<repository>\nto clone from.  See the\nGIT URLS\nsection below for more information on specifying\nrepositories.\n<directory>\nThe name of a new directory to clone into.  The \"humanish\"\npart of the source repository is used if no\n<directory>\nis\nexplicitly given (\nrepo\nfor\n/path/to/repo.git\nand\nfoo\nfor\nhost.xz:foo/.git\n).  Cloning into an existing directory\nis only allowed if the directory is empty.\n--bundle-uri=\n<uri>\nBefore fetching from the remote, fetch a bundle from the given\n<uri>\nand unbundle the data into the local repository. The refs\nin the bundle will be stored under the hidden\nrefs/bundle/*\nnamespace. This option is incompatible with\n--depth\n,\n--shallow-since\n, and\n--shallow-exclude\n.\nGIT URLS\nIn general, URLs contain information about the transport protocol, the\naddress of the remote server, and the path to the repository.\nDepending on the transport protocol, some of this information may be\nabsent.\nGit supports ssh, git, http, and https protocols (in addition, ftp\nand ftps can be used for fetching, but this is inefficient and\ndeprecated; do not use them).\nThe native transport (i.e.\ngit://\nURL) does no authentication and\nshould be used with caution on unsecured networks.\nThe following syntaxes may be used with them:\nssh://\n[\n<user>\n@\n]\n<host>\n[\n:\n<port>\n]\n/\n<path-to-git-repo>\ngit://\n<host>\n[\n:\n<port>\n]\n/\n<path-to-git-repo>\nhttp\n[\ns\n]\n://\n<host>\n[\n:\n<port>\n]\n/\n<path-to-git-repo>\nftp\n[\ns\n]\n://\n<host>\n[\n:\n<port>\n]\n/\n<path-to-git-repo>\nAn alternative scp-like syntax may also be used with the ssh protocol:\n[\n<user>\n@\n]\n<host>\n:/\n<path-to-git-repo>\nThis syntax is only recognized if there are no slashes before the\nfirst colon. This helps differentiate a local path that contains a\ncolon. For example the local path\nfoo:bar\ncould be specified as an\nabsolute path or\n./foo:bar\nto avoid being misinterpreted as an ssh\nurl.\nThe ssh and git protocols additionally support\n~\n<username>\nexpansion:\nssh://\n[\n<user>\n@\n]\n<host>\n[\n:\n<port>\n]\n/~\n<user>\n/\n<path-to-git-repo>\ngit://\n<host>\n[\n:\n<port>\n]\n/~\n<user>\n/\n<path-to-git-repo>\n[\n<user>\n@\n]\n<host>\n:~\n<user>\n/\n<path-to-git-repo>\nFor local repositories, also supported by Git natively, the following\nsyntaxes may be used:\n/path/to/repo.git/\nfile:///path/to/repo.git/\nThese two syntaxes are mostly equivalent, except the former implies\n--local\noption.\ngit\nclone\n,\ngit\nfetch\nand\ngit\npull\n, but not\ngit\npush\n, will also\naccept a suitable bundle file. See\ngit-bundle[1]\n.\nWhen Git doesn’t know how to handle a certain transport protocol, it\nattempts to use the\nremote-\n<transport>\nremote helper, if one\nexists. To explicitly request a remote helper, the following syntax\nmay be used:\n<transport>\n::\n<address>\nwhere\n<address>\nmay be a path, a server and path, or an arbitrary\nURL-like string recognized by the specific remote helper being\ninvoked. See\ngitremote-helpers[7]\nfor details.\nIf there are a large number of similarly-named remote repositories and\nyou want to use a different format for them (such that the URLs you\nuse will be rewritten into URLs that work), you can create a\nconfiguration section of the form:\n[url \"\n<actual-url-base>\n\"]\ninsteadOf =\n<other-url-base>\nFor example, with this:\n[url \"git://git.host.xz/\"]\ninsteadOf = host.xz:/path/to/\ninsteadOf = work:\na URL like \"work:repo.git\" or like \"host.xz:/path/to/repo.git\" will be\nrewritten in any context that takes a URL to be \"git://git.host.xz/repo.git\".\nIf you want to rewrite URLs for push only, you can create a\nconfiguration section of the form:\n[url \"\n<actual-url-base>\n\"]\npushInsteadOf =\n<other-url-base>\nFor example, with this:\n[url \"ssh://example.org/\"]\npushInsteadOf = git://example.org/\na URL like \"git://example.org/path/to/repo.git\" will be rewritten to\n\"ssh://example.org/path/to/repo.git\" for pushes, but pulls will still\nuse the original URL.\nEXAMPLES\nClone from upstream:\n$ git clone git://git.kernel.org/pub/scm/.../linux.git my-linux\n$ cd my-linux\n$ make\nMake a local clone that borrows from the current directory, without checking things out:\n$ git clone -l -s -n . ../copy\n$ cd ../copy\n$ git show-branch\nClone from upstream while borrowing from an existing local directory:\n$ git clone --reference /git/linux.git \\\ngit://git.kernel.org/pub/scm/.../linux.git \\\nmy-linux\n$ cd my-linux\nCreate a bare repository to publish your changes to the public:\n$ git clone --bare -l /home/proj/.git /pub/scm/proj.git\nClone a local repository from a different user:\n$ git clone --no-local /home/otheruser/proj.git /pub/scm/proj.git\nCONFIGURATION\nEverything below this line in this section is selectively included\nfrom the\ngit-config[1]\ndocumentation. The content is the same\nas what’s found there:\ninit.templateDir\nSpecify the directory from which templates will be copied. (See the \"TEMPLATE DIRECTORY\" section of\ngit-init[1]\n.)\ninit.defaultBranch\nAllows overriding the default branch name e.g. when initializing\na new repository.\ninit.defaultObjectFormat\nAllows overriding the default object format for new repositories. See\n--object-format=\nin\ngit-init[1]\n. Both the command line option\nand the\nGIT_DEFAULT_HASH\nenvironment variable take precedence over\nthis config.\ninit.defaultRefFormat\nAllows overriding the default ref storage format for new repositories.\nSee\n--ref-format=\nin\ngit-init[1]\n. Both the command line\noption and the\nGIT_DEFAULT_REF_FORMAT\nenvironment variable take\nprecedence over this config.\nclone.defaultRemoteName\nThe name of the remote to create when cloning a repository.  Defaults to\norigin\n.\nIt can be overridden by passing the\n--origin\ncommand-line\noption.\nclone.rejectShallow\nReject cloning a repository if it is a shallow one; this can be overridden by\npassing the\n--reject-shallow\noption on the command line.\nclone.filterSubmodules\nIf a partial clone filter is provided (see\n--filter\nin\ngit-rev-list[1]\n) and\n--recurse-submodules\nis used, also apply\nthe filter to submodules.\nGIT\nPart of the\ngit[1]\nsuite\nclone", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://git-scm.com/docs/git-clone"}}
{"text": "Git - git-commit Documentation\nEnglish ▾\nLocalized versions of\ngit-commit\nmanual\nEnglish\nEspañol\nFrançais\nPortuguês (Brasil)\nРусский\nукраїнська мова\n简体中文\nTopics ▾\nSetup and Config\ngit\nconfig\nhelp\nbugreport\nCredential helpers\nGetting and Creating Projects\ninit\nclone\nBasic Snapshotting\nadd\nstatus\ndiff\ncommit\nnotes\nrestore\nreset\nrm\nmv\nBranching and Merging\nbranch\ncheckout\nswitch\nmerge\nmergetool\nlog\nstash\ntag\nworktree\nSharing and Updating Projects\nfetch\npull\npush\nremote\nsubmodule\nInspection and Comparison\nshow\nlog\ndiff\ndifftool\nrange-diff\nshortlog\ndescribe\nPatching\napply\ncherry-pick\ndiff\nrebase\nrevert\nDebugging\nbisect\nblame\ngrep\nEmail\nam\napply\nimap-send\nformat-patch\nsend-email\nrequest-pull\nExternal Systems\nsvn\nfast-import\nServer Admin\ndaemon\nupdate-server-info\nGuides\ngitattributes\nCommand-line interface conventions\nEveryday Git\nFrequently Asked Questions (FAQ)\nGlossary\nHooks\ngitignore\ngitmodules\nRevisions\nSubmodules\nTutorial\nWorkflows\nAll guides...\nAdministration\nclean\ngc\nfsck\nreflog\nfilter-branch\ninstaweb\narchive\nbundle\nPlumbing Commands\ncat-file\ncheck-ignore\ncheckout-index\ncommit-tree\ncount-objects\ndiff-index\nfor-each-ref\nhash-object\nls-files\nls-tree\nmerge-base\nread-tree\nrev-list\nrev-parse\nshow-ref\nsymbolic-ref\nupdate-index\nupdate-ref\nverify-pack\nwrite-tree\nLatest version\n▾\ngit-commit last updated in 2.52.0\nChanges in the\ngit-commit\nmanual\n2.52.0\n2025-11-17\n2.51.1 → 2.51.2 no changes\n2.51.0\n2025-08-18\n2.50.1 no changes\n2.50.0\n2025-06-16\n2.49.1 no changes\n2.49.0\n2025-03-14\n2.46.2 → 2.48.2 no changes\n2.46.1\n2024-09-13\n2.45.1 → 2.46.0 no changes\n2.45.0\n2024-04-29\n2.43.2 → 2.44.4 no changes\n2.43.1\n2024-02-09\n2.43.0\n2023-11-20\n2.38.1 → 2.42.4 no changes\n2.38.0\n2022-10-02\n2.35.1 → 2.37.7 no changes\n2.35.0\n2022-01-24\n2.34.1 → 2.34.8 no changes\n2.34.0\n2021-11-15\n2.33.1 → 2.33.8 no changes\n2.33.0\n2021-08-16\n2.32.1 → 2.32.7 no changes\n2.32.0\n2021-06-06\n2.31.1 → 2.31.8 no changes\n2.31.0\n2021-03-15\n2.30.1 → 2.30.9 no changes\n2.30.0\n2020-12-27\n2.27.1 → 2.29.3 no changes\n2.27.0\n2020-06-01\n2.25.2 → 2.26.3 no changes\n2.25.1\n2020-02-17\n2.25.0\n2020-01-13\n2.24.1 → 2.24.4 no changes\n2.24.0\n2019-11-04\n2.23.1 → 2.23.4 no changes\n2.23.0\n2019-08-16\n2.21.1 → 2.22.5 no changes\n2.21.0\n2019-02-24\n2.17.0 → 2.20.5 no changes\n2.16.6\n2019-12-06\n2.14.6 → 2.15.4 no changes\n2.13.7\n2018-05-22\n2.12.5\n2017-09-22\n2.11.4\n2017-09-22\n2.10.5\n2017-09-22\n2.9.5\n2017-07-30\n2.8.6 no changes\n2.7.6\n2017-07-30\n2.6.7\n2017-05-05\n2.5.6 no changes\n2.4.12\n2017-05-05\n2.3.10 no changes\n2.2.3\n2015-09-04\n2.1.4 no changes\n2.0.5\n2014-12-17\nNAME\ngit-commit - Record changes to the repository\nSYNOPSIS\ngit\ncommit\n[\n-a\n|\n--interactive\n|\n--patch\n] [\n-s\n] [\n-v\n] [\n-u\n[\n<mode>\n]] [\n--amend\n]\n[\n--dry-run\n]\n<commit>\n_\n|\n--fixup\n[(\namend\n|\nreword\n)\n:\n\">\n<commit>\n]\n[\n-F\n<file>\n|\n-m\n<msg>\n] [\n--reset-author\n] [\n--allow-empty\n]\n[\n--allow-empty-message\n] [\n--no-verify\n] [\n-e\n] [\n--author=\n<author>\n]\n[\n--date=\n<date>\n] [\n--cleanup=\n<mode>\n] [\n--\n[\nno-\n]\nstatus\n]\n[\n-i\n|\n-o\n] [\n--pathspec-from-file=\n<file>\n[\n--pathspec-file-nul\n]]\n[(\n--trailer\n<token>\n[(\n=\n|\n:\n)\n<value>\n])…​] [\n-S\n[\n<keyid>\n]]\n[\n--\n] [\n<pathspec>\n…​]\nDESCRIPTION\nCreate a new commit containing the current contents of the index and\nthe given log message describing the changes. The new commit is a\ndirect child of HEAD, usually the tip of the current branch, and the\nbranch is updated to point to it (unless no branch is associated with\nthe working tree, in which case\nHEAD\nis \"detached\" as described in\ngit-checkout[1]\n).\nThe content to be committed can be specified in several ways:\nby using\ngit-add[1]\nto incrementally \"add\" changes to the\nindex before using the\ncommit\ncommand (Note: even modified files\nmust be \"added\");\nby using\ngit-rm[1]\nto remove files from the working tree\nand the index, again before using the\ncommit\ncommand;\nby listing files as arguments to the\ncommit\ncommand\n(without\n--interactive\nor\n--patch\nswitch), in which\ncase the commit will ignore changes staged in the index, and instead\nrecord the current content of the listed files (which must already\nbe known to Git);\nby using the\n-a\nswitch with the\ncommit\ncommand to automatically\n\"add\" changes from all known files (i.e. all files that are already\nlisted in the index) and to automatically \"rm\" files in the index\nthat have been removed from the working tree, and then perform the\nactual commit;\nby using the\n--interactive\nor\n--patch\nswitches with the\ncommit\ncommand\nto decide one by one which files or hunks should be part of the commit\nin addition to contents in the index,\nbefore finalizing the operation. See the “Interactive Mode” section of\ngit-add[1]\nto learn how to operate these modes.\nThe\n--dry-run\noption can be used to obtain a\nsummary of what is included by any of the above for the next\ncommit by giving the same set of parameters (options and paths).\nIf you make a commit and then find a mistake immediately after\nthat, you can recover from it with\ngit\nreset\n.\nOPTIONS\n-a\n--all\nAutomatically stage files that have\nbeen modified and deleted, but new files you have not\ntold Git about are not affected.\n-p\n--patch\nUse the interactive patch selection interface to choose\nwhich changes to commit. See\ngit-add[1]\nfor\ndetails.\n-U\n<n>\n--unified=\n<n>\nGenerate diffs with\n<n>\nlines of context. Defaults to\ndiff.context\nor 3 if the config option is unset.\n--inter-hunk-context=\n<n>\nShow the context between diff hunks, up to the specified\n<number>\nof lines, thereby fusing hunks that are close to each other.\nDefaults to\ndiff.interHunkContext\nor 0 if the config option\nis unset.\n-C\n<commit>\n--reuse-message=\n<commit>\nTake an existing\n<commit>\nobject, and reuse the log message\nand the authorship information (including the timestamp)\nwhen creating the commit.\n-c\n<commit>\n--reedit-message=\n<commit>\nLike\n-C\n, but with\n-c\nthe editor is invoked, so that\nthe user can further edit the commit message.\n--fixup=\n[(\namend\n|\nreword\n)\n:\n]\n<commit>\nCreate a new commit which \"fixes up\"\n<commit>\nwhen applied with\ngit\nrebase\n--autosquash\n. Plain\n--fixup=\n<commit>\ncreates a\n\"fixup!\" commit which changes the content of\n<commit>\nbut leaves\nits log message untouched.\n--fixup=amend:\n<commit>\nis similar but\ncreates an \"amend!\" commit which also replaces the log message of\n<commit>\nwith the log message of the \"amend!\" commit.\n--fixup=reword:\n<commit>\ncreates an \"amend!\" commit which\nreplaces the log message of\n<commit>\nwith its own log message\nbut makes no changes to the content of\n<commit>\n.\nThe commit created by plain\n--fixup=\n<commit>\nhas a title\ncomposed of \"fixup!\" followed by the title of\n<commit>\n,\nand is recognized specially by\ngit\nrebase\n--autosquash\n. The\n-m\noption may be used to supplement the log message of the created\ncommit, but the additional commentary will be thrown away once the\n\"fixup!\" commit is squashed into\n<commit>\nby\ngit\nrebase\n--autosquash\n.\nThe commit created by\n--fixup=amend:\n<commit>\nis similar but its\ntitle is instead prefixed with \"amend!\". The log message of\n<commit>\nis copied into the log message of the \"amend!\" commit and\nopened in an editor so it can be refined. When\ngit\nrebase\n--autosquash\nsquashes the \"amend!\" commit into\n<commit>\n, the\nlog message of\n<commit>\nis replaced by the refined log message\nfrom the \"amend!\" commit. It is an error for the \"amend!\" commit’s\nlog message to be empty unless\n--allow-empty-message\nis\nspecified.\n--fixup=reword:\n<commit>\nis shorthand for\n--fixup=amend:\n<commit>\n--only\n. It creates an \"amend!\" commit with only a log message\n(ignoring any changes staged in the index). When squashed by\ngit\nrebase\n--autosquash\n, it replaces the log message of\n<commit>\nwithout making any other changes.\nNeither \"fixup!\" nor \"amend!\" commits change authorship of\n<commit>\nwhen applied by\ngit\nrebase\n--autosquash\n.\nSee\ngit-rebase[1]\nfor details.\n--squash=\n<commit>\nConstruct a commit message for use with\ngit\nrebase\n--autosquash\n.\nThe commit message title is taken from the specified\ncommit with a prefix of \"squash! \".  Can be used with additional\ncommit message options (\n-m\n/\n-c\n/\n-C\n/\n-F\n). See\ngit-rebase[1]\nfor details.\n--reset-author\nWhen used with\n-C\n/\n-c\n/\n--amend\noptions, or when committing after a\nconflicting cherry-pick, declare that the authorship of the\nresulting commit now belongs to the committer. This also renews\nthe author timestamp.\n--short\nWhen doing a dry-run, give the output in the short-format. See\ngit-status[1]\nfor details. Implies\n--dry-run\n.\n--branch\nShow the branch and tracking info even in short-format.\n--porcelain\nWhen doing a dry-run, give the output in a porcelain-ready\nformat. See\ngit-status[1]\nfor details. Implies\n--dry-run\n.\n--long\nWhen doing a dry-run, give the output in the long-format.\nImplies\n--dry-run\n.\n-z\n--null\nWhen showing\nshort\nor\nporcelain\nstatus output, print the\nfilename verbatim and terminate the entries with\nNUL\n, instead of\nLF\n.\nIf no format is given, implies the\n--porcelain\noutput format.\nWithout the\n-z\noption, filenames with \"unusual\" characters are\nquoted as explained for the configuration variable\ncore.quotePath\n(see\ngit-config[1]\n).\n-F\n<file>\n--file=\n<file>\nTake the commit message from\n<file>\n.  Use\n-\nto\nread the message from the standard input.\n--author=\n<author>\nOverride the commit author. Specify an explicit author using the\nstandard\nA U Thor <author@example.com>\nformat. Otherwise\n<author>\nis assumed to be a pattern and is used to search for an existing\ncommit by that author (i.e.\ngit\nrev-list\n--all\n-i\n--author=\n<author>\n);\nthe commit author is then copied from the first such commit found.\n--date=\n<date>\nOverride the author date used in the commit.\n-m\n<msg>\n--message=\n<msg>\nUse\n<msg>\nas the commit message.\nIf multiple\n-m\noptions are given, their values are\nconcatenated as separate paragraphs.\nThe\n-m\noption is mutually exclusive with\n-c\n,\n-C\n, and\n-F\n.\n-t\n<file>\n--template=\n<file>\nWhen editing the commit message, start the editor with the\ncontents in\n<file>\n.  The\ncommit.template\nconfiguration\nvariable is often used to give this option implicitly to the\ncommand.  This mechanism can be used by projects that want to\nguide participants with some hints on what to write in the message\nin what order.  If the user exits the editor without editing the\nmessage, the commit is aborted.  This has no effect when a message\nis given by other means, e.g. with the\n-m\nor\n-F\noptions.\n-s\n--signoff\n--no-signoff\nAdd a\nSigned-off-by\ntrailer by the committer at the end of the commit\nlog message.  The meaning of a signoff depends on the project\nto which you’re committing.  For example, it may certify that\nthe committer has the rights to submit the work under the\nproject’s license or agrees to some contributor representation,\nsuch as a Developer Certificate of Origin.\n(See\nhttps://developercertificate.org\nfor the one used by the\nLinux kernel and Git projects.)  Consult the documentation or\nleadership of the project to which you’re contributing to\nunderstand how the signoffs are used in that project.\nThe\n--no-signoff\noption can be used to countermand an earlier\n--signoff\noption on the command line.\n--trailer\n<token>\n[(\n=\n|\n:\n)\n<value>\n]\nSpecify a (\n<token>\n,\n<value>\n) pair that should be applied as a\ntrailer. (e.g.\ngit commit --trailer \"Signed-off-by:C O Mitter \\\n<committer@example.com>\" --trailer \"Helped-by:C O Mitter \\\n<committer@example.com>\"\nwill add the\nSigned-off-by\ntrailer\nand the\nHelped-by\ntrailer to the commit message.)\nThe\ntrailer.*\nconfiguration variables\n(\ngit-interpret-trailers[1]\n) can be used to define if\na duplicated trailer is omitted, where in the run of trailers\neach trailer would appear, and other details.\n-n\n--verify\n--no-verify\nBypass the\npre-commit\nand\ncommit-msg\nhooks.\nSee also\ngithooks[5]\n.\n--allow-empty\nUsually recording a commit that has the exact same tree as its\nsole parent commit is a mistake, and the command prevents you\nfrom making such a commit.  This option bypasses the safety, and\nis primarily for use by foreign SCM interface scripts.\n--allow-empty-message\nCreate a commit with an empty commit message without using plumbing\ncommands like\ngit-commit-tree[1]\n. Like\n--allow-empty\n, this\ncommand is primarily for use by foreign SCM interface scripts.\n--cleanup=\n<mode>\nDetermine how the supplied commit message should be\ncleaned up before committing.  The\n<mode>\ncan be\nstrip\n,\nwhitespace\n,\nverbatim\n,\nscissors\nor\ndefault\n.\nstrip\nStrip leading and trailing empty lines, trailing whitespace,\ncommentary and collapse consecutive empty lines.\nwhitespace\nSame as\nstrip\nexcept #commentary is not removed.\nverbatim\nDo not change the message at all.\nscissors\nSame as\nwhitespace\nexcept that everything from (and including)\nthe line found below is truncated, if the message is to be edited.\n\"\n#\n\" can be customized with\ncore.commentChar\n.\n# ------------------------ >8 ------------------------\ndefault\nSame as\nstrip\nif the message is to be edited.\nOtherwise\nwhitespace\n.\nThe default can be changed by the\ncommit.cleanup\nconfiguration\nvariable (see\ngit-config[1]\n).\n-e\n--edit\nLet the user further edit the message taken from\n<file>\nwith\n-F\n<file>\n, command line with\n-m\n<message>\n, and\nfrom\n<commit>\nwith\n-C\n<commit>\n.\n--no-edit\nUse the selected commit message without launching an editor.\nFor example,\ngit\ncommit\n--amend\n--no-edit\namends a commit\nwithout changing its commit message.\n--amend\nReplace the tip of the current branch by creating a new\ncommit. The recorded tree is prepared as usual (including\nthe effect of the\n-i\nand\n-o\noptions and explicit\npathspec), and the message from the original commit is used\nas the starting point, instead of an empty message, when no\nother message is specified from the command line via options\nsuch as\n-m\n,\n-F\n,\n-c\n, etc.  The new commit has the same\nparents and author as the current one (the\n--reset-author\noption can countermand this).\nIt is a rough equivalent for:\n$ git reset --soft HEAD^\n$ ... do something else to come up with the right tree ...\n$ git commit -c ORIG_HEAD\nbut can be used to amend a merge commit.\nYou should understand the implications of rewriting history if you\namend a commit that has already been published.  (See the \"RECOVERING\nFROM UPSTREAM REBASE\" section in\ngit-rebase[1]\n.)\n--no-post-rewrite\nBypass the\npost-rewrite\nhook.\n-i\n--include\nBefore making a commit out of staged contents so far,\nstage the contents of paths given on the command line\nas well.  This is usually not what you want unless you\nare concluding a conflicted merge.\n-o\n--only\nMake a commit by taking the updated working tree contents\nof the paths specified on the\ncommand line, disregarding any contents that have been\nstaged for other paths. This is the default mode of operation of\ngit\ncommit\nif any paths are given on the command line,\nin which case this option can be omitted.\nIf this option is specified together with\n--amend\n, then\nno paths need to be specified, which can be used to amend\nthe last commit without committing changes that have\nalready been staged. If used together with\n--allow-empty\npaths are also not required, and an empty commit will be created.\n--pathspec-from-file=\n<file>\nPass pathspec in\n<file>\ninstead of commandline args. If\n<file>\nis exactly\n-\nthen standard input is used. Pathspec\nelements are separated by\nLF\nor\nCR\n/\nLF\n. Pathspec elements can be\nquoted as explained for the configuration variable\ncore.quotePath\n(see\ngit-config[1]\n). See also\n--pathspec-file-nul\nand\nglobal\n--literal-pathspecs\n.\n--pathspec-file-nul\nOnly meaningful with\n--pathspec-from-file\n. Pathspec elements are\nseparated with\nNUL\ncharacter and all other characters are taken\nliterally (including newlines and quotes).\n-u\n[\n<mode>\n]\n--untracked-files\n[\n=\n<mode>\n]\nShow untracked files.\nThe\n<mode>\nparameter is optional (defaults to\nall\n), and is used to\nspecify the handling of untracked files; when\n-u\nis not used, the\ndefault is\nnormal\n, i.e. show untracked files and directories.\nThe possible options are:\nno\nShow no untracked files\nnormal\nShows untracked files and directories\nall\nAlso shows individual files in untracked directories.\nAll usual spellings for Boolean value\ntrue\nare taken as\nnormal\nand\nfalse\nas\nno\n.\nThe default can be changed using the\nstatus.showUntrackedFiles\nconfiguration variable documented in\ngit-config[1]\n.\n-v\n--verbose\nShow unified diff between the\nHEAD\ncommit and what\nwould be committed at the bottom of the commit message\ntemplate to help the user describe the commit by reminding\nwhat changes the commit has.\nNote that this diff output doesn’t have its\nlines prefixed with\n#\n. This diff will not be a part\nof the commit message. See the\ncommit.verbose\nconfiguration\nvariable in\ngit-config[1]\n.\nIf specified twice, show in addition the unified diff between\nwhat would be committed and the worktree files, i.e. the unstaged\nchanges to tracked files.\n-q\n--quiet\nSuppress commit summary message.\n--dry-run\nDo not create a commit, but show a list of paths that are\nto be committed, paths with local changes that will be left\nuncommitted and paths that are untracked.\n--status\nInclude the output of\ngit-status[1]\nin the commit\nmessage template when using an editor to prepare the commit\nmessage.  Defaults to on, but can be used to override\nconfiguration variable\ncommit.status\n.\n--no-status\nDo not include the output of\ngit-status[1]\nin the\ncommit message template when using an editor to prepare the\ndefault commit message.\n-S\n[\n<key-id>\n]\n--gpg-sign\n[\n=\n<key-id>\n]\n--no-gpg-sign\nGPG-sign commits. The\n<key-id>\nis optional and\ndefaults to the committer identity; if specified, it must be\nstuck to the option without a space.\n--no-gpg-sign\nis useful to\ncountermand both\ncommit.gpgSign\nconfiguration variable, and\nearlier\n--gpg-sign\n.\n--\nDo not interpret any more arguments as options.\n<pathspec>\n...\nWhen\n<pathspec>\nis given on the command line, commit the contents of\nthe files that match the pathspec without recording the changes\nalready added to the index. The contents of these files are also\nstaged for the next commit on top of what have been staged before.\nFor more details, see the\npathspec\nentry in\ngitglossary[7]\n.\nEXAMPLES\nWhen recording your own work, the contents of modified files in\nyour working tree are temporarily stored to a staging area\ncalled the \"index\" with\ngit\nadd\n.  A file can be\nreverted back, only in the index but not in the working tree,\nto that of the last commit with\ngit\nrestore\n--staged\n<file>\n,\nwhich effectively reverts\ngit\nadd\nand prevents the changes to\nthis file from participating in the next commit.  After building\nthe state to be committed incrementally with these commands,\ngit\ncommit\n(without any pathname parameter) is used to record what\nhas been staged so far.  This is the most basic form of the\ncommand.  An example:\n$ edit hello.c\n$ git rm goodbye.c\n$ git add hello.c\n$ git commit\nInstead of staging files after each individual change, you can\ntell\ngit\ncommit\nto notice the changes to the files whose\ncontents are tracked in\nyour working tree and do corresponding\ngit\nadd\nand\ngit\nrm\nfor you.  That is, this example does the same as the earlier\nexample if there is no other change in your working tree:\n$ edit hello.c\n$ rm goodbye.c\n$ git commit -a\nThe command\ngit\ncommit\n-a\nfirst looks at your working tree,\nnotices that you have modified\nhello.c\nand removed\ngoodbye.c\n,\nand performs necessary\ngit\nadd\nand\ngit\nrm\nfor you.\nAfter staging changes to many files, you can alter the order the\nchanges are recorded in, by giving pathnames to\ngit\ncommit\n.\nWhen pathnames are given, the command makes a commit that\nonly records the changes made to the named paths:\n$ edit hello.c hello.h\n$ git add hello.c hello.h\n$ edit Makefile\n$ git commit Makefile\nThis makes a commit that records the modification to\nMakefile\n.\nThe changes staged for\nhello.c\nand\nhello.h\nare not included\nin the resulting commit.  However, their changes are not lost — they are still staged and merely held back.  After the above\nsequence, if you do:\n$ git commit\nthis second commit would record the changes to\nhello.c\nand\nhello.h\nas expected.\nAfter a merge (initiated by\ngit\nmerge\nor\ngit\npull\n) stops\nbecause of conflicts, cleanly merged\npaths are already staged to be committed for you, and paths that\nconflicted are left in unmerged state.  You would have to first\ncheck which paths are conflicting with\ngit\nstatus\nand after fixing them manually in your working tree, you would\nstage the result as usual with\ngit\nadd\n:\n$ git status | grep unmerged\nunmerged: hello.c\n$ edit hello.c\n$ git add hello.c\nAfter resolving conflicts and staging the result,\ngit\nls-files\n-u\nwould stop mentioning the conflicted path.  When you are done,\nrun\ngit\ncommit\nto finally record the merge:\n$ git commit\nAs with the case to record your own changes, you can use\n-a\noption to save typing.  One difference is that during a merge\nresolution, you cannot use\ngit\ncommit\nwith pathnames to\nalter the order the changes are committed, because the merge\nshould be recorded as a single commit.  In fact, the command\nrefuses to run when given pathnames (but see\n-i\noption).\nCOMMIT INFORMATION\nAuthor and committer information is taken from the following environment\nvariables, if set:\nGIT_AUTHOR_NAME\nGIT_AUTHOR_EMAIL\nGIT_AUTHOR_DATE\nGIT_COMMITTER_NAME\nGIT_COMMITTER_EMAIL\nGIT_COMMITTER_DATE\n(nb \"<\", \">\" and \"\\n\"s are stripped)\nThe author and committer names are by convention some form of a personal name\n(that is, the name by which other humans refer to you), although Git does not\nenforce or require any particular form. Arbitrary Unicode may be used, subject\nto the constraints listed above. This name has no effect on authentication; for\nthat, see the\ncredential.username\nvariable in\ngit-config[1]\n.\nIn case (some of) these environment variables are not set, the information\nis taken from the configuration items\nuser.name\nand\nuser.email\n, or, if not\npresent, the environment variable\nEMAIL\n, or, if that is not set,\nsystem user name and the hostname used for outgoing mail (taken\nfrom\n/etc/mailname\nand falling back to the fully qualified hostname when\nthat file does not exist).\nThe\nauthor.name\nand\ncommitter.name\nand their corresponding email options\noverride\nuser.name\nand\nuser.email\nif set and are overridden themselves by\nthe environment variables.\nThe typical usage is to set just the\nuser.name\nand\nuser.email\nvariables;\nthe other options are provided for more complex use cases.\nDATE FORMATS\nThe\nGIT_AUTHOR_DATE\nand\nGIT_COMMITTER_DATE\nenvironment variables\nsupport the following date formats:\nGit internal format\nIt is\n<unix-timestamp>\n<time-zone-offset>\n, where\n<unix-timestamp>\nis the number of seconds since the UNIX epoch.\n<time-zone-offset>\nis a positive or negative offset from UTC.\nFor example CET (which is 1 hour ahead of UTC) is\n+0100\n.\nRFC 2822\nThe standard date format as described by RFC 2822, for example\nThu,\n07\nApr\n2005\n22:13:13\n+0200\n.\nISO 8601\nTime and date specified by the ISO 8601 standard, for example\n2005-04-07T22:13:13\n. The parser accepts a space instead of the\nT\ncharacter as well. Fractional parts of a second will be ignored,\nfor example\n2005-04-07T22:13:13.019\nwill be treated as\n2005-04-07T22:13:13\n.\nNote\nIn addition, the date part is accepted in the following formats:\nYYYY.MM.DD\n,\nMM/DD/YYYY\nand\nDD.MM.YYYY\n.\nIn addition to recognizing all date formats above, the\n--date\noption\nwill also try to make sense of other, more human-centric date formats,\nsuch as relative dates like \"yesterday\" or \"last Friday at noon\".\nDISCUSSION\nThough not required, it’s a good idea to begin the commit message\nwith a single short (no more than 50 characters) line summarizing the\nchange, followed by a blank line and then a more thorough description.\nThe text up to the first blank line in a commit message is treated\nas the commit title, and that title is used throughout Git.\nFor example,\ngit-format-patch[1]\nturns a commit into email, and it uses\nthe title on the Subject line and the rest of the commit in the body.\nGit is to some extent character encoding agnostic.\nThe contents of the blob objects are uninterpreted sequences\nof bytes.  There is no encoding translation at the core\nlevel.\nPath names are encoded in UTF-8 normalization form C. This\napplies to tree objects, the index file, ref names, as well as\npath names in command line arguments, environment variables\nand config files (\n.git/config\n(see\ngit-config[1]\n),\ngitignore[5]\n,\ngitattributes[5]\nand\ngitmodules[5]\n).\nNote that Git at the core level treats path names simply as\nsequences of non-NUL bytes, there are no path name encoding\nconversions (except on Mac and Windows). Therefore, using\nnon-ASCII path names will mostly work even on platforms and file\nsystems that use legacy extended ASCII encodings. However,\nrepositories created on such systems will not work properly on\nUTF-8-based systems (e.g. Linux, Mac, Windows) and vice versa.\nAdditionally, many Git-based tools simply assume path names to\nbe UTF-8 and will fail to display other encodings correctly.\nCommit log messages are typically encoded in UTF-8, but other\nextended ASCII encodings are also supported. This includes\nISO-8859-x, CP125x and many others, but\nnot\nUTF-16/32,\nEBCDIC and CJK multi-byte encodings (GBK, Shift-JIS, Big5,\nEUC-x, CP9xx etc.).\nAlthough we encourage that the commit log messages are encoded\nin UTF-8, both the core and Git Porcelain are designed not to\nforce UTF-8 on projects.  If all participants of a particular\nproject find it more convenient to use legacy encodings, Git\ndoes not forbid it.  However, there are a few things to keep in\nmind.\ngit\ncommit\nand\ngit\ncommit-tree\nissue\na warning if the commit log message given to it does not look\nlike a valid UTF-8 string, unless you explicitly say your\nproject uses a legacy encoding.  The way to say this is to\nhave\ni18n.commitEncoding\nin\n.git/config\nfile, like this:\n[i18n]\ncommitEncoding = ISO-8859-1\nCommit objects created with the above setting record the value\nof\ni18n.commitEncoding\nin their\nencoding\nheader.  This is to\nhelp other people who look at them later.  Lack of this header\nimplies that the commit log message is encoded in UTF-8.\ngit\nlog\n,\ngit\nshow\n,\ngit\nblame\nand friends look at the\nencoding\nheader of a commit object, and try to re-code the\nlog message into UTF-8 unless otherwise specified.  You can\nspecify the desired output encoding with\ni18n.logOutputEncoding\nin\n.git/config\nfile, like this:\n[i18n]\nlogOutputEncoding = ISO-8859-1\nIf you do not have this configuration variable, the value of\ni18n.commitEncoding\nis used instead.\nNote that we deliberately chose not to re-code the commit log\nmessage when a commit is made to force UTF-8 at the commit\nobject level, because re-coding to UTF-8 is not necessarily a\nreversible operation.\nENVIRONMENT AND CONFIGURATION VARIABLES\nThe editor used to edit the commit log message will be chosen from the\nGIT_EDITOR\nenvironment variable, the\ncore.editor\nconfiguration variable, the\nVISUAL\nenvironment variable, or the\nEDITOR\nenvironment variable (in that\norder).  See\ngit-var[1]\nfor details.\nEverything above this line in this section isn’t included from the\ngit-config[1]\ndocumentation. The content that follows is the\nsame as what’s found there:\ncommit.cleanup\nThis setting overrides the default of the\n--cleanup\noption in\ngit\ncommit\n.  Changing the default can be useful\nwhen you always want to keep lines that begin\nwith the comment character (\ncore.commentChar\n, default\n#\n)\nin your log message, in which case you\nwould do\ngit\nconfig\ncommit.cleanup\nwhitespace\n(note that you will\nhave to remove the help lines that begin with the comment character\nin the commit log template yourself, if you do this).\ncommit.gpgSign\nA boolean to specify whether all commits should be GPG signed.\nUse of this option when doing operations such as rebase can\nresult in a large number of commits being signed. It may be\nconvenient to use an agent to avoid typing your GPG passphrase\nseveral times.\ncommit.status\nA boolean to enable/disable inclusion of status information in the\ncommit message template when using an editor to prepare the commit\nmessage.  Defaults to\ntrue\n.\ncommit.template\nSpecify the pathname of a file to use as the template for\nnew commit messages.\ncommit.verbose\nA boolean or int to specify the level of verbosity with\ngit\ncommit\n.\nHOOKS\nThis command can run\ncommit-msg\n,\nprepare-commit-msg\n,\npre-commit\n,\npost-commit\nand\npost-rewrite\nhooks.  See\ngithooks[5]\nfor more\ninformation.\nFILES\n$GIT_DIR/COMMIT_EDITMSG\nThis file contains the commit message of a commit in progress.\nIf\ngit\ncommit\nexits due to an error before creating a commit,\nany commit message that has been provided by the user (e.g., in\nan editor session) will be available in this file, but will be\noverwritten by the next invocation of\ngit\ncommit\n.\nSEE ALSO\ngit-add[1]\n,\ngit-rm[1]\n,\ngit-mv[1]\n,\ngit-merge[1]\n,\ngit-commit-tree[1]\nGIT\nPart of the\ngit[1]\nsuite\ncommit", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://git-scm.com/docs/git-commit"}}
{"text": "Git - git-branch Documentation\nEnglish ▾\nLocalized versions of\ngit-branch\nmanual\nEnglish\nFrançais\nPortuguês (Brasil)\nРусский\nукраїнська мова\n简体中文\nTopics ▾\nSetup and Config\ngit\nconfig\nhelp\nbugreport\nCredential helpers\nGetting and Creating Projects\ninit\nclone\nBasic Snapshotting\nadd\nstatus\ndiff\ncommit\nnotes\nrestore\nreset\nrm\nmv\nBranching and Merging\nbranch\ncheckout\nswitch\nmerge\nmergetool\nlog\nstash\ntag\nworktree\nSharing and Updating Projects\nfetch\npull\npush\nremote\nsubmodule\nInspection and Comparison\nshow\nlog\ndiff\ndifftool\nrange-diff\nshortlog\ndescribe\nPatching\napply\ncherry-pick\ndiff\nrebase\nrevert\nDebugging\nbisect\nblame\ngrep\nEmail\nam\napply\nimap-send\nformat-patch\nsend-email\nrequest-pull\nExternal Systems\nsvn\nfast-import\nServer Admin\ndaemon\nupdate-server-info\nGuides\ngitattributes\nCommand-line interface conventions\nEveryday Git\nFrequently Asked Questions (FAQ)\nGlossary\nHooks\ngitignore\ngitmodules\nRevisions\nSubmodules\nTutorial\nWorkflows\nAll guides...\nAdministration\nclean\ngc\nfsck\nreflog\nfilter-branch\ninstaweb\narchive\nbundle\nPlumbing Commands\ncat-file\ncheck-ignore\ncheckout-index\ncommit-tree\ncount-objects\ndiff-index\nfor-each-ref\nhash-object\nls-files\nls-tree\nmerge-base\nread-tree\nrev-list\nrev-parse\nshow-ref\nsymbolic-ref\nupdate-index\nupdate-ref\nverify-pack\nwrite-tree\nLatest version\n▾\ngit-branch last updated in 2.51.0\nChanges in the\ngit-branch\nmanual\n2.51.1 → 2.52.0 no changes\n2.51.0\n2025-08-18\n2.50.1 no changes\n2.50.0\n2025-06-16\n2.44.1 → 2.49.1 no changes\n2.44.0\n2024-02-23\n2.43.1 → 2.43.7 no changes\n2.43.0\n2023-11-20\n2.41.1 → 2.42.4 no changes\n2.41.0\n2023-06-01\n2.40.1 → 2.40.4 no changes\n2.40.0\n2023-03-12\n2.39.4 → 2.39.5 no changes\n2.39.3\n2023-04-17\n2.38.1 → 2.39.2 no changes\n2.38.0\n2022-10-02\n2.37.1 → 2.37.7 no changes\n2.37.0\n2022-06-27\n2.36.1 → 2.36.6 no changes\n2.36.0\n2022-04-18\n2.35.1 → 2.35.8 no changes\n2.35.0\n2022-01-24\n2.34.1 → 2.34.8 no changes\n2.34.0\n2021-11-15\n2.33.2 → 2.33.8 no changes\n2.33.1\n2021-10-12\n2.31.1 → 2.33.0 no changes\n2.31.0\n2021-03-15\n2.30.1 → 2.30.9 no changes\n2.30.0\n2020-12-27\n2.29.1 → 2.29.3 no changes\n2.29.0\n2020-10-19\n2.28.1 no changes\n2.28.0\n2020-07-27\n2.23.1 → 2.27.1 no changes\n2.23.0\n2019-08-16\n2.22.2 → 2.22.5 no changes\n2.22.1\n2019-08-11\n2.22.0\n2019-06-07\n2.21.1 → 2.21.4 no changes\n2.21.0\n2019-02-24\n2.20.1 → 2.20.5 no changes\n2.20.0\n2018-12-09\n2.19.1 → 2.19.6 no changes\n2.19.0\n2018-09-10\n2.18.1 → 2.18.5 no changes\n2.18.0\n2018-06-21\n2.17.0 → 2.17.6 no changes\n2.16.6\n2019-12-06\n2.15.4\n2019-12-06\n2.14.6\n2019-12-06\n2.13.7\n2018-05-22\n2.12.5\n2017-09-22\n2.10.5 → 2.11.4 no changes\n2.9.5\n2017-07-30\n2.8.6 no changes\n2.7.6\n2017-07-30\n2.6.7\n2017-05-05\n2.5.6 no changes\n2.4.12\n2017-05-05\n2.1.4 → 2.3.10 no changes\n2.0.5\n2014-12-17\nNAME\ngit-branch - List, create, or delete branches\nSYNOPSIS\ngit\nbranch\n[\n--color\n[\n=\n<when>\n] |\n--no-color\n] [\n--show-current\n]\n[\n-v\n[\n--abbrev=\n<n>\n|\n--no-abbrev\n]]\n[\n--column\n[\n=\n<options>\n] |\n--no-column\n] [\n--sort=\n<key>\n]\n[\n--merged\n[\n<commit>\n]] [\n--no-merged\n[\n<commit>\n]]\n[\n--contains\n[\n<commit>\n]] [\n--no-contains\n[\n<commit>\n]]\n[\n--points-at\n<object>\n] [\n--format=\n<format>\n]\n[(\n-r\n|\n--remotes\n) | (\n-a\n|\n--all\n)]\n[\n--list\n] [\n<pattern>\n…​]\ngit\nbranch\n[\n--track\n[\n=\n(\ndirect\n|\ninherit\n)] |\n--no-track\n] [\n-f\n]\n[\n--recurse-submodules\n]\n<branch-name>\n[\n<start-point>\n]\ngit\nbranch\n(\n--set-upstream-to=\n<upstream>\n|\n-u\n<upstream>\n) [\n<branch-name>\n]\ngit\nbranch\n--unset-upstream\n[\n<branch-name>\n]\ngit\nbranch\n(\n-m\n|\n-M\n) [\n<old-branch>\n]\n<new-branch>\ngit\nbranch\n(\n-c\n|\n-C\n) [\n<old-branch>\n]\n<new-branch>\ngit\nbranch\n(\n-d\n|\n-D\n) [\n-r\n]\n<branch-name>\n…​\ngit\nbranch\n--edit-description\n[\n<branch-name>\n]\nDESCRIPTION\nIf\n--list\nis given, or if there are no non-option arguments, existing\nbranches are listed; the current branch will be highlighted in green and\nmarked with an asterisk.  Any branches checked out in linked worktrees will\nbe highlighted in cyan and marked with a plus sign. Option\n-r\ncauses the\nremote-tracking branches to be listed,\nand option\n-a\nshows both local and remote branches.\nIf a\n<pattern>\nis given, it is used as a shell wildcard to restrict the output to\nmatching branches. If multiple patterns are given, a branch is shown if\nit matches any of the patterns.\nNote that when providing a\n<pattern>\n, you must use\n--list\n; otherwise the command may be interpreted\nas branch creation.\nWith\n--contains\n, shows only the branches that contain the named commit\n(in other words, the branches whose tip commits are descendants of the\nnamed commit),\n--no-contains\ninverts it. With\n--merged\n, only branches\nmerged into the named commit (i.e. the branches whose tip commits are\nreachable from the named commit) will be listed.  With\n--no-merged\nonly\nbranches not merged into the named commit will be listed.  If the\n<commit>\nargument is missing it defaults to\nHEAD\n(i.e. the tip of the current\nbranch).\nThe command’s second form creates a new branch head named\n<branch-name>\nwhich points to the current\nHEAD\n, or\n<start-point>\nif given. As a\nspecial case, for\n<start-point>\n, you may use\n<rev-A>\n...\n<rev-B>\nas a\nshortcut for the merge base of\n<rev-A>\nand\n<rev-B>\nif there is exactly\none merge base. You can leave out at most one of\n<rev-A>\nand\n<rev-B>\n,\nin which case it defaults to\nHEAD\n.\nNote that this will create the new branch, but it will not switch the\nworking tree to it; use\ngit\nswitch\n<new-branch>\nto switch to the\nnew branch.\nWhen a local branch is started off a remote-tracking branch, Git sets up the\nbranch (specifically the\nbranch.\n<name>\n.remote\nand\nbranch.\n<name>\n.merge\nconfiguration entries) so that\ngit\npull\nwill appropriately merge from\nthe remote-tracking branch. This behavior may be changed via the global\nbranch.autoSetupMerge\nconfiguration flag. That setting can be\noverridden by using the\n--track\nand\n--no-track\noptions, and\nchanged later using\ngit\nbranch\n--set-upstream-to\n.\nWith a\n-m\nor\n-M\noption,\n<old-branch>\nwill be renamed to\n<new-branch>\n.\nIf\n<old-branch>\nhad a corresponding reflog, it is renamed to match\n<new-branch>\n, and a reflog entry is created to remember the branch\nrenaming. If\n<new-branch>\nexists,\n-M\nmust be used to force the rename\nto happen.\nThe\n-c\nand\n-C\noptions have the exact same semantics as\n-m\nand\n-M\n, except instead of the branch being renamed, it will be copied to a\nnew name, along with its config and reflog.\nWith a\n-d\nor\n-D\noption,\n<branch-name>\nwill be deleted.  You may\nspecify more than one branch for deletion.  If the branch currently\nhas a reflog then the reflog will also be deleted.\nUse\n-r\ntogether with\n-d\nto delete remote-tracking branches. Note, that it\nonly makes sense to delete remote-tracking branches if they no longer exist\nin the remote repository or if\ngit\nfetch\nwas configured not to fetch\nthem again. See also the\nprune\nsubcommand of\ngit-remote[1]\nfor a\nway to clean up all obsolete remote-tracking branches.\nOPTIONS\n-d\n--delete\nDelete a branch. The branch must be fully merged in its\nupstream branch, or in\nHEAD\nif no upstream was set with\n--track\nor\n--set-upstream-to\n.\n-D\nShortcut for\n--delete\n--force\n.\n--create-reflog\nCreate the branch’s reflog.  This activates recording of\nall changes made to the branch ref, enabling use of date\nbased sha1 expressions such as\n<branch-name>\n@{yesterday}\n.\nNote that in non-bare repositories, reflogs are usually\nenabled by default by the\ncore.logAllRefUpdates\nconfig option.\nThe negated form\n--no-create-reflog\nonly overrides an earlier\n--create-reflog\n, but currently does not negate the setting of\ncore.logAllRefUpdates\n.\n-f\n--force\nReset\n<branch-name>\nto\n<start-point>\n, even if\n<branch-name>\nexists\nalready. Without\n-f\n,\ngit\nbranch\nrefuses to change an existing branch.\nIn combination with\n-d\n(or\n--delete\n), allow deleting the\nbranch irrespective of its merged status, or whether it even\npoints to a valid commit. In combination with\n-m\n(or\n--move\n), allow renaming the branch even if the new\nbranch name already exists, the same applies for\n-c\n(or\n--copy\n).\nNote that\ngit\nbranch\n-f\n<branch-name>\n[\n<start-point>\n]\n, even with\n-f\n,\nrefuses to change an existing branch\n<branch-name>\nthat is checked out\nin another worktree linked to the same repository.\n-m\n--move\nMove/rename a branch, together with its config and reflog.\n-M\nShortcut for\n--move\n--force\n.\n-c\n--copy\nCopy a branch, together with its config and reflog.\n-C\nShortcut for\n--copy\n--force\n.\n--color\n[\n=\n<when>\n]\nColor branches to highlight current, local, and\nremote-tracking branches.\nThe value must be\nalways\n(the default),\nnever\n, or\nauto\n.\n--no-color\nTurn off branch colors, even when the configuration file gives the\ndefault to color output.\nSame as\n--color=never\n.\n-i\n--ignore-case\nSorting and filtering branches are case insensitive.\n--omit-empty\nDo not print a newline after formatted refs where the format expands\nto the empty string.\n--column\n[\n=\n<options>\n]\n--no-column\nDisplay branch listing in columns. See configuration variable\ncolumn.branch\nfor option syntax.\n--column\nand\n--no-column\nwithout options are equivalent to\nalways\nand\nnever\nrespectively.\nThis option is only applicable in non-verbose mode.\n--sort=\n<key>\nSort based on\n<key>\n. Prefix\n-\nto sort in descending\norder of the value. You may use the\n--sort=\n<key>\noption\nmultiple times, in which case the last key becomes the primary\nkey. The keys supported are the same as those in\ngit-for-each-ref[1]\n.\nSort order defaults to the value configured for the\nbranch.sort\nvariable if it exists, or to sorting based on the\nfull refname (including\nrefs/...\nprefix). This lists\ndetached\nHEAD\n(if present) first, then local branches and\nfinally remote-tracking branches. See\ngit-config[1]\n.\n-r\n--remotes\nList or delete (if used with\n-d\n) the remote-tracking branches.\nCombine with\n--list\nto match the optional pattern(s).\n-a\n--all\nList both remote-tracking branches and local branches.\nCombine with\n--list\nto match optional pattern(s).\n-l\n--list\nList branches.  With optional\n<pattern>\n...\n, e.g.\ngit\nbranch\n--list\nmaint-*'\n, list only the branches that match\nthe pattern(s).\n--show-current\nPrint the name of the current branch. In detached\nHEAD\nstate,\nnothing is printed.\n-v\n-vv\n--verbose\nWhen in list mode,\nshow sha1 and commit subject line for each head, along with\nrelationship to upstream branch (if any). If given twice, print\nthe path of the linked worktree (if any) and the name of the upstream\nbranch, as well (see also\ngit\nremote\nshow\n<remote>\n).  Note that the\ncurrent worktree’s\nHEAD\nwill not have its path printed (it will always\nbe your current directory).\n-q\n--quiet\nBe more quiet when creating or deleting a branch, suppressing\nnon-error messages.\n--abbrev=\n<n>\nIn the verbose listing that show the commit object name,\nshow the shortest prefix that is at least\n<n>\nhexdigits\nlong that uniquely refers the object.\nThe default value is 7 and can be overridden by the\ncore.abbrev\nconfig option.\n--no-abbrev\nDisplay the full sha1s in the output listing rather than abbreviating them.\n-t\n--track\n[\n=\n(\ndirect\n|\ninherit\n)]\nWhen creating a new branch, set up\nbranch.\n<name>\n.remote\nand\nbranch.\n<name>\n.merge\nconfiguration entries to set \"upstream\" tracking\nconfiguration for the new branch. This\nconfiguration will tell git to show the relationship between the\ntwo branches in\ngit\nstatus\nand\ngit\nbranch\n-v\n. Furthermore,\nit directs\ngit\npull\nwithout arguments to pull from the\nupstream when the new branch is checked out.\nThe exact upstream branch is chosen depending on the optional argument:\n-t\n,\n--track\n, or\n--track=direct\nmeans to use the start-point branch\nitself as the upstream;\n--track=inherit\nmeans to copy the upstream\nconfiguration of the start-point branch.\nThe\nbranch.autoSetupMerge\nconfiguration variable specifies how\ngit\nswitch\n,\ngit\ncheckout\nand\ngit\nbranch\nshould behave when neither\n--track\nnor\n--no-track\nare specified:\nThe default option,\ntrue\n, behaves as though\n--track=direct\nwere given whenever the start-point is a remote-tracking branch.\nfalse\nbehaves as if\n--no-track\nwere given.\nalways\nbehaves as though\n--track=direct\nwere given.\ninherit\nbehaves as though\n--track=inherit\nwere given.\nsimple\nbehaves as though\n--track=direct\nwere given only when\nthe\n<start-point>\nis a remote-tracking branch and the new branch has the same\nname as the remote branch.\nSee\ngit-pull[1]\nand\ngit-config[1]\nfor additional discussion on\nhow the\nbranch.\n<name>\n.remote\nand\nbranch.\n<name>\n.merge\noptions are used.\n--no-track\nDo not set up \"upstream\" configuration, even if the\nbranch.autoSetupMerge\nconfiguration variable is set.\n--recurse-submodules\nTHIS OPTION IS EXPERIMENTAL! Cause the current command to\nrecurse into submodules if\nsubmodule.propagateBranches\nis\nenabled. See\nsubmodule.propagateBranches\nin\ngit-config[1]\n. Currently, only branch creation is\nsupported.\nWhen used in branch creation, a new branch\n<branch-name>\nwill be created\nin the superproject and all of the submodules in the superproject’s\n<start-point>\n. In submodules, the branch will point to the submodule\ncommit in the superproject’s\n<start-point>\nbut the branch’s tracking\ninformation will be set up based on the submodule’s branches and remotes\ne.g.\ngit\nbranch\n--recurse-submodules\ntopic\norigin/main\nwill create the\nsubmodule branch \"topic\" that points to the submodule commit in the\nsuperproject’s \"origin/main\", but tracks the submodule’s \"origin/main\".\n--set-upstream\nAs this option had confusing syntax, it is no longer supported.\nPlease use\n--track\nor\n--set-upstream-to\ninstead.\n-u\n<upstream>\n--set-upstream-to=\n<upstream>\nSet up\n<branch-name>\n's tracking information so\n<upstream>\nis\nconsidered\n<branch-name>\n's upstream branch. If no\n<branch-name>\nis specified, then it defaults to the current branch.\n--unset-upstream\nRemove the upstream information for\n<branch-name>\n. If no branch\nis specified it defaults to the current branch.\n--edit-description\nOpen an editor and edit the text to explain what the branch is\nfor, to be used by various other commands (e.g.\nformat-patch\n,\nrequest-pull\n, and\nmerge\n(if enabled)). Multi-line explanations\nmay be used.\n--contains\n[\n<commit>\n]\nOnly list branches which contain\n<commit>\n(\nHEAD\nif not specified). Implies\n--list\n.\n--no-contains\n[\n<commit>\n]\nOnly list branches which don’t contain\n<commit>\n(\nHEAD\nif not specified). Implies\n--list\n.\n--merged\n[\n<commit>\n]\nOnly list branches whose tips are reachable from\n<commit>\n(\nHEAD\nif not specified). Implies\n--list\n.\n--no-merged\n[\n<commit>\n]\nOnly list branches whose tips are not reachable from\n<commit>\n(\nHEAD\nif not specified). Implies\n--list\n.\n--points-at\n<object>\nOnly list branches of\n<object>\n.\n--format\n<format>\nA string that interpolates\n%\n(\nfieldname\n)\nfrom a branch ref being shown\nand the object it points at.\n<format>\nis the same as\nthat of\ngit-for-each-ref[1]\n.\n<branch-name>\nThe name of the branch to create or delete.\nThe new branch name must pass all checks defined by\ngit-check-ref-format[1]\n.  Some of these checks\nmay restrict the characters allowed in a branch name.\n<start-point>\nThe new branch head will point to this commit.  It may be\ngiven as a branch name, a commit-id, or a tag.  If this\noption is omitted, the current\nHEAD\nwill be used instead.\n<old-branch>\nThe name of an existing branch.  If this option is omitted,\nthe name of the current branch will be used instead.\n<new-branch>\nThe new name for an existing branch. The same restrictions as for\n<branch-name>\napply.\nCONFIGURATION\npager.branch\nis only respected when listing branches, i.e., when\n--list\nis used or implied. The default is to use a pager.\nSee\ngit-config[1]\n.\nEverything above this line in this section isn’t included from the\ngit-config[1]\ndocumentation. The content that follows is the\nsame as what’s found there:\nbranch.autoSetupMerge\nTells\ngit\nbranch\n,\ngit\nswitch\nand\ngit\ncheckout\nto set up new branches\nso that\ngit-pull[1]\nwill appropriately merge from the\nstarting point branch. Note that even if this option is not set,\nthis behavior can be chosen per-branch using the\n--track\nand\n--no-track\noptions.  This option defaults to\ntrue\n. The valid settings\nare:\nfalse\nno automatic setup is done\ntrue\nautomatic setup is done when the starting point is a remote-tracking branch\nalways\nautomatic setup is done when the starting point is either a\nlocal branch or remote-tracking branch\ninherit\nif the starting point has a tracking configuration, it is copied to the new\nbranch\nsimple\nautomatic setup is done only when the starting point\nis a remote-tracking branch and the new branch has the same name as the\nremote branch.\nbranch.autoSetupRebase\nWhen a new branch is created with\ngit\nbranch\n,\ngit\nswitch\nor\ngit\ncheckout\nthat tracks another branch, this variable tells Git to set\nup pull to rebase instead of merge (see\nbranch.\n<name>\n.rebase\n).\nThe valid settings are:\nnever\nrebase is never automatically set to true.\nlocal\nrebase is set to true for tracked branches of other local branches.\nremote\nrebase is set to true for tracked branches of remote-tracking branches.\nalways\nrebase will be set to true for all tracking branches.\nSee\nbranch.autoSetupMerge\nfor details on how to set up a branch to track another branch.\nThis option defaults to\nnever\n.\nbranch.sort\nThis variable controls the sort ordering of branches when displayed by\ngit-branch[1]\n. Without the\n--sort=\n<value>\noption provided, the\nvalue of this variable will be used as the default.\nSee\ngit-for-each-ref[1]\nfield names for valid values.\nbranch.\n<name>\n.remote\nWhen on branch\n<name>\n, it tells\ngit\nfetch\nand\ngit\npush\nwhich remote to fetch from or push to.  The remote to push to\nmay be overridden with\nremote.pushDefault\n(for all branches).\nThe remote to push to, for the current branch, may be further\noverridden by\nbranch.\n<name>\n.pushRemote\n.  If no remote is\nconfigured, or if you are not on any branch and there is more than\none remote defined in the repository, it defaults to\norigin\nfor\nfetching and\nremote.pushDefault\nfor pushing.\nAdditionally,\n.\n(a period) is the current local repository\n(a dot-repository), see\nbranch.\n<name>\n.merge\n's final note below.\nbranch.\n<name>\n.pushRemote\nWhen on branch\n<name>\n, it overrides\nbranch.\n<name>\n.remote\nfor\npushing.  It also overrides\nremote.pushDefault\nfor pushing\nfrom branch\n<name>\n.  When you pull from one place (e.g. your\nupstream) and push to another place (e.g. your own publishing\nrepository), you would want to set\nremote.pushDefault\nto\nspecify the remote to push to for all branches, and use this\noption to override it for a specific branch.\nbranch.\n<name>\n.merge\nDefines, together with\nbranch.\n<name>\n.remote\n, the upstream branch\nfor the given branch. It tells\ngit\nfetch\n/\ngit\npull\n/\ngit\nrebase\nwhich\nbranch to merge and can also affect\ngit\npush\n(see\npush.default\n).\nWhen in branch\n<name>\n, it tells\ngit\nfetch\nthe default\nrefspec to be marked for merging in\nFETCH_HEAD\n. The value is\nhandled like the remote part of a refspec, and must match a\nref which is fetched from the remote given by\nbranch.\n<name>\n.remote\n.\nThe merge information is used by\ngit\npull\n(which first calls\ngit\nfetch\n) to lookup the default branch for merging. Without\nthis option,\ngit\npull\ndefaults to merge the first refspec fetched.\nSpecify multiple values to get an octopus merge.\nIf you wish to setup\ngit\npull\nso that it merges into\n<name>\nfrom\nanother branch in the local repository, you can point\nbranch.\n<name>\n.merge\nto the desired branch, and use the relative path\nsetting\n.\n(a period) for\nbranch.\n<name>\n.remote\n.\nbranch.\n<name>\n.mergeOptions\nSets default options for merging into branch\n<name>\n. The syntax and\nsupported options are the same as those of\ngit-merge[1]\n, but\noption values containing whitespace characters are currently not\nsupported.\nbranch.\n<name>\n.rebase\nWhen true, rebase the branch\n<name>\non top of the fetched branch,\ninstead of merging the default branch from the default remote when\ngit\npull\nis run. See\npull.rebase\nfor doing this in a non\nbranch-specific manner.\nWhen\nmerges\n(or just\nm\n), pass the\n--rebase-merges\noption to\ngit\nrebase\nso that the local merge commits are included in the rebase (see\ngit-rebase[1]\nfor details).\nWhen the value is\ninteractive\n(or just\ni\n), the rebase is run in interactive\nmode.\nNOTE\n: this is a possibly dangerous operation; do\nnot\nuse\nit unless you understand the implications (see\ngit-rebase[1]\nfor details).\nbranch.\n<name>\n.description\nBranch description, can be edited with\ngit\nbranch\n--edit-description\n. Branch description is\nautomatically added to the\nformat-patch\ncover letter or\nrequest-pull\nsummary.\nEXAMPLES\nStart development from a known tag\n$ git clone git://git.kernel.org/pub/scm/.../linux-2.6 my2.6\n$ cd my2.6\n$ git branch my2.6.14 v2.6.14\n(1)\n$ git switch my2.6.14\nThis step and the next one could be combined into a single step with\n\"checkout -b my2.6.14 v2.6.14\".\nDelete an unneeded branch\n$ git clone git://git.kernel.org/.../git.git my.git\n$ cd my.git\n$ git branch -d -r origin/todo origin/html origin/man\n(1)\n$ git branch -D test\n(2)\nDelete the remote-tracking branches \"todo\", \"html\" and \"man\". The next\ngit\nfetch\nor\ngit\npull\nwill create them again unless you configure them not to.\nSee\ngit-fetch[1]\n.\nDelete the \"test\" branch even if the \"master\" branch (or whichever branch\nis currently checked out) does not have all commits from the test branch.\nListing branches from a specific remote\n$ git branch -r -l '<remote>/<pattern>'\n(1)\n$ git for-each-ref 'refs/remotes/<remote>/<pattern>'\n(2)\nUsing\n-a\nwould conflate\n<remote>\nwith any local branches you happen to\nhave been prefixed with the same\n<remote>\npattern.\nfor-each-ref\ncan take a wide range of options. See\ngit-for-each-ref[1]\nPatterns will normally need quoting.\nNOTES\nIf you are creating a branch that you want to switch to immediately,\nit is easier to use the\ngit\nswitch\ncommand with its\n-c\noption to\ndo the same thing with a single command.\nThe options\n--contains\n,\n--no-contains\n,\n--merged\nand\n--no-merged\nserve four related but different purposes:\n--contains\n<commit>\nis used to find all branches which will need\nspecial attention if\n<commit>\nwere to be rebased or amended, since those\nbranches contain the specified\n<commit>\n.\n--no-contains\n<commit>\nis the inverse of that, i.e. branches that don’t\ncontain the specified\n<commit>\n.\n--merged\nis used to find all branches which can be safely deleted,\nsince those branches are fully contained by\nHEAD\n.\n--no-merged\nis used to find branches which are candidates for merging\ninto\nHEAD\n, since those branches are not fully contained by\nHEAD\n.\nWhen combining multiple\n--contains\nand\n--no-contains\nfilters, only\nreferences that contain at least one of the\n--contains\ncommits and\ncontain none of the\n--no-contains\ncommits are shown.\nWhen combining multiple\n--merged\nand\n--no-merged\nfilters, only\nreferences that are reachable from at least one of the\n--merged\ncommits and from none of the\n--no-merged\ncommits are shown.\nSEE ALSO\ngit-check-ref-format[1]\n,\ngit-fetch[1]\n,\ngit-remote[1]\n,\n\"Understanding history: What is\na branch?\"\nin the Git User’s Manual.\nGIT\nPart of the\ngit[1]\nsuite\nbranch", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://git-scm.com/docs/git-branch"}}
{"text": "Git - git-merge Documentation\nEnglish ▾\nLocalized versions of\ngit-merge\nmanual\nEnglish\nFrançais\nPortuguês (Brasil)\nукраїнська мова\n简体中文\nTopics ▾\nSetup and Config\ngit\nconfig\nhelp\nbugreport\nCredential helpers\nGetting and Creating Projects\ninit\nclone\nBasic Snapshotting\nadd\nstatus\ndiff\ncommit\nnotes\nrestore\nreset\nrm\nmv\nBranching and Merging\nbranch\ncheckout\nswitch\nmerge\nmergetool\nlog\nstash\ntag\nworktree\nSharing and Updating Projects\nfetch\npull\npush\nremote\nsubmodule\nInspection and Comparison\nshow\nlog\ndiff\ndifftool\nrange-diff\nshortlog\ndescribe\nPatching\napply\ncherry-pick\ndiff\nrebase\nrevert\nDebugging\nbisect\nblame\ngrep\nEmail\nam\napply\nimap-send\nformat-patch\nsend-email\nrequest-pull\nExternal Systems\nsvn\nfast-import\nServer Admin\ndaemon\nupdate-server-info\nGuides\ngitattributes\nCommand-line interface conventions\nEveryday Git\nFrequently Asked Questions (FAQ)\nGlossary\nHooks\ngitignore\ngitmodules\nRevisions\nSubmodules\nTutorial\nWorkflows\nAll guides...\nAdministration\nclean\ngc\nfsck\nreflog\nfilter-branch\ninstaweb\narchive\nbundle\nPlumbing Commands\ncat-file\ncheck-ignore\ncheckout-index\ncommit-tree\ncount-objects\ndiff-index\nfor-each-ref\nhash-object\nls-files\nls-tree\nmerge-base\nread-tree\nrev-list\nrev-parse\nshow-ref\nsymbolic-ref\nupdate-index\nupdate-ref\nverify-pack\nwrite-tree\nLatest version\n▾\ngit-merge last updated in 2.52.0\nChanges in the\ngit-merge\nmanual\n2.52.0\n2025-11-17\n2.51.1 → 2.51.2 no changes\n2.51.0\n2025-08-18\n2.50.1 no changes\n2.50.0\n2025-06-16\n2.49.1 no changes\n2.49.0\n2025-03-14\n2.47.1 → 2.48.2 no changes\n2.47.0\n2024-10-06\n2.43.2 → 2.46.4 no changes\n2.43.1\n2024-02-09\n2.43.0\n2023-11-20\n2.42.1 → 2.42.4 no changes\n2.42.0\n2023-08-21\n2.39.4 → 2.41.3 no changes\n2.39.3\n2023-04-17\n2.38.1 → 2.39.2 no changes\n2.38.0\n2022-10-02\n2.35.1 → 2.37.7 no changes\n2.35.0\n2022-01-24\n2.34.1 → 2.34.8 no changes\n2.34.0\n2021-11-15\n2.33.2 → 2.33.8 no changes\n2.33.1\n2021-10-12\n2.33.0\n2021-08-16\n2.30.1 → 2.32.7 no changes\n2.30.0\n2020-12-27\n2.29.1 → 2.29.3 no changes\n2.29.0\n2020-10-19\n2.27.1 → 2.28.1 no changes\n2.27.0\n2020-06-01\n2.25.1 → 2.26.3 no changes\n2.25.0\n2020-01-13\n2.24.1 → 2.24.4 no changes\n2.24.0\n2019-11-04\n2.23.1 → 2.23.4 no changes\n2.23.0\n2019-08-16\n2.22.2 → 2.22.5 no changes\n2.22.1\n2019-08-11\n2.22.0\n2019-06-07\n2.20.1 → 2.21.4 no changes\n2.20.0\n2018-12-09\n2.19.1 → 2.19.6 no changes\n2.19.0\n2018-09-10\n2.18.1 → 2.18.5 no changes\n2.18.0\n2018-06-21\n2.17.1 → 2.17.6 no changes\n2.17.0\n2018-04-02\n2.16.6\n2019-12-06\n2.15.4\n2019-12-06\n2.14.6\n2019-12-06\n2.13.7\n2018-05-22\n2.12.5\n2017-09-22\n2.10.5 → 2.11.4 no changes\n2.9.5\n2017-07-30\n2.8.6\n2017-07-30\n2.7.6 no changes\n2.6.7\n2017-05-05\n2.5.6\n2017-05-05\n2.4.12\n2017-05-05\n2.3.10 no changes\n2.2.3\n2015-09-04\n2.1.4\n2014-12-17\n2.0.5\n2014-12-17\nNAME\ngit-merge - Join two or more development histories together\nSYNOPSIS\ngit\nmerge\n[\n-n\n] [\n--stat\n] [\n--compact-summary\n] [\n--no-commit\n] [\n--squash\n] [\n--\n[\nno-\n]\nedit\n]\n[\n--no-verify\n] [\n-s\n<strategy>\n] [\n-X\n<strategy-option>\n] [\n-S\n[\n<keyid>\n]]\n[\n--\n[\nno-\n]\nallow-unrelated-histories\n]\n[\n--\n[\nno-\n]\nrerere-autoupdate\n] [\n-m\n<msg>\n] [\n-F\n<file>\n]\n[\n--into-name\n<branch>\n] [\n<commit>\n…​]\ngit\nmerge\n(\n--continue\n|\n--abort\n|\n--quit\n)\nDESCRIPTION\nIncorporates changes from the named commits (since the time their\nhistories diverged from the current branch) into the current\nbranch.  This command is used by\ngit\npull\nto incorporate changes\nfrom another repository and can be used by hand to merge changes\nfrom one branch into another.\nAssume the following history exists and the current branch is\nmaster\n:\nA---B---C topic\n/\nD---E---F---G master\nThen\ngit\nmerge\ntopic\nwill replay the changes made on the\ntopic\nbranch since it diverged from\nmaster\n(i.e.,\nE\n) until\nits current commit (\nC\n) on top of\nmaster\n, and record the result\nin a new commit along with the names of the two parent commits and\na log message from the user describing the changes. Before the operation,\nORIG_HEAD\nis set to the tip of the current branch (\nG\n).\nA---B---C topic\n/         \\\nD---E---F---G---H master\nA merge stops if there’s a conflict that cannot be resolved\nautomatically or if\n--no-commit\nwas provided when initiating the\nmerge. At that point you can run\ngit\nmerge\n--abort\nor\ngit\nmerge\n--continue\n.\ngit\nmerge\n--abort\nwill abort the merge process and try to reconstruct\nthe pre-merge state. However, if there were uncommitted changes when the\nmerge started (and especially if those changes were further modified\nafter the merge was started),\ngit\nmerge\n--abort\nwill in some cases be\nunable to reconstruct the original (pre-merge) changes. Therefore:\nWarning\nRunning\ngit\nmerge\nwith non-trivial uncommitted changes is\ndiscouraged: while possible, it may leave you in a state that is hard to\nback out of in the case of a conflict.\nOPTIONS\n--commit\n--no-commit\nPerform the merge and commit the result. This option can\nbe used to override\n--no-commit\n.\nWith\n--no-commit\nperform the merge and stop just before creating\na merge commit, to give the user a chance to inspect and further\ntweak the merge result before committing.\nNote that fast-forward updates do not create a merge commit and\ntherefore there is no way to stop those merges with\n--no-commit\n.\nThus, if you want to ensure your branch is not changed or updated\nby the merge command, use\n--no-ff\nwith\n--no-commit\n.\n--edit\n-e\n--no-edit\nInvoke an editor before committing successful mechanical merge to\nfurther edit the auto-generated merge message, so that the user\ncan explain and justify the merge. The\n--no-edit\noption can be\nused to accept the auto-generated message (this is generally\ndiscouraged).\nThe\n--edit\n(or\n-e\n) option is still useful if you are\ngiving a draft message with the\n-m\noption from the command line\nand want to edit it in the editor.\nOlder scripts may depend on the historical behaviour of not allowing the\nuser to edit the merge log message. They will see an editor opened when\nthey run\ngit\nmerge\n. To make it easier to adjust such scripts to the\nupdated behaviour, the environment variable\nGIT_MERGE_AUTOEDIT\ncan be\nset to\nno\nat the beginning of them.\n--cleanup=\n<mode>\nThis option determines how the merge message will be cleaned up before\ncommitting. See\ngit-commit[1]\nfor more details. In addition, if\nthe\n<mode>\nis given a value of\nscissors\n, scissors will be appended\nto\nMERGE_MSG\nbefore being passed on to the commit machinery in the\ncase of a merge conflict.\n--ff\n--no-ff\n--ff-only\nSpecifies how a merge is handled when the merged-in history is\nalready a descendant of the current history.\n--ff\nis the\ndefault unless merging an annotated (and possibly signed) tag\nthat is not stored in its natural place in the\nrefs/tags/\nhierarchy, in which case\n--no-ff\nis assumed.\nWith\n--ff\n, when possible resolve the merge as a fast-forward (only\nupdate the branch pointer to match the merged branch; do not create a\nmerge commit).  When not possible (when the merged-in history is not a\ndescendant of the current history), create a merge commit.\nWith\n--no-ff\n, create a merge commit in all cases, even when the merge\ncould instead be resolved as a fast-forward.\nWith\n--ff-only\n, resolve the merge as a fast-forward when possible.\nWhen not possible, refuse to merge and exit with a non-zero status.\n-S\n[\n<key-id>\n]\n--gpg-sign\n[\n=\n<key-id>\n]\n--no-gpg-sign\nGPG-sign the resulting merge commit. The\n<key-id>\nargument is\noptional and defaults to the committer identity; if specified,\nit must be stuck to the option without a space.\n--no-gpg-sign\nis useful to countermand both\ncommit.gpgSign\nconfiguration variable,\nand earlier\n--gpg-sign\n.\n--log\n[\n=\n<n>\n]\n--no-log\nIn addition to branch names, populate the log message with\none-line descriptions from at most\n<n>\nactual commits that are being\nmerged. See also\ngit-fmt-merge-msg[1]\n.\nWith\n--no-log\ndo not list one-line descriptions from the\nactual commits being merged.\n--signoff\n--no-signoff\nAdd a\nSigned-off-by\ntrailer by the committer at the end of the commit\nlog message.  The meaning of a signoff depends on the project\nto which you’re committing.  For example, it may certify that\nthe committer has the rights to submit the work under the\nproject’s license or agrees to some contributor representation,\nsuch as a Developer Certificate of Origin.\n(See\nhttps://developercertificate.org\nfor the one used by the\nLinux kernel and Git projects.)  Consult the documentation or\nleadership of the project to which you’re contributing to\nunderstand how the signoffs are used in that project.\nThe\n--no-signoff\noption can be used to countermand an earlier\n--signoff\noption on the command line.\n--stat\n-n\n--no-stat\nShow a diffstat at the end of the merge. The diffstat is also\ncontrolled by the configuration option merge.stat.\nWith\n-n\nor\n--no-stat\ndo not show a diffstat at the end of the\nmerge.\n--compact-summary\nShow a compact-summary at the end of the merge.\n--squash\n--no-squash\nProduce the working tree and index state as if a real merge\nhappened (except for the merge information), but do not actually\nmake a commit, move the\nHEAD\n, or record\n$GIT_DIR/MERGE_HEAD\n(to cause the next\ngit\ncommit\ncommand to create a merge\ncommit).  This allows you to create a single commit on top of\nthe current branch whose effect is the same as merging another\nbranch (or more in case of an octopus).\nWith\n--no-squash\nperform the merge and commit the result. This\noption can be used to override\n--squash\n.\nWith\n--squash\n,\n--commit\nis not allowed, and will fail.\n--verify\n--no-verify\nBy default, the pre-merge and commit-msg hooks are run.\nWhen\n--no-verify\nis given, these are bypassed.\nSee also\ngithooks[5]\n.\n-s\n<strategy>\n--strategy=\n<strategy>\nUse the given merge strategy; can be supplied more than\nonce to specify them in the order they should be tried.\nIf there is no\n-s\noption, a built-in list of strategies\nis used instead (\nort\nwhen merging a single head,\noctopus\notherwise).\n-X\n<option>\n--strategy-option=\n<option>\nPass merge strategy specific option through to the merge\nstrategy.\n--verify-signatures\n--no-verify-signatures\nVerify that the tip commit of the side branch being merged is\nsigned with a valid key, i.e. a key that has a valid uid: in the\ndefault trust model, this means the signing key has been signed by\na trusted key.  If the tip commit of the side branch is not signed\nwith a valid key, the merge is aborted.\n--summary\n--no-summary\nSynonyms to\n--stat\nand\n--no-stat\n; these are deprecated and will be\nremoved in the future.\n-q\n--quiet\nOperate quietly. Implies\n--no-progress\n.\n-v\n--verbose\nBe verbose.\n--progress\n--no-progress\nTurn progress on/off explicitly. If neither is specified,\nprogress is shown if standard error is connected to a terminal.\nNote that not all merge strategies may support progress\nreporting.\n--autostash\n--no-autostash\nAutomatically create a temporary stash entry before the operation\nbegins, record it in the ref\nMERGE_AUTOSTASH\nand apply it after the operation ends.  This means\nthat you can run the operation on a dirty worktree.  However, use\nwith care: the final stash application after a successful\nmerge might result in non-trivial conflicts.\n--allow-unrelated-histories\nBy default,\ngit\nmerge\ncommand refuses to merge histories\nthat do not share a common ancestor.  This option can be\nused to override this safety when merging histories of two\nprojects that started their lives independently. As that is\na very rare occasion, no configuration variable to enable\nthis by default exists or will be added.\n-m\n<msg>\nSet the commit message to be used for the merge commit (in\ncase one is created).\nIf\n--log\nis specified, a shortlog of the commits being merged\nwill be appended to the specified message.\nThe\ngit\nfmt-merge-msg\ncommand can be\nused to give a good default for automated\ngit\nmerge\ninvocations. The automated message can include the branch description.\n--into-name\n<branch>\nPrepare the default merge message as if merging to the branch\n<branch>\n, instead of the name of the real branch to which\nthe merge is made.\n-F\n<file>\n--file=\n<file>\nRead the commit message to be used for the merge commit (in\ncase one is created).\nIf\n--log\nis specified, a shortlog of the commits being merged\nwill be appended to the specified message.\n--rerere-autoupdate\n--no-rerere-autoupdate\nAfter the rerere mechanism reuses a recorded resolution on\nthe current conflict to update the files in the working\ntree, allow it to also update the index with the result of\nresolution.\n--no-rerere-autoupdate\nis a good way to\ndouble-check what\nrerere\ndid and catch potential\nmismerges, before committing the result to the index with a\nseparate\ngit\nadd\n.\n--overwrite-ignore\n--no-overwrite-ignore\nSilently overwrite ignored files from the merge result. This\nis the default behavior. Use\n--no-overwrite-ignore\nto abort.\n--abort\nAbort the current conflict resolution process, and\ntry to reconstruct the pre-merge state. If an autostash entry is\npresent, apply it to the worktree.\nIf there were uncommitted worktree changes present when the merge\nstarted,\ngit\nmerge\n--abort\nwill in some cases be unable to\nreconstruct these changes. It is therefore recommended to always\ncommit or stash your changes before running\ngit\nmerge\n.\ngit\nmerge\n--abort\nis equivalent to\ngit\nreset\n--merge\nwhen\nMERGE_HEAD\nis present unless\nMERGE_AUTOSTASH\nis also present in\nwhich case\ngit\nmerge\n--abort\napplies the stash entry to the worktree\nwhereas\ngit\nreset\n--merge\nwill save the stashed changes in the stash\nlist.\n--quit\nForget about the current merge in progress. Leave the index\nand the working tree as-is. If\nMERGE_AUTOSTASH\nis present, the\nstash entry will be saved to the stash list.\n--continue\nAfter a\ngit\nmerge\nstops due to conflicts you can conclude the\nmerge by running\ngit\nmerge\n--continue\n(see \"HOW TO RESOLVE\nCONFLICTS\" section below).\n<commit>\n...\nCommits, usually other branch heads, to merge into our branch.\nSpecifying more than one commit will create a merge with\nmore than two parents (affectionately called an Octopus merge).\nIf no commit is given from the command line, merge the remote-tracking\nbranches that the current branch is configured to use as its upstream.\nSee also the configuration section of this manual page.\nWhen\nFETCH_HEAD\n(and no other commit) is specified, the branches\nrecorded in the\n.git/FETCH_HEAD\nfile by the previous invocation\nof\ngit\nfetch\nfor merging are merged to the current branch.\nPRE-MERGE CHECKS\nBefore applying outside changes, you should get your own work in\ngood shape and committed locally, so it will not be clobbered if\nthere are conflicts.  See also\ngit-stash[1]\n.\ngit\npull\nand\ngit\nmerge\nwill stop without doing anything when\nlocal uncommitted changes overlap with files that\ngit\npull\n/\ngit\nmerge\nmay need to update.\nTo avoid recording unrelated changes in the merge commit,\ngit\npull\nand\ngit\nmerge\nwill also abort if there are any changes\nregistered in the index relative to the\nHEAD\ncommit.  (Special\nnarrow exceptions to this rule may exist depending on which merge\nstrategy is in use, but generally, the index must match\nHEAD\n.)\nIf all named commits are already ancestors of\nHEAD\n,\ngit\nmerge\nwill exit early with the message \"Already up to date.\"\nFAST-FORWARD MERGE\nOften the current branch head is an ancestor of the named commit.\nThis is the most common case especially when invoked from\ngit\npull\n: you are tracking an upstream repository, you have committed\nno local changes, and now you want to update to a newer upstream\nrevision.  In this case, a new commit is not needed to store the\ncombined history; instead, the\nHEAD\n(along with the index) is\nupdated to point at the named commit, without creating an extra\nmerge commit.\nThis behavior can be suppressed with the\n--no-ff\noption.\nTRUE MERGE\nExcept in a fast-forward merge (see above), the branches to be\nmerged must be tied together by a merge commit that has both of them\nas its parents.\nA merged version reconciling the changes from all branches to be\nmerged is committed, and your\nHEAD\n, index, and working tree are\nupdated to it.  It is possible to have modifications in the working\ntree as long as they do not overlap; the update will preserve them.\nWhen it is not obvious how to reconcile the changes, the following\nhappens:\nThe\nHEAD\npointer stays the same.\nThe\nMERGE_HEAD\nref is set to point to the other branch head.\nPaths that merged cleanly are updated both in the index file and\nin your working tree.\nFor conflicting paths, the index file records up to three\nversions: stage 1 stores the version from the common ancestor,\nstage 2 from\nHEAD\n, and stage 3 from\nMERGE_HEAD\n(you\ncan inspect the stages with\ngit\nls-files\n-u\n).  The working\ntree files contain the result of the merge operation; i.e. 3-way\nmerge results with familiar conflict markers\n<<<\n===\n>>>\n.\nA ref named\nAUTO_MERGE\nis written, pointing to a tree\ncorresponding to the current content of the working tree (including\nconflict markers for textual conflicts).  Note that this ref is only\nwritten when the\nort\nmerge strategy is used (the default).\nNo other changes are made.  In particular, the local\nmodifications you had before you started merge will stay the\nsame and the index entries for them stay as they were,\ni.e. matching\nHEAD\n.\nIf you tried a merge which resulted in complex conflicts and\nwant to start over, you can recover with\ngit\nmerge\n--abort\n.\nMERGING TAG\nWhen merging an annotated (and possibly signed) tag, Git always\ncreates a merge commit even if a fast-forward merge is possible, and\nthe commit message template is prepared with the tag message.\nAdditionally, if the tag is signed, the signature check is reported\nas a comment in the message template. See also\ngit-tag[1]\n.\nWhen you want to just integrate with the work leading to the commit\nthat happens to be tagged, e.g. synchronizing with an upstream\nrelease point, you may not want to make an unnecessary merge commit.\nIn such a case, you can \"unwrap\" the tag yourself before feeding it\nto\ngit\nmerge\n, or pass\n--ff-only\nwhen you do not have any work on\nyour own. e.g.\ngit fetch origin\ngit merge v1.2.3^0\ngit merge --ff-only v1.2.3\nHOW CONFLICTS ARE PRESENTED\nDuring a merge, the working tree files are updated to reflect the result\nof the merge.  Among the changes made to the common ancestor’s version,\nnon-overlapping ones (that is, you changed an area of the file while the\nother side left that area intact, or vice versa) are incorporated in the\nfinal result verbatim.  When both sides made changes to the same area,\nhowever, Git cannot randomly pick one side over the other, and asks you to\nresolve it by leaving what both sides did to that area.\nBy default, Git uses the same style as the one used by the \"merge\" program\nfrom the RCS suite to present such a conflicted hunk, like this:\nHere are lines that are either unchanged from the common\nancestor, or cleanly resolved because only one side changed,\nor cleanly resolved because both sides changed the same way.\n<<<<<<< yours:sample.txt\nConflict resolution is hard;\nlet's go shopping.\n=======\nGit makes conflict resolution easy.\n>>>>>>> theirs:sample.txt\nAnd here is another line that is cleanly resolved or unmodified.\nThe area where a pair of conflicting changes happened is marked with markers\n<<<<<<<\n,\n=======\n, and\n>>>>>>>\n.  The part before the\n=======\nis typically your side, and the part afterwards is typically their side.\nThe default format does not show what the original said in the conflicting\narea.  You cannot tell how many lines are deleted and replaced with\nBarbie’s remark on your side.  The only thing you can tell is that your\nside wants to say it is hard and you’d prefer to go shopping, while the\nother side wants to claim it is easy.\nAn alternative style can be used by setting the\nmerge.conflictStyle\nconfiguration variable to either\ndiff3\nor\nzdiff3\n.  In\ndiff3\nstyle, the above conflict may look like this:\nHere are lines that are either unchanged from the common\nancestor, or cleanly resolved because only one side changed,\n<<<<<<< yours:sample.txt\nor cleanly resolved because both sides changed the same way.\nConflict resolution is hard;\nlet's go shopping.\n||||||| base:sample.txt\nor cleanly resolved because both sides changed identically.\nConflict resolution is hard.\n=======\nor cleanly resolved because both sides changed the same way.\nGit makes conflict resolution easy.\n>>>>>>> theirs:sample.txt\nAnd here is another line that is cleanly resolved or unmodified.\nwhile in\nzdiff3\nstyle, it may look like this:\nHere are lines that are either unchanged from the common\nancestor, or cleanly resolved because only one side changed,\nor cleanly resolved because both sides changed the same way.\n<<<<<<< yours:sample.txt\nConflict resolution is hard;\nlet's go shopping.\n||||||| base:sample.txt\nor cleanly resolved because both sides changed identically.\nConflict resolution is hard.\n=======\nGit makes conflict resolution easy.\n>>>>>>> theirs:sample.txt\nAnd here is another line that is cleanly resolved or unmodified.\nIn addition to the\n<<<<<<<\n,\n=======\n, and\n>>>>>>>\nmarkers, it uses\nanother\n|||||||\nmarker that is followed by the original text.  You can\ntell that the original just stated a fact, and your side simply gave in to\nthat statement and gave up, while the other side tried to have a more\npositive attitude.  You can sometimes come up with a better resolution by\nviewing the original.\nHOW TO RESOLVE CONFLICTS\nAfter seeing a conflict, you can do two things:\nDecide not to merge.  The only clean-ups you need are to reset\nthe index file to the\nHEAD\ncommit to reverse 2. and to clean\nup working tree changes made by 2. and 3.;\ngit\nmerge\n--abort\ncan be used for this.\nResolve the conflicts.  Git will mark the conflicts in\nthe working tree.  Edit the files into shape and\ngit\nadd\nthem to the index.  Use\ngit\ncommit\nor\ngit\nmerge\n--continue\nto seal the deal. The latter command\nchecks whether there is a (interrupted) merge in progress\nbefore calling\ngit\ncommit\n.\nYou can work through the conflict with a number of tools:\nUse a mergetool.\ngit\nmergetool\nto launch a graphical\nmergetool which will work through the merge with you.\nLook at the diffs.\ngit\ndiff\nwill show a three-way diff,\nhighlighting changes from both the\nHEAD\nand\nMERGE_HEAD\nversions.\ngit\ndiff\nAUTO_MERGE\nwill show what changes you’ve\nmade so far to resolve textual conflicts.\nLook at the diffs from each branch.\ngit\nlog\n--merge\n-p\n<path>\nwill show diffs first for the\nHEAD\nversion and then the\nMERGE_HEAD\nversion.\nLook at the originals.\ngit\nshow\n:1:filename\nshows the\ncommon ancestor,\ngit\nshow\n:2:filename\nshows the\nHEAD\nversion, and\ngit\nshow\n:3:filename\nshows the\nMERGE_HEAD\nversion.\nEXAMPLES\nMerge branches\nfixes\nand\nenhancements\non top of\nthe current branch, making an octopus merge:\n$ git merge fixes enhancements\nMerge branch\nobsolete\ninto the current branch, using\nours\nmerge strategy:\n$ git merge -s ours obsolete\nMerge branch\nmaint\ninto the current branch, but do not make\na new commit automatically:\n$ git merge --no-commit maint\nThis can be used when you want to include further changes to the\nmerge, or want to write your own merge commit message.\nYou should refrain from abusing this option to sneak substantial\nchanges into a merge commit.  Small fixups like bumping\nrelease/version name would be acceptable.\nMERGE STRATEGIES\nThe merge mechanism (\ngit\nmerge\nand\ngit\npull\ncommands) allows the\nbackend\nmerge strategies\nto be chosen with\n-s\noption.  Some strategies\ncan also take their own options, which can be passed by giving\n-X\n<option>\narguments to\ngit\nmerge\nand/or\ngit\npull\n.\nort\nThis is the default merge strategy when pulling or merging one\nbranch.  This strategy can only resolve two heads using a\n3-way merge algorithm.  When there is more than one common\nancestor that can be used for 3-way merge, it creates a merged\ntree of the common ancestors and uses that as the reference\ntree for the 3-way merge.  This has been reported to result in\nfewer merge conflicts without causing mismerges by tests done\non actual merge commits taken from Linux 2.6 kernel\ndevelopment history.  Additionally this strategy can detect\nand handle merges involving renames.  It does not make use of\ndetected copies.  The name for this algorithm is an acronym\n(\"Ostensibly Recursive’s Twin\") and came from the fact that it\nwas written as a replacement for the previous default\nalgorithm,\nrecursive\n.\nIn the case where the path is a submodule, if the submodule commit used on\none side of the merge is a descendant of the submodule commit used on the\nother side of the merge, Git attempts to fast-forward to the\ndescendant. Otherwise, Git will treat this case as a conflict, suggesting\nas a resolution a submodule commit that is descendant of the conflicting\nones, if one exists.\nThe\nort\nstrategy can take the following options:\nours\nThis option forces conflicting hunks to be auto-resolved cleanly by\nfavoring\nour\nversion.  Changes from the other tree that do not\nconflict with our side are reflected in the merge result.\nFor a binary file, the entire contents are taken from our side.\nThis should not be confused with the\nours\nmerge strategy, which does not\neven look at what the other tree contains at all.  It discards everything\nthe other tree did, declaring\nour\nhistory contains all that happened in it.\ntheirs\nThis is the opposite of\nours\n; note that, unlike\nours\n, there is\nno\ntheirs\nmerge strategy to confuse this merge option with.\nignore-space-change\nignore-all-space\nignore-space-at-eol\nignore-cr-at-eol\nTreats lines with the indicated type of whitespace change as\nunchanged for the sake of a three-way merge.  Whitespace\nchanges mixed with other changes to a line are not ignored.\nSee also\ngit-diff[1]\n-b\n,\n-w\n,\n--ignore-space-at-eol\n, and\n--ignore-cr-at-eol\n.\nIf\ntheir\nversion only introduces whitespace changes to a line,\nour\nversion is used;\nIf\nour\nversion introduces whitespace changes but\ntheir\nversion includes a substantial change,\ntheir\nversion is used;\nOtherwise, the merge proceeds in the usual way.\nrenormalize\nThis runs a virtual check-out and check-in of all three stages\nof any file which needs a three-way merge.  This option is\nmeant to be used when merging branches with different clean\nfilters or end-of-line normalization rules.  See \"Merging\nbranches with differing checkin/checkout attributes\" in\ngitattributes[5]\nfor details.\nno-renormalize\nDisables the\nrenormalize\noption.  This overrides the\nmerge.renormalize\nconfiguration variable.\nfind-renames\n[\n=\n<n>\n]\nTurn on rename detection, optionally setting the similarity\nthreshold.  This is the default. This overrides the\nmerge.renames\nconfiguration variable.\nSee also\ngit-diff[1]\n--find-renames\n.\nrename-threshold=\n<n>\nDeprecated synonym for\nfind-renames=\n<n>\n.\nno-renames\nTurn off rename detection. This overrides the\nmerge.renames\nconfiguration variable.\nSee also\ngit-diff[1]\n--no-renames\n.\nhistogram\nDeprecated synonym for\ndiff-algorithm=histogram\n.\npatience\nDeprecated synonym for\ndiff-algorithm=patience\n.\ndiff-algorithm=\n(\nhistogram\n|\nminimal\n|\nmyers\n|\npatience\n)\nUse a different diff algorithm while merging, which can help\navoid mismerges that occur due to unimportant matching lines\n(such as braces from distinct functions).  See also\ngit-diff[1]\n--diff-algorithm\n.  Note that\nort\ndefaults to\ndiff-algorithm=histogram\n, while regular diffs\ncurrently default to the\ndiff.algorithm\nconfig setting.\nsubtree\n[\n=\n<path>\n]\nThis option is a more advanced form of\nsubtree\nstrategy, where\nthe strategy makes a guess on how two trees must be shifted to\nmatch with each other when merging.  Instead, the specified path\nis prefixed (or stripped from the beginning) to make the shape of\ntwo trees to match.\nrecursive\nThis is now a synonym for\nort\n.  It was an alternative\nimplementation until v2.49.0, but was redirected to mean\nort\nin v2.50.0.  The previous recursive strategy was the default\nstrategy for resolving two heads from Git v0.99.9k until\nv2.33.0.\nresolve\nThis can only resolve two heads (i.e. the current branch\nand another branch you pulled from) using a 3-way merge\nalgorithm.  It tries to carefully detect criss-cross\nmerge ambiguities.  It does not handle renames.\noctopus\nThis resolves cases with more than two heads, but refuses to do\na complex merge that needs manual resolution.  It is\nprimarily meant to be used for bundling topic branch\nheads together.  This is the default merge strategy when\npulling or merging more than one branch.\nours\nThis resolves any number of heads, but the resulting tree of the\nmerge is always that of the current branch head, effectively\nignoring all changes from all other branches.  It is meant to\nbe used to supersede old development history of side\nbranches.  Note that this is different from the\n-Xours\noption to\nthe\nort\nmerge strategy.\nsubtree\nThis is a modified\nort\nstrategy. When merging trees A and\nB, if B corresponds to a subtree of A, B is first adjusted to\nmatch the tree structure of A, instead of reading the trees at\nthe same level. This adjustment is also done to the common\nancestor tree.\nWith the strategies that use 3-way merge (including the default,\nort\n),\nif a change is made on both branches, but later reverted on one of the\nbranches, that change will be present in the merged result; some people find\nthis behavior confusing.  It occurs because only the heads and the merge base\nare considered when performing a merge, not the individual commits.  The merge\nalgorithm therefore considers the reverted change as no change at all, and\nsubstitutes the changed version instead.\nCONFIGURATION\nbranch.\n<name>\n.mergeOptions\nSets default options for merging into branch\n<name>\n. The syntax and\nsupported options are the same as those of\ngit\nmerge\n, but option\nvalues containing whitespace characters are currently not supported.\nEverything above this line in this section isn’t included from the\ngit-config[1]\ndocumentation. The content that follows is the\nsame as what’s found there:\nmerge.conflictStyle\nSpecify the style in which conflicted hunks are written out to\nworking tree files upon merge.  The default is \"merge\", which\nshows a\n<<<<<<<\nconflict marker, changes made by one side,\na\n=======\nmarker, changes made by the other side, and then\na\n>>>>>>>\nmarker.  An alternate style, \"diff3\", adds a\n|||||||\nmarker and the original text before the\n=======\nmarker.  The\n\"merge\" style tends to produce smaller conflict regions than diff3,\nboth because of the exclusion of the original text, and because\nwhen a subset of lines match on the two sides, they are just pulled\nout of the conflict region.  Another alternate style, \"zdiff3\", is\nsimilar to diff3 but removes matching lines on the two sides from\nthe conflict region when those matching lines appear near either\nthe beginning or end of a conflict region.\nmerge.defaultToUpstream\nIf merge is called without any commit argument, merge the upstream\nbranches configured for the current branch by using their last\nobserved values stored in their remote-tracking branches.\nThe values of the\nbranch.<current branch>.merge\nthat name the\nbranches at the remote named by\nbranch.\n<current-branch>\n.remote\nare consulted, and then they are mapped via\nremote.\n<remote>\n.fetch\nto their corresponding remote-tracking branches, and the tips of\nthese tracking branches are merged. Defaults to true.\nmerge.ff\nBy default, Git does not create an extra merge commit when merging\na commit that is a descendant of the current commit. Instead, the\ntip of the current branch is fast-forwarded. When set to\nfalse\n,\nthis variable tells Git to create an extra merge commit in such\na case (equivalent to giving the\n--no-ff\noption from the command\nline). When set to\nonly\n, only such fast-forward merges are\nallowed (equivalent to giving the\n--ff-only\noption from the\ncommand line).\nmerge.verifySignatures\nIf true, this is equivalent to the\n--verify-signatures\ncommand\nline option. See\ngit-merge[1]\nfor details.\nmerge.branchdesc\nIn addition to branch names, populate the log message with\nthe branch description text associated with them.  Defaults\nto false.\nmerge.log\nIn addition to branch names, populate the log message with at\nmost the specified number of one-line descriptions from the\nactual commits that are being merged.  Defaults to false, and\ntrue is a synonym for 20.\nmerge.suppressDest\nBy adding a glob that matches the names of integration\nbranches to this multi-valued configuration variable, the\ndefault merge message computed for merges into these\nintegration branches will omit \"into\n<branch-name>\n\" from\nits title.\nAn element with an empty value can be used to clear the list\nof globs accumulated from previous configuration entries.\nWhen there is no\nmerge.suppressDest\nvariable defined, the\ndefault value of\nmaster\nis used for backward compatibility.\nmerge.renameLimit\nThe number of files to consider in the exhaustive portion of\nrename detection during a merge.  If not specified, defaults\nto the value of\ndiff.renameLimit\n.  If neither\nmerge.renameLimit\nnor\ndiff.renameLimit\nare specified,\ncurrently defaults to 7000.  This setting has no effect if\nrename detection is turned off.\nmerge.renames\nWhether Git detects renames.  If set to\nfalse\n, rename detection\nis disabled. If set to\ntrue\n, basic rename detection is enabled.\nDefaults to the value of diff.renames.\nmerge.directoryRenames\nWhether Git detects directory renames, affecting what happens at\nmerge time to new files added to a directory on one side of\nhistory when that directory was renamed on the other side of\nhistory. Possible values are:\nfalse\nDirectory rename detection is disabled, meaning that such new files will be\nleft behind in the old directory.\ntrue\nDirectory rename detection is enabled, meaning that such new files will be\nmoved into the new directory.\nconflict\nA conflict will be reported for such paths.\nIf\nmerge.renames\nis\nfalse\n,\nmerge.directoryRenames\nis ignored and treated\nas\nfalse\n. Defaults to\nconflict\n.\nmerge.renormalize\nTell Git that canonical representation of files in the\nrepository has changed over time (e.g. earlier commits record\ntext files with\nCRLF\nline endings, but recent ones use\nLF\nline\nendings).  In such a repository, for each file where a\nthree-way content merge is needed, Git can convert the data\nrecorded in commits to a canonical form before performing a\nmerge to reduce unnecessary conflicts.  For more information,\nsee section \"Merging branches with differing checkin/checkout\nattributes\" in\ngitattributes[5]\n.\nmerge.stat\nWhat, if anything, to print between\nORIG_HEAD\nand the merge result\nat the end of the merge.  Possible values are:\nfalse\nShow nothing.\ntrue\nShow\ngit\ndiff\n--diffstat\n--summary\nORIG_HEAD\n.\ncompact\nShow\ngit\ndiff\n--compact-summary\nORIG_HEAD\n.\nbut any unrecognised value (e.g., a value added by a future version of\nGit) is taken as\ntrue\ninstead of triggering an error.  Defaults to\ntrue\n.\nmerge.autoStash\nWhen set to\ntrue\n, automatically create a temporary stash entry\nbefore the operation begins, and apply it after the operation\nends.  This means that you can run merge on a dirty worktree.\nHowever, use with care: the final stash application after a\nsuccessful merge might result in non-trivial conflicts.\nThis option can be overridden by the\n--no-autostash\nand\n--autostash\noptions of\ngit-merge[1]\n.\nDefaults to\nfalse\n.\nmerge.tool\nControls which merge tool is used by\ngit-mergetool[1]\n.\nThe list below shows the valid built-in values.\nAny other value is treated as a custom merge tool and requires\nthat a corresponding\nmergetool.\n<tool>\n.cmd\nvariable is defined.\nmerge.guitool\nControls which merge tool is used by\ngit-mergetool[1]\nwhen the\n-g\n/\n--gui\nflag is specified. The list below shows the valid built-in values.\nAny other value is treated as a custom merge tool and requires that a\ncorresponding\nmergetool.\n<guitool>\n.cmd\nvariable is defined.\naraxis\nbc\ncodecompare\ndeltawalker\ndiffmerge\ndiffuse\necmerge\nemerge\nexamdiff\nguiffy\ngvimdiff\nkdiff3\nmeld\nnvimdiff\nopendiff\np4merge\nsmerge\ntkdiff\ntortoisemerge\nvimdiff\nvscode\nwinmerge\nxxdiff\nmerge.verbosity\nControls the amount of output shown by the recursive merge\nstrategy.  Level 0 outputs nothing except a final error\nmessage if conflicts were detected. Level 1 outputs only\nconflicts, 2 outputs conflicts and file changes.  Level 5 and\nabove outputs debugging information.  The default is level 2.\nCan be overridden by the\nGIT_MERGE_VERBOSITY\nenvironment variable.\nmerge.\n<driver>\n.name\nDefines a human-readable name for a custom low-level\nmerge driver.  See\ngitattributes[5]\nfor details.\nmerge.\n<driver>\n.driver\nDefines the command that implements a custom low-level\nmerge driver.  See\ngitattributes[5]\nfor details.\nmerge.\n<driver>\n.recursive\nNames a low-level merge driver to be used when\nperforming an internal merge between common ancestors.\nSee\ngitattributes[5]\nfor details.\nSEE ALSO\ngit-fmt-merge-msg[1]\n,\ngit-pull[1]\n,\ngitattributes[5]\n,\ngit-reset[1]\n,\ngit-diff[1]\n,\ngit-ls-files[1]\n,\ngit-add[1]\n,\ngit-rm[1]\n,\ngit-mergetool[1]\nGIT\nPart of the\ngit[1]\nsuite\nmerge", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://git-scm.com/docs/git-merge"}}
{"text": "Git - git-rebase Documentation\nEnglish ▾\nLocalized versions of\ngit-rebase\nmanual\nEnglish\nFrançais\nPortuguês (Brasil)\nукраїнська мова\n简体中文\nTopics ▾\nSetup and Config\ngit\nconfig\nhelp\nbugreport\nCredential helpers\nGetting and Creating Projects\ninit\nclone\nBasic Snapshotting\nadd\nstatus\ndiff\ncommit\nnotes\nrestore\nreset\nrm\nmv\nBranching and Merging\nbranch\ncheckout\nswitch\nmerge\nmergetool\nlog\nstash\ntag\nworktree\nSharing and Updating Projects\nfetch\npull\npush\nremote\nsubmodule\nInspection and Comparison\nshow\nlog\ndiff\ndifftool\nrange-diff\nshortlog\ndescribe\nPatching\napply\ncherry-pick\ndiff\nrebase\nrevert\nDebugging\nbisect\nblame\ngrep\nEmail\nam\napply\nimap-send\nformat-patch\nsend-email\nrequest-pull\nExternal Systems\nsvn\nfast-import\nServer Admin\ndaemon\nupdate-server-info\nGuides\ngitattributes\nCommand-line interface conventions\nEveryday Git\nFrequently Asked Questions (FAQ)\nGlossary\nHooks\ngitignore\ngitmodules\nRevisions\nSubmodules\nTutorial\nWorkflows\nAll guides...\nAdministration\nclean\ngc\nfsck\nreflog\nfilter-branch\ninstaweb\narchive\nbundle\nPlumbing Commands\ncat-file\ncheck-ignore\ncheckout-index\ncommit-tree\ncount-objects\ndiff-index\nfor-each-ref\nhash-object\nls-files\nls-tree\nmerge-base\nread-tree\nrev-list\nrev-parse\nshow-ref\nsymbolic-ref\nupdate-index\nupdate-ref\nverify-pack\nwrite-tree\nLatest version\n▾\ngit-rebase last updated in 2.52.0\nChanges in the\ngit-rebase\nmanual\n2.52.0\n2025-11-17\n2.50.1 → 2.51.2 no changes\n2.50.0\n2025-06-16\n2.49.1 no changes\n2.49.0\n2025-03-14\n2.46.2 → 2.48.2 no changes\n2.46.1\n2024-09-13\n2.45.1 → 2.46.0 no changes\n2.45.0\n2024-04-29\n2.44.1 → 2.44.4 no changes\n2.44.0\n2024-02-23\n2.43.3 → 2.43.7 no changes\n2.43.2\n2024-02-13\n2.43.1\n2024-02-09\n2.43.0\n2023-11-20\n2.42.2 → 2.42.4 no changes\n2.42.1\n2023-11-02\n2.41.1 → 2.42.0 no changes\n2.41.0\n2023-06-01\n2.40.1 → 2.40.4 no changes\n2.40.0\n2023-03-12\n2.39.4 → 2.39.5 no changes\n2.39.3\n2023-04-17\n2.39.1 → 2.39.2 no changes\n2.39.0\n2022-12-12\n2.38.1 → 2.38.5 no changes\n2.38.0\n2022-10-02\n2.37.3 → 2.37.7 no changes\n2.37.2\n2022-08-11\n2.36.3 → 2.37.1 no changes\n2.36.2\n2022-06-23\n2.35.1 → 2.36.1 no changes\n2.35.0\n2022-01-24\n2.34.1 → 2.34.8 no changes\n2.34.0\n2021-11-15\n2.33.2 → 2.33.8 no changes\n2.33.1\n2021-10-12\n2.32.1 → 2.33.0 no changes\n2.32.0\n2021-06-06\n2.31.1 → 2.31.8 no changes\n2.31.0\n2021-03-15\n2.30.1 → 2.30.9 no changes\n2.30.0\n2020-12-27\n2.29.1 → 2.29.3 no changes\n2.29.0\n2020-10-19\n2.28.1 no changes\n2.28.0\n2020-07-27\n2.27.1 no changes\n2.27.0\n2020-06-01\n2.26.1 → 2.26.3 no changes\n2.26.0\n2020-03-22\n2.25.1 → 2.25.5 no changes\n2.25.0\n2020-01-13\n2.24.1 → 2.24.4 no changes\n2.24.0\n2019-11-04\n2.23.1 → 2.23.4 no changes\n2.23.0\n2019-08-16\n2.22.1 → 2.22.5 no changes\n2.22.0\n2019-06-07\n2.21.1 → 2.21.4 no changes\n2.21.0\n2019-02-24\n2.20.1 → 2.20.5 no changes\n2.20.0\n2018-12-09\n2.19.3 → 2.19.6 no changes\n2.19.2\n2018-11-21\n2.19.1 no changes\n2.19.0\n2018-09-10\n2.18.1 → 2.18.5 no changes\n2.18.0\n2018-06-21\n2.17.1 → 2.17.6 no changes\n2.17.0\n2018-04-02\n2.16.6\n2019-12-06\n2.15.4\n2019-12-06\n2.14.6\n2019-12-06\n2.13.7\n2018-05-22\n2.12.5\n2017-09-22\n2.10.5 → 2.11.4 no changes\n2.9.5\n2017-07-30\n2.8.6\n2017-07-30\n2.7.6 no changes\n2.6.7\n2017-05-05\n2.5.6 no changes\n2.4.12\n2017-05-05\n2.3.10\n2015-09-28\n2.2.3\n2015-09-04\n2.1.4\n2014-12-17\n2.0.5\n2014-12-17\nNAME\ngit-rebase - Reapply commits on top of another base tip\nSYNOPSIS\ngit rebase\n[-i | --interactive] [<options>] [--exec <cmd>]\n[--onto <newbase> | --keep-base] [<upstream> [\n<branch>\n]]\ngit rebase\n[-i | --interactive] [<options>] [--exec <cmd>] [--onto <newbase>]\n--root [\n<branch>\n]\ngit rebase\n(--continue|--skip|--abort|--quit|--edit-todo|--show-current-patch)\nDESCRIPTION\nTransplant a series of commits onto a different starting point.\nYou can also use\ngit\nrebase\nto reorder or combine commits: see INTERACTIVE\nMODE below for how to do that.\nFor example, imagine that you have been working on the\ntopic\nbranch in this\nhistory, and you want to \"catch up\" to the work done on the\nmaster\nbranch.\nA---B---C topic\n/\nD---E---F---G master\nYou want to transplant the commits you made on\ntopic\nsince it diverged from\nmaster\n(i.e. A, B, and C), on top of the current\nmaster\n.  You can do this\nby running\ngit\nrebase\nmaster\nwhile the\ntopic\nbranch is checked out.  If you\nwant to rebase\ntopic\nwhile on another branch,\ngit\nrebase\nmaster\ntopic\nis a\nshortcut for\ngit checkout topic && git rebase master\n.\nA'--B'--C' topic\n/\nD---E---F---G master\nIf there is a merge conflict during this process,\ngit\nrebase\nwill stop at the\nfirst problematic commit and leave conflict markers. If this happens, you can do\none of these things:\nResolve the conflict. You can use\ngit\ndiff\nto find the markers (<<<<<<)\nand make edits to resolve the conflict. For each file you edit, you need to\ntell Git that the conflict has been resolved. You can mark the conflict as\nresolved with\ngit\nadd\n<filename>\n. After resolving all of the conflicts,\nyou can continue the rebasing process with\ngit rebase --continue\nStop the\ngit\nrebase\nand return your branch to its original state with\ngit rebase --abort\nSkip the commit that caused the merge conflict with\ngit rebase --skip\nIf you don’t specify an\n<upstream>\nto rebase onto, the upstream configured in\nbranch.\n<name>\n.remote\nand\nbranch.\n<name>\n.merge\noptions will be used (see\ngit-config[1]\nfor details) and the\n--fork-point\noption is\nassumed.  If you are currently not on any branch or if the current\nbranch does not have a configured upstream, the rebase will abort.\nHere is a simplified description of what\ngit\nrebase\n<upstream>\ndoes:\nMake a list of all commits on your current branch since it branched\noff from\n<upstream>\nthat do not have an equivalent commit in\n<upstream>\n.\nCheck out\n<upstream>\nwith the equivalent of\ngit\ncheckout\n--detach\n<upstream>\n.\nReplay the commits, one by one, in order. This is similar to running\ngit\ncherry-pick\n<commit>\nfor each commit. See REBASING MERGES for how merges\nare handled.\nUpdate your branch to point to the final commit with the equivalent\nof\ngit\ncheckout\n-B\n<branch>\n.\nNote\nWhen starting the rebase,\nORIG_HEAD\nis set to point to the commit at the tip\nof the to-be-rebased branch. However,\nORIG_HEAD\nis not guaranteed to still\npoint to that commit at the end of the rebase if other commands that change\nORIG_HEAD\n(like\ngit\nreset\n) are used during the rebase. The previous branch\ntip, however, is accessible using the reflog of the current branch (i.e.\n@{1}\n,\nsee\ngitrevisions[7]\n.\nTRANSPLANTING A TOPIC BRANCH WITH --ONTO\nHere is how you would transplant a topic branch based on one\nbranch to another, to pretend that you forked the topic branch\nfrom the latter branch, using\nrebase\n--onto\n.\nFirst let’s assume your\ntopic\nis based on branch\nnext\n.\nFor example, a feature developed in\ntopic\ndepends on some\nfunctionality which is found in\nnext\n.\no---o---o---o---o  master\n\\\no---o---o---o---o  next\n\\\no---o---o  topic\nWe want to make\ntopic\nforked from branch\nmaster\n; for example,\nbecause the functionality on which\ntopic\ndepends was merged into the\nmore stable\nmaster\nbranch. We want our tree to look like this:\no---o---o---o---o  master\n|            \\\n|             o'--o'--o'  topic\n\\\no---o---o---o---o  next\nWe can get this using the following command:\ngit rebase --onto master next topic\nAnother example of --onto option is to rebase part of a\nbranch.  If we have the following situation:\nH---I---J topicB\n/\nE---F---G  topicA\n/\nA---B---C---D  master\nthen the command\ngit rebase --onto master topicA topicB\nwould result in:\nH'--I'--J'  topicB\n/\n| E---F---G  topicA\n|/\nA---B---C---D  master\nThis is useful when topicB does not depend on topicA.\nA range of commits could also be removed with rebase.  If we have\nthe following situation:\nE---F---G---H---I---J  topicA\nthen the command\ngit rebase --onto topicA~5 topicA~3 topicA\nwould result in the removal of commits F and G:\nE---H'---I'---J'  topicA\nThis is useful if F and G were flawed in some way, or should not be\npart of topicA.  Note that the argument to\n--onto\nand the\n<upstream>\nparameter can be any valid commit-ish.\nMODE OPTIONS\nThe options in this section cannot be used with any other option,\nincluding not with each other:\n--continue\nRestart the rebasing process after having resolved a merge conflict.\n--skip\nRestart the rebasing process by skipping the current patch.\n--abort\nAbort the rebase operation and reset HEAD to the original\nbranch. If\n<branch>\nwas provided when the rebase operation was\nstarted, then\nHEAD\nwill be reset to\n<branch>\n. Otherwise\nHEAD\nwill be reset to where it was when the rebase operation was\nstarted.\n--quit\nAbort the rebase operation but\nHEAD\nis not reset back to the\noriginal branch. The index and working tree are also left\nunchanged as a result. If a temporary stash entry was created\nusing\n--autostash\n, it will be saved to the stash list.\n--edit-todo\nEdit the todo list during an interactive rebase.\n--show-current-patch\nShow the current patch in an interactive rebase or when rebase\nis stopped because of conflicts. This is the equivalent of\ngit\nshow\nREBASE_HEAD\n.\nOPTIONS\n--onto <newbase>\nStarting point at which to create the new commits. If the\n--onto\noption is not specified, the starting point is\n<upstream>\n.  May be any valid commit, and not just an\nexisting branch name.\nAs a special case, you may use \"A...B\" as a shortcut for the\nmerge base of A and B if there is exactly one merge base. You can\nleave out at most one of A and B, in which case it defaults to HEAD.\nSee TRANSPLANTING A TOPIC BRANCH WITH --ONTO above for examples.\n--keep-base\nSet the starting point at which to create the new commits to the\nmerge base of\n<upstream>\nand\n<branch>\n. Running\ngit\nrebase\n--keep-base\n<upstream>\n<branch>\nis equivalent to\nrunning\ngit\nrebase\n--reapply-cherry-picks\n--no-fork-point\n--onto\n<upstream>\n...\n<branch>\n<upstream>\n<branch>\n.\nThis option is useful in the case where one is developing a feature on\ntop of an upstream branch. While the feature is being worked on, the\nupstream branch may advance and it may not be the best idea to keep\nrebasing on top of the upstream but to keep the base commit as-is. As\nthe base commit is unchanged this option implies\n--reapply-cherry-picks\nto avoid losing commits.\nAlthough both this option and\n--fork-point\nfind the merge base between\n<upstream>\nand\n<branch>\n, this option uses the merge base as the\nstarting\npoint\non which new commits will be created, whereas\n--fork-point\nuses\nthe merge base to determine the\nset of commits\nwhich will be rebased.\nSee also INCOMPATIBLE OPTIONS below.\n<upstream>\nUpstream branch to compare against.  May be any valid commit,\nnot just an existing branch name. Defaults to the configured\nupstream for the current branch.\n<branch>\nWorking branch; defaults to\nHEAD\n.\n--apply\nUse applying strategies to rebase (calling\ngit-am\ninternally).  This option may become a no-op in the future\nonce the merge backend handles everything the apply one does.\nSee also INCOMPATIBLE OPTIONS below.\n--empty=(drop|keep|stop)\nHow to handle commits that are not empty to start and are not\nclean cherry-picks of any upstream commit, but which become\nempty after rebasing (because they contain a subset of already\nupstream changes):\ndrop\nThe commit will be dropped. This is the default behavior.\nkeep\nThe commit will be kept. This option is implied when\n--exec\nis\nspecified unless\n-i\n/\n--interactive\nis also specified.\nstop\nask\nThe rebase will halt when the commit is applied, allowing you to\nchoose whether to drop it, edit files more, or just commit the empty\nchanges. This option is implied when\n-i\n/\n--interactive\nis\nspecified.\nask\nis a deprecated synonym of\nstop\n.\nNote that commits which start empty are kept (unless\n--no-keep-empty\nis specified), and commits which are clean cherry-picks (as determined\nby\ngit\nlog\n--cherry-mark\n...\n) are detected and dropped as a\npreliminary step (unless\n--reapply-cherry-picks\nor\n--keep-base\nis\npassed).\nSee also INCOMPATIBLE OPTIONS below.\n--no-keep-empty\n--keep-empty\nDo not keep commits that start empty before the rebase\n(i.e. that do not change anything from its parent) in the\nresult.  The default is to keep commits which start empty,\nsince creating such commits requires passing the\n--allow-empty\noverride flag to\ngit\ncommit\n, signifying that a user is very\nintentionally creating such a commit and thus wants to keep\nit.\nUsage of this flag will probably be rare, since you can get rid of\ncommits that start empty by just firing up an interactive rebase and\nremoving the lines corresponding to the commits you don’t want.  This\nflag exists as a convenient shortcut, such as for cases where external\ntools generate many empty commits and you want them all removed.\nFor commits which do not start empty but become empty after rebasing,\nsee the\n--empty\nflag.\nSee also INCOMPATIBLE OPTIONS below.\n--reapply-cherry-picks\n--no-reapply-cherry-picks\nReapply all clean cherry-picks of any upstream commit instead\nof preemptively dropping them. (If these commits then become\nempty after rebasing, because they contain a subset of already\nupstream changes, the behavior towards them is controlled by\nthe\n--empty\nflag.)\nIn the absence of\n--keep-base\n(or if\n--no-reapply-cherry-picks\nis\ngiven), these commits will be automatically dropped.  Because this\nnecessitates reading all upstream commits, this can be expensive in\nrepositories with a large number of upstream commits that need to be\nread. When using the\nmerge\nbackend, warnings will be issued for each\ndropped commit (unless\n--quiet\nis given). Advice will also be issued\nunless\nadvice.skippedCherryPicks\nis set to false (see\ngit-config[1]\n).\n--reapply-cherry-picks\nallows rebase to forgo reading all upstream\ncommits, potentially improving performance.\nSee also INCOMPATIBLE OPTIONS below.\n--allow-empty-message\nNo-op.  Rebasing commits with an empty message used to fail\nand this option would override that behavior, allowing commits\nwith empty messages to be rebased.  Now commits with an empty\nmessage do not cause rebasing to halt.\nSee also INCOMPATIBLE OPTIONS below.\n-m\n--merge\nUsing merging strategies to rebase (default).\nNote that a rebase merge works by replaying each commit from the working\nbranch on top of the\n<upstream>\nbranch.  Because of this, when a merge\nconflict happens, the side reported as\nours\nis the so-far rebased\nseries, starting with\n<upstream>\n, and\ntheirs\nis the working branch.\nIn other words, the sides are swapped.\nSee also INCOMPATIBLE OPTIONS below.\n-s <strategy>\n--strategy=<strategy>\nUse the given merge strategy, instead of the default\nort\n.\nThis implies\n--merge\n.\nBecause\ngit\nrebase\nreplays each commit from the working branch\non top of the\n<upstream>\nbranch using the given strategy, using\nthe\nours\nstrategy simply empties all patches from the\n<branch>\n,\nwhich makes little sense.\nSee also INCOMPATIBLE OPTIONS below.\n-X <strategy-option>\n--strategy-option=<strategy-option>\nPass the <strategy-option> through to the merge strategy.\nThis implies\n--merge\nand, if no strategy has been\nspecified,\n-s\nort\n.  Note the reversal of\nours\nand\ntheirs\nas noted above for the\n-m\noption.\nSee also INCOMPATIBLE OPTIONS below.\n--rerere-autoupdate\n--no-rerere-autoupdate\nAfter the rerere mechanism reuses a recorded resolution on\nthe current conflict to update the files in the working\ntree, allow it to also update the index with the result of\nresolution.\n--no-rerere-autoupdate\nis a good way to\ndouble-check what\nrerere\ndid and catch potential\nmismerges, before committing the result to the index with a\nseparate\ngit\nadd\n.\n-S[<keyid>]\n--gpg-sign[=<keyid>]\n--no-gpg-sign\nGPG-sign commits. The\nkeyid\nargument is optional and\ndefaults to the committer identity; if specified, it must be\nstuck to the option without a space.\n--no-gpg-sign\nis useful to\ncountermand both\ncommit.gpgSign\nconfiguration variable, and\nearlier\n--gpg-sign\n.\n-q\n--quiet\nBe quiet. Implies\n--no-stat\n.\n-v\n--verbose\nBe verbose. Implies\n--stat\n.\n--stat\nShow a diffstat of what changed upstream since the last rebase. The\ndiffstat is also controlled by the configuration option rebase.stat.\n-n\n--no-stat\nDo not show a diffstat as part of the rebase process.\n--no-verify\nThis option bypasses the pre-rebase hook.  See also\ngithooks[5]\n.\n--verify\nAllows the pre-rebase hook to run, which is the default.  This option can\nbe used to override\n--no-verify\n.  See also\ngithooks[5]\n.\n-C<n>\nEnsure at least\n<n>\nlines of surrounding context match before\nand after each change.  When fewer lines of surrounding\ncontext exist they all must match.  By default no context is\never ignored.  Implies\n--apply\n.\nSee also INCOMPATIBLE OPTIONS below.\n--no-ff\n--force-rebase\n-f\nIndividually replay all rebased commits instead of fast-forwarding\nover the unchanged ones.  This ensures that the entire history of\nthe rebased branch is composed of new commits.\nYou may find this helpful after reverting a topic branch merge, as this option\nrecreates the topic branch with fresh commits so it can be remerged\nsuccessfully without needing to \"revert the reversion\" (see the\nrevert-a-faulty-merge How-To\nfor\ndetails).\n--fork-point\n--no-fork-point\nUse reflog to find a better common ancestor between\n<upstream>\nand\n<branch>\nwhen calculating which commits have been\nintroduced by\n<branch>\n.\nWhen\n--fork-point\nis active,\nfork_point\nwill be used instead of\n<upstream>\nto calculate the set of commits to rebase, where\nfork_point\nis the result of\ngit\nmerge-base\n--fork-point\n<upstream>\n<branch>\ncommand (see\ngit-merge-base[1]\n).  If\nfork_point\nends up being empty, the\n<upstream>\nwill be used as a fallback.\nIf\n<upstream>\nor\n--keep-base\nis given on the command line, then\nthe default is\n--no-fork-point\n, otherwise the default is\n--fork-point\n. See also\nrebase.forkpoint\nin\ngit-config[1]\n.\nIf your branch was based on\n<upstream>\nbut\n<upstream>\nwas rewound and\nyour branch contains commits which were dropped, this option can be used\nwith\n--keep-base\nin order to drop those commits from your branch.\nSee also INCOMPATIBLE OPTIONS below.\n--ignore-whitespace\nIgnore whitespace differences when trying to reconcile\ndifferences. Currently, each backend implements an approximation of\nthis behavior:\napply backend\nWhen applying a patch, ignore changes in whitespace in context\nlines. Unfortunately, this means that if the \"old\" lines being\nreplaced by the patch differ only in whitespace from the existing\nfile, you will get a merge conflict instead of a successful patch\napplication.\nmerge backend\nTreat lines with only whitespace changes as unchanged when merging.\nUnfortunately, this means that any patch hunks that were intended\nto modify whitespace and nothing else will be dropped, even if the\nother side had no changes that conflicted.\n--whitespace=<option>\nThis flag is passed to the\ngit\napply\nprogram\n(see\ngit-apply[1]\n) that applies the patch.\nImplies\n--apply\n.\nSee also INCOMPATIBLE OPTIONS below.\n--committer-date-is-author-date\nInstead of using the current time as the committer date, use\nthe author date of the commit being rebased as the committer\ndate. This option implies\n--force-rebase\n.\n--ignore-date\n--reset-author-date\nInstead of using the author date of the original commit, use\nthe current time as the\tauthor date of the rebased commit.  This\noption implies\n--force-rebase\n.\nSee also INCOMPATIBLE OPTIONS below.\n--signoff\nAdd a\nSigned-off-by\ntrailer to all the rebased commits. Note\nthat if\n--interactive\nis given then only commits marked to be\npicked, edited or reworded will have the trailer added.\nSee also INCOMPATIBLE OPTIONS below.\n-i\n--interactive\nMake a list of the commits which are about to be rebased.  Let the\nuser edit that list before rebasing.  This mode can also be used to\nsplit commits (see SPLITTING COMMITS below).\nThe commit list format can be changed by setting the configuration option\nrebase.instructionFormat.  A customized instruction format will automatically\nhave the commit hash prepended to the format.\nSee also INCOMPATIBLE OPTIONS below.\n-r\n--rebase-merges[=(rebase-cousins|no-rebase-cousins)]\n--no-rebase-merges\nBy default, a rebase will simply drop merge commits from the todo\nlist, and put the rebased commits into a single, linear branch.\nWith\n--rebase-merges\n, the rebase will instead try to preserve\nthe branching structure within the commits that are to be rebased,\nby recreating the merge commits. Any resolved merge conflicts or\nmanual amendments in these merge commits will have to be\nresolved/re-applied manually.\n--no-rebase-merges\ncan be used to\ncountermand both the\nrebase.rebaseMerges\nconfig option and a previous\n--rebase-merges\n.\nWhen rebasing merges, there are two modes:\nrebase-cousins\nand\nno-rebase-cousins\n. If the mode is not specified, it defaults to\nno-rebase-cousins\n. In\nno-rebase-cousins\nmode, commits which do not have\n<upstream>\nas direct ancestor will keep their original branch point, i.e.\ncommits that would be excluded by\ngit-log[1]\n's\n--ancestry-path\noption will keep their original ancestry by default. In\nrebase-cousins\nmode,\nsuch commits are instead rebased onto\n<upstream>\n(or\n<onto>\n, if\nspecified).\nIt is currently only possible to recreate the merge commits using the\nort\nmerge strategy; different merge strategies can be used only via\nexplicit\nexec\ngit\nmerge\n-s\n<strategy>\n[...]\ncommands.\nSee also REBASING MERGES and INCOMPATIBLE OPTIONS below.\n-x <cmd>\n--exec <cmd>\nAppend \"exec <cmd>\" after each line creating a commit in the\nfinal history.\n<cmd>\nwill be interpreted as one or more shell\ncommands. Any command that fails will interrupt the rebase,\nwith exit code 1.\nYou may execute several commands by either using one instance of\n--exec\nwith several commands:\ngit rebase -i --exec \"cmd1 && cmd2 && ...\"\nor by giving more than one\n--exec\n:\ngit rebase -i --exec \"cmd1\" --exec \"cmd2\" --exec ...\nIf\n--autosquash\nis used,\nexec\nlines will not be appended for\nthe intermediate commits, and will only appear at the end of each\nsquash/fixup series.\nThis uses the\n--interactive\nmachinery internally, but it can be run\nwithout an explicit\n--interactive\n.\nSee also INCOMPATIBLE OPTIONS below.\n--root\nRebase all commits reachable from\n<branch>\n, instead of\nlimiting them with an\n<upstream>\n.  This allows you to rebase\nthe root commit(s) on a branch.\nSee also INCOMPATIBLE OPTIONS below.\n--autosquash\n--no-autosquash\nAutomatically squash commits with specially formatted messages into\nprevious commits being rebased.  If a commit message starts with\n\"squash! \", \"fixup! \" or \"amend! \", the remainder of the title\nis taken as a commit specifier, which matches a previous commit if it\nmatches the title or the hash of that commit.  If no commit\nmatches fully, matches of the specifier with the start of commit\ntitles are considered.\nIn the rebase todo list, the actions of squash, fixup and amend commits are\nchanged from\npick\nto\nsquash\n,\nfixup\nor\nfixup\n-C\n, respectively, and they\nare moved right after the commit they modify.  The\n--interactive\noption can\nbe used to review and edit the todo list before proceeding.\nThe recommended way to create commits with squash markers is by using the\n--squash\n,\n--fixup\n,\n--fixup=amend:\nor\n--fixup=reword:\noptions of\ngit-commit[1]\n, which take the target commit as an argument and\nautomatically fill in the title of the new commit from that.\nSetting configuration variable\nrebase.autoSquash\nto true enables\nauto-squashing by default for interactive rebase.  The\n--no-autosquash\noption can be used to override that setting.\nSee also INCOMPATIBLE OPTIONS below.\n--autostash\n--no-autostash\nAutomatically create a temporary stash entry before the operation\nbegins, and apply it after the operation ends.  This means\nthat you can run rebase on a dirty worktree.  However, use\nwith care: the final stash application after a successful\nrebase might result in non-trivial conflicts.\n--reschedule-failed-exec\n--no-reschedule-failed-exec\nAutomatically reschedule\nexec\ncommands that failed. This only makes\nsense in interactive mode (or when an\n--exec\noption was provided).\nThis option applies once a rebase is started. It is preserved for the whole\nrebase based on, in order, the command line option provided to the initial\ngit\nrebase\n, the\nrebase.rescheduleFailedExec\nconfiguration (see\ngit-config[1]\nor \"CONFIGURATION\" below), or it defaults to false.\nRecording this option for the whole rebase is a convenience feature. Otherwise\nan explicit\n--no-reschedule-failed-exec\nat the start would be overridden by\nthe presence of a\nrebase.rescheduleFailedExec=true\nconfiguration when\ngit\nrebase\n--continue\nis invoked. Currently, you cannot pass\n--\n[\nno-\n]\nreschedule-failed-exec\nto\ngit\nrebase\n--continue\n.\n--update-refs\n--no-update-refs\nAutomatically force-update any branches that point to commits that\nare being rebased. Any branches that are checked out in a worktree\nare not updated in this way.\nIf the configuration variable\nrebase.updateRefs\nis set, then this option\ncan be used to override and disable this setting.\nSee also INCOMPATIBLE OPTIONS below.\nINCOMPATIBLE OPTIONS\nThe following options:\n--apply\n--whitespace\n-C\nare incompatible with the following options:\n--merge\n--strategy\n--strategy-option\n--autosquash\n--rebase-merges\n--interactive\n--exec\n--no-keep-empty\n--empty=\n--[no-]reapply-cherry-picks when used without --keep-base\n--update-refs\n--root when used without --onto\nIn addition, the following pairs of options are incompatible:\n--keep-base and --onto\n--keep-base and --root\n--fork-point and --root\nBEHAVIORAL DIFFERENCES\ngit\nrebase\nhas two primary backends:\napply\nand\nmerge\n.  (The\napply\nbackend used to be known as the\nam\nbackend, but the name led to\nconfusion as it looks like a verb instead of a noun.  Also, the\nmerge\nbackend used to be known as the interactive backend, but it is now\nused for non-interactive cases as well.  Both were renamed based on\nlower-level functionality that underpinned each.) There are some\nsubtle differences in how these two backends behave:\nEmpty commits\nThe\napply\nbackend unfortunately drops intentionally empty commits, i.e.\ncommits that started empty, though these are rare in practice.  It\nalso drops commits that become empty and has no option for controlling\nthis behavior.\nThe\nmerge\nbackend keeps intentionally empty commits by default (though\nwith\n-i\nthey are marked as empty in the todo list editor, or they can\nbe dropped automatically with\n--no-keep-empty\n).\nSimilar to the apply backend, by default the merge backend drops\ncommits that become empty unless\n-i\n/\n--interactive\nis specified (in\nwhich case it stops and asks the user what to do).  The merge backend\nalso has an\n--empty=\n(\ndrop\n|\nkeep\n|\nstop\n)\noption for changing the behavior\nof handling commits that become empty.\nDirectory rename detection\nDue to the lack of accurate tree information (arising from\nconstructing fake ancestors with the limited information available in\npatches), directory rename detection is disabled in the\napply\nbackend.\nDisabled directory rename detection means that if one side of history\nrenames a directory and the other adds new files to the old directory,\nthen the new files will be left behind in the old directory without\nany warning at the time of rebasing that you may want to move these\nfiles into the new directory.\nDirectory rename detection works with the\nmerge\nbackend to provide you\nwarnings in such cases.\nContext\nThe\napply\nbackend works by creating a sequence of patches (by calling\nformat-patch\ninternally), and then applying the patches in sequence\n(calling\nam\ninternally).  Patches are composed of multiple hunks,\neach with line numbers, a context region, and the actual changes.  The\nline numbers have to be taken with some offset, since the other side\nwill likely have inserted or deleted lines earlier in the file.  The\ncontext region is meant to help find how to adjust the line numbers in\norder to apply the changes to the right lines.  However, if multiple\nareas of the code have the same surrounding lines of context, the\nwrong one can be picked.  There are real-world cases where this has\ncaused commits to be reapplied incorrectly with no conflicts reported.\nSetting\ndiff.context\nto a larger value may prevent such types of\nproblems, but increases the chance of spurious conflicts (since it\nwill require more lines of matching context to apply).\nThe\nmerge\nbackend works with a full copy of each relevant file,\ninsulating it from these types of problems.\nLabelling of conflicts markers\nWhen there are content conflicts, the merge machinery tries to\nannotate each side’s conflict markers with the commits where the\ncontent came from.  Since the\napply\nbackend drops the original\ninformation about the rebased commits and their parents (and instead\ngenerates new fake commits based off limited information in the\ngenerated patches), those commits cannot be identified; instead it has\nto fall back to a commit summary.  Also, when\nmerge.conflictStyle\nis\nset to\ndiff3\nor\nzdiff3\n, the\napply\nbackend will use \"constructed merge\nbase\" to label the content from the merge base, and thus provide no\ninformation about the merge base commit whatsoever.\nThe\nmerge\nbackend works with the full commits on both sides of history\nand thus has no such limitations.\nHooks\nThe\napply\nbackend has not traditionally called the post-commit hook,\nwhile the\nmerge\nbackend has.  Both have called the post-checkout hook,\nthough the\nmerge\nbackend has squelched its output.  Further, both\nbackends only call the post-checkout hook with the starting point\ncommit of the rebase, not the intermediate commits nor the final\ncommit.  In each case, the calling of these hooks was by accident of\nimplementation rather than by design (both backends were originally\nimplemented as shell scripts and happened to invoke other commands\nlike\ngit\ncheckout\nor\ngit\ncommit\nthat would call the hooks).  Both\nbackends should have the same behavior, though it is not entirely\nclear which, if any, is correct.  We will likely make rebase stop\ncalling either of these hooks in the future.\nInterruptability\nThe\napply\nbackend has safety problems with an ill-timed interrupt; if\nthe user presses Ctrl-C at the wrong time to try to abort the rebase,\nthe rebase can enter a state where it cannot be aborted with a\nsubsequent\ngit\nrebase\n--abort\n.  The\nmerge\nbackend does not appear to\nsuffer from the same shortcoming.  (See\nhttps://lore.kernel.org/git/20200207132152.GC2868@szeder.dev/\nfor\ndetails.)\nCommit Rewording\nWhen a conflict occurs while rebasing, rebase stops and asks the user\nto resolve.  Since the user may need to make notable changes while\nresolving conflicts, after conflicts are resolved and the user has run\ngit\nrebase\n--continue\n, the rebase should open an editor and ask the\nuser to update the commit message.  The\nmerge\nbackend does this, while\nthe\napply\nbackend blindly applies the original commit message.\nMiscellaneous differences\nThere are a few more behavioral differences that most folks would\nprobably consider inconsequential but which are mentioned for\ncompleteness:\nReflog: The two backends will use different wording when describing\nthe changes made in the reflog, though both will make use of the\nword \"rebase\".\nProgress, informational, and error messages: The two backends\nprovide slightly different progress and informational messages.\nAlso, the apply backend writes error messages (such as \"Your files\nwould be overwritten…​\") to stdout, while the merge backend writes\nthem to stderr.\nState directories: The two backends keep their state in different\ndirectories under\n.git/\nMERGE STRATEGIES\nThe merge mechanism (\ngit\nmerge\nand\ngit\npull\ncommands) allows the\nbackend\nmerge strategies\nto be chosen with\n-s\noption.  Some strategies\ncan also take their own options, which can be passed by giving\n-X\n<option>\narguments to\ngit\nmerge\nand/or\ngit\npull\n.\nort\nThis is the default merge strategy when pulling or merging one\nbranch.  This strategy can only resolve two heads using a\n3-way merge algorithm.  When there is more than one common\nancestor that can be used for 3-way merge, it creates a merged\ntree of the common ancestors and uses that as the reference\ntree for the 3-way merge.  This has been reported to result in\nfewer merge conflicts without causing mismerges by tests done\non actual merge commits taken from Linux 2.6 kernel\ndevelopment history.  Additionally this strategy can detect\nand handle merges involving renames.  It does not make use of\ndetected copies.  The name for this algorithm is an acronym\n(\"Ostensibly Recursive’s Twin\") and came from the fact that it\nwas written as a replacement for the previous default\nalgorithm,\nrecursive\n.\nIn the case where the path is a submodule, if the submodule commit used on\none side of the merge is a descendant of the submodule commit used on the\nother side of the merge, Git attempts to fast-forward to the\ndescendant. Otherwise, Git will treat this case as a conflict, suggesting\nas a resolution a submodule commit that is descendant of the conflicting\nones, if one exists.\nThe\nort\nstrategy can take the following options:\nours\nThis option forces conflicting hunks to be auto-resolved cleanly by\nfavoring\nour\nversion.  Changes from the other tree that do not\nconflict with our side are reflected in the merge result.\nFor a binary file, the entire contents are taken from our side.\nThis should not be confused with the\nours\nmerge strategy, which does not\neven look at what the other tree contains at all.  It discards everything\nthe other tree did, declaring\nour\nhistory contains all that happened in it.\ntheirs\nThis is the opposite of\nours\n; note that, unlike\nours\n, there is\nno\ntheirs\nmerge strategy to confuse this merge option with.\nignore-space-change\nignore-all-space\nignore-space-at-eol\nignore-cr-at-eol\nTreats lines with the indicated type of whitespace change as\nunchanged for the sake of a three-way merge.  Whitespace\nchanges mixed with other changes to a line are not ignored.\nSee also\ngit-diff[1]\n-b\n,\n-w\n,\n--ignore-space-at-eol\n, and\n--ignore-cr-at-eol\n.\nIf\ntheir\nversion only introduces whitespace changes to a line,\nour\nversion is used;\nIf\nour\nversion introduces whitespace changes but\ntheir\nversion includes a substantial change,\ntheir\nversion is used;\nOtherwise, the merge proceeds in the usual way.\nrenormalize\nThis runs a virtual check-out and check-in of all three stages\nof any file which needs a three-way merge.  This option is\nmeant to be used when merging branches with different clean\nfilters or end-of-line normalization rules.  See \"Merging\nbranches with differing checkin/checkout attributes\" in\ngitattributes[5]\nfor details.\nno-renormalize\nDisables the\nrenormalize\noption.  This overrides the\nmerge.renormalize\nconfiguration variable.\nfind-renames\n[\n=\n<n>\n]\nTurn on rename detection, optionally setting the similarity\nthreshold.  This is the default. This overrides the\nmerge.renames\nconfiguration variable.\nSee also\ngit-diff[1]\n--find-renames\n.\nrename-threshold=\n<n>\nDeprecated synonym for\nfind-renames=\n<n>\n.\nno-renames\nTurn off rename detection. This overrides the\nmerge.renames\nconfiguration variable.\nSee also\ngit-diff[1]\n--no-renames\n.\nhistogram\nDeprecated synonym for\ndiff-algorithm=histogram\n.\npatience\nDeprecated synonym for\ndiff-algorithm=patience\n.\ndiff-algorithm=\n(\nhistogram\n|\nminimal\n|\nmyers\n|\npatience\n)\nUse a different diff algorithm while merging, which can help\navoid mismerges that occur due to unimportant matching lines\n(such as braces from distinct functions).  See also\ngit-diff[1]\n--diff-algorithm\n.  Note that\nort\ndefaults to\ndiff-algorithm=histogram\n, while regular diffs\ncurrently default to the\ndiff.algorithm\nconfig setting.\nsubtree\n[\n=\n<path>\n]\nThis option is a more advanced form of\nsubtree\nstrategy, where\nthe strategy makes a guess on how two trees must be shifted to\nmatch with each other when merging.  Instead, the specified path\nis prefixed (or stripped from the beginning) to make the shape of\ntwo trees to match.\nrecursive\nThis is now a synonym for\nort\n.  It was an alternative\nimplementation until v2.49.0, but was redirected to mean\nort\nin v2.50.0.  The previous recursive strategy was the default\nstrategy for resolving two heads from Git v0.99.9k until\nv2.33.0.\nresolve\nThis can only resolve two heads (i.e. the current branch\nand another branch you pulled from) using a 3-way merge\nalgorithm.  It tries to carefully detect criss-cross\nmerge ambiguities.  It does not handle renames.\noctopus\nThis resolves cases with more than two heads, but refuses to do\na complex merge that needs manual resolution.  It is\nprimarily meant to be used for bundling topic branch\nheads together.  This is the default merge strategy when\npulling or merging more than one branch.\nours\nThis resolves any number of heads, but the resulting tree of the\nmerge is always that of the current branch head, effectively\nignoring all changes from all other branches.  It is meant to\nbe used to supersede old development history of side\nbranches.  Note that this is different from the\n-Xours\noption to\nthe\nort\nmerge strategy.\nsubtree\nThis is a modified\nort\nstrategy. When merging trees A and\nB, if B corresponds to a subtree of A, B is first adjusted to\nmatch the tree structure of A, instead of reading the trees at\nthe same level. This adjustment is also done to the common\nancestor tree.\nWith the strategies that use 3-way merge (including the default,\nort\n),\nif a change is made on both branches, but later reverted on one of the\nbranches, that change will be present in the merged result; some people find\nthis behavior confusing.  It occurs because only the heads and the merge base\nare considered when performing a merge, not the individual commits.  The merge\nalgorithm therefore considers the reverted change as no change at all, and\nsubstitutes the changed version instead.\nNOTES\nYou should understand the implications of using\ngit\nrebase\non a\nrepository that you share.  See also RECOVERING FROM UPSTREAM REBASE\nbelow.\nWhen the rebase is run, it will first execute a\npre-rebase\nhook if one\nexists.  You can use this hook to do sanity checks and reject the rebase\nif it isn’t appropriate.  Please see the template\npre-rebase\nhook script\nfor an example.\nUpon completion,\n<branch>\nwill be the current branch.\nINTERACTIVE MODE\nRebasing interactively means that you have a chance to edit the commits\nwhich are rebased.  You can reorder the commits, and you can\nremove them (weeding out bad or otherwise unwanted patches).\nThe interactive mode is meant for this type of workflow:\nhave a wonderful idea\nhack on the code\nprepare a series for submission\nsubmit\nwhere point 2. consists of several instances of\na) regular use\nfinish something worthy of a commit\ncommit\nb) independent fixup\nrealize that something does not work\nfix that\ncommit it\nSometimes the thing fixed in b.2. cannot be amended to the not-quite\nperfect commit it fixes, because that commit is buried deeply in a\npatch series.  That is exactly what interactive rebase is for: use it\nafter plenty of \"a\"s and \"b\"s, by rearranging and editing\ncommits, and squashing multiple commits into one.\nStart it with the last commit you want to retain as-is:\ngit rebase -i <after-this-commit>\nAn editor will be fired up with all the commits in your current branch\n(ignoring merge commits), which come after the given commit.  You can\nreorder the commits in this list to your heart’s content, and you can\nremove them.  The list looks more or less like this:\npick deadbee The oneline of this commit\npick fa1afe1 The oneline of the next commit\n...\nThe oneline descriptions are purely for your pleasure;\ngit rebase\nwill\nnot look at them but at the commit names (\"deadbee\" and \"fa1afe1\" in this\nexample), so do not delete or edit the names.\nBy replacing the command \"pick\" with the command \"edit\", you can tell\ngit\nrebase\nto stop after applying that commit, so that you can edit\nthe files and/or the commit message, amend the commit, and continue\nrebasing.\nTo interrupt the rebase (just like an \"edit\" command would do, but without\ncherry-picking any commit first), use the \"break\" command.\nIf you just want to edit the commit message for a commit, replace the\ncommand \"pick\" with the command \"reword\".\nTo drop a commit, replace the command \"pick\" with \"drop\", or just\ndelete the matching line.\nIf you want to fold two or more commits into one, replace the command\n\"pick\" for the second and subsequent commits with \"squash\" or \"fixup\".\nIf the commits had different authors, the folded commit will be\nattributed to the author of the first commit.  The suggested commit\nmessage for the folded commit is the concatenation of the first\ncommit’s message with those identified by \"squash\" commands, omitting the\nmessages of commits identified by \"fixup\" commands, unless \"fixup -c\"\nis used.  In that case the suggested commit message is only the message\nof the \"fixup -c\" commit, and an editor is opened allowing you to edit\nthe message.  The contents (patch) of the \"fixup -c\" commit are still\nincorporated into the folded commit. If there is more than one \"fixup -c\"\ncommit, the message from the final one is used.  You can also use\n\"fixup -C\" to get the same behavior as \"fixup -c\" except without opening\nan editor.\ngit\nrebase\nwill stop when \"pick\" has been replaced with \"edit\" or\nwhen a command fails due to merge errors. When you are done editing\nand/or resolving conflicts you can continue with\ngit\nrebase\n--continue\n.\nFor example, if you want to reorder the last 5 commits, such that what\nwas\nHEAD~4\nbecomes the new\nHEAD\n. To achieve that, you would call\ngit\nrebase\nlike this:\n$ git rebase -i HEAD~5\nAnd move the first patch to the end of the list.\nYou might want to recreate merge commits, e.g. if you have a history\nlike this:\nX\n\\\nA---M---B\n/\n---o---O---P---Q\nSuppose you want to rebase the side branch starting at \"A\" to \"Q\". Make\nsure that the current\nHEAD\nis \"B\", and call\n$ git rebase -i -r --onto Q O\nReordering and editing commits usually creates untested intermediate\nsteps.  You may want to check that your history editing did not break\nanything by running a test, or at least recompiling at intermediate\npoints in history by using the \"exec\" command (shortcut \"x\").  You may\ndo so by creating a todo list like this one:\npick deadbee Implement feature XXX\nfixup f1a5c00 Fix to feature XXX\nexec make\npick c0ffeee The oneline of the next commit\nedit deadbab The oneline of the commit after\nexec cd subdir; make test\n...\nThe interactive rebase will stop when a command fails (i.e. exits with\nnon-0 status) to give you an opportunity to fix the problem. You can\ncontinue with\ngit\nrebase\n--continue\n.\nThe \"exec\" command launches the command in a shell (the default one, usually\n/bin/sh), so you can use shell features (like \"cd\", \">\", \";\" …​). The command\nis run from the root of the working tree.\n$ git rebase -i --exec \"make test\"\nThis command lets you check that intermediate commits are compilable.\nThe todo list becomes like that:\npick 5928aea one\nexec make test\npick 04d0fda two\nexec make test\npick ba46169 three\nexec make test\npick f4593f9 four\nexec make test\nSPLITTING COMMITS\nIn interactive mode, you can mark commits with the action \"edit\".  However,\nthis does not necessarily mean that\ngit\nrebase\nexpects the result of this\nedit to be exactly one commit.  Indeed, you can undo the commit, or you can\nadd other commits.  This can be used to split a commit into two:\nStart an interactive rebase with\ngit\nrebase\n-i\n<commit>\n^\n, where\n<commit>\nis the commit you want to split.  In fact, any commit range\nwill do, as long as it contains that commit.\nMark the commit you want to split with the action \"edit\".\nWhen it comes to editing that commit, execute\ngit\nreset\nHEAD^\n.  The\neffect is that the\nHEAD\nis rewound by one, and the index follows suit.\nHowever, the working tree stays the same.\nNow add the changes to the index that you want to have in the first\ncommit.  You can use\ngit\nadd\n(possibly interactively) or\ngit\ngui\n(or both) to do that.\nCommit the now-current index with whatever commit message is appropriate\nnow.\nRepeat the last two steps until your working tree is clean.\nContinue the rebase with\ngit\nrebase\n--continue\n.\nIf you are not absolutely sure that the intermediate revisions are\nconsistent (they compile, pass the testsuite, etc.) you should use\ngit\nstash\nto stash away the not-yet-committed changes\nafter each commit, test, and amend the commit if fixes are necessary.\nRECOVERING FROM UPSTREAM REBASE\nRebasing (or any other form of rewriting) a branch that others have\nbased work on is a bad idea: anyone downstream of it is forced to\nmanually fix their history.  This section explains how to do the fix\nfrom the downstream’s point of view.  The real fix, however, would be\nto avoid rebasing the upstream in the first place.\nTo illustrate, suppose you are in a situation where someone develops a\nsubsystem\nbranch, and you are working on a\ntopic\nthat is dependent\non this\nsubsystem\n.  You might end up with a history like the\nfollowing:\no---o---o---o---o---o---o---o  master\n\\\no---o---o---o---o  subsystem\n\\\n*---*---*  topic\nIf\nsubsystem\nis rebased against\nmaster\n, the following happens:\no---o---o---o---o---o---o---o  master\n\\\t\t\t \\\no---o---o---o---o\t  o'--o'--o'--o'--o'  subsystem\n\\\n*---*---*  topic\nIf you now continue development as usual, and eventually merge\ntopic\nto\nsubsystem\n, the commits from\nsubsystem\nwill remain duplicated forever:\no---o---o---o---o---o---o---o  master\n\\\t\t\t \\\no---o---o---o---o\t  o'--o'--o'--o'--o'--M\t subsystem\n\\\t\t\t     /\n*---*---*-..........-*--*  topic\nSuch duplicates are generally frowned upon because they clutter up\nhistory, making it harder to follow.  To clean things up, you need to\ntransplant the commits on\ntopic\nto the new\nsubsystem\ntip, i.e.,\nrebase\ntopic\n.  This becomes a ripple effect: anyone downstream from\ntopic\nis forced to rebase too, and so on!\nThere are two kinds of fixes, discussed in the following subsections:\nEasy case: The changes are literally the same.\nThis happens if the\nsubsystem\nrebase was a simple rebase and\nhad no conflicts.\nHard case: The changes are not the same.\nThis happens if the\nsubsystem\nrebase had conflicts, or used\n--interactive\nto omit, edit, squash, or fixup commits; or\nif the upstream used one of\ncommit\n--amend\n,\nreset\n, or\na full history rewriting command like\nfilter-repo\n.\nThe easy case\nOnly works if the changes (patch IDs based on the diff contents) on\nsubsystem\nare literally the same before and after the rebase\nsubsystem\ndid.\nIn that case, the fix is easy because\ngit rebase\nknows to skip\nchanges that are already present in the new upstream (unless\n--reapply-cherry-picks\nis given). So if you say\n(assuming you’re on\ntopic\n)\n$ git rebase subsystem\nyou will end up with the fixed history\no---o---o---o---o---o---o---o  master\n\\\no'--o'--o'--o'--o'  subsystem\n\\\n*---*---*  topic\nThe hard case\nThings get more complicated if the\nsubsystem\nchanges do not exactly\ncorrespond to the ones before the rebase.\nNote\nWhile an \"easy case recovery\" sometimes appears to be successful\neven in the hard case, it may have unintended consequences.  For\nexample, a commit that was removed via\ngit\nrebase\n--interactive\nwill be\nresurrected\n!\nThe idea is to manually tell\ngit\nrebase\n\"where the old\nsubsystem\nended and your\ntopic\nbegan\", that is, what the old merge base\nbetween them was.  You will have to find a way to name the last commit\nof the old\nsubsystem\n, for example:\nWith the\nsubsystem\nreflog: after\ngit\nfetch\n, the old tip of\nsubsystem\nis at\nsubsystem@{1}\n.  Subsequent fetches will\nincrease the number.  (See\ngit-reflog[1]\n.)\nRelative to the tip of\ntopic\n: knowing that your\ntopic\nhas three\ncommits, the old tip of\nsubsystem\nmust be\ntopic~3\n.\nYou can then transplant the old\nsubsystem..topic\nto the new tip by\nsaying (for the reflog case, and assuming you are on\ntopic\nalready):\n$ git rebase --onto subsystem subsystem@{1}\nThe ripple effect of a \"hard case\" recovery is especially bad:\neveryone\ndownstream from\ntopic\nwill now have to perform a \"hard\ncase\" recovery too!\nREBASING MERGES\nThe interactive rebase command was originally designed to handle\nindividual patch series. As such, it makes sense to exclude merge\ncommits from the todo list, as the developer may have merged the\nthen-current\nmaster\nwhile working on the branch, only to rebase\nall the commits onto\nmaster\neventually (skipping the merge\ncommits).\nHowever, there are legitimate reasons why a developer may want to\nrecreate merge commits: to keep the branch structure (or \"commit\ntopology\") when working on multiple, inter-related branches.\nIn the following example, the developer works on a topic branch that\nrefactors the way buttons are defined, and on another topic branch\nthat uses that refactoring to implement a \"Report a bug\" button. The\noutput of\ngit\nlog\n--graph\n--format=%s\n-5\nmay look like this:\n*   Merge branch 'report-a-bug'\n|\\\n| * Add the feedback button\n* | Merge branch 'refactor-button'\n|\\ \\\n| |/\n| * Use the Button class for all buttons\n| * Extract a generic Button class from the DownloadButton one\nThe developer might want to rebase those commits to a newer\nmaster\nwhile keeping the branch topology, for example when the first topic\nbranch is expected to be integrated into\nmaster\nmuch earlier than the\nsecond one, say, to resolve merge conflicts with changes to the\nDownloadButton class that made it into\nmaster\n.\nThis rebase can be performed using the\n--rebase-merges\noption.\nIt will generate a todo list looking like this:\nlabel onto\n# Branch: refactor-button\nreset onto\npick 123456 Extract a generic Button class from the DownloadButton one\npick 654321 Use the Button class for all buttons\nlabel refactor-button\n# Branch: report-a-bug\nreset refactor-button # Use the Button class for all buttons\npick abcdef Add the feedback button\nlabel report-a-bug\nreset onto\nmerge -C a1b2c3 refactor-button # Merge 'refactor-button'\nmerge -C 6f5e4d report-a-bug # Merge 'report-a-bug'\nIn contrast to a regular interactive rebase, there are\nlabel\n,\nreset\nand\nmerge\ncommands in addition to\npick\nones.\nThe\nlabel\ncommand associates a label with the current HEAD when that\ncommand is executed. These labels are created as worktree-local refs\n(\nrefs/rewritten/\n<label>\n) that will be deleted when the rebase\nfinishes. That way, rebase operations in multiple worktrees linked to\nthe same repository do not interfere with one another. If the\nlabel\ncommand fails, it is rescheduled immediately, with a helpful message how\nto proceed.\nThe\nreset\ncommand resets the HEAD, index and worktree to the specified\nrevision. It is similar to an\nexec\ngit\nreset\n--hard\n<label>\n, but\nrefuses to overwrite untracked files. If the\nreset\ncommand fails, it is\nrescheduled immediately, with a helpful message how to edit the todo list\n(this typically happens when a\nreset\ncommand was inserted into the todo\nlist manually and contains a typo).\nThe\nmerge\ncommand will merge the specified revision(s) into whatever\nis HEAD at that time. With\n-C\n<original-commit>\n, the commit message of\nthe specified merge commit will be used. When the\n-C\nis changed to\na lower-case\n-c\n, the message will be opened in an editor after a\nsuccessful merge so that the user can edit the message.\nIf a\nmerge\ncommand fails for any reason other than merge conflicts (i.e.\nwhen the merge operation did not even start), it is rescheduled immediately.\nBy default, the\nmerge\ncommand will use the\nort\nmerge strategy for\nregular merges, and\noctopus\nfor octopus merges.  One can specify a\ndefault strategy for all merges using the\n--strategy\nargument when\ninvoking rebase, or can override specific merges in the interactive\nlist of commands by using an\nexec\ncommand to call\ngit\nmerge\nexplicitly with a\n--strategy\nargument.  Note that when calling\ngit\nmerge\nexplicitly like this, you can make use of the fact that the\nlabels are worktree-local refs (the ref\nrefs/rewritten/onto\nwould\ncorrespond to the label\nonto\n, for example) in order to refer to the\nbranches you want to merge.\nNote: the first command (\nlabel\nonto\n) labels the revision onto which\nthe commits are rebased; The name\nonto\nis just a convention, as a nod\nto the\n--onto\noption.\nIt is also possible to introduce completely new merge commits from scratch\nby adding a command of the form\nmerge\n<merge-head>\n. This form will\ngenerate a tentative commit message and always open an editor to let the\nuser edit it. This can be useful e.g. when a topic branch turns out to\naddress more than a single concern and wants to be split into two or\neven more topic branches. Consider this todo list:\npick 192837 Switch from GNU Makefiles to CMake\npick 5a6c7e Document the switch to CMake\npick 918273 Fix detection of OpenSSL in CMake\npick afbecd http: add support for TLS v1.3\npick fdbaec Fix detection of cURL in CMake on Windows\nThe one commit in this list that is not related to CMake may very well\nhave been motivated by working on fixing all those bugs introduced by\nswitching to CMake, but it addresses a different concern. To split this\nbranch into two topic branches, the todo list could be edited like this:\nlabel onto\npick afbecd http: add support for TLS v1.3\nlabel tlsv1.3\nreset onto\npick 192837 Switch from GNU Makefiles to CMake\npick 918273 Fix detection of OpenSSL in CMake\npick fdbaec Fix detection of cURL in CMake on Windows\npick 5a6c7e Document the switch to CMake\nlabel cmake\nreset onto\nmerge tlsv1.3\nmerge cmake\nCONFIGURATION\nEverything below this line in this section is selectively included\nfrom the\ngit-config[1]\ndocumentation. The content is the same\nas what’s found there:\nrebase.backend\nDefault backend to use for rebasing.  Possible choices are\napply\nor\nmerge\n.  In the future, if the merge backend gains\nall remaining capabilities of the apply backend, this setting\nmay become unused.\nrebase.stat\nWhether to show a diffstat of what changed upstream since the last\nrebase. False by default.\nrebase.autoSquash\nIf set to true, enable the\n--autosquash\noption of\ngit-rebase[1]\nby default for interactive mode.\nThis can be overridden with the\n--no-autosquash\noption.\nrebase.autoStash\nWhen set to true, automatically create a temporary stash entry\nbefore the operation begins, and apply it after the operation\nends.  This means that you can run rebase on a dirty worktree.\nHowever, use with care: the final stash application after a\nsuccessful rebase might result in non-trivial conflicts.\nThis option can be overridden by the\n--no-autostash\nand\n--autostash\noptions of\ngit-rebase[1]\n.\nDefaults to false.\nrebase.updateRefs\nIf set to true enable\n--update-refs\noption by default.\nrebase.missingCommitsCheck\nIf set to \"warn\", git rebase -i will print a warning if some\ncommits are removed (e.g. a line was deleted), however the\nrebase will still proceed. If set to \"error\", it will print\nthe previous warning and stop the rebase,\ngit rebase\n--edit-todo\ncan then be used to correct the error. If set to\n\"ignore\", no checking is done.\nTo drop a commit without warning or error, use the\ndrop\ncommand in the todo list.\nDefaults to \"ignore\".\nrebase.instructionFormat\nA format string, as specified in\ngit-log[1]\n, to be used for the\ntodo list during an interactive rebase.  The format will\nautomatically have the commit hash prepended to the format.\nrebase.abbreviateCommands\nIf set to true,\ngit\nrebase\nwill use abbreviated command names in the\ntodo list resulting in something like this:\np deadbee The oneline of the commit\np fa1afe1 The oneline of the next commit\n...\ninstead of:\npick deadbee The oneline of the commit\npick fa1afe1 The oneline of the next commit\n...\nDefaults to false.\nrebase.rescheduleFailedExec\nAutomatically reschedule\nexec\ncommands that failed. This only makes\nsense in interactive mode (or when an\n--exec\noption was provided).\nThis is the same as specifying the\n--reschedule-failed-exec\noption.\nrebase.forkPoint\nIf set to false set\n--no-fork-point\noption by default.\nrebase.rebaseMerges\nWhether and how to set the\n--rebase-merges\noption by default. Can\nbe\nrebase-cousins\n,\nno-rebase-cousins\n, or a boolean. Setting to\ntrue or to\nno-rebase-cousins\nis equivalent to\n--rebase-merges=no-rebase-cousins\n, setting to\nrebase-cousins\nis\nequivalent to\n--rebase-merges=rebase-cousins\n, and setting to false is\nequivalent to\n--no-rebase-merges\n. Passing\n--rebase-merges\non the\ncommand line, with or without an argument, overrides any\nrebase.rebaseMerges\nconfiguration.\nrebase.maxLabelLength\nWhen generating label names from commit subjects, truncate the names to\nthis length. By default, the names are truncated to a little less than\nNAME_MAX\n(to allow e.g.\n.lock\nfiles to be written for the\ncorresponding loose refs).\nsequence.editor\nText editor used by\ngit\nrebase\n-i\nfor editing the rebase instruction file.\nThe value is meant to be interpreted by the shell when it is used.\nIt can be overridden by the\nGIT_SEQUENCE_EDITOR\nenvironment variable.\nWhen not configured, the default commit message editor is used instead.\nGIT\nPart of the\ngit[1]\nsuite\nrebase", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://git-scm.com/docs/git-rebase"}}
{"text": "Git - git-stash Documentation\nEnglish ▾\nLocalized versions of\ngit-stash\nmanual\nEnglish\nFrançais\nPortuguês (Brasil)\nукраїнська мова\n简体中文\nTopics ▾\nSetup and Config\ngit\nconfig\nhelp\nbugreport\nCredential helpers\nGetting and Creating Projects\ninit\nclone\nBasic Snapshotting\nadd\nstatus\ndiff\ncommit\nnotes\nrestore\nreset\nrm\nmv\nBranching and Merging\nbranch\ncheckout\nswitch\nmerge\nmergetool\nlog\nstash\ntag\nworktree\nSharing and Updating Projects\nfetch\npull\npush\nremote\nsubmodule\nInspection and Comparison\nshow\nlog\ndiff\ndifftool\nrange-diff\nshortlog\ndescribe\nPatching\napply\ncherry-pick\ndiff\nrebase\nrevert\nDebugging\nbisect\nblame\ngrep\nEmail\nam\napply\nimap-send\nformat-patch\nsend-email\nrequest-pull\nExternal Systems\nsvn\nfast-import\nServer Admin\ndaemon\nupdate-server-info\nGuides\ngitattributes\nCommand-line interface conventions\nEveryday Git\nFrequently Asked Questions (FAQ)\nGlossary\nHooks\ngitignore\ngitmodules\nRevisions\nSubmodules\nTutorial\nWorkflows\nAll guides...\nAdministration\nclean\ngc\nfsck\nreflog\nfilter-branch\ninstaweb\narchive\nbundle\nPlumbing Commands\ncat-file\ncheck-ignore\ncheckout-index\ncommit-tree\ncount-objects\ndiff-index\nfor-each-ref\nhash-object\nls-files\nls-tree\nmerge-base\nread-tree\nrev-list\nrev-parse\nshow-ref\nsymbolic-ref\nupdate-index\nupdate-ref\nverify-pack\nwrite-tree\nLatest version\n▾\ngit-stash last updated in 2.52.0\nChanges in the\ngit-stash\nmanual\n2.52.0\n2025-11-17\n2.51.1 → 2.51.2 no changes\n2.51.0\n2025-08-18\n2.43.1 → 2.50.1 no changes\n2.43.0\n2023-11-20\n2.42.1 → 2.42.4 no changes\n2.42.0\n2023-08-21\n2.39.1 → 2.41.3 no changes\n2.39.0\n2022-12-12\n2.38.1 → 2.38.5 no changes\n2.38.0\n2022-10-02\n2.35.1 → 2.37.7 no changes\n2.35.0\n2022-01-24\n2.32.1 → 2.34.8 no changes\n2.32.0\n2021-06-06\n2.31.1 → 2.31.8 no changes\n2.31.0\n2021-03-15\n2.26.1 → 2.30.9 no changes\n2.26.0\n2020-03-22\n2.24.1 → 2.25.5 no changes\n2.24.0\n2019-11-04\n2.23.1 → 2.23.4 no changes\n2.23.0\n2019-08-16\n2.22.1 → 2.22.5 no changes\n2.22.0\n2019-06-07\n2.17.1 → 2.21.4 no changes\n2.17.0\n2018-04-02\n2.16.6\n2019-12-06\n2.15.4 no changes\n2.14.6\n2019-12-06\n2.13.7\n2018-05-22\n2.12.5\n2017-09-22\n2.11.4\n2017-09-22\n2.8.6 → 2.10.5 no changes\n2.7.6\n2017-07-30\n2.1.4 → 2.6.7 no changes\n2.0.5\n2014-12-17\nNAME\ngit-stash - Stash the changes in a dirty working directory away\nSYNOPSIS\ngit\nstash\nlist\n[\n<log-options>\n]\ngit\nstash\nshow\n[\n-u\n|\n--include-untracked\n|\n--only-untracked\n] [\n<diff-options>\n] [\n<stash>\n]\ngit\nstash\ndrop\n[\n-q\n|\n--quiet\n] [\n<stash>\n]\ngit\nstash\npop\n[\n--index\n] [\n-q\n|\n--quiet\n] [\n<stash>\n]\ngit\nstash\napply\n[\n--index\n] [\n-q\n|\n--quiet\n] [\n<stash>\n]\ngit\nstash\nbranch\n<branchname>\n[\n<stash>\n]\ngit\nstash\n[\npush\n[\n-p\n|\n--patch\n] [\n-S\n|\n--staged\n] [\n-k\n|\n--\n[\nno-\n]\nkeep-index\n] [\n-q\n|\n--quiet\n]\n[\n-u\n|\n--include-untracked\n] [\n-a\n|\n--all\n] [(\n-m\n|\n--message\n)\n<message>\n]\n[\n--pathspec-from-file=\n<file>\n[\n--pathspec-file-nul\n]]\n[\n--\n] [\n<pathspec>\n…​]]\ngit\nstash\nsave\n[\n-p\n|\n--patch\n] [\n-S\n|\n--staged\n] [\n-k\n|\n--\n[\nno-\n]\nkeep-index\n] [\n-q\n|\n--quiet\n]\n[\n-u\n|\n--include-untracked\n] [\n-a\n|\n--all\n] [\n<message>\n]\ngit\nstash\nclear\ngit\nstash\ncreate\n[\n<message>\n]\ngit\nstash\nstore\n[(\n-m\n|\n--message\n)\n<message>\n] [\n-q\n|\n--quiet\n]\n<commit>\ngit\nstash\nexport\n(\n--print\n|\n--to-ref\n<ref>\n) [\n<stash>\n…​]\ngit\nstash\nimport\n<commit>\nDESCRIPTION\nUse\ngit\nstash\nwhen you want to record the current state of the\nworking directory and the index, but want to go back to a clean\nworking directory.  The command saves your local modifications away\nand reverts the working directory to match the\nHEAD\ncommit.\nThe modifications stashed away by this command can be listed with\ngit\nstash\nlist\n, inspected with\ngit\nstash\nshow\n, and restored\n(potentially on top of a different commit) with\ngit\nstash\napply\n.\nCalling\ngit\nstash\nwithout any arguments is equivalent to\ngit\nstash\npush\n.\nA stash is by default listed as \"WIP on\n<branchname>\n…​\", but\nyou can give a more descriptive message on the command line when\nyou create one.\nThe latest stash you created is stored in\nrefs/stash\n; older\nstashes are found in the reflog of this reference and can be named using\nthe usual reflog syntax (e.g.\nstash@{0}\nis the most recently\ncreated stash,\nstash@{1}\nis the one before it,\nstash@{2.hours.ago}\nis also possible). Stashes may also be referenced by specifying just the\nstash index (e.g. the integer\n<n>\nis equivalent to\nstash@{\n<n>\n}\n).\nCOMMANDS\npush\n[\n-p\n|\n--patch\n] [\n-S\n|\n--staged\n] [\n-k\n|\n--\n[\nno-\n]\nkeep-index\n] [\n-u\n|\n--include-untracked\n] [\n-a\n|\n--all\n] [\n-q\n|\n--quiet\n] [(\n-m\n|\n--message\n)\n<message>\n] [\n--pathspec-from-file=\n<file>\n[\n--pathspec-file-nul\n]] [\n--\n] [\n<pathspec>\n...]\nSave your local modifications to a new\nstash entry\nand roll them\nback to\nHEAD\n(in the working tree and in the index).\nThe\n<message>\npart is optional and gives\nthe description along with the stashed state.\nFor quickly making a snapshot, you can omit \"push\".  In this mode,\nnon-option arguments are not allowed to prevent a misspelled\nsubcommand from making an unwanted stash entry.  The two exceptions to this\nare\nstash\n-p\nwhich acts as alias for\nstash\npush\n-p\nand pathspec elements,\nwhich are allowed after a double hyphen\n--\nfor disambiguation.\nsave\n[\n-p\n|\n--patch\n] [\n-S\n|\n--staged\n] [\n-k\n|\n--\n[\nno-\n]\nkeep-index\n] [\n-u\n|\n--include-untracked\n] [\n-a\n|\n--all\n] [\n-q\n|\n--quiet\n] [\n<message>\n]\nThis option is deprecated in favour of\ngit stash push\n.  It\ndiffers from \"stash push\" in that it cannot take pathspec.\nInstead, all non-option arguments are concatenated to form the stash\nmessage.\nlist\n[\n<log-options>\n]\nList the stash entries that you currently have.  Each\nstash entry\nis\nlisted with its name (e.g.\nstash@{0}\nis the latest entry,\nstash@{1}\nis\nthe one before, etc.), the name of the branch that was current when the\nentry was made, and a short description of the commit the entry was\nbased on.\nstash@{0}: WIP on submit: 6ebd0e2... Update git-stash documentation\nstash@{1}: On master: 9cc0589... Add git-stash\nThe command takes options applicable to the\ngit log\ncommand to control what is shown and how. See\ngit-log[1]\n.\nshow\n[\n-u\n|\n--include-untracked\n|\n--only-untracked\n] [\n<diff-options>\n] [\n<stash>\n]\nShow the changes recorded in the stash entry as a diff between the\nstashed contents and the commit back when the stash entry was first\ncreated.\nBy default, the command shows the diffstat, but it will accept any\nformat known to\ngit diff\n(e.g.,\ngit\nstash\nshow\n-p\nstash@{1}\nto view the second most recent entry in patch form).\nIf no\n<diff-option>\nis provided, the default behavior will be given\nby the\nstash.showStat\n, and\nstash.showPatch\nconfig variables. You\ncan also use\nstash.showIncludeUntracked\nto set whether\n--include-untracked\nis enabled by default.\npop\n[\n--index\n] [\n-q\n|\n--quiet\n] [\n<stash>\n]\nRemove a single stashed state from the stash list and apply it\non top of the current working tree state, i.e., do the inverse\noperation of\ngit\nstash\npush\n. The working directory must\nmatch the index.\nApplying the state can fail with conflicts; in this case, it is not\nremoved from the stash list. You need to resolve the conflicts by hand\nand call\ngit\nstash\ndrop\nmanually afterwards.\napply\n[\n--index\n] [\n-q\n|\n--quiet\n] [\n<stash>\n]\nLike\npop\n, but do not remove the state from the stash list. Unlike\npop\n,\n<stash>\nmay be any commit that looks like a commit created by\nstash\npush\nor\nstash\ncreate\n.\nbranch\n<branchname>\n[\n<stash>\n]\nCreates and checks out a new branch named\n<branchname>\nstarting from\nthe commit at which the\n<stash>\nwas originally created, applies the\nchanges recorded in\n<stash>\nto the new working tree and index.\nIf that succeeds, and\n<stash>\nis a reference of the form\nstash@{\n<revision>\n}\n, it then drops the\n<stash>\n.\nThis is useful if the branch on which you ran\ngit\nstash\npush\nhas\nchanged enough that\ngit\nstash\napply\nfails due to conflicts. Since\nthe stash entry is applied on top of the commit that was HEAD at the\ntime\ngit\nstash\nwas run, it restores the originally stashed state\nwith no conflicts.\nclear\nRemove all the stash entries. Note that those entries will then\nbe subject to pruning, and may be impossible to recover (see\nEXAMPLES\nbelow for a possible strategy).\ndrop\n[\n-q\n|\n--quiet\n] [\n<stash>\n]\nRemove a single stash entry from the list of stash entries.\ncreate\nCreate a stash entry (which is a regular commit object) and\nreturn its object name, without storing it anywhere in the ref\nnamespace.\nThis is intended to be useful for scripts.  It is probably not\nthe command you want to use; see \"push\" above.\nstore\nStore a given stash created via\ngit stash create\n(which is a\ndangling merge commit) in the stash ref, updating the stash\nreflog.  This is intended to be useful for scripts.  It is\nprobably not the command you want to use; see \"push\" above.\nexport\n(\n--print\n|\n--to-ref\n<ref>\n) [\n<stash>\n...]\nExport the specified stashes, or all of them if none are specified, to\na chain of commits which can be transferred using the normal fetch and\npush mechanisms, then imported using the\nimport\nsubcommand.\nimport\n<commit>\nImport the specified stashes from the specified commit, which must have been\ncreated by\nexport\n, and add them to the list of stashes.  To replace the\nexisting stashes, use\nclear\nfirst.\nOPTIONS\n-a\n--all\nThis option is only valid for\npush\nand\nsave\ncommands.\nAll ignored and untracked files are also stashed and then cleaned\nup with\ngit\nclean\n.\n-u\n--include-untracked\n--no-include-untracked\nWhen used with the\npush\nand\nsave\ncommands,\nall untracked files are also stashed and then cleaned up with\ngit\nclean\n.\nWhen used with the\nshow\ncommand, show the untracked files in the stash\nentry as part of the diff.\n--only-untracked\nThis option is only valid for the\nshow\ncommand.\nShow only the untracked files in the stash entry as part of the diff.\n--index\nThis option is only valid for\npop\nand\napply\ncommands.\nTries to reinstate not only the working tree’s changes, but also\nthe index’s ones. However, this can fail, when you have conflicts\n(which are stored in the index, where you therefore can no longer\napply the changes as they were originally).\n-k\n--keep-index\n--no-keep-index\nThis option is only valid for\npush\nand\nsave\ncommands.\nAll changes already added to the index are left intact.\n-p\n--patch\nThis option is only valid for\npush\nand\nsave\ncommands.\nInteractively select hunks from the diff between HEAD and the\nworking tree to be stashed.  The stash entry is constructed such\nthat its index state is the same as the index state of your\nrepository, and its worktree contains only the changes you selected\ninteractively.  The selected changes are then rolled back from your\nworktree. See the “Interactive Mode” section of\ngit-add[1]\nto learn how to operate the\n--patch\nmode.\nThe\n--patch\noption implies\n--keep-index\n.  You can use\n--no-keep-index\nto override this.\n-U\n<n>\n--unified=\n<n>\nGenerate diffs with\n<n>\nlines of context. Defaults to\ndiff.context\nor 3 if the config option is unset.\n--inter-hunk-context=\n<n>\nShow the context between diff hunks, up to the specified\n<number>\nof lines, thereby fusing hunks that are close to each other.\nDefaults to\ndiff.interHunkContext\nor 0 if the config option\nis unset.\n-S\n--staged\nThis option is only valid for\npush\nand\nsave\ncommands.\nStash only the changes that are currently staged. This is similar to\nbasic\ngit\ncommit\nexcept the state is committed to the stash instead\nof current branch.\nThe\n--patch\noption has priority over this one.\n--pathspec-from-file=\n<file>\nThis option is only valid for\npush\ncommand.\nPathspec is passed in\n<file>\ninstead of commandline args. If\n<file>\nis exactly\n-\nthen standard input is used. Pathspec\nelements are separated by LF or CR/LF. Pathspec elements can be\nquoted as explained for the configuration variable\ncore.quotePath\n(see\ngit-config[1]\n). See also\n--pathspec-file-nul\nand\nglobal\n--literal-pathspecs\n.\n--pathspec-file-nul\nThis option is only valid for\npush\ncommand.\nOnly meaningful with\n--pathspec-from-file\n. Pathspec elements are\nseparated with NUL character and all other characters are taken\nliterally (including newlines and quotes).\n-q\n--quiet\nThis option is only valid for\napply\n,\ndrop\n,\npop\n,\npush\n,\nsave\n,\nstore\ncommands.\nQuiet, suppress feedback messages.\n--print\nThis option is only valid for the\nexport\ncommand.\nCreate the chain of commits representing the exported stashes without\nstoring it anywhere in the ref namespace and print the object ID to\nstandard output.  This is designed for scripts.\n--to-ref\nThis option is only valid for the\nexport\ncommand.\nCreate the chain of commits representing the exported stashes and store\nit to the specified ref.\n--\nThis option is only valid for\npush\ncommand.\nSeparates pathspec from options for disambiguation purposes.\n<pathspec>\n...\nThis option is only valid for\npush\ncommand.\nThe new stash entry records the modified states only for the files\nthat match the pathspec.  The index entries and working tree files\nare then rolled back to the state in HEAD only for these files,\ntoo, leaving files that do not match the pathspec intact.\nFor more details, see the\npathspec\nentry in\ngitglossary[7]\n.\n<stash>\nThis option is only valid for\napply\n,\nbranch\n,\ndrop\n,\npop\n,\nshow\n, and\nexport\ncommands.\nA reference of the form\nstash@{\n<revision>\n}\n. When no\n<stash>\nis\ngiven, the latest stash is assumed (that is,\nstash@{0}\n).\nDISCUSSION\nA stash entry is represented as a commit whose tree records the state\nof the working directory, and its first parent is the commit at\nHEAD\nwhen the entry was created.  The tree of the second parent records the\nstate of the index when the entry is made, and it is made a child of\nthe\nHEAD\ncommit.  The ancestry graph looks like this:\n.----W\n/    /\n-----H----I\nwhere\nH\nis the\nHEAD\ncommit,\nI\nis a commit that records the state\nof the index, and\nW\nis a commit that records the state of the working\ntree.\nEXAMPLES\nPulling into a dirty tree\nWhen you are in the middle of something, you learn that there are\nupstream changes that are possibly relevant to what you are\ndoing.  When your local changes do not conflict with the changes in\nthe upstream, a simple\ngit\npull\nwill let you move forward.\nHowever, there are cases in which your local changes do conflict with\nthe upstream changes, and\ngit\npull\nrefuses to overwrite your\nchanges.  In such a case, you can stash your changes away,\nperform a pull, and then unstash, like this:\n$ git pull\n...\nfile foobar not up to date, cannot merge.\n$ git stash\n$ git pull\n$ git stash pop\nInterrupted workflow\nWhen you are in the middle of something, your boss comes in and\ndemands that you fix something immediately.  Traditionally, you would\nmake a commit to a temporary branch to store your changes away, and\nreturn to your original branch to make the emergency fix, like this:\n# ... hack hack hack ...\n$ git switch -c my_wip\n$ git commit -a -m \"WIP\"\n$ git switch master\n$ edit emergency fix\n$ git commit -a -m \"Fix in a hurry\"\n$ git switch my_wip\n$ git reset --soft HEAD^\n# ... continue hacking ...\nYou can use\ngit stash\nto simplify the above, like this:\n# ... hack hack hack ...\n$ git stash\n$ edit emergency fix\n$ git commit -a -m \"Fix in a hurry\"\n$ git stash pop\n# ... continue hacking ...\nTesting partial commits\nYou can use\ngit\nstash\npush\n--keep-index\nwhen you want to make two or\nmore commits out of the changes in the work tree, and you want to test\neach change before committing:\n# ... hack hack hack ...\n$ git add --patch foo            # add just first part to the index\n$ git stash push --keep-index    # save all other changes to the stash\n$ edit/build/test first part\n$ git commit -m 'First part'     # commit fully tested change\n$ git stash pop                  # prepare to work on all other changes\n# ... repeat above five steps until one commit remains ...\n$ edit/build/test remaining parts\n$ git commit foo -m 'Remaining parts'\nSaving unrelated changes for future use\nWhen you are in the middle of massive changes and you find some\nunrelated issue that you don’t want to forget to fix, you can do the\nchange(s), stage them, and use\ngit\nstash\npush\n--staged\nto stash them\nout for future use. This is similar to committing the staged changes,\nonly the commit ends-up being in the stash and not on the current branch.\n# ... hack hack hack ...\n$ git add --patch foo           # add unrelated changes to the index\n$ git stash push --staged       # save these changes to the stash\n# ... hack hack hack, finish current changes ...\n$ git commit -m 'Massive'       # commit fully tested changes\n$ git switch fixup-branch       # switch to another branch\n$ git stash pop                 # to finish work on the saved changes\nRecovering stash entries that were cleared/dropped erroneously\nIf you mistakenly drop or clear stash entries, they cannot be recovered\nthrough the normal safety mechanisms.  However, you can try the\nfollowing incantation to get a list of stash entries that are still in\nyour repository, but not reachable any more:\ngit fsck --unreachable |\ngrep commit | cut -d\\  -f3 |\nxargs git log --merges --no-walk --grep=WIP\nCONFIGURATION\nEverything below this line in this section is selectively included\nfrom the\ngit-config[1]\ndocumentation. The content is the same\nas what’s found there:\nstash.index\nIf this is set to true,\ngit\nstash\napply\nand\ngit\nstash\npop\nwill\nbehave as if\n--index\nwas supplied. Defaults to false.\nstash.showIncludeUntracked\nIf this is set to true, the\ngit\nstash\nshow\ncommand will show\nthe untracked files of a stash entry. Defaults to false.\nstash.showPatch\nIf this is set to true, the\ngit\nstash\nshow\ncommand without an\noption will show the stash entry in patch form.  Defaults to false.\nstash.showStat\nIf this is set to true, the\ngit\nstash\nshow\ncommand without an\noption will show a diffstat of the stash entry.  Defaults to true.\nSEE ALSO\ngit-checkout[1]\n,\ngit-commit[1]\n,\ngit-reflog[1]\n,\ngit-reset[1]\n,\ngit-switch[1]\nGIT\nPart of the\ngit[1]\nsuite\nstash", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://git-scm.com/docs/git-stash"}}
{"text": "Git - git-log Documentation\nEnglish ▾\nLocalized versions of\ngit-log\nmanual\nEnglish\nFrançais\nPortuguês (Brasil)\nукраїнська мова\n简体中文\nTopics ▾\nSetup and Config\ngit\nconfig\nhelp\nbugreport\nCredential helpers\nGetting and Creating Projects\ninit\nclone\nBasic Snapshotting\nadd\nstatus\ndiff\ncommit\nnotes\nrestore\nreset\nrm\nmv\nBranching and Merging\nbranch\ncheckout\nswitch\nmerge\nmergetool\nlog\nstash\ntag\nworktree\nSharing and Updating Projects\nfetch\npull\npush\nremote\nsubmodule\nInspection and Comparison\nshow\nlog\ndiff\ndifftool\nrange-diff\nshortlog\ndescribe\nPatching\napply\ncherry-pick\ndiff\nrebase\nrevert\nDebugging\nbisect\nblame\ngrep\nEmail\nam\napply\nimap-send\nformat-patch\nsend-email\nrequest-pull\nExternal Systems\nsvn\nfast-import\nServer Admin\ndaemon\nupdate-server-info\nGuides\ngitattributes\nCommand-line interface conventions\nEveryday Git\nFrequently Asked Questions (FAQ)\nGlossary\nHooks\ngitignore\ngitmodules\nRevisions\nSubmodules\nTutorial\nWorkflows\nAll guides...\nAdministration\nclean\ngc\nfsck\nreflog\nfilter-branch\ninstaweb\narchive\nbundle\nPlumbing Commands\ncat-file\ncheck-ignore\ncheckout-index\ncommit-tree\ncount-objects\ndiff-index\nfor-each-ref\nhash-object\nls-files\nls-tree\nmerge-base\nread-tree\nrev-list\nrev-parse\nshow-ref\nsymbolic-ref\nupdate-index\nupdate-ref\nverify-pack\nwrite-tree\nLatest version\n▾\ngit-log last updated in 2.52.0\nChanges in the\ngit-log\nmanual\n2.52.0\n2025-11-17\n2.51.2 no changes\n2.51.1\n2025-10-15\n2.51.0\n2025-08-18\n2.50.1 no changes\n2.50.0\n2025-06-16\n2.49.1 no changes\n2.49.0\n2025-03-14\n2.48.1 → 2.48.2 no changes\n2.48.0\n2025-01-10\n2.46.1 → 2.47.3 no changes\n2.46.0\n2024-07-29\n2.45.4 no changes\n2.45.3\n2024-11-26\n2.45.1 → 2.45.2 no changes\n2.45.0\n2024-04-29\n2.44.1 → 2.44.4 no changes\n2.44.0\n2024-02-23\n2.43.3 → 2.43.7 no changes\n2.43.2\n2024-02-13\n2.43.1 no changes\n2.43.0\n2023-11-20\n2.42.2 → 2.42.4 no changes\n2.42.1\n2023-11-02\n2.42.0\n2023-08-21\n2.41.1 → 2.41.3 no changes\n2.41.0\n2023-06-01\n2.40.1 → 2.40.4 no changes\n2.40.0\n2023-03-12\n2.39.1 → 2.39.5 no changes\n2.39.0\n2022-12-12\n2.38.3 → 2.38.5 no changes\n2.38.2\n2022-12-11\n2.38.1 no changes\n2.38.0\n2022-10-02\n2.37.1 → 2.37.7 no changes\n2.37.0\n2022-06-27\n2.36.1 → 2.36.6 no changes\n2.36.0\n2022-04-18\n2.35.1 → 2.35.8 no changes\n2.35.0\n2022-01-24\n2.33.3 → 2.34.8 no changes\n2.33.2\n2022-03-23\n2.33.1\n2021-10-12\n2.33.0\n2021-08-16\n2.32.1 → 2.32.7 no changes\n2.32.0\n2021-06-06\n2.31.1 → 2.31.8 no changes\n2.31.0\n2021-03-15\n2.30.1 → 2.30.9 no changes\n2.30.0\n2020-12-27\n2.29.1 → 2.29.3 no changes\n2.29.0\n2020-10-19\n2.28.1 no changes\n2.28.0\n2020-07-27\n2.27.1 no changes\n2.27.0\n2020-06-01\n2.26.1 → 2.26.3 no changes\n2.26.0\n2020-03-22\n2.25.2 → 2.25.5 no changes\n2.25.1\n2020-02-17\n2.25.0\n2020-01-13\n2.24.1 → 2.24.4 no changes\n2.24.0\n2019-11-04\n2.23.1 → 2.23.4 no changes\n2.23.0\n2019-08-16\n2.22.1 → 2.22.5 no changes\n2.22.0\n2019-06-07\n2.21.1 → 2.21.4 no changes\n2.21.0\n2019-02-24\n2.20.1 → 2.20.5 no changes\n2.20.0\n2018-12-09\n2.19.3 → 2.19.6 no changes\n2.19.2\n2018-11-21\n2.19.1 no changes\n2.19.0\n2018-09-10\n2.18.1 → 2.18.5 no changes\n2.18.0\n2018-06-21\n2.17.1 → 2.17.6 no changes\n2.17.0\n2018-04-02\n2.16.6\n2019-12-06\n2.15.4\n2019-12-06\n2.14.6\n2019-12-06\n2.13.7\n2018-05-22\n2.12.5\n2017-09-22\n2.11.4\n2017-09-22\n2.10.5\n2017-09-22\n2.9.5\n2017-07-30\n2.8.6\n2017-07-30\n2.7.6\n2017-07-30\n2.6.7\n2017-05-05\n2.5.6\n2017-05-05\n2.4.12\n2017-05-05\n2.3.10\n2015-09-28\n2.2.3\n2015-09-04\n2.1.4\n2014-12-17\n2.0.5\n2014-12-17\nNAME\ngit-log - Show commit logs\nSYNOPSIS\ngit\nlog\n[\n<options>\n] [\n<revision-range>\n] [[\n--\n]\n<path>\n…​]\nDESCRIPTION\nShows the commit logs.\nList commits that are reachable by following the\nparent\nlinks from the\ngiven commit(s), but exclude commits that are reachable from the one(s)\ngiven with a\n^\nin front of them.  The output is given in reverse\nchronological order by default.\nYou can think of this as a set operation. Commits reachable from any of\nthe commits given on the command line form a set, and then commits reachable\nfrom any of the ones given with\n^\nin front are subtracted from that\nset.  The remaining commits are what comes out in the command’s output.\nVarious other options and paths parameters can be used to further limit the\nresult.\nThus, the following command:\n$ git log foo bar ^baz\nmeans \"list all the commits which are reachable from\nfoo\nor\nbar\n, but\nnot from\nbaz\n\".\nA special notation \"\n<commit1>\n..\n<commit2>\n\" can be used as a\nshort-hand for \"\n^\n<commit1>\n<commit2>\n\". For example, either of\nthe following may be used interchangeably:\n$ git log origin..HEAD\n$ git log HEAD ^origin\nAnother special notation is \"\n<commit1>\n...\n<commit2>\n\" which is useful\nfor merges.  The resulting set of commits is the symmetric difference\nbetween the two operands.  The following two commands are equivalent:\n$ git log A B --not $(git merge-base --all A B)\n$ git log A...B\nThe command takes options applicable to the\ngit-rev-list[1]\ncommand to control what is shown and how, and options applicable to\nthe\ngit-diff[1]\ncommand to control how the changes\neach commit introduces are shown.\nOPTIONS\n--follow\nContinue listing the history of a file beyond renames\n(works only for a single file).\n--no-decorate\n--decorate\n[\n=\n(\nshort\n|\nfull\n|\nauto\n|\nno\n)]\nPrint out the ref names of any commits that are shown. Possible values\nare:\n`short`;; the ref name prefixes `refs/heads/`, `refs/tags/` and\n`refs/remotes/` are not printed.\n`full`;; the full ref name (including prefix) is printed.\n`auto`:: if the output is going to a terminal, the ref names\nare shown as if `short` were given, otherwise no ref names are\nshown.\nThe option\n--decorate\nis short-hand for\n--decorate=short\n. Default to\nconfiguration value of\nlog.decorate\nif configured, otherwise,\nauto\n.\n--decorate-refs=\n<pattern>\n--decorate-refs-exclude=\n<pattern>\nFor each candidate reference, do not use it for decoration if it\nmatches any of the\n<pattern>\nparameters given to\n--decorate-refs-exclude\nor if it doesn’t match any of the\n<pattern>\nparameters given to\n--decorate-refs\n.\nThe\nlog.excludeDecoration\nconfig option allows excluding refs from\nthe decorations, but an explicit\n--decorate-refs\npattern will\noverride a match in\nlog.excludeDecoration\n.\nIf none of these options or config settings are given, then references are\nused as decoration if they match\nHEAD\n,\nrefs/heads/\n,\nrefs/remotes/\n,\nrefs/stash/\n, or\nrefs/tags/\n.\n--clear-decorations\nWhen specified, this option clears all previous\n--decorate-refs\nor\n--decorate-refs-exclude\noptions and relaxes the default\ndecoration filter to include all references. This option is\nassumed if the config value\nlog.initialDecorationSet\nis set to\nall\n.\n--source\nPrint out the ref name given on the command line by which each\ncommit was reached.\n--mailmap\n--no-mailmap\n--use-mailmap\n--no-use-mailmap\nUse mailmap file to map author and committer names and email\naddresses to canonical real names and email addresses. See\ngit-shortlog[1]\n.\n--full-diff\nWithout this flag,\ngit\nlog\n-p\n<path>\n...\nshows commits that\ntouch the specified paths, and diffs about the same specified\npaths.  With this, the full diff is shown for commits that touch\nthe specified paths; this means that \"\n<path>\n...\n\" limits only\ncommits, and doesn’t limit diff for those commits.\nNote that this affects all diff-based output types, e.g. those\nproduced by\n--stat\n, etc.\n--log-size\nInclude a line\nlog\nsize\n<number>\nin the output for each commit,\nwhere\n<number>\nis the length of that commit’s message in bytes.\nIntended to speed up tools that read log messages from\ngit\nlog\noutput by allowing them to allocate space in advance.\n-L\n<start>\n,\n<end>\n:\n<file>\n-L:\n<funcname>\n:\n<file>\nTrace the evolution of the line range given by\n<start>\n,\n<end>\n,\nor by the function name regex\n<funcname>\n, within the\n<file>\n. You may\nnot give any pathspec limiters.  This is currently limited to\na walk starting from a single revision, i.e., you may only\ngive zero or one positive revision arguments, and\n<start>\nand\n<end>\n(or\n<funcname>\n) must exist in the starting revision.\nYou can specify this option more than once. Implies\n--patch\n.\nPatch output can be suppressed using\n--no-patch\n, but other diff formats\n(namely\n--raw\n,\n--numstat\n,\n--shortstat\n,\n--dirstat\n,\n--summary\n,\n--name-only\n,\n--name-status\n,\n--check\n) are not currently implemented.\n<start>\nand\n<end>\ncan take one of these forms:\n<number>\nIf\n<start>\nor\n<end>\nis a number, it specifies an\nabsolute line number (lines count from 1).\n/\n<regex>\n/\nThis form will use the first line matching the given\nPOSIX\n<regex>\n. If\n<start>\nis a regex, it will search from the end of\nthe previous\n-L\nrange, if any, otherwise from the start of file.\nIf\n<start>\nis\n^/\n<regex>\n/\n, it will search from the start of file.\nIf\n<end>\nis a regex, it will search starting at the line given by\n<start>\n.\n+\n<offset>\nor\n-\n<offset>\nThis is only valid for\n<end>\nand will specify a number\nof lines before or after the line given by\n<start>\n.\nIf\n:\n<funcname>\nis given in place of\n<start>\nand\n<end>\n, it is a\nregular expression that denotes the range from the first funcname line\nthat matches\n<funcname>\n, up to the next funcname line.\n:\n<funcname>\nsearches from the end of the previous\n-L\nrange, if any, otherwise\nfrom the start of file.\n^:\n<funcname>\nsearches from the start of\nfile. The function names are determined in the same way as\ngit\ndiff\nworks out patch hunk headers (see\nDefining a custom hunk-header\nin\ngitattributes[5]\n).\n<revision-range>\nShow only commits in the specified revision range.  When no\n<revision-range>\nis specified, it defaults to\nHEAD\n(i.e. the\nwhole history leading to the current commit).\norigin..HEAD\nspecifies all the commits reachable from the current commit\n(i.e.\nHEAD\n), but not from\norigin\n. For a complete list of\nways to spell\n<revision-range>\n, see the\nSpecifying Ranges\nsection of\ngitrevisions[7]\n.\n[\n--\n]\n<path>\n...\nShow only commits that are enough to explain how the files\nthat match the specified paths came to be.  See\nHistory\nSimplification\nbelow for details and other simplification\nmodes.\nPaths may need to be prefixed with\n--\nto separate them from\noptions or the revision range, when confusion arises.\nCommit Limiting\nBesides specifying a range of commits that should be listed using the\nspecial notations explained in the description, additional commit\nlimiting may be applied.\nUsing more options generally further limits the output (e.g.\n--since=\n<date1>\nlimits to commits newer than\n<date1>\n, and using it\nwith\n--grep=\n<pattern>\nfurther limits to commits whose log message\nhas a line that matches\n<pattern>\n), unless otherwise noted.\nNote that these are applied before commit\nordering and formatting options, such as\n--reverse\n.\n-\n<number>\n-n\n<number>\n--max-count=\n<number>\nLimit the output to\n<number>\ncommits.\n--skip=\n<number>\nSkip\n<number>\ncommits before starting to show the commit output.\n--since=\n<date>\n--after=\n<date>\nShow commits more recent than\n<date>\n.\n--since-as-filter=\n<date>\nShow all commits more recent than\n<date>\n. This visits\nall commits in the range, rather than stopping at the first commit which\nis older than\n<date>\n.\n--until=\n<date>\n--before=\n<date>\nShow commits older than\n<date>\n.\n--author=\n<pattern>\n--committer=\n<pattern>\nLimit the commits output to ones with author/committer\nheader lines that match the\n<pattern>\nregular\nexpression.  With more than one\n--author=\n<pattern>\n,\ncommits whose author matches any of the\n<pattern>\nare\nchosen (similarly for multiple\n--committer=\n<pattern>\n).\n--grep-reflog=\n<pattern>\nLimit the commits output to ones with reflog entries that\nmatch the\n<pattern>\nregular expression. With\nmore than one\n--grep-reflog\n, commits whose reflog message\nmatches any of the given patterns are chosen.  It is an\nerror to use this option unless\n--walk-reflogs\nis in use.\n--grep=\n<pattern>\nLimit the commits output to ones with a log message that\nmatches the\n<pattern>\nregular expression.  With\nmore than one\n--grep=\n<pattern>\n, commits whose message\nmatches any of the\n<pattern>\nare chosen (but see\n--all-match\n).\nWhen\n--notes\nis in effect, the message from the notes is\nmatched as if it were part of the log message.\n--all-match\nLimit the commits output to ones that match all given\n--grep\n,\ninstead of ones that match at least one.\n--invert-grep\nLimit the commits output to ones with a log message that do not\nmatch the\n<pattern>\nspecified with\n--grep=\n<pattern>\n.\n-i\n--regexp-ignore-case\nMatch the regular expression limiting patterns without regard to letter\ncase.\n--basic-regexp\nConsider the limiting patterns to be basic regular expressions;\nthis is the default.\n-E\n--extended-regexp\nConsider the limiting patterns to be extended regular expressions\ninstead of the default basic regular expressions.\n-F\n--fixed-strings\nConsider the limiting patterns to be fixed strings (don’t interpret\npattern as a regular expression).\n-P\n--perl-regexp\nConsider the limiting patterns to be Perl-compatible regular\nexpressions.\nSupport for these types of regular expressions is an optional\ncompile-time dependency. If Git wasn’t compiled with support for them\nproviding this option will cause it to die.\n--remove-empty\nStop when a given path disappears from the tree.\n--merges\nPrint only merge commits. This is exactly the same as\n--min-parents=2\n.\n--no-merges\nDo not print commits with more than one parent. This is\nexactly the same as\n--max-parents=1\n.\n--min-parents=\n<number>\n--max-parents=\n<number>\n--no-min-parents\n--no-max-parents\nShow only commits which have at least (or at most) that many parent\ncommits. In particular,\n--max-parents=1\nis the same as\n--no-merges\n,\n--min-parents=2\nis the same as\n--merges\n.\n--max-parents=0\ngives all root commits and\n--min-parents=3\nall octopus merges.\n--no-min-parents\nand\n--no-max-parents\nreset these limits (to no limit)\nagain.  Equivalent forms are\n--min-parents=0\n(any commit has 0 or more\nparents) and\n--max-parents=-1\n(negative numbers denote no upper limit).\n--first-parent\nWhen finding commits to include, follow only the first\nparent commit upon seeing a merge commit.  This option\ncan give a better overview when viewing the evolution of\na particular topic branch, because merges into a topic\nbranch tend to be only about adjusting to updated upstream\nfrom time to time, and this option allows you to ignore\nthe individual commits brought in to your history by such\na merge.\nThis option also changes default diff format for merge commits\nto\nfirst-parent\n, see\n--diff-merges=first-parent\nfor details.\n--exclude-first-parent-only\nWhen finding commits to exclude (with a\n^\n), follow only\nthe first parent commit upon seeing a merge commit.\nThis can be used to find the set of changes in a topic branch\nfrom the point where it diverged from the remote branch, given\nthat arbitrary merges can be valid topic branch changes.\n--not\nReverses the meaning of the\n^\nprefix (or lack thereof)\nfor all following revision specifiers, up to the next\n--not\n.\nWhen used on the command line before --stdin, the revisions passed\nthrough stdin will not be affected by it. Conversely, when passed\nvia standard input, the revisions passed on the command line will\nnot be affected by it.\n--all\nPretend as if all the refs in\nrefs/\n, along with\nHEAD\n, are\nlisted on the command line as\n<commit>\n.\n--branches\n[\n=\n<pattern>\n]\nPretend as if all the refs in\nrefs/heads\nare listed\non the command line as\n<commit>\n. If\n<pattern>\nis given, limit\nbranches to ones matching given shell glob. If\n<pattern>\nlacks\n?\n,\n*\n, or\n[\n,\n/*\nat the end is implied.\n--tags\n[\n=\n<pattern>\n]\nPretend as if all the refs in\nrefs/tags\nare listed\non the command line as\n<commit>\n. If\n<pattern>\nis given, limit\ntags to ones matching given shell glob. If pattern lacks\n?\n,\n*\n,\nor\n[\n,\n/*\nat the end is implied.\n--remotes\n[\n=\n<pattern>\n]\nPretend as if all the refs in\nrefs/remotes\nare listed\non the command line as\n<commit>\n. If\n<pattern>\nis given, limit\nremote-tracking branches to ones matching given shell glob.\nIf pattern lacks\n?\n,\n*\n, or\n[\n,\n/*\nat the end is implied.\n--glob=\n<glob-pattern>\nPretend as if all the refs matching shell glob\n<glob-pattern>\nare listed on the command line as\n<commit>\n. Leading\nrefs/\n,\nis automatically prepended if missing. If pattern lacks\n?\n,\n*\n,\nor\n[\n,\n/*\nat the end is implied.\n--exclude=\n<glob-pattern>\nDo not include refs matching\n<glob-pattern>\nthat the next\n--all\n,\n--branches\n,\n--tags\n,\n--remotes\n, or\n--glob\nwould otherwise\nconsider. Repetitions of this option accumulate exclusion patterns\nup to the next\n--all\n,\n--branches\n,\n--tags\n,\n--remotes\n, or\n--glob\noption (other options or arguments do not clear\naccumulated patterns).\nThe patterns given should not begin with\nrefs/heads\n,\nrefs/tags\n, or\nrefs/remotes\nwhen applied to\n--branches\n,\n--tags\n, or\n--remotes\n,\nrespectively, and they must begin with\nrefs/\nwhen applied to\n--glob\nor\n--all\n. If a trailing\n/*\nis intended, it must be given\nexplicitly.\n--exclude-hidden=\n(\nfetch\n|\nreceive\n|\nuploadpack\n)\nDo not include refs that would be hidden by\ngit-fetch\n,\ngit-receive-pack\nor\ngit-upload-pack\nby consulting the appropriate\nfetch.hideRefs\n,\nreceive.hideRefs\nor\nuploadpack.hideRefs\nconfiguration along with\ntransfer.hideRefs\n(see\ngit-config[1]\n). This option affects the next pseudo-ref option\n--all\nor\n--glob\nand is cleared after processing them.\n--reflog\nPretend as if all objects mentioned by reflogs are listed on the\ncommand line as\n<commit>\n.\n--alternate-refs\nPretend as if all objects mentioned as ref tips of alternate\nrepositories were listed on the command line. An alternate\nrepository is any repository whose object directory is specified\nin\nobjects/info/alternates\n.  The set of included objects may\nbe modified by\ncore.alternateRefsCommand\n, etc. See\ngit-config[1]\n.\n--single-worktree\nBy default, all working trees will be examined by the\nfollowing options when there are more than one (see\ngit-worktree[1]\n):\n--all\n,\n--reflog\nand\n--indexed-objects\n.\nThis option forces them to examine the current working tree\nonly.\n--ignore-missing\nUpon seeing an invalid object name in the input, pretend as if\nthe bad input was not given.\n--bisect\nPretend as if the bad bisection ref\nrefs/bisect/bad\nwas listed and as if it was followed by\n--not\nand the good\nbisection refs\nrefs/bisect/good-*\non the command\nline.\n--stdin\nIn addition to getting arguments from the command line, read\nthem from standard input as well. This accepts commits and\npseudo-options like\n--all\nand\n--glob=\n. When a\n--\nseparator\nis seen, the following input is treated as paths and used to\nlimit the result. Flags like\n--not\nwhich are read via standard input\nare only respected for arguments passed in the same way and will not\ninfluence any subsequent command line arguments.\n--cherry-mark\nLike\n--cherry-pick\n(see below) but mark equivalent commits\nwith\n=\nrather than omitting them, and inequivalent ones with\n+\n.\n--cherry-pick\nOmit any commit that introduces the same change as\nanother commit on the “other side” when the set of\ncommits are limited with symmetric difference.\nFor example, if you have two branches,\nA\nand\nB\n, a usual way\nto list all commits on only one side of them is with\n--left-right\n(see the example below in the description of\nthe\n--left-right\noption). However, it shows the commits that were\ncherry-picked from the other branch (for example, “3rd on b” may be\ncherry-picked from branch A). With this option, such pairs of commits are\nexcluded from the output.\n--left-only\n--right-only\nList only commits on the respective side of a symmetric difference,\ni.e. only those which would be marked\n<\nresp.\n>\nby\n--left-right\n.\nFor example,\n--cherry-pick\n--right-only\nA...B\nomits those\ncommits from\nB\nwhich are in\nA\nor are patch-equivalent to a commit in\nA\n. In other words, this lists the\n+\ncommits from\ngit\ncherry\nA\nB\n.\nMore precisely,\n--cherry-pick\n--right-only\n--no-merges\ngives the exact\nlist.\n--cherry\nA synonym for\n--right-only\n--cherry-mark\n--no-merges\n; useful to\nlimit the output to the commits on our side and mark those that\nhave been applied to the other side of a forked history with\ngit\nlog\n--cherry\nupstream...mybranch\n, similar to\ngit\ncherry\nupstream\nmybranch\n.\n-g\n--walk-reflogs\nInstead of walking the commit ancestry chain, walk\nreflog entries from the most recent one to older ones.\nWhen this option is used you cannot specify commits to\nexclude (that is,\n^\n<commit>\n,\n<commit1>\n..\n<commit2>\n,\nand\n<commit1>\n...\n<commit2>\nnotations cannot be used).\nWith\n--pretty\nformat other than\noneline\nand\nreference\n(for obvious reasons),\nthis causes the output to have two extra lines of information\ntaken from the reflog.  The reflog designator in the output may be shown\nas\nref@{\n<Nth>\n}\n(where\n<Nth>\nis the reverse-chronological index in the\nreflog) or as\nref@{\n<timestamp>\n}\n(with the\n<timestamp>\nfor that entry),\ndepending on a few rules:\nIf the starting point is specified as\nref@{\n<Nth>\n}\n, show the index\nformat.\nIf the starting point was specified as\nref@{now}\n, show the\ntimestamp format.\nIf neither was used, but\n--date\nwas given on the command line, show\nthe timestamp in the format requested by\n--date\n.\nOtherwise, show the index format.\nUnder\n--pretty=oneline\n, the commit message is\nprefixed with this information on the same line.\nThis option cannot be combined with\n--reverse\n.\nSee also\ngit-reflog[1]\n.\nUnder\n--pretty=reference\n, this information will not be shown at all.\n--merge\nShow commits touching conflicted paths in the range\nHEAD...\n<other>\n,\nwhere\n<other>\nis the first existing pseudoref in\nMERGE_HEAD\n,\nCHERRY_PICK_HEAD\n,\nREVERT_HEAD\nor\nREBASE_HEAD\n. Only works\nwhen the index has unmerged entries. This option can be used to show\nrelevant commits when resolving conflicts from a 3-way merge.\n--boundary\nOutput excluded boundary commits. Boundary commits are\nprefixed with\n-\n.\nHistory Simplification\nSometimes you are only interested in parts of the history, for example the\ncommits modifying a particular <path>. But there are two parts of\nHistory Simplification\n, one part is selecting the commits and the other\nis how to do it, as there are various strategies to simplify the history.\nThe following options select the commits to be shown:\n<paths>\nCommits modifying the given <paths> are selected.\n--simplify-by-decoration\nCommits that are referred by some branch or tag are selected.\nNote that extra commits can be shown to give a meaningful history.\nThe following options affect the way the simplification is performed:\nDefault\nmode\nSimplifies the history to the simplest history explaining the\nfinal state of the tree. Simplest because it prunes some side\nbranches if the end result is the same (i.e. merging branches\nwith the same content)\n--show-pulls\nInclude all commits from the default mode, but also any merge\ncommits that are not TREESAME to the first parent but are\nTREESAME to a later parent. This mode is helpful for showing\nthe merge commits that \"first introduced\" a change to a branch.\n--full-history\nSame as the default mode, but does not prune some history.\n--dense\nOnly the selected commits are shown, plus some to have a\nmeaningful history.\n--sparse\nAll commits in the simplified history are shown.\n--simplify-merges\nAdditional option to\n--full-history\nto remove some needless\nmerges from the resulting history, as there are no selected\ncommits contributing to this merge.\n--ancestry-path\n[\n=\n<commit>\n]\nWhen given a range of commits to display (e.g.\n<commit1>\n..\n<commit2>\nor\n<commit2>\n^\n<commit1>\n), and a commit\n<commit>\nin that range,\nonly display commits in that range\nthat are ancestors of\n<commit>\n, descendants of\n<commit>\n, or\n<commit>\nitself.  If no commit is specified, use\n<commit1>\n(the\nexcluded part of the range) as\n<commit>\n.  Can be passed multiple\ntimes; if so, a commit is included if it is any of the commits\ngiven or if it is an ancestor or descendant of one of them.\nA more detailed explanation follows.\nSuppose you specified\nfoo\nas the\n<paths>\n.  We shall call commits\nthat modify\nfoo\n!TREESAME, and the rest TREESAME.  (In a diff\nfiltered for\nfoo\n, they look different and equal, respectively.)\nIn the following, we will always refer to the same example history to\nillustrate the differences between simplification settings.  We assume\nthat you are filtering for a file\nfoo\nin this commit graph:\n.-A---M---N---O---P---Q\n/     /   /   /   /   /\nI     B   C   D   E   Y\n\\   /   /   /   /   /\n`-------------'   X\nThe horizontal line of history A---Q is taken to be the first parent of\neach merge.  The commits are:\nI\nis the initial commit, in which\nfoo\nexists with contents\nasdf\n, and a file\nquux\nexists with contents\nquux\n. Initial\ncommits are compared to an empty tree, so\nI\nis !TREESAME.\nIn\nA\n,\nfoo\ncontains just\nfoo\n.\nB\ncontains the same change as\nA\n.  Its merge\nM\nis trivial and\nhence TREESAME to all parents.\nC\ndoes not change\nfoo\n, but its merge\nN\nchanges it to\nfoobar\n,\nso it is not TREESAME to any parent.\nD\nsets\nfoo\nto\nbaz\n. Its merge\nO\ncombines the strings from\nN\nand\nD\nto\nfoobarbaz\n; i.e., it is not TREESAME to any parent.\nE\nchanges\nquux\nto\nxyzzy\n, and its merge\nP\ncombines the\nstrings to\nquux\nxyzzy\n.\nP\nis TREESAME to\nO\n, but not to\nE\n.\nX\nis an independent root commit that added a new file\nside\n, and\nY\nmodified it.\nY\nis TREESAME to\nX\n. Its merge\nQ\nadded\nside\nto\nP\n, and\nQ\nis TREESAME to\nP\n, but not to\nY\n.\nrev-list\nwalks backwards through history, including or excluding\ncommits based on whether\n--full-history\nand/or parent rewriting\n(via\n--parents\nor\n--children\n) are used. The following settings\nare available.\nDefault mode\nCommits are included if they are not TREESAME to any parent\n(though this can be changed, see\n--sparse\nbelow).  If the\ncommit was a merge, and it was TREESAME to one parent, follow\nonly that parent.  (Even if there are several TREESAME\nparents, follow only one of them.)  Otherwise, follow all\nparents.\nThis results in:\n.-A---N---O\n/     /   /\nI---------D\nNote how the rule to only follow the TREESAME parent, if one is\navailable, removed\nB\nfrom consideration entirely.\nC\nwas\nconsidered via\nN\n, but is TREESAME.  Root commits are compared to an\nempty tree, so\nI\nis !TREESAME.\nParent/child relations are only visible with\n--parents\n, but that does\nnot affect the commits selected in default mode, so we have shown the\nparent lines.\n--full-history\nwithout parent rewriting\nThis mode differs from the default in one point: always follow\nall parents of a merge, even if it is TREESAME to one of them.\nEven if more than one side of the merge has commits that are\nincluded, this does not imply that the merge itself is!  In\nthe example, we get\nI  A  B  N  D  O  P  Q\nM\nwas excluded because it is TREESAME to both parents.\nE\n,\nC\nand\nB\nwere all walked, but only\nB\nwas !TREESAME, so the others\ndo not appear.\nNote that without parent rewriting, it is not really possible to talk\nabout the parent/child relationships between the commits, so we show\nthem disconnected.\n--full-history\nwith parent rewriting\nOrdinary commits are only included if they are !TREESAME\n(though this can be changed, see\n--sparse\nbelow).\nMerges are always included.  However, their parent list is rewritten:\nAlong each parent, prune away commits that are not included\nthemselves.  This results in\n.-A---M---N---O---P---Q\n/     /   /   /   /\nI     B   /   D   /\n\\   /   /   /   /\n`-------------'\nCompare to\n--full-history\nwithout rewriting above.  Note that\nE\nwas pruned away because it is TREESAME, but the parent list of P was\nrewritten to contain\nE\n's parent\nI\n.  The same happened for\nC\nand\nN\n, and\nX\n,\nY\nand\nQ\n.\nIn addition to the above settings, you can change whether TREESAME\naffects inclusion:\n--dense\nCommits that are walked are included if they are not TREESAME\nto any parent.\n--sparse\nAll commits that are walked are included.\nNote that without\n--full-history\n, this still simplifies merges: if\none of the parents is TREESAME, we follow only that one, so the other\nsides of the merge are never walked.\n--simplify-merges\nFirst, build a history graph in the same way that\n--full-history\nwith parent rewriting does (see above).\nThen simplify each commit\nC\nto its replacement\nC'\nin the final\nhistory according to the following rules:\nSet\nC'\nto\nC\n.\nReplace each parent\nP\nof\nC'\nwith its simplification\nP'\n.  In\nthe process, drop parents that are ancestors of other parents or that are\nroot commits TREESAME to an empty tree, and remove duplicates, but take care\nto never drop all parents that we are TREESAME to.\nIf after this parent rewriting,\nC'\nis a root or merge commit (has\nzero or >1 parents), a boundary commit, or !TREESAME, it remains.\nOtherwise, it is replaced with its only parent.\nThe effect of this is best shown by way of comparing to\n--full-history\nwith parent rewriting.  The example turns into:\n.-A---M---N---O\n/     /       /\nI     B       D\n\\   /       /\n`---------'\nNote the major differences in\nN\n,\nP\n, and\nQ\nover\n--full-history\n:\nN\n's parent list had\nI\nremoved, because it is an ancestor of the\nother parent\nM\n.  Still,\nN\nremained because it is !TREESAME.\nP\n's parent list similarly had\nI\nremoved.\nP\nwas then\nremoved completely, because it had one parent and is TREESAME.\nQ\n's parent list had\nY\nsimplified to\nX\n.\nX\nwas then removed, because it\nwas a TREESAME root.\nQ\nwas then removed completely, because it had one\nparent and is TREESAME.\nThere is another simplification mode available:\n--ancestry-path\n[\n=\n<commit>\n]\nLimit the displayed commits to those which are an ancestor of\n<commit>\n, or which are a descendant of\n<commit>\n, or are\n<commit>\nitself.\nAs an example use case, consider the following commit history:\nD---E-------F\n/     \\       \\\nB---C---G---H---I---J\n/                     \\\nA-------K---------------L--M\nA regular\nD..M\ncomputes the set of commits that are ancestors of\nM\n,\nbut excludes the ones that are ancestors of\nD\n. This is useful to see\nwhat happened to the history leading to\nM\nsince\nD\n, in the sense\nthat \"what does\nM\nhave that did not exist in\nD\n\". The result in this\nexample would be all the commits, except\nA\nand\nB\n(and\nD\nitself,\nof course).\nWhen we want to find out what commits in\nM\nare contaminated with the\nbug introduced by\nD\nand need fixing, however, we might want to view\nonly the subset of\nD..M\nthat are actually descendants of\nD\n, i.e.\nexcluding\nC\nand\nK\n. This is exactly what the\n--ancestry-path\noption does. Applied to the\nD..M\nrange, it results in:\nE-------F\n\\       \\\nG---H---I---J\n\\\nL--M\nWe can also use\n--ancestry-path=D\ninstead of\n--ancestry-path\nwhich\nmeans the same thing when applied to the\nD..M\nrange but is just more\nexplicit.\nIf we instead are interested in a given topic within this range, and all\ncommits affected by that topic, we may only want to view the subset of\nD..M\nwhich contain that topic in their ancestry path.  So, using\n--ancestry-path=H\nD..M\nfor example would result in:\nE\n\\\nC---G---H---I---J\n\\\nL--M\nWhereas\n--ancestry-path=K\nD..M\nwould result in\nK---------------L--M\nBefore discussing another option,\n--show-pulls\n, we need to\ncreate a new example history.\nA common problem users face when looking at simplified history is that a\ncommit they know changed a file somehow does not appear in the file’s\nsimplified history. Let’s demonstrate a new example and show how options\nsuch as\n--full-history\nand\n--simplify-merges\nworks in that case:\n.-A---M-----C--N---O---P\n/     / \\  \\  \\/   /   /\nI     B   \\  R-'`-Z'   /\n\\   /     \\/         /\n\\ /      /\\        /\n`---X--'  `---Y--'\nFor this example, suppose\nI\ncreated\nfile.txt\nwhich was modified by\nA\n,\nB\n, and\nX\nin different ways. The single-parent commits\nC\n,\nZ\n,\nand\nY\ndo not change\nfile.txt\n. The merge commit\nM\nwas created by\nresolving the merge conflict to include both changes from\nA\nand\nB\nand hence is not TREESAME to either. The merge commit\nR\n, however, was\ncreated by ignoring the contents of\nfile.txt\nat\nM\nand taking only\nthe contents of\nfile.txt\nat\nX\n. Hence,\nR\nis TREESAME to\nX\nbut not\nM\n. Finally, the natural merge resolution to create\nN\nis to take the\ncontents of\nfile.txt\nat\nR\n, so\nN\nis TREESAME to\nR\nbut not\nC\n.\nThe merge commits\nO\nand\nP\nare TREESAME to their first parents, but\nnot to their second parents,\nZ\nand\nY\nrespectively.\nWhen using the default mode,\nN\nand\nR\nboth have a TREESAME parent, so\nthose edges are walked and the others are ignored. The resulting history\ngraph is:\nI---X\nWhen using\n--full-history\n, Git walks every edge. This will discover\nthe commits\nA\nand\nB\nand the merge\nM\n, but also will reveal the\nmerge commits\nO\nand\nP\n. With parent rewriting, the resulting graph is:\n.-A---M--------N---O---P\n/     / \\  \\  \\/   /   /\nI     B   \\  R-'`--'   /\n\\   /     \\/         /\n\\ /      /\\        /\n`---X--'  `------'\nHere, the merge commits\nO\nand\nP\ncontribute extra noise, as they did\nnot actually contribute a change to\nfile.txt\n. They only merged a topic\nthat was based on an older version of\nfile.txt\n. This is a common\nissue in repositories using a workflow where many contributors work in\nparallel and merge their topic branches along a single trunk: many\nunrelated merges appear in the\n--full-history\nresults.\nWhen using the\n--simplify-merges\noption, the commits\nO\nand\nP\ndisappear from the results. This is because the rewritten second parents\nof\nO\nand\nP\nare reachable from their first parents. Those edges are\nremoved and then the commits look like single-parent commits that are\nTREESAME to their parent. This also happens to the commit\nN\n, resulting\nin a history view as follows:\n.-A---M--.\n/     /    \\\nI     B      R\n\\   /      /\n\\ /      /\n`---X--'\nIn this view, we see all of the important single-parent changes from\nA\n,\nB\n, and\nX\n. We also see the carefully-resolved merge\nM\nand the\nnot-so-carefully-resolved merge\nR\n. This is usually enough information\nto determine why the commits\nA\nand\nB\n\"disappeared\" from history in\nthe default view. However, there are a few issues with this approach.\nThe first issue is performance. Unlike any previous option, the\n--simplify-merges\noption requires walking the entire commit history\nbefore returning a single result. This can make the option difficult to\nuse for very large repositories.\nThe second issue is one of auditing. When many contributors are working\non the same repository, it is important which merge commits introduced\na change into an important branch. The problematic merge\nR\nabove is\nnot likely to be the merge commit that was used to merge into an\nimportant branch. Instead, the merge\nN\nwas used to merge\nR\nand\nX\ninto the important branch. This commit may have information about why\nthe change\nX\ncame to override the changes from\nA\nand\nB\nin its\ncommit message.\n--show-pulls\nIn addition to the commits shown in the default history, show\neach merge commit that is not TREESAME to its first parent but\nis TREESAME to a later parent.\nWhen a merge commit is included by\n--show-pulls\n, the merge is\ntreated as if it \"pulled\" the change from another branch. When using\n--show-pulls\non this example (and no other options) the resulting\ngraph is:\nI---X---R---N\nHere, the merge commits\nR\nand\nN\nare included because they pulled\nthe commits\nX\nand\nR\ninto the base branch, respectively. These\nmerges are the reason the commits\nA\nand\nB\ndo not appear in the\ndefault history.\nWhen\n--show-pulls\nis paired with\n--simplify-merges\n, the\ngraph includes all of the necessary information:\n.-A---M--.   N\n/     /    \\ /\nI     B      R\n\\   /      /\n\\ /      /\n`---X--'\nNotice that since\nM\nis reachable from\nR\n, the edge from\nN\nto\nM\nwas simplified away. However,\nN\nstill appears in the history as an\nimportant commit because it \"pulled\" the change\nR\ninto the main\nbranch.\nThe\n--simplify-by-decoration\noption allows you to view only the\nbig picture of the topology of the history, by omitting commits\nthat are not referenced by tags.  Commits are marked as !TREESAME\n(in other words, kept after history simplification rules described\nabove) if (1) they are referenced by tags, or (2) they change the\ncontents of the paths given on the command line.  All other\ncommits are marked as TREESAME (subject to be simplified away).\nCommit Ordering\nBy default, the commits are shown in reverse chronological order.\n--date-order\nShow no parents before all of its children are shown, but\notherwise show commits in the commit timestamp order.\n--author-date-order\nShow no parents before all of its children are shown, but\notherwise show commits in the author timestamp order.\n--topo-order\nShow no parents before all of its children are shown, and\navoid showing commits on multiple lines of history\nintermixed.\nFor example, in a commit history like this:\n---1----2----4----7\n\\\t       \\\n3----5----6----8---\nwhere the numbers denote the order of commit timestamps,\ngit\nrev-list\nand friends with\n--date-order\nshow the commits in the\ntimestamp order: 8 7 6 5 4 3 2 1.\nWith\n--topo-order\n, they would show 8 6 5 3 7 4 2 1 (or 8 7 4 2 6 5\n3 1); some older commits are shown before newer ones in order to\navoid showing the commits from two parallel development track mixed\ntogether.\n--reverse\nOutput the commits chosen to be shown (see\nCommit Limiting\nsection above) in reverse order. Cannot be combined with\n--walk-reflogs\n.\nObject Traversal\nThese options are mostly targeted for packing of Git repositories.\n--no-walk\n[\n=\n(\nsorted\n|\nunsorted\n)]\nOnly show the given commits, but do not traverse their ancestors.\nThis has no effect if a range is specified. If the argument\nunsorted\nis given, the commits are shown in the order they were\ngiven on the command line. Otherwise (if\nsorted\nor no argument\nwas given), the commits are shown in reverse chronological order\nby commit time.\nCannot be combined with\n--graph\n.\n--do-walk\nOverrides a previous\n--no-walk\n.\nCommit Formatting\n--pretty\n[\n=\n<format>\n]\n--format=\n<format>\nPretty-print the contents of the commit logs in a given format,\nwhere\n<format>\ncan be one of\noneline\n,\nshort\n,\nmedium\n,\nfull\n,\nfuller\n,\nreference\n,\nemail\n,\nraw\n,\nformat:\n<string>\nand\ntformat:\n<string>\n.  When\n<format>\nis none of the above,\nand has\n%\n<placeholder>\nin it, it acts as if\n--pretty=tformat:\n<format>\nwere given.\nSee the \"PRETTY FORMATS\" section for some additional details for each\nformat.  When\n=\n<format>\npart is omitted, it defaults to\nmedium\n.\nNote\nyou can specify the default pretty format in the repository\nconfiguration (see\ngit-config[1]\n).\n--abbrev-commit\nInstead of showing the full 40-byte hexadecimal commit object\nname, show a prefix that names the object uniquely.\n--abbrev=\n<n>\n(which also modifies diff output, if it is displayed)\noption can be used to specify the minimum length of the prefix.\nThis should make\n--pretty=oneline\na whole lot more readable for\npeople using 80-column terminals.\n--no-abbrev-commit\nShow the full 40-byte hexadecimal commit object name. This negates\n--abbrev-commit\n, either explicit or implied by other options such\nas\n--oneline\n. It also overrides the\nlog.abbrevCommit\nvariable.\n--oneline\nThis is a shorthand for\n--pretty=oneline\n--abbrev-commit\nused together.\n--encoding=\n<encoding>\nCommit objects record the character encoding used for the log message\nin their encoding header; this option can be used to tell the\ncommand to re-code the commit log message in the encoding\npreferred by the user.  For non plumbing commands this\ndefaults to UTF-8. Note that if an object claims to be encoded\nin\nX\nand we are outputting in\nX\n, we will output the object\nverbatim; this means that invalid sequences in the original\ncommit may be copied to the output. Likewise, if iconv(3) fails\nto convert the commit, we will quietly output the original\nobject verbatim.\n--expand-tabs=\n<n>\n--expand-tabs\n--no-expand-tabs\nPerform a tab expansion (replace each tab with enough spaces\nto fill to the next display column that is a multiple of\n<n>\n)\nin the log message before showing it in the output.\n--expand-tabs\nis a short-hand for\n--expand-tabs=8\n, and\n--no-expand-tabs\nis a short-hand for\n--expand-tabs=0\n,\nwhich disables tab expansion.\nBy default, tabs are expanded in pretty formats that indent the log\nmessage by 4 spaces (i.e.\nmedium\n, which is the default,\nfull\n,\nand\nfuller\n).\n--notes\n[\n=\n<ref>\n]\nShow the notes (see\ngit-notes[1]\n) that annotate the\ncommit, when showing the commit log message.\nThis is the default for\ngit\nlog\n,\ngit\nshow\nand\ngit\nwhatchanged\ncommands when there is no\n--pretty\n,\n--format\n, or\n--oneline\noption given\non the command line.\nBy default, the notes shown are from the notes refs listed in the\ncore.notesRef\nand\nnotes.displayRef\nvariables (or corresponding\nenvironment overrides). See\ngit-config[1]\nfor more details.\nWith an optional\n<ref>\nargument, use the ref to find the notes\nto display.  The ref can specify the full refname when it begins\nwith\nrefs/notes/\n; when it begins with\nnotes/\n,\nrefs/\nand otherwise\nrefs/notes/\nis prefixed to form the full name of the ref.\nMultiple\n--notes\noptions can be combined to control which notes are\nbeing displayed. Examples: \"\n--notes=foo\n\" will show only notes from\nrefs/notes/foo\n; \"\n--notes=foo\n--notes\n\" will show both notes from\n\"refs/notes/foo\" and from the default notes ref(s).\n--no-notes\nDo not show notes. This negates the above\n--notes\noption, by\nresetting the list of notes refs from which notes are shown.\nOptions are parsed in the order given on the command line, so e.g.\n\"\n--notes\n--notes=foo\n--no-notes\n--notes=bar\n\" will only show notes\nfrom\nrefs/notes/bar\n.\n--show-notes-by-default\nShow the default notes unless options for displaying specific\nnotes are given.\n--show-notes\n[\n=\n<ref>\n]\n--standard-notes\n--no-standard-notes\nThese options are deprecated. Use the above\n--notes\n/\n--no-notes\noptions instead.\n--show-signature\nCheck the validity of a signed commit object by passing the signature\nto\ngpg\n--verify\nand show the output.\n--relative-date\nSynonym for\n--date=relative\n.\n--date=\n<format>\nOnly takes effect for dates shown in human-readable format, such\nas when using\n--pretty\n.\nlog.date\nconfig variable sets a default\nvalue for the log command’s\n--date\noption. By default, dates\nare shown in the original time zone (either committer’s or\nauthor’s). If\n-local\nis appended to the format (e.g.,\niso-local\n), the user’s local time zone is used instead.\n--date=relative\nshows dates relative to the current time,\ne.g. “2 hours ago”. The\n-local\noption has no effect for\n--date=relative\n.\n--date=local\nis an alias for\n--date=default-local\n.\n--date=iso\n(or\n--date=iso8601\n) shows timestamps in a ISO 8601-like format.\nThe differences to the strict ISO 8601 format are:\na space instead of the\nT\ndate/time delimiter\na space between time and time zone\nno colon between hours and minutes of the time zone\n--date=iso-strict\n(or\n--date=iso8601-strict\n) shows timestamps in strict\nISO 8601 format.\n--date=rfc\n(or\n--date=rfc2822\n) shows timestamps in RFC 2822\nformat, often found in email messages.\n--date=short\nshows only the date, but not the time, in\nYYYY-MM-DD\nformat.\n--date=raw\nshows the date as seconds since the epoch (1970-01-01\n00:00:00 UTC), followed by a space, and then the timezone as an offset\nfrom UTC (a\n+\nor\n-\nwith four digits; the first two are hours, and\nthe second two are minutes). I.e., as if the timestamp were formatted\nwith\nstrftime\n(\n\"%s\n%z\"\n)\n).\nNote that the\n-local\noption does not affect the seconds-since-epoch\nvalue (which is always measured in UTC), but does switch the accompanying\ntimezone value.\n--date=human\nshows the timezone if the timezone does not match the\ncurrent time-zone, and doesn’t print the whole date if that matches\n(ie skip printing year for dates that are \"this year\", but also skip\nthe whole date itself if it’s in the last few days and we can just say\nwhat weekday it was).  For older dates the hour and minute is also\nomitted.\n--date=unix\nshows the date as a Unix epoch timestamp (seconds since\n1970).  As with\n--raw\n, this is always in UTC and therefore\n-local\nhas no effect.\n--date=format:\n<format>\nfeeds the\n<format>\nto your system\nstrftime\n,\nexcept for\n%s\n,\n%z\n, and\n%Z\n, which are handled internally.\nUse\n--date=format:%c\nto show the date in your system locale’s\npreferred format.  See the\nstrftime\n(3) manual for a complete list of\nformat placeholders. When using\n-local\n, the correct syntax is\n--date=format-local:\n<format>\n.\n--date=default\nis the default format, and is based on ctime(3)\noutput.  It shows a single line with three-letter day of the week,\nthree-letter month, day-of-month, hour-minute-seconds in \"HH:MM:SS\"\nformat, followed by 4-digit year, plus timezone information, unless\nthe local time zone is used, e.g.\nThu\nJan\n1\n00:00:00\n1970\n+0000\n.\n--parents\nPrint also the parents of the commit (in the form \"commit parent…​\").\nAlso enables parent rewriting, see\nHistory Simplification\nabove.\n--children\nPrint also the children of the commit (in the form \"commit child…​\").\nAlso enables parent rewriting, see\nHistory Simplification\nabove.\n--left-right\nMark which side of a symmetric difference a commit is reachable from.\nCommits from the left side are prefixed with\n<\nand those from\nthe right with\n>\n.  If combined with\n--boundary\n, those\ncommits are prefixed with\n-\n.\nFor example, if you have this topology:\ny---b---b  branch B\n/ \\ /\n/   .\n/   / \\\no---x---a---a  branch A\nyou would get an output like this:\n$ git rev-list --left-right --boundary --pretty=oneline A...B\n>bbbbbbb... 3rd on b\n>bbbbbbb... 2nd on b\n<aaaaaaa... 3rd on a\n<aaaaaaa... 2nd on a\n-yyyyyyy... 1st on b\n-xxxxxxx... 1st on a\n--graph\nDraw a text-based graphical representation of the commit history\non the left hand side of the output.  This may cause extra lines\nto be printed in between commits, in order for the graph history\nto be drawn properly.\nCannot be combined with\n--no-walk\n.\nThis enables parent rewriting, see\nHistory Simplification\nabove.\nThis implies the\n--topo-order\noption by default, but the\n--date-order\noption may also be specified.\n--show-linear-break\n[\n=\n<barrier>\n]\nWhen\n--graph\nis not used, all history branches are flattened\nwhich can make it hard to see that the two consecutive commits\ndo not belong to a linear branch. This option puts a barrier\nin between them in that case. If\n<barrier>\nis specified, it\nis the string that will be shown instead of the default one.\nPRETTY FORMATS\nIf the commit is a merge, and if the pretty-format\nis not\noneline\n,\nemail\nor\nraw\n, an additional line is\ninserted before the\nAuthor:\nline.  This line begins with\n\"Merge: \" and the hashes of ancestral commits are printed,\nseparated by spaces.  Note that the listed commits may not\nnecessarily be the list of the\ndirect\nparent commits if you\nhave limited your view of history: for example, if you are\nonly interested in changes related to a certain directory or\nfile.\nThere are several built-in formats, and you can define\nadditional formats by setting a pretty.<name>\nconfig option to either another format name, or a\nformat:\nstring, as described below (see\ngit-config[1]\n). Here are the details of the\nbuilt-in formats:\noneline\n<hash>\n<title-line>\nThis is designed to be as compact as possible.\nshort\ncommit\n<hash>\nAuthor: <author>\n<title-line>\nmedium\ncommit\n<hash>\nAuthor: <author>\nDate:   <author-date>\n<title-line>\n<full-commit-message>\nfull\ncommit\n<hash>\nAuthor: <author>\nCommit: <committer>\n<title-line>\n<full-commit-message>\nfuller\ncommit\n<hash>\nAuthor:     <author>\nAuthorDate: <author-date>\nCommit:     <committer>\nCommitDate: <committer-date>\n<title-line>\n<full-commit-message>\nreference\n<abbrev-hash> (<title-line>, <short-author-date>)\nThis format is used to refer to another commit in a commit message and\nis the same as\n--pretty='format:%C\n(\nauto\n)\n%h\n(\n%s,\n%ad\n)\n.  By default,\nthe date is formatted with\n--date=short\nunless another\n--date\noption\nis explicitly specified.  As with any\nformat:\nwith format\nplaceholders, its output is not affected by other options like\n--decorate\nand\n--walk-reflogs\n.\nemail\nFrom\n<hash>\n<date>\nFrom: <author>\nDate: <author-date>\nSubject: [PATCH] <title-line>\n<full-commit-message>\nmboxrd\nLike\nemail\n, but lines in the commit message starting with \"From \"\n(preceded by zero or more \">\") are quoted with \">\" so they aren’t\nconfused as starting a new commit.\nraw\nThe\nraw\nformat shows the entire commit exactly as\nstored in the commit object.  Notably, the hashes are\ndisplayed in full, regardless of whether\n--abbrev\nor\n--no-abbrev\nare used, and\nparents\ninformation show the\ntrue parent commits, without taking grafts or history\nsimplification into account. Note that this format affects the way\ncommits are displayed, but not the way the diff is shown e.g. with\ngit\nlog\n--raw\n. To get full object names in a raw diff format,\nuse\n--no-abbrev\n.\nformat:\n<format-string>\nThe\nformat:\n<format-string>\nformat allows you to specify which information\nyou want to show. It works a little bit like printf format,\nwith the notable exception that you get a newline with\n%n\ninstead of\n\\n\n.\nE.g,\nformat:\"The author of %h was %an, %ar%nThe title was >>%s<<%n\"\nwould show something like this:\nThe author of fe6e0ee was Junio C Hamano, 23 hours ago\nThe title was >>t4119: test autocomputing -p<n> for traditional diff input.<<\nThe placeholders are:\nPlaceholders that expand to a single literal character:\n%n\nnewline\n%%\na raw\n%\n%x00\n%x\nfollowed by two hexadecimal digits is replaced with a\nbyte with the hexadecimal digits' value (we will call this\n\"literal formatting code\" in the rest of this document).\nPlaceholders that affect formatting of later placeholders:\n%Cred\nswitch color to red\n%Cgreen\nswitch color to green\n%Cblue\nswitch color to blue\n%Creset\nreset color\n%C\n(\n<spec>\n)\ncolor specification, as described under Values in the\n\"CONFIGURATION FILE\" section of\ngit-config[1]\n.  By\ndefault, colors are shown only when enabled for log output\n(by\ncolor.diff\n,\ncolor.ui\n, or\n--color\n, and respecting\nthe\nauto\nsettings of the former if we are going to a\nterminal).\n%C\n(\nauto,\n<spec>\n)\nis accepted as a historical\nsynonym for the default (e.g.,\n%C\n(\nauto,red\n)\n). Specifying\n%C\n(\nalways,\n<spec>\n)\nwill show the colors even when color is\nnot otherwise enabled (though consider just using\n--color=always\nto enable color for the  whole output,\nincluding this format and anything else git might color).\nauto\nalone (i.e.\n%C\n(\nauto\n)\n) will turn on auto coloring\non the next placeholders until the color is switched\nagain.\n%m\nleft (\n<\n), right (\n>\n) or boundary (\n-\n) mark\n%w\n(\n[\n<w>\n[\n,\n<i1>\n[\n,\n<i2>\n]]]\n)\nswitch line wrapping, like the\n-w\noption of\ngit-shortlog[1]\n.\n%<(\n<n>\n[\n,\n(\ntrunc\n|\nltrunc\n|\nmtrunc\n)]\n)\nmake the next placeholder take at\nleast N column widths, padding spaces on\nthe right if necessary.  Optionally\ntruncate (with ellipsis\n..\n) at the left (ltrunc)\n..ft\n,\nthe middle (mtrunc)\nmi..le\n, or the end\n(trunc)\nrig..\n, if the output is longer than\n<n>\ncolumns.\nNote 1: that truncating\nonly works correctly with\n<n>\n>= 2.\nNote 2: spaces around the\n<n>\nand\n<m>\n(see below)\nvalues are optional.\nNote 3: Emojis and other wide characters\nwill take two display columns, which may\nover-run column boundaries.\nNote 4: decomposed character combining marks\nmay be misplaced at padding boundaries.\n%<|(\n<m>\n)\nmake the next placeholder take at least until\n<m>\nth\ndisplay column, padding spaces on the right if necessary.\nUse negative\n<m>\nvalues for column positions measured\nfrom the right hand edge of the terminal window.\n%>(\n<n>\n)\n%>|(\n<m>\n)\nsimilar to\n%<(\n<n>\n)\n,\n%<|(\n<m>\n)\nrespectively,\nbut padding spaces on the left\n%>>(\n<n>\n)\n%>>|(\n<m>\n)\nsimilar to\n%>(\n<n>\n)\n,\n%>|(\n<m>\n)\nrespectively, except that if the next\nplaceholder takes more spaces than given and\nthere are spaces on its left, use those\nspaces\n%><(\n<n>\n)\n%><|(\n<m>\n)\nsimilar to\n%<(\n<n>\n)\n,\n%<|(\n<m>\n)\nrespectively, but padding both sides\n(i.e. the text is centered)\nPlaceholders that expand to information extracted from the commit:\n%H\ncommit hash\n%h\nabbreviated commit hash\n%T\ntree hash\n%t\nabbreviated tree hash\n%P\nparent hashes\n%p\nabbreviated parent hashes\n%an\nauthor name\n%aN\nauthor name (respecting .mailmap, see\ngit-shortlog[1]\nor\ngit-blame[1]\n)\n%ae\nauthor email\n%aE\nauthor email (respecting .mailmap, see\ngit-shortlog[1]\nor\ngit-blame[1]\n)\n%al\nauthor email local-part (the part before the\n@\nsign)\n%aL\nauthor local-part (see\n%al\n) respecting .mailmap, see\ngit-shortlog[1]\nor\ngit-blame[1]\n)\n%ad\nauthor date (format respects --date= option)\n%aD\nauthor date, RFC2822 style\n%ar\nauthor date, relative\n%at\nauthor date, UNIX timestamp\n%ai\nauthor date, ISO 8601-like format\n%aI\nauthor date, strict ISO 8601 format\n%as\nauthor date, short format (\nYYYY-MM-DD\n)\n%ah\nauthor date, human style (like the\n--date=human\noption of\ngit-rev-list[1]\n)\n%cn\ncommitter name\n%cN\ncommitter name (respecting .mailmap, see\ngit-shortlog[1]\nor\ngit-blame[1]\n)\n%ce\ncommitter email\n%cE\ncommitter email (respecting .mailmap, see\ngit-shortlog[1]\nor\ngit-blame[1]\n)\n%cl\ncommitter email local-part (the part before the\n@\nsign)\n%cL\ncommitter local-part (see\n%cl\n) respecting .mailmap, see\ngit-shortlog[1]\nor\ngit-blame[1]\n)\n%cd\ncommitter date (format respects --date= option)\n%cD\ncommitter date, RFC2822 style\n%cr\ncommitter date, relative\n%ct\ncommitter date, UNIX timestamp\n%ci\ncommitter date, ISO 8601-like format\n%cI\ncommitter date, strict ISO 8601 format\n%cs\ncommitter date, short format (\nYYYY-MM-DD\n)\n%ch\ncommitter date, human style (like the\n--date=human\noption of\ngit-rev-list[1]\n)\n%d\nref names, like the --decorate option of\ngit-log[1]\n%D\nref names without the \" (\", \")\" wrapping.\n%\n(\ndecorate\n[\n:\n<option>\n,...\n]\n)\nref names with custom decorations. The\ndecorate\nstring may be followed by a\ncolon and zero or more comma-separated options. Option values may contain\nliteral formatting codes. These must be used for commas (\n%x2C\n) and closing\nparentheses (\n%x29\n), due to their role in the option syntax.\nprefix=\n<value>\n: Shown before the list of ref names.  Defaults to \"\n(\n\".\nsuffix=\n<value>\n: Shown after the list of ref names.  Defaults to \"\n)\n\".\nseparator=\n<value>\n: Shown between ref names.  Defaults to \"\n,\n\".\npointer=\n<value>\n: Shown between HEAD and the branch it points to, if any.\nDefaults to \"\n→\n\".\ntag=\n<value>\n: Shown before tag names. Defaults to \"\ntag:\n\".\nFor example, to produce decorations with no wrapping\nor tag annotations, and spaces as separators:\n%\n(\ndecorate:prefix=,suffix=,tag=,separator=\n)\n%\n(\ndescribe\n[\n:\n<option>\n,...\n]\n)\nhuman-readable name, like\ngit-describe[1]\n; empty string for\nundescribable commits.  The\ndescribe\nstring may be followed by a colon and\nzero or more comma-separated options.  Descriptions can be inconsistent when\ntags are added or removed at the same time.\ntags\n[\n=\n<bool-value>\n]\n: Instead of only considering annotated tags,\nconsider lightweight tags as well.\nabbrev=\n<number>\n: Instead of using the default number of hexadecimal digits\n(which will vary according to the number of objects in the repository with a\ndefault of 7) of the abbreviated object name, use <number> digits, or as many\ndigits as needed to form a unique object name.\nmatch=\n<pattern>\n: Only consider tags matching the given\nglob\n(\n7\n)\n<pattern>\n, excluding the\nrefs/tags/\nprefix.\nexclude=\n<pattern>\n: Do not consider tags matching the given\nglob\n(\n7\n)\n<pattern>\n, excluding the\nrefs/tags/\nprefix.\n%S\nref name given on the command line by which the commit was reached\n(like\ngit\nlog\n--source\n), only works with\ngit\nlog\n%e\nencoding\n%s\nsubject\n%f\nsanitized subject line, suitable for a filename\n%b\nbody\n%B\nraw body (unwrapped subject and body)\n%N\ncommit notes\n%GG\nraw verification message from GPG for a signed commit\n%G?\nshow \"G\" for a good (valid) signature,\n\"B\" for a bad signature,\n\"U\" for a good signature with unknown validity,\n\"X\" for a good signature that has expired,\n\"Y\" for a good signature made by an expired key,\n\"R\" for a good signature made by a revoked key,\n\"E\" if the signature cannot be checked (e.g. missing key)\nand \"N\" for no signature\n%GS\nshow the name of the signer for a signed commit\n%GK\nshow the key used to sign a signed commit\n%GF\nshow the fingerprint of the key used to sign a signed commit\n%GP\nshow the fingerprint of the primary key whose subkey was used\nto sign a signed commit\n%GT\nshow the trust level for the key used to sign a signed commit\n%gD\nreflog selector, e.g.,\nrefs/stash@{1}\nor\nrefs/stash@{2\nminutes\nago}\n; the format follows the rules described for the\n-g\noption. The portion before the\n@\nis the refname as\ngiven on the command line (so\ngit\nlog\n-g\nrefs/heads/master\nwould yield\nrefs/heads/master@{0}\n).\n%gd\nshortened reflog selector; same as\n%gD\n, but the refname\nportion is shortened for human readability (so\nrefs/heads/master\nbecomes just\nmaster\n).\n%gn\nreflog identity name\n%gN\nreflog identity name (respecting .mailmap, see\ngit-shortlog[1]\nor\ngit-blame[1]\n)\n%ge\nreflog identity email\n%gE\nreflog identity email (respecting .mailmap, see\ngit-shortlog[1]\nor\ngit-blame[1]\n)\n%gs\nreflog subject\n%\n(\ntrailers\n[\n:\n<option>\n,...\n]\n)\ndisplay the trailers of the body as interpreted by\ngit-interpret-trailers[1]\n. The\ntrailers\nstring may be followed by\na colon and zero or more comma-separated options. If any option is provided\nmultiple times, the last occurrence wins.\nkey=\n<key>\n: only show trailers with specified <key>. Matching is done\ncase-insensitively and trailing colon is optional. If option is\ngiven multiple times trailer lines matching any of the keys are\nshown. This option automatically enables the\nonly\noption so that\nnon-trailer lines in the trailer block are hidden. If that is not\ndesired it can be disabled with\nonly=false\n.  E.g.,\n%\n(\ntrailers:key=Reviewed-by\n)\nshows trailer lines with key\nReviewed-by\n.\nonly\n[\n=\n<bool>\n]\n: select whether non-trailer lines from the trailer\nblock should be included.\nseparator=\n<sep>\n: specify the separator inserted between trailer\nlines. Defaults to a line feed character. The string <sep> may contain\nthe literal formatting codes described above. To use comma as\nseparator one must use\n%x2C\nas it would otherwise be parsed as\nnext option. E.g.,\n%\n(\ntrailers:key=Ticket,separator=%x2C\n)\nshows all trailer lines whose key is \"Ticket\" separated by a comma\nand a space.\nunfold\n[\n=\n<bool>\n]\n: make it behave as if interpret-trailer’s\n--unfold\noption was given. E.g.,\n%\n(\ntrailers:only,unfold=true\n)\nunfolds and shows all trailer lines.\nkeyonly\n[\n=\n<bool>\n]\n: only show the key part of the trailer.\nvalueonly\n[\n=\n<bool>\n]\n: only show the value part of the trailer.\nkey_value_separator=\n<sep>\n: specify the separator inserted between\nthe key and value of each trailer. Defaults to \": \". Otherwise it\nshares the same semantics as\nseparator=\n<sep>\nabove.\nNote\nSome placeholders may depend on other options given to the\nrevision traversal engine. For example, the\n%g*\nreflog options will\ninsert an empty string unless we are traversing reflog entries (e.g., by\ngit\nlog\n-g\n). The\n%d\nand\n%D\nplaceholders will use the \"short\"\ndecoration format if\n--decorate\nwas not already provided on the command\nline.\nThe boolean options accept an optional value\n[\n=\n<bool-value>\n]\n. The\nvalues taken by\n--type=bool\ngit-config[1]\n, like\nyes\nand\noff\n,\nare all accepted.  Giving a boolean option without\n=\n<value>\nis\nequivalent to giving it with\n=true\n.\nIf you add a\n+\n(plus sign) after\n%\nof a placeholder, a line-feed\nis inserted immediately before the expansion if and only if the\nplaceholder expands to a non-empty string.\nIf you add a\n-\n(minus sign) after\n%\nof a placeholder, all consecutive\nline-feeds immediately preceding the expansion are deleted if and only if the\nplaceholder expands to an empty string.\nIf you add a\n(space) after\n%\nof a placeholder, a space\nis inserted immediately before the expansion if and only if the\nplaceholder expands to a non-empty string.\ntformat:\nThe\ntformat:\nformat works exactly like\nformat:\n, except that it\nprovides \"terminator\" semantics instead of \"separator\" semantics. In\nother words, each commit has the message terminator character (usually a\nnewline) appended, rather than a separator placed between entries.\nThis means that the final entry of a single-line format will be properly\nterminated with a new line, just as the \"oneline\" format does.\nFor example:\n$ git log -2 --pretty=format:%h 4da45bef \\\n| perl -pe '$_ .= \" -- NO NEWLINE\\n\" unless /\\n/'\n4da45be\n7134973 -- NO NEWLINE\n$ git log -2 --pretty=tformat:%h 4da45bef \\\n| perl -pe '$_ .= \" -- NO NEWLINE\\n\" unless /\\n/'\n4da45be\n7134973\nIn addition, any unrecognized string that has a\n%\nin it is interpreted\nas if it has\ntformat:\nin front of it.  For example, these two are\nequivalent:\n$ git log -2 --pretty=tformat:%h 4da45bef\n$ git log -2 --pretty=%h 4da45bef\nDIFF FORMATTING\nBy default,\ngit\nlog\ndoes not generate any diff output. The options\nbelow can be used to show the changes made by each commit.\nNote that unless one of\n--diff-merges\nvariants (including short\n-m\n,\n-c\n,\n--cc\n, and\n--dd\noptions) is explicitly given, merge commits\nwill not show a diff, even if a diff format like\n--patch\nis\nselected, nor will they match search options like\n-S\n. The exception\nis when\n--first-parent\nis in use, in which case\nfirst-parent\nis\nthe default format for merge commits.\n-p\n-u\n--patch\nGenerate patch (see\nGenerating patch text with -p\n).\n-s\n--no-patch\nSuppress all output from the diff machinery.  Useful for\ncommands like\ngit\nshow\nthat show the patch by default to\nsquelch their output, or to cancel the effect of options like\n--patch\n,\n--stat\nearlier on the command line in an alias.\n-m\nShow diffs for merge commits in the default format. This is\nsimilar to\n--diff-merges=on\n, except\n-m\nwill\nproduce no output unless\n-p\nis given as well.\n-c\nProduce combined diff output for merge commits.\nShortcut for\n--diff-merges=combined\n-p\n.\n--cc\nProduce dense combined diff output for merge commits.\nShortcut for\n--diff-merges=dense-combined\n-p\n.\n--dd\nProduce diff with respect to first parent for both merge and\nregular commits.\nShortcut for\n--diff-merges=first-parent\n-p\n.\n--remerge-diff\nProduce remerge-diff output for merge commits.\nShortcut for\n--diff-merges=remerge\n-p\n.\n--no-diff-merges\nSynonym for\n--diff-merges=off\n.\n--diff-merges=\n<format>\nSpecify diff format to be used for merge commits. Default is\n`off` unless\n--first-parent\nis in use, in\nwhich case\nfirst-parent\nis the default.\nThe following formats are supported:\noff\nnone\nDisable output of diffs for merge commits. Useful to override\nimplied value.\non\nm\nMake diff output for merge commits to be shown in the default\nformat. The default format can be changed using\nlog.diffMerges\nconfiguration variable, whose default value\nis\nseparate\n.\nfirst-parent\n1\nShow full diff with respect to first parent. This is the same\nformat as\n--patch\nproduces for non-merge commits.\nseparate\nShow full diff with respect to each of parents.\nSeparate log entry and diff is generated for each parent.\ncombined\nc\nShow differences from each of the parents to the merge\nresult simultaneously instead of showing pairwise diff between\na parent and the result one at a time. Furthermore, it lists\nonly files which were modified from all parents.\ndense-combined\ncc\nFurther compress output produced by\n--diff-merges=combined\nby omitting uninteresting hunks whose contents in the parents\nhave only two variants and the merge result picks one of them\nwithout modification.\nremerge\nr\nRemerge two-parent merge commits to create a temporary tree\nobject—​potentially containing files with conflict markers\nand such.  A diff is then shown between that temporary tree\nand the actual merge commit.\nThe output emitted when this option is used is subject to change, and\nso is its interaction with other options (unless explicitly\ndocumented).\n--combined-all-paths\nCause combined diffs (used for merge commits) to\nlist the name of the file from all parents.  It thus only has\neffect when\n--diff-merges=\n[\ndense-\n]\ncombined\nis in use, and\nis likely only useful if filename changes are detected (i.e.\nwhen either rename or copy detection have been requested).\n-U\n<n>\n--unified=\n<n>\nGenerate diffs with\n<n>\nlines of context instead of\nthe usual three.\nImplies\n--patch\n.\n--output=\n<file>\nOutput to a specific file instead of stdout.\n--output-indicator-new=\n<char>\n--output-indicator-old=\n<char>\n--output-indicator-context=\n<char>\nSpecify the character used to indicate new, old or context\nlines in the generated patch. Normally they are\n+\n,\n-\nand\n' ' respectively.\n--raw\nFor each commit, show a summary of changes using the raw diff\nformat. See the \"RAW OUTPUT FORMAT\" section of\ngit-diff[1]\n. This is different from showing the log\nitself in raw format, which you can achieve with\n--format=raw\n.\n--patch-with-raw\nSynonym for\n-p\n--raw\n.\n-t\nShow the tree objects in the diff output.\n--indent-heuristic\nEnable the heuristic that shifts diff hunk boundaries to make patches\neasier to read. This is the default.\n--no-indent-heuristic\nDisable the indent heuristic.\n--minimal\nSpend extra time to make sure the smallest possible\ndiff is produced.\n--patience\nGenerate a diff using the \"patience diff\" algorithm.\n--histogram\nGenerate a diff using the \"histogram diff\" algorithm.\n--anchored=\n<text>\nGenerate a diff using the \"anchored diff\" algorithm.\nThis option may be specified more than once.\nIf a line exists in both the source and destination, exists only once,\nand starts with\n<text>\n, this algorithm attempts to prevent it from\nappearing as a deletion or addition in the output. It uses the \"patience\ndiff\" algorithm internally.\n--diff-algorithm=\n(\npatience\n|\nminimal\n|\nhistogram\n|\nmyers\n)\nChoose a diff algorithm. The variants are as follows:\ndefault\nmyers\nThe basic greedy diff algorithm. Currently, this is the default.\nminimal\nSpend extra time to make sure the smallest possible diff is\nproduced.\npatience\nUse \"patience diff\" algorithm when generating patches.\nhistogram\nThis algorithm extends the patience algorithm to \"support\nlow-occurrence common elements\".\nFor instance, if you configured the\ndiff.algorithm\nvariable to a\nnon-default value and want to use the default one, then you\nhave to use\n--diff-algorithm=default\noption.\n--stat\n[\n=\n<width>\n[\n,\n<name-width>\n[\n,\n<count>\n]]]\nGenerate a diffstat. By default, as much space as necessary\nwill be used for the filename part, and the rest for the graph\npart. Maximum width defaults to terminal width, or 80 columns\nif not connected to a terminal, and can be overridden by\n<width>\n. The width of the filename part can be limited by\ngiving another width\n<name-width>\nafter a comma or by setting\ndiff.statNameWidth=\n<name-width>\n. The width of the graph part can be\nlimited by using\n--stat-graph-width=\n<graph-width>\nor by setting\ndiff.statGraphWidth=\n<graph-width>\n. Using\n--stat\nor\n--stat-graph-width\naffects all commands generating a stat graph,\nwhile setting\ndiff.statNameWidth\nor\ndiff.statGraphWidth\ndoes not affect\ngit\nformat-patch\n.\nBy giving a third parameter\n<count>\n, you can limit the output to\nthe first\n<count>\nlines, followed by\n...\nif there are more.\nThese parameters can also be set individually with\n--stat-width=\n<width>\n,\n--stat-name-width=\n<name-width>\nand\n--stat-count=\n<count>\n.\n--compact-summary\nOutput a condensed summary of extended header information such\nas file creations or deletions (\"new\" or \"gone\", optionally\n+l\nif it’s a symlink) and mode changes (\n+x\nor\n-x\nfor adding\nor removing executable bit respectively) in diffstat. The\ninformation is put between the filename part and the graph\npart. Implies\n--stat\n.\n--numstat\nSimilar to\n--stat\n, but shows number of added and\ndeleted lines in decimal notation and pathname without\nabbreviation, to make it more machine friendly.  For\nbinary files, outputs two\n-\ninstead of saying\n0\n0\n.\n--shortstat\nOutput only the last line of the\n--stat\nformat containing total\nnumber of modified files, as well as number of added and deleted\nlines.\n-X\n[\n<param>\n,...\n]\n--dirstat\n[\n=\n<param>\n,...\n]\nOutput the distribution of relative amount of changes for each\nsub-directory. The behavior of\n--dirstat\ncan be customized by\npassing it a comma separated list of parameters.\nThe defaults are controlled by the\ndiff.dirstat\nconfiguration\nvariable (see\ngit-config[1]\n).\nThe following parameters are available:\nchanges\nCompute the dirstat numbers by counting the lines that have been\nremoved from the source, or added to the destination. This ignores\nthe amount of pure code movements within a file.  In other words,\nrearranging lines in a file is not counted as much as other changes.\nThis is the default behavior when no parameter is given.\nlines\nCompute the dirstat numbers by doing the regular line-based diff\nanalysis, and summing the removed/added line counts. (For binary\nfiles, count 64-byte chunks instead, since binary files have no\nnatural concept of lines). This is a more expensive\n--dirstat\nbehavior than the\nchanges\nbehavior, but it does count rearranged\nlines within a file as much as other changes. The resulting output\nis consistent with what you get from the other\n--*stat\noptions.\nfiles\nCompute the dirstat numbers by counting the number of files changed.\nEach changed file counts equally in the dirstat analysis. This is\nthe computationally cheapest\n--dirstat\nbehavior, since it does\nnot have to look at the file contents at all.\ncumulative\nCount changes in a child directory for the parent directory as well.\nNote that when using\ncumulative\n, the sum of the percentages\nreported may exceed 100%. The default (non-cumulative) behavior can\nbe specified with the\nnoncumulative\nparameter.\n<limit>\nAn integer parameter specifies a cut-off percent (3% by default).\nDirectories contributing less than this percentage of the changes\nare not shown in the output.\nExample: The following will count changed files, while ignoring\ndirectories with less than 10% of the total amount of changed files,\nand accumulating child directory counts in the parent directories:\n--dirstat=files,10,cumulative\n.\n--cumulative\nSynonym for\n--dirstat=cumulative\n.\n--dirstat-by-file\n[\n=\n<param>\n,...\n]\nSynonym for\n--dirstat=files,\n<param>\n,...\n.\n--summary\nOutput a condensed summary of extended header information\nsuch as creations, renames and mode changes.\n--patch-with-stat\nSynonym for\n-p\n--stat\n.\n-z\nSeparate the commits with\nNUL\ns instead of newlines.\nAlso, when\n--raw\nor\n--numstat\nhas been given, do not munge\npathnames and use\nNUL\ns as output field terminators.\nWithout this option, pathnames with \"unusual\" characters are quoted as\nexplained for the configuration variable\ncore.quotePath\n(see\ngit-config[1]\n).\n--name-only\nShow only the name of each changed file in the post-image tree.\nThe file names are often encoded in UTF-8.\nFor more information see the discussion about encoding in the\ngit-log[1]\nmanual page.\n--name-status\nShow only the name(s) and status of each changed file. See the description\nof the\n--diff-filter\noption on what the status letters mean.\nJust like\n--name-only\nthe file names are often encoded in UTF-8.\n--submodule\n[\n=\n<format>\n]\nSpecify how differences in submodules are shown.  When specifying\n--submodule=short\nthe\nshort\nformat is used.  This format just\nshows the names of the commits at the beginning and end of the range.\nWhen\n--submodule\nor\n--submodule=log\nis specified, the\nlog\nformat is used.  This format lists the commits in the range like\ngit-submodule[1]\nsummary\ndoes.  When\n--submodule=diff\nis specified, the\ndiff\nformat is used.  This format shows an\ninline diff of the changes in the submodule contents between the\ncommit range.  Defaults to\ndiff.submodule\nor the\nshort\nformat\nif the config option is unset.\n--color\n[\n=\n<when>\n]\nShow colored diff.\n--color\n(i.e. without\n=\n<when>\n) is the same as\n--color=always\n.\n<when>\ncan be one of\nalways\n,\nnever\n, or\nauto\n.\n--no-color\nTurn off colored diff.\nIt is the same as\n--color=never\n.\n--color-moved\n[\n=\n<mode>\n]\nMoved lines of code are colored differently.\nThe\n<mode>\ndefaults to\nno\nif the option is not given\nand to\nzebra\nif the option with no mode is given.\nThe mode must be one of:\nno\nMoved lines are not highlighted.\ndefault\nIs a synonym for\nzebra\n. This may change to a more sensible mode\nin the future.\nplain\nAny line that is added in one location and was removed\nin another location will be colored with\ncolor.diff.newMoved\n.\nSimilarly\ncolor.diff.oldMoved\nwill be used for removed lines\nthat are added somewhere else in the diff. This mode picks up any\nmoved line, but it is not very useful in a review to determine\nif a block of code was moved without permutation.\nblocks\nBlocks of moved text of at least 20 alphanumeric characters\nare detected greedily. The detected blocks are\npainted using either the\ncolor.diff.\n(\nold\n|\nnew\n)\nMoved\ncolor.\nAdjacent blocks cannot be told apart.\nzebra\nBlocks of moved text are detected as in\nblocks\nmode. The blocks\nare painted using either the\ncolor.diff.\n(\nold\n|\nnew\n)\nMoved\ncolor or\ncolor.diff.\n(\nold\n|\nnew\n)\nMovedAlternative\n. The change between\nthe two colors indicates that a new block was detected.\ndimmed-zebra\nSimilar to\nzebra\n, but additional dimming of uninteresting parts\nof moved code is performed. The bordering lines of two adjacent\nblocks are considered interesting, the rest is uninteresting.\ndimmed_zebra\nis a deprecated synonym.\n--no-color-moved\nTurn off move detection. This can be used to override configuration\nsettings. It is the same as\n--color-moved=no\n.\n--color-moved-ws=\n<mode>\n,...\nThis configures how whitespace is ignored when performing the\nmove detection for\n--color-moved\n.\nThese modes can be given as a comma separated list:\nno\nDo not ignore whitespace when performing move detection.\nignore-space-at-eol\nIgnore changes in whitespace at EOL.\nignore-space-change\nIgnore changes in amount of whitespace.  This ignores whitespace\nat line end, and considers all other sequences of one or\nmore whitespace characters to be equivalent.\nignore-all-space\nIgnore whitespace when comparing lines. This ignores differences\neven if one line has whitespace where the other line has none.\nallow-indentation-change\nInitially ignore any whitespace in the move detection, then\ngroup the moved code blocks only into a block if the change in\nwhitespace is the same per line. This is incompatible with the\nother modes.\n--no-color-moved-ws\nDo not ignore whitespace when performing move detection. This can be\nused to override configuration settings. It is the same as\n--color-moved-ws=no\n.\n--word-diff\n[\n=\n<mode>\n]\nBy default, words are delimited by whitespace; see\n--word-diff-regex\nbelow.  The\n<mode>\ndefaults to\nplain\n, and\nmust be one of:\ncolor\nHighlight changed words using only colors.  Implies\n--color\n.\nplain\nShow words as\n[\n-removed-\n]\nand\n{\nadded\n}\n.  Makes no\nattempts to escape the delimiters if they appear in the input,\nso the output may be ambiguous.\nporcelain\nUse a special line-based format intended for script\nconsumption.  Added/removed/unchanged runs are printed in the\nusual unified diff format, starting with a\n+\n/\n-\n/` `\ncharacter at the beginning of the line and extending to the\nend of the line.  Newlines in the input are represented by a\ntilde\n~\non a line of its own.\nnone\nDisable word diff again.\nNote that despite the name of the first mode, color is used to\nhighlight the changed parts in all modes if enabled.\n--word-diff-regex=\n<regex>\nUse\n<regex>\nto decide what a word is, instead of considering\nruns of non-whitespace to be a word.  Also implies\n--word-diff\nunless it was already enabled.\nEvery non-overlapping match of the\n<regex>\nis considered a word.  Anything between these matches is\nconsidered whitespace and ignored(!) for the purposes of finding\ndifferences.  You may want to append\n|[\n^\n[\n:space:\n]]\nto your regular\nexpression to make sure that it matches all non-whitespace characters.\nA match that contains a newline is silently truncated(!) at the\nnewline.\nFor example,\n--word-diff-regex=.\nwill treat each character as a word\nand, correspondingly, show differences character by character.\nThe regex can also be set via a diff driver or configuration option, see\ngitattributes[5]\nor\ngit-config[1]\n.  Giving it explicitly\noverrides any diff driver or configuration setting.  Diff drivers\noverride configuration settings.\n--color-words\n[\n=\n<regex>\n]\nEquivalent to\n--word-diff=color\nplus (if a regex was\nspecified)\n--word-diff-regex=\n<regex>\n.\n--no-renames\nTurn off rename detection, even when the configuration\nfile gives the default to do so.\n--rename-empty\n--no-rename-empty\nWhether to use empty blobs as rename source.\n--check\nWarn if changes introduce conflict markers or whitespace errors.\nWhat are considered whitespace errors is controlled by\ncore.whitespace\nconfiguration.  By default, trailing whitespaces (including\nlines that consist solely of whitespaces) and a space character\nthat is immediately followed by a tab character inside the\ninitial indent of the line are considered whitespace errors.\nExits with non-zero status if problems are found. Not compatible\nwith\n--exit-code\n.\n--ws-error-highlight=\n<kind>\nHighlight whitespace errors in the\ncontext\n,\nold\nor\nnew\nlines of the diff.  Multiple values are separated by comma,\nnone\nresets previous values,\ndefault\nreset the list to\nnew\nand\nall\nis a shorthand for\nold,new,context\n.  When\nthis option is not given, and the configuration variable\ndiff.wsErrorHighlight\nis not set, only whitespace errors in\nnew\nlines are highlighted. The whitespace errors are colored\nwith\ncolor.diff.whitespace\n.\n--full-index\nInstead of the first handful of characters, show the full\npre- and post-image blob object names on the \"index\"\nline when generating patch format output.\n--binary\nIn addition to\n--full-index\n, output a binary diff that\ncan be applied with\ngit-apply\n.\nImplies\n--patch\n.\n--abbrev\n[\n=\n<n>\n]\nInstead of showing the full 40-byte hexadecimal object\nname in diff-raw format output and diff-tree header\nlines, show the shortest prefix that is at least\n<n>\nhexdigits long that uniquely refers the object.\nIn diff-patch output format,\n--full-index\ntakes higher\nprecedence, i.e. if\n--full-index\nis specified, full blob\nnames will be shown regardless of\n--abbrev\n.\nNon default number of digits can be specified with\n--abbrev=\n<n>\n.\n-B\n[\n<n>\n][\n/\n<m>\n]\n--break-rewrites\n[\n=\n[\n<n>\n][\n/\n<m>\n]]\nBreak complete rewrite changes into pairs of delete and\ncreate. This serves two purposes:\nIt affects the way a change that amounts to a total rewrite of a file\nnot as a series of deletion and insertion mixed together with a very\nfew lines that happen to match textually as the context, but as a\nsingle deletion of everything old followed by a single insertion of\neverything new, and the number\n<m>\ncontrols this aspect of the\n-B\noption (defaults to 60%).\n-B/70%\nspecifies that less than 30% of the\noriginal should remain in the result for Git to consider it a total\nrewrite (i.e. otherwise the resulting patch will be a series of\ndeletion and insertion mixed together with context lines).\nWhen used with\n-M\n, a totally-rewritten file is also considered as the\nsource of a rename (usually\n-M\nonly considers a file that disappeared\nas the source of a rename), and the number\n<n>\ncontrols this aspect of\nthe\n-B\noption (defaults to 50%).\n-B20%\nspecifies that a change with\naddition and deletion compared to 20% or more of the file’s size are\neligible for being picked up as a possible source of a rename to\nanother file.\n-M\n[\n<n>\n]\n--find-renames\n[\n=\n<n>\n]\nIf generating diffs, detect and report renames for each commit.\nFor following files across renames while traversing history, see\n--follow\n.\nIf\n<n>\nis specified, it is a threshold on the similarity\nindex (i.e. amount of addition/deletions compared to the\nfile’s size). For example,\n-M90%\nmeans Git should consider a\ndelete/add pair to be a rename if more than 90% of the file\nhasn’t changed.  Without a\n%\nsign, the number is to be read as\na fraction, with a decimal point before it.  I.e.,\n-M5\nbecomes\n0.5, and is thus the same as\n-M50%\n.  Similarly,\n-M05\nis\nthe same as\n-M5%\n.  To limit detection to exact renames, use\n-M100%\n.  The default similarity index is 50%.\n-C\n[\n<n>\n]\n--find-copies\n[\n=\n<n>\n]\nDetect copies as well as renames.  See also\n--find-copies-harder\n.\nIf\n<n>\nis specified, it has the same meaning as for\n-M\n<n>\n.\n--find-copies-harder\nFor performance reasons, by default,\n-C\noption finds copies only\nif the original file of the copy was modified in the same\nchangeset.  This flag makes the command\ninspect unmodified files as candidates for the source of\ncopy.  This is a very expensive operation for large\nprojects, so use it with caution.  Giving more than one\n-C\noption has the same effect.\n-D\n--irreversible-delete\nOmit the preimage for deletes, i.e. print only the header but not\nthe diff between the preimage and\n/dev/null\n. The resulting patch\nis not meant to be applied with\npatch\nor\ngit\napply\n; this is\nsolely for people who want to just concentrate on reviewing the\ntext after the change. In addition, the output obviously lacks\nenough information to apply such a patch in reverse, even manually,\nhence the name of the option.\nWhen used together with\n-B\n, omit also the preimage in the deletion part\nof a delete/create pair.\n-l\n<num>\nThe\n-M\nand\n-C\noptions involve some preliminary steps that\ncan detect subsets of renames/copies cheaply, followed by an\nexhaustive fallback portion that compares all remaining\nunpaired destinations to all relevant sources.  (For renames,\nonly remaining unpaired sources are relevant; for copies, all\noriginal sources are relevant.)  For N sources and\ndestinations, this exhaustive check is O(N^2).  This option\nprevents the exhaustive portion of rename/copy detection from\nrunning if the number of source/destination files involved\nexceeds the specified number.  Defaults to\ndiff.renameLimit\n.\nNote that a value of 0 is treated as unlimited.\n--diff-filter=\n[(\nA\n|\nC\n|\nD\n|\nM\n|\nR\n|\nT\n|\nU\n|\nX\n|\nB\n)\n...\n[\n*\n]]\nSelect only files that are Added (\nA\n), Copied (\nC\n),\nDeleted (\nD\n), Modified (\nM\n), Renamed (\nR\n), have their\ntype (i.e. regular file, symlink, submodule, …​) changed (\nT\n),\nare Unmerged (\nU\n), are\nUnknown (\nX\n), or have had their pairing Broken (\nB\n).\nAny combination of the filter characters (including none) can be used.\nWhen\n*\n(All-or-none) is added to the combination, all\npaths are selected if there is any file that matches\nother criteria in the comparison; if there is no file\nthat matches other criteria, nothing is selected.\nAlso, these upper-case letters can be downcased to exclude.  E.g.\n--diff-filter=ad\nexcludes added and deleted paths.\nNote that not all diffs can feature all types. For instance, copied and\nrenamed entries cannot appear if detection for those types is disabled.\n-S\n<string>\nLook for differences that change the number of occurrences of\nthe specified\n<string>\n(i.e. addition/deletion) in a file.\nIntended for the scripter’s use.\nIt is useful when you’re looking for an exact block of code (like a\nstruct), and want to know the history of that block since it first\ncame into being: use the feature iteratively to feed the interesting\nblock in the preimage back into\n-S\n, and keep going until you get the\nvery first version of the block.\nBinary files are searched as well.\n-G\n<regex>\nLook for differences whose patch text contains added/removed\nlines that match\n<regex>\n.\nTo illustrate the difference between\n-S\n<regex>\n--pickaxe-regex\nand\n-G\n<regex>\n, consider a commit with the following diff in the same\nfile:\n+    return frotz(nitfol, two->ptr, 1, 0);\n...\n-    hit = frotz(nitfol, mf2.ptr, 1, 0);\nWhile\ngit log -G\"frotz\\(nitfol\"\nwill show this commit,\ngit log\n-S\"frotz\\(nitfol\" --pickaxe-regex\nwill not (because the number of\noccurrences of that string did not change).\nUnless\n--text\nis supplied patches of binary files without a textconv\nfilter will be ignored.\nSee the\npickaxe\nentry in\ngitdiffcore[7]\nfor more\ninformation.\n--find-object=\n<object-id>\nLook for differences that change the number of occurrences of\nthe specified object. Similar to\n-S\n, just the argument is different\nin that it doesn’t search for a specific string but for a specific\nobject id.\nThe object can be a blob or a submodule commit. It implies the\n-t\noption in\ngit-log\nto also find trees.\n--pickaxe-all\nWhen\n-S\nor\n-G\nfinds a change, show all the changes in that\nchangeset, not just the files that contain the change\nin\n<string>\n.\n--pickaxe-regex\nTreat the\n<string>\ngiven to\n-S\nas an extended POSIX regular\nexpression to match.\n-O\n<orderfile>\nControl the order in which files appear in the output.\nThis overrides the\ndiff.orderFile\nconfiguration variable\n(see\ngit-config[1]\n).  To cancel\ndiff.orderFile\n,\nuse\n-O/dev/null\n.\nThe output order is determined by the order of glob patterns in\n<orderfile>\n.\nAll files with pathnames that match the first pattern are output\nfirst, all files with pathnames that match the second pattern (but not\nthe first) are output next, and so on.\nAll files with pathnames that do not match any pattern are output\nlast, as if there was an implicit match-all pattern at the end of the\nfile.\nIf multiple pathnames have the same rank (they match the same pattern\nbut no earlier patterns), their output order relative to each other is\nthe normal order.\n<orderfile>\nis parsed as follows:\nBlank lines are ignored, so they can be used as separators for\nreadability.\nLines starting with a hash (\"\n#\n\") are ignored, so they can be used\nfor comments.  Add a backslash (\"\n\\\n\") to the beginning of the\npattern if it starts with a hash.\nEach other line contains a single pattern.\nPatterns have the same syntax and semantics as patterns used for\nfnmatch\n(3) without the\nFNM_PATHNAME\nflag, except a pathname also\nmatches a pattern if removing any number of the final pathname\ncomponents matches the pattern.  For example, the pattern \"\nfoo*bar\n\"\nmatches \"\nfooasdfbar\n\" and \"\nfoo/bar/baz/asdf\n\" but not \"\nfoobarx\n\".\n--skip-to=\n<file>\n--rotate-to=\n<file>\nDiscard the files before the named\n<file>\nfrom the output\n(i.e.\nskip to\n), or move them to the end of the output\n(i.e.\nrotate to\n).  These options were invented primarily for the use\nof the\ngit\ndifftool\ncommand, and may not be very useful\notherwise.\n-R\nSwap two inputs; that is, show differences from index or\non-disk file to tree contents.\n--relative\n[\n=\n<path>\n]\n--no-relative\nWhen run from a subdirectory of the project, it can be\ntold to exclude changes outside the directory and show\npathnames relative to it with this option.  When you are\nnot in a subdirectory (e.g. in a bare repository), you\ncan name which subdirectory to make the output relative\nto by giving a\n<path>\nas an argument.\n--no-relative\ncan be used to countermand both\ndiff.relative\nconfig\noption and previous\n--relative\n.\n-a\n--text\nTreat all files as text.\n--ignore-cr-at-eol\nIgnore carriage-return at the end of line when doing a comparison.\n--ignore-space-at-eol\nIgnore changes in whitespace at EOL.\n-b\n--ignore-space-change\nIgnore changes in amount of whitespace.  This ignores whitespace\nat line end, and considers all other sequences of one or\nmore whitespace characters to be equivalent.\n-w\n--ignore-all-space\nIgnore whitespace when comparing lines.  This ignores\ndifferences even if one line has whitespace where the other\nline has none.\n--ignore-blank-lines\nIgnore changes whose lines are all blank.\n-I\n<regex>\n--ignore-matching-lines=\n<regex>\nIgnore changes whose all lines match\n<regex>\n.  This option may\nbe specified more than once.\n--inter-hunk-context=\n<number>\nShow the context between diff hunks, up to the specified\n<number>\nof lines, thereby fusing hunks that are close to each other.\nDefaults to\ndiff.interHunkContext\nor 0 if the config option\nis unset.\n-W\n--function-context\nShow whole function as context lines for each change.\nThe function names are determined in the same way as\ngit\ndiff\nworks out patch hunk headers (see \"Defining a\ncustom hunk-header\" in\ngitattributes[5]\n).\n--ext-diff\nAllow an external diff helper to be executed. If you set an\nexternal diff driver with\ngitattributes[5]\n, you need\nto use this option with\ngit-log[1]\nand friends.\n--no-ext-diff\nDisallow external diff drivers.\n--textconv\n--no-textconv\nAllow (or disallow) external text conversion filters to be run\nwhen comparing binary files. See\ngitattributes[5]\nfor\ndetails. Because textconv filters are typically a one-way\nconversion, the resulting diff is suitable for human\nconsumption, but cannot be applied. For this reason, textconv\nfilters are enabled by default only for\ngit-diff[1]\nand\ngit-log[1]\n, but not for\ngit-format-patch[1]\nor\ndiff plumbing commands.\n--ignore-submodules\n[\n=\n(\nnone\n|\nuntracked\n|\ndirty\n|\nall\n)]\nIgnore changes to submodules in the diff generation.\nall\nis the default.\nUsing\nnone\nwill consider the submodule modified when it either contains\nuntracked or modified files or its\nHEAD\ndiffers from the commit recorded\nin the superproject and can be used to override any settings of the\nignore\noption in\ngit-config[1]\nor\ngitmodules[5]\n. When\nuntracked\nis used submodules are not considered dirty when they only\ncontain untracked content (but they are still scanned for modified\ncontent). Using\ndirty\nignores all changes to the work tree of submodules,\nonly changes to the commits stored in the superproject are shown (this was\nthe behavior until 1.7.0). Using\nall\nhides all changes to submodules.\n--src-prefix=\n<prefix>\nShow the given source\n<prefix>\ninstead of \"a/\".\n--dst-prefix=\n<prefix>\nShow the given destination\n<prefix>\ninstead of \"b/\".\n--no-prefix\nDo not show any source or destination prefix.\n--default-prefix\nUse the default source and destination prefixes (\"a/\" and \"b/\").\nThis overrides configuration variables such as\ndiff.noprefix\n,\ndiff.srcPrefix\n,\ndiff.dstPrefix\n, and\ndiff.mnemonicPrefix\n(see\ngit-config[1]\n).\n--line-prefix=\n<prefix>\nPrepend an additional\n<prefix>\nto every line of output.\n--ita-invisible-in-index\nBy default entries added by\ngit\nadd\n-N\nappear as an existing\nempty file in\ngit\ndiff\nand a new file in\ngit\ndiff\n--cached\n.\nThis option makes the entry appear as a new file in\ngit\ndiff\nand non-existent in\ngit\ndiff\n--cached\n. This option could be\nreverted with\n--ita-visible-in-index\n. Both options are\nexperimental and could be removed in future.\n--max-depth=<depth>\nFor each pathspec given on command line, descend at most\n<depth>\nlevels of directories. A value of\n-1\nmeans no limit.\nCannot be combined with wildcards in the pathspec.\nGiven a tree containing\nfoo/bar/baz\n, the following list shows the\nmatches generated by each set of options:\n--max-depth=0\n--\nfoo\n:\nfoo\n--max-depth=1\n--\nfoo\n:\nfoo/bar\n--max-depth=1\n--\nfoo/bar\n:\nfoo/bar/baz\n--max-depth=1\n--\nfoo\nfoo/bar\n:\nfoo/bar/baz\n--max-depth=2\n--\nfoo\n:\nfoo/bar/baz\nIf no pathspec is given, the depth is measured as if all\ntop-level entries were specified. Note that this is different\nthan measuring from the root, in that\n--max-depth=0\nwould\nstill return\nfoo\n. This allows you to still limit depth while\nasking for a subset of the top-level entries.\nNote that this option is only supported for diffs between tree objects,\nnot against the index or working tree.\nFor more detailed explanation on these common options, see also\ngitdiffcore[7]\n.\nGenerating patch text with -p\nRunning\ngit-diff[1]\n,\ngit-log[1]\n,\ngit-show[1]\n,\ngit-diff-index[1]\n,\ngit-diff-tree[1]\n, or\ngit-diff-files[1]\nwith the\n-p\noption produces patch text.\nYou can customize the creation of patch text via the\nGIT_EXTERNAL_DIFF\nand the\nGIT_DIFF_OPTS\nenvironment variables\n(see\ngit[1]\n), and the\ndiff\nattribute (see\ngitattributes[5]\n).\nWhat the\n-p\noption produces is slightly different from the traditional\ndiff format:\nIt is preceded by a \"git diff\" header that looks like this:\ndiff --git a/file1 b/file2\nThe\na/\nand\nb/\nfilenames are the same unless rename/copy is\ninvolved.  Especially, even for a creation or a deletion,\n/dev/null\nis\nnot\nused in place of the\na/\nor\nb/\nfilenames.\nWhen a rename/copy is involved,\nfile1\nand\nfile2\nshow the\nname of the source file of the rename/copy and the name of\nthe file that the rename/copy produces, respectively.\nIt is followed by one or more extended header lines:\nold\nmode\n<mode>\nnew\nmode\n<mode>\ndeleted\nfile\nmode\n<mode>\nnew\nfile\nmode\n<mode>\ncopy\nfrom\n<path>\ncopy\nto\n<path>\nrename\nfrom\n<path>\nrename\nto\n<path>\nsimilarity\nindex\n<number>\ndissimilarity\nindex\n<number>\nindex\n<hash>\n..\n<hash>\n<mode>\nFile modes\n<mode>\nare printed as 6-digit octal numbers including the file type\nand file permission bits.\nPath names in extended headers do not include the\na/\nand\nb/\nprefixes.\nThe similarity index is the percentage of unchanged lines, and\nthe dissimilarity index is the percentage of changed lines.  It\nis a rounded down integer, followed by a percent sign.  The\nsimilarity index value of 100% is thus reserved for two equal\nfiles, while 100% dissimilarity means that no line from the old\nfile made it into the new one.\nThe index line includes the blob object names before and after the change.\nThe\n<mode>\nis included if the file mode does not change; otherwise,\nseparate lines indicate the old and the new mode.\nPathnames with \"unusual\" characters are quoted as explained for\nthe configuration variable\ncore.quotePath\n(see\ngit-config[1]\n).\nAll the\nfile1\nfiles in the output refer to files before the\ncommit, and all the\nfile2\nfiles refer to files after the commit.\nIt is incorrect to apply each change to each file sequentially.  For\nexample, this patch will swap a and b:\ndiff --git a/a b/b\nrename from a\nrename to b\ndiff --git a/b b/a\nrename from b\nrename to a\nHunk headers mention the name of the function to which the hunk\napplies.  See \"Defining a custom hunk-header\" in\ngitattributes[5]\nfor details of how to tailor this to\nspecific languages.\nCombined diff format\nAny diff-generating command can take the\n-c\nor\n--cc\noption to\nproduce a\ncombined diff\nwhen showing a merge. This is the default\nformat when showing merges with\ngit-diff[1]\nor\ngit-show[1]\n. Note also that you can give suitable\n--diff-merges\noption to any of these commands to force generation of\ndiffs in a specific format.\nA \"combined diff\" format looks like this:\ndiff --combined describe.c\nindex fabadb8,cc95eb0..4866510\n--- a/describe.c\n+++ b/describe.c\n@@@ -98,20 -98,12 +98,20 @@@\nreturn (a_date > b_date) ? -1 : (a_date == b_date) ? 0 : 1;\n}\n- static void describe(char *arg)\n-static void describe(struct commit *cmit, int last_one)\n++static void describe(char *arg, int last_one)\n{\n+\tunsigned char sha1[20];\n+\tstruct commit *cmit;\nstruct commit_list *list;\nstatic int initialized = 0;\nstruct commit_name *n;\n+\tif (get_sha1(arg, sha1) < 0)\n+\t\tusage(describe_usage);\n+\tcmit = lookup_commit_reference(sha1);\n+\tif (!cmit)\n+\t\tusage(describe_usage);\n+\nif (!initialized) {\ninitialized = 1;\nfor_each_ref(get_name);\nIt is preceded by a \"git diff\" header, that looks like\nthis (when the\n-c\noption is used):\ndiff --combined file\nor like this (when the\n--cc\noption is used):\ndiff --cc file\nIt is followed by one or more extended header lines\n(this example shows a merge with two parents):\nindex\n<hash>\n,\n<hash>\n..\n<hash>\nmode\n<mode>\n,\n<mode>\n..\n<mode>\nnew\nfile\nmode\n<mode>\ndeleted\nfile\nmode\n<mode>\n,\n<mode>\nThe\nmode\n<mode>\n,\n<mode>\n..\n<mode>\nline appears only if at least one of\nthe <mode> is different from the rest. Extended headers with\ninformation about detected content movement (renames and\ncopying detection) are designed to work with the diff of two\n<tree-ish>\nand are not used by combined diff format.\nIt is followed by a two-line from-file/to-file header:\n--- a/file\n+++ b/file\nSimilar to the two-line header for the traditional\nunified\ndiff\nformat,\n/dev/null\nis used to signal created or deleted\nfiles.\nHowever, if the --combined-all-paths option is provided, instead of a\ntwo-line from-file/to-file, you get an N+1 line from-file/to-file header,\nwhere N is the number of parents in the merge commit:\n--- a/file\n--- a/file\n--- a/file\n+++ b/file\nThis extended format can be useful if rename or copy detection is\nactive, to allow you to see the original name of the file in different\nparents.\nChunk header format is modified to prevent people from\naccidentally feeding it to\npatch\n-p1\n. Combined diff format\nwas created for review of merge commit changes, and was not\nmeant to be applied. The change is similar to the change in the\nextended\nindex\nheader:\n@@@ <from-file-range> <from-file-range> <to-file-range> @@@\nThere are (number of parents + 1)\n@\ncharacters in the chunk\nheader for combined diff format.\nUnlike the traditional\nunified\ndiff format, which shows two\nfiles A and B with a single column that has\n-\n(minus — appears in A but removed in B),\n+\n(plus — missing in A but\nadded to B), or\n\"\n\"\n(space — unchanged) prefix, this format\ncompares two or more files file1, file2,…​ with one file X, and\nshows how X differs from each of fileN.  One column for each of\nfileN is prepended to the output line to note how X’s line is\ndifferent from it.\nA\n-\ncharacter in the column N means that the line appears in\nfileN but it does not appear in the result.  A\n+\ncharacter\nin the column N means that the line appears in the result,\nand fileN does not have that line (in other words, the line was\nadded, from the point of view of that parent).\nIn the above example output, the function signature was changed\nfrom both files (hence two\n-\nremovals from both file1 and\nfile2, plus\n++\nto mean one line that was added does not appear\nin either file1 or file2).  Also, eight other lines are the same\nfrom file1 but do not appear in file2 (hence prefixed with\n+\n).\nWhen shown by\ngit\ndiff-tree\n-c\n, it compares the parents of a\nmerge commit with the merge result (i.e. file1..fileN are the\nparents).  When shown by\ngit\ndiff-files\n-c\n, it compares the\ntwo unresolved merge parents with the working tree file\n(i.e. file1 is stage 2 aka \"our version\", file2 is stage 3 aka\n\"their version\").\nEXAMPLES\ngit\nlog\n--no-merges\nShow the whole commit history, but skip any merges\ngit\nlog\nv2.6.12..\ninclude/scsi\ndrivers/scsi\nShow all commits since version\nv2.6.12\nthat changed any file\nin the\ninclude/scsi\nor\ndrivers/scsi\nsubdirectories\ngit\nlog\n--since=\"2\nweeks\nago\"\n--\ngitk\nShow the changes during the last two weeks to the file\ngitk\n.\nThe\n--\nis necessary to avoid confusion with the\nbranch\nnamed\ngitk\ngit\nlog\n--name-status\nrelease..test\nShow the commits that are in the \"\ntest\n\" branch but not yet\nin the \"\nrelease\n\" branch, along with the list of paths\neach commit modifies.\ngit\nlog\n--follow\nbuiltin/rev-list.c\nShows the commits that changed\nbuiltin/rev-list.c\n, including\nthose commits that occurred before the file was given its\npresent name.\ngit\nlog\n--branches\n--not\n--remotes=origin\nShows all commits that are in any of local branches but not in\nany of remote-tracking branches for\norigin\n(what you have that\norigin doesn’t).\ngit\nlog\nmaster\n--not\n--remotes=*/master\nShows all commits that are in local master but not in any remote\nrepository master branches.\ngit\nlog\n-p\n-m\n--first-parent\nShows the history including change diffs, but only from the\n“main branch” perspective, skipping commits that come from merged\nbranches, and showing full diffs of changes introduced by the merges.\nThis makes sense only when following a strict policy of merging all\ntopic branches when staying on a single integration branch.\ngit\nlog\n-L\n/int\nmain/',/^}/:main.c\nShows how the function\nmain\n()\nin the file\nmain.c\nevolved\nover time.\ngit\nlog\n-3\nLimits the number of commits to show to 3.\nDISCUSSION\nGit is to some extent character encoding agnostic.\nThe contents of the blob objects are uninterpreted sequences\nof bytes.  There is no encoding translation at the core\nlevel.\nPath names are encoded in UTF-8 normalization form C. This\napplies to tree objects, the index file, ref names, as well as\npath names in command line arguments, environment variables\nand config files (\n.git/config\n(see\ngit-config[1]\n),\ngitignore[5]\n,\ngitattributes[5]\nand\ngitmodules[5]\n).\nNote that Git at the core level treats path names simply as\nsequences of non-NUL bytes, there are no path name encoding\nconversions (except on Mac and Windows). Therefore, using\nnon-ASCII path names will mostly work even on platforms and file\nsystems that use legacy extended ASCII encodings. However,\nrepositories created on such systems will not work properly on\nUTF-8-based systems (e.g. Linux, Mac, Windows) and vice versa.\nAdditionally, many Git-based tools simply assume path names to\nbe UTF-8 and will fail to display other encodings correctly.\nCommit log messages are typically encoded in UTF-8, but other\nextended ASCII encodings are also supported. This includes\nISO-8859-x, CP125x and many others, but\nnot\nUTF-16/32,\nEBCDIC and CJK multi-byte encodings (GBK, Shift-JIS, Big5,\nEUC-x, CP9xx etc.).\nAlthough we encourage that the commit log messages are encoded\nin UTF-8, both the core and Git Porcelain are designed not to\nforce UTF-8 on projects.  If all participants of a particular\nproject find it more convenient to use legacy encodings, Git\ndoes not forbid it.  However, there are a few things to keep in\nmind.\ngit\ncommit\nand\ngit\ncommit-tree\nissue\na warning if the commit log message given to it does not look\nlike a valid UTF-8 string, unless you explicitly say your\nproject uses a legacy encoding.  The way to say this is to\nhave\ni18n.commitEncoding\nin\n.git/config\nfile, like this:\n[i18n]\ncommitEncoding = ISO-8859-1\nCommit objects created with the above setting record the value\nof\ni18n.commitEncoding\nin their\nencoding\nheader.  This is to\nhelp other people who look at them later.  Lack of this header\nimplies that the commit log message is encoded in UTF-8.\ngit\nlog\n,\ngit\nshow\n,\ngit\nblame\nand friends look at the\nencoding\nheader of a commit object, and try to re-code the\nlog message into UTF-8 unless otherwise specified.  You can\nspecify the desired output encoding with\ni18n.logOutputEncoding\nin\n.git/config\nfile, like this:\n[i18n]\nlogOutputEncoding = ISO-8859-1\nIf you do not have this configuration variable, the value of\ni18n.commitEncoding\nis used instead.\nNote that we deliberately chose not to re-code the commit log\nmessage when a commit is made to force UTF-8 at the commit\nobject level, because re-coding to UTF-8 is not necessarily a\nreversible operation.\nCONFIGURATION\nSee\ngit-config[1]\nfor core variables and\ngit-diff[1]\nfor settings related to diff generation.\nformat.pretty\nDefault for the\n--format\noption.  (See\nPretty Formats\nabove.)\nDefaults to\nmedium\n.\ni18n.logOutputEncoding\nEncoding to use when displaying logs.  (See\nDiscussion\nabove.)\nDefaults to the value of\ni18n.commitEncoding\nif set, and UTF-8\notherwise.\nEverything above this line in this section isn’t included from the\ngit-config[1]\ndocumentation. The content that follows is the\nsame as what’s found there:\nlog.abbrevCommit\nIf\ntrue\n, make\ngit-log[1]\n,\ngit-show[1]\n, and\ngit-whatchanged[1]\nassume\n--abbrev-commit\n. You may\noverride this option with\n--no-abbrev-commit\n.\nlog.date\nSet the default date-time mode for the\nlog\ncommand.\nSetting a value for log.date is similar to using\ngit\nlog\n's\n--date\noption.  See\ngit-log[1]\nfor details.\nIf the format is set to \"auto:foo\" and the pager is in use, format\n\"foo\" will be used for the date format. Otherwise, \"default\" will\nbe used.\nlog.decorate\nPrint out the ref names of any commits that are shown by the log\ncommand. Possible values are:\nshort\nthe ref name prefixes\nrefs/heads/\n,\nrefs/tags/\nand\nrefs/remotes/\nare not printed.\nfull\nthe full ref name (including prefix) are printed.\nauto\nif the output is going to a terminal,\nthe ref names are shown as if\nshort\nwere given, otherwise no ref\nnames are shown.\nThis is the same as the\n--decorate\noption of the\ngit\nlog\n.\nlog.initialDecorationSet\nBy default,\ngit\nlog\nonly shows decorations for certain known ref\nnamespaces. If\nall\nis specified, then show all refs as\ndecorations.\nlog.excludeDecoration\nExclude the specified patterns from the log decorations. This is\nsimilar to the\n--decorate-refs-exclude\ncommand-line option, but\nthe config option can be overridden by the\n--decorate-refs\noption.\nlog.diffMerges\nSet diff format to be used when\n--diff-merges=on\nis\nspecified, see\n--diff-merges\nin\ngit-log[1]\nfor\ndetails. Defaults to\nseparate\n.\nlog.follow\nIf\ntrue\n,\ngit\nlog\nwill act as if the\n--follow\noption was used when\na single <path> is given.  This has the same limitations as\n--follow\n,\ni.e. it cannot be used to follow multiple files and does not work well\non non-linear history.\nlog.graphColors\nA list of colors, separated by commas, that can be used to draw\nhistory lines in\ngit\nlog\n--graph\n.\nlog.showRoot\nIf true, the initial commit will be shown as a big creation event.\nThis is equivalent to a diff against an empty tree.\nTools like\ngit-log[1]\nor\ngit-whatchanged[1]\n, which\nnormally hide the root commit will now show it. True by default.\nlog.showSignature\nIf true, makes\ngit-log[1]\n,\ngit-show[1]\n, and\ngit-whatchanged[1]\nassume\n--show-signature\n.\nlog.mailmap\nIf true, makes\ngit-log[1]\n,\ngit-show[1]\n, and\ngit-whatchanged[1]\nassume\n--use-mailmap\n, otherwise\nassume\n--no-use-mailmap\n. True by default.\nnotes.mergeStrategy\nWhich merge strategy to choose by default when resolving notes\nconflicts.  Must be one of\nmanual\n,\nours\n,\ntheirs\n,\nunion\n, or\ncat_sort_uniq\n.  Defaults to\nmanual\n.  See the \"NOTES MERGE STRATEGIES\"\nsection of\ngit-notes[1]\nfor more information on each strategy.\nThis setting can be overridden by passing the\n--strategy\noption to\ngit-notes[1]\n.\nnotes.\n<name>\n.mergeStrategy\nWhich merge strategy to choose when doing a notes merge into\nrefs/notes/\n<name>\n.  This overrides the more general\nnotes.mergeStrategy\n.  See the \"NOTES MERGE STRATEGIES\" section in\ngit-notes[1]\nfor more information on the available strategies.\nnotes.displayRef\nWhich ref (or refs, if a glob or specified more than once), in\naddition to the default set by\ncore.notesRef\nor\nGIT_NOTES_REF\n, to read notes from when showing commit\nmessages with the\ngit\nlog\nfamily of commands.\nThis setting can be overridden with the\nGIT_NOTES_DISPLAY_REF\nenvironment variable, which must be a colon separated list of refs or\nglobs.\nA warning will be issued for refs that do not exist,\nbut a glob that does not match any refs is silently ignored.\nThis setting can be disabled by the\n--no-notes\noption to the\ngit-log[1]\nfamily of commands, or by the\n--notes=\n<ref>\noption accepted by\nthose commands.\nThe effective value of\ncore.notesRef\n(possibly overridden by\nGIT_NOTES_REF\n) is also implicitly added to the list of refs to be\ndisplayed.\nnotes.rewrite.\n<command>\nWhen rewriting commits with\n<command>\n(currently\namend\nor\nrebase\n), if this variable is\nfalse\n, git will not copy\nnotes from the original to the rewritten commit.  Defaults to\ntrue\n.  See also\nnotes.rewriteRef\nbelow.\nThis setting can be overridden with the\nGIT_NOTES_REWRITE_REF\nenvironment variable, which must be a colon separated list of refs or\nglobs.\nnotes.rewriteMode\nWhen copying notes during a rewrite (see the\nnotes.rewrite.\n<command>\noption), determines what to do if\nthe target commit already has a note.  Must be one of\noverwrite\n,\nconcatenate\n,\ncat_sort_uniq\n, or\nignore\n.\nDefaults to\nconcatenate\n.\nThis setting can be overridden with the\nGIT_NOTES_REWRITE_MODE\nenvironment variable.\nnotes.rewriteRef\nWhen copying notes during a rewrite, specifies the (fully\nqualified) ref whose notes should be copied.  May be a glob,\nin which case notes in all matching refs will be copied.  You\nmay also specify this configuration several times.\nDoes not have a default value; you must configure this variable to\nenable note rewriting.  Set it to\nrefs/notes/commits\nto enable\nrewriting for the default commit notes.\nCan be overridden with the\nGIT_NOTES_REWRITE_REF\nenvironment variable.\nSee\nnotes.rewrite.\n<command>\nabove for a further description of its format.\nGIT\nPart of the\ngit[1]\nsuite\nlog", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://git-scm.com/docs/git-log"}}
{"text": "Git - git-diff Documentation\nEnglish ▾\nLocalized versions of\ngit-diff\nmanual\nEnglish\nDeutsch\nEspañol\nFrançais\nPortuguês (Brasil)\nРусский\nукраїнська мова\n简体中文\nTopics ▾\nSetup and Config\ngit\nconfig\nhelp\nbugreport\nCredential helpers\nGetting and Creating Projects\ninit\nclone\nBasic Snapshotting\nadd\nstatus\ndiff\ncommit\nnotes\nrestore\nreset\nrm\nmv\nBranching and Merging\nbranch\ncheckout\nswitch\nmerge\nmergetool\nlog\nstash\ntag\nworktree\nSharing and Updating Projects\nfetch\npull\npush\nremote\nsubmodule\nInspection and Comparison\nshow\nlog\ndiff\ndifftool\nrange-diff\nshortlog\ndescribe\nPatching\napply\ncherry-pick\ndiff\nrebase\nrevert\nDebugging\nbisect\nblame\ngrep\nEmail\nam\napply\nimap-send\nformat-patch\nsend-email\nrequest-pull\nExternal Systems\nsvn\nfast-import\nServer Admin\ndaemon\nupdate-server-info\nGuides\ngitattributes\nCommand-line interface conventions\nEveryday Git\nFrequently Asked Questions (FAQ)\nGlossary\nHooks\ngitignore\ngitmodules\nRevisions\nSubmodules\nTutorial\nWorkflows\nAll guides...\nAdministration\nclean\ngc\nfsck\nreflog\nfilter-branch\ninstaweb\narchive\nbundle\nPlumbing Commands\ncat-file\ncheck-ignore\ncheckout-index\ncommit-tree\ncount-objects\ndiff-index\nfor-each-ref\nhash-object\nls-files\nls-tree\nmerge-base\nread-tree\nrev-list\nrev-parse\nshow-ref\nsymbolic-ref\nupdate-index\nupdate-ref\nverify-pack\nwrite-tree\nLatest version\n▾\ngit-diff last updated in 2.52.0\nChanges in the\ngit-diff\nmanual\n2.52.0\n2025-11-17\n2.51.1 → 2.51.2 no changes\n2.51.0\n2025-08-18\n2.49.1 → 2.50.1 no changes\n2.49.0 no changes\n2.48.1 → 2.48.2 no changes\n2.48.0\n2025-01-10\n2.47.1 → 2.47.3 no changes\n2.47.0\n2024-10-06\n2.46.1 → 2.46.4 no changes\n2.46.0\n2024-07-29\n2.45.4 no changes\n2.45.3\n2024-11-26\n2.45.1 → 2.45.2 no changes\n2.45.0\n2024-04-29\n2.44.1 → 2.44.4 no changes\n2.44.0\n2024-02-23\n2.43.2 → 2.43.7 no changes\n2.43.1\n2024-02-09\n2.43.0\n2023-11-20\n2.42.2 → 2.42.4 no changes\n2.42.1\n2023-11-02\n2.42.0\n2023-08-21\n2.41.1 → 2.41.3 no changes\n2.41.0\n2023-06-01\n2.40.1 → 2.40.4 no changes\n2.40.0\n2023-03-12\n2.39.1 → 2.39.5 no changes\n2.39.0\n2022-12-12\n2.38.1 → 2.38.5 no changes\n2.38.0\n2022-10-02\n2.37.3 → 2.37.7 no changes\n2.37.2\n2022-08-11\n2.36.1 → 2.37.1 no changes\n2.36.0\n2022-04-18\n2.34.1 → 2.35.8 no changes\n2.34.0\n2021-11-15\n2.33.1 → 2.33.8 no changes\n2.33.0\n2021-08-16\n2.32.1 → 2.32.7 no changes\n2.32.0\n2021-06-06\n2.31.1 → 2.31.8 no changes\n2.31.0\n2021-03-15\n2.30.1 → 2.30.9 no changes\n2.30.0\n2020-12-27\n2.29.1 → 2.29.3 no changes\n2.29.0\n2020-10-19\n2.28.1 no changes\n2.28.0\n2020-07-27\n2.25.2 → 2.27.1 no changes\n2.25.1\n2020-02-17\n2.25.0\n2020-01-13\n2.24.1 → 2.24.4 no changes\n2.24.0\n2019-11-04\n2.22.1 → 2.23.4 no changes\n2.22.0\n2019-06-07\n2.21.1 → 2.21.4 no changes\n2.21.0\n2019-02-24\n2.20.1 → 2.20.5 no changes\n2.20.0\n2018-12-09\n2.19.3 → 2.19.6 no changes\n2.19.2\n2018-11-21\n2.19.1 no changes\n2.19.0\n2018-09-10\n2.18.1 → 2.18.5 no changes\n2.18.0\n2018-06-21\n2.17.1 → 2.17.6 no changes\n2.17.0\n2018-04-02\n2.16.6\n2019-12-06\n2.15.4\n2019-12-06\n2.14.6\n2019-12-06\n2.13.7\n2018-05-22\n2.12.5\n2017-09-22\n2.11.4\n2017-09-22\n2.10.5 no changes\n2.9.5\n2017-07-30\n2.8.6\n2017-07-30\n2.7.6 no changes\n2.6.7\n2017-05-05\n2.5.6\n2017-05-05\n2.4.12\n2017-05-05\n2.3.10\n2015-09-28\n2.1.4 → 2.2.3 no changes\n2.0.5\n2014-12-17\nNAME\ngit-diff - Show changes between commits, commit and working tree, etc\nSYNOPSIS\ngit\ndiff\n[\n<options>\n] [\n<commit>\n] [\n--\n] [\n<path>\n…​]\ngit\ndiff\n[\n<options>\n]\n--cached\n[\n--merge-base\n] [\n<commit>\n] [\n--\n] [\n<path>\n…​]\ngit\ndiff\n[\n<options>\n] [\n--merge-base\n]\n<commit>\n[\n<commit>\n…​]\n<commit>\n[\n--\n] [\n<path>\n…​]\ngit\ndiff\n[\n<options>\n]\n<commit>\n...\n<commit>\n[\n--\n] [\n<path>\n…​]\ngit\ndiff\n[\n<options>\n]\n<blob>\n<blob>\ngit\ndiff\n[\n<options>\n]\n--no-index\n[\n--\n]\n<path>\n<path>\n[\n<pathspec>\n…​]\nDESCRIPTION\nShow changes between the working tree and the index or a tree, changes\nbetween the index and a tree, changes between two trees, changes resulting\nfrom a merge, changes between two blob objects, or changes between two\nfiles on disk.\ngit\ndiff\n[\n<options>\n] [\n--\n] [\n<path>\n...]\nThis form is to view the changes you made relative to\nthe index (staging area for the next commit).  In other\nwords, the differences are what you\ncould\ntell Git to\nfurther add to the index but you still haven’t.  You can\nstage these changes by using\ngit-add[1]\n.\ngit\ndiff\n[\n<options>\n]\n--no-index\n[\n--\n]\n<path>\n<path>\n[\n<pathspec>\n...]\nThis form is to compare the given two paths on the\nfilesystem.  You can omit the\n--no-index\noption when\nrunning the command in a working tree controlled by Git and\nat least one of the paths points outside the working tree,\nor when running the command outside a working tree\ncontrolled by Git. This form implies\n--exit-code\n. If both\npaths point to directories, additional pathspecs may be\nprovided. These will limit the files included in the\ndifference. All such pathspecs must be relative as they\napply to both sides of the diff.\ngit\ndiff\n[\n<options>\n]\n--cached\n[\n--merge-base\n] [\n<commit>\n] [\n--\n] [\n<path>\n...]\nThis form is to view the changes you staged for the next\ncommit relative to the named\n<commit>\n.  Typically you\nwould want comparison with the latest commit, so if you\ndo not give\n<commit>\n, it defaults to\nHEAD\n.\nIf\nHEAD\ndoes not exist (e.g. unborn branches) and\n<commit>\nis not given, it shows all staged changes.\n--staged\nis a synonym of\n--cached\n.\nIf\n--merge-base\nis given, instead of using\n<commit>\n, use the merge base\nof\n<commit>\nand\nHEAD\n.\ngit\ndiff\n--cached\n--merge-base\nA\nis equivalent to\ngit\ndiff\n--cached\n$\n(\ngit\nmerge-base\nA\nHEAD\n)\n.\ngit\ndiff\n[\n<options>\n] [\n--merge-base\n]\n<commit>\n[\n--\n] [\n<path>\n...]\nThis form is to view the changes you have in your\nworking tree relative to the named\n<commit>\n.  You can\nuse\nHEAD\nto compare it with the latest commit, or a\nbranch name to compare with the tip of a different\nbranch.\nIf\n--merge-base\nis given, instead of using\n<commit>\n, use the merge base\nof\n<commit>\nand\nHEAD\n.\ngit\ndiff\n--merge-base\nA\nis equivalent to\ngit\ndiff\n$\n(\ngit\nmerge-base\nA\nHEAD\n)\n.\ngit\ndiff\n[\n<options>\n] [\n--merge-base\n]\n<commit>\n<commit>\n[\n--\n] [\n<path>\n...]\nThis is to view the changes between two arbitrary\n<commit>\n.\nIf\n--merge-base\nis given, use the merge base of the two commits for the\n\"before\" side.\ngit\ndiff\n--merge-base\nA\nB\nis equivalent to\ngit\ndiff\n$\n(\ngit\nmerge-base\nA\nB\n)\nB\n.\ngit\ndiff\n[\n<options>\n]\n<commit>\n<commit>\n...\n<commit>\n[\n--\n] [\n<path>\n...]\nThis form is to view the results of a merge commit.  The first\nlisted\n<commit>\nmust be the merge itself; the remaining two or\nmore commits should be its parents.  Convenient ways to produce\nthe desired set of revisions are to use the suffixes\n@\nand\n^!\n.  If\nA\nis a merge commit, then\ngit\ndiff\nA\nA^@\n,\ngit\ndiff\nA^!\nand\ngit\nshow\nA\nall give the same combined diff.\ngit\ndiff\n[\n<options>\n]\n<commit>\n..\n<commit>\n[\n--\n] [\n<path>\n...]\nThis is synonymous to the earlier form (without the\n..\n) for\nviewing the changes between two arbitrary\n<commit>\n.  If\n<commit>\non\none side is omitted, it will have the same effect as\nusing\nHEAD\ninstead.\ngit\ndiff\n[\n<options>\n]\n<commit>\n...\n<commit>\n[\n--\n] [\n<path>\n...]\nThis form is to view the changes on the branch containing\nand up to the second\n<commit>\n, starting at a common ancestor\nof both\n<commit>\n.\ngit\ndiff\nA...B\nis equivalent to\ngit\ndiff\n$\n(\ngit\nmerge-base\nA\nB\n)\nB\n.  You can omit any one\nof\n<commit>\n, which has the same effect as using\nHEAD\ninstead.\nJust in case you are doing something exotic, it should be\nnoted that all of the\n<commit>\nin the above description, except\nin the\n--merge-base\ncase and in the last two forms that use\n..\nnotations, can be any\n<tree>\n. A tree of interest is the one pointed to\nby the ref named\nAUTO_MERGE\n, which is written by the\nort\nmerge\nstrategy upon hitting merge conflicts (see\ngit-merge[1]\n).\nComparing the working tree with\nAUTO_MERGE\nshows changes you’ve made\nso far to resolve textual conflicts (see the examples below).\nFor a more complete list of ways to spell\n<commit>\n, see\n\"SPECIFYING REVISIONS\" section in\ngitrevisions[7]\n.\nHowever,\ndiff\nis about comparing two\nendpoints\n, not ranges,\nand the range notations (\n<commit>\n..\n<commit>\nand\n<commit>\n...\n<commit>\n)\ndo not mean a range as defined in the\n\"SPECIFYING RANGES\" section in\ngitrevisions[7]\n.\ngit\ndiff\n[\n<options>\n]\n<blob>\n<blob>\nThis form is to view the differences between the raw\ncontents of two blob objects.\nOPTIONS\n-p\n-u\n--patch\nGenerate patch (see\nGenerating patch text with -p\n).\nThis is the default.\n-s\n--no-patch\nSuppress all output from the diff machinery.  Useful for\ncommands like\ngit\nshow\nthat show the patch by default to\nsquelch their output, or to cancel the effect of options like\n--patch\n,\n--stat\nearlier on the command line in an alias.\n-U\n<n>\n--unified=\n<n>\nGenerate diffs with\n<n>\nlines of context instead of\nthe usual three.\nImplies\n--patch\n.\n--output=\n<file>\nOutput to a specific file instead of stdout.\n--output-indicator-new=\n<char>\n--output-indicator-old=\n<char>\n--output-indicator-context=\n<char>\nSpecify the character used to indicate new, old or context\nlines in the generated patch. Normally they are\n+\n,\n-\nand\n' ' respectively.\n--raw\nGenerate the diff in raw format.\n--patch-with-raw\nSynonym for\n-p\n--raw\n.\n--indent-heuristic\nEnable the heuristic that shifts diff hunk boundaries to make patches\neasier to read. This is the default.\n--no-indent-heuristic\nDisable the indent heuristic.\n--minimal\nSpend extra time to make sure the smallest possible\ndiff is produced.\n--patience\nGenerate a diff using the \"patience diff\" algorithm.\n--histogram\nGenerate a diff using the \"histogram diff\" algorithm.\n--anchored=\n<text>\nGenerate a diff using the \"anchored diff\" algorithm.\nThis option may be specified more than once.\nIf a line exists in both the source and destination, exists only once,\nand starts with\n<text>\n, this algorithm attempts to prevent it from\nappearing as a deletion or addition in the output. It uses the \"patience\ndiff\" algorithm internally.\n--diff-algorithm=\n(\npatience\n|\nminimal\n|\nhistogram\n|\nmyers\n)\nChoose a diff algorithm. The variants are as follows:\ndefault\nmyers\nThe basic greedy diff algorithm. Currently, this is the default.\nminimal\nSpend extra time to make sure the smallest possible diff is\nproduced.\npatience\nUse \"patience diff\" algorithm when generating patches.\nhistogram\nThis algorithm extends the patience algorithm to \"support\nlow-occurrence common elements\".\nFor instance, if you configured the\ndiff.algorithm\nvariable to a\nnon-default value and want to use the default one, then you\nhave to use\n--diff-algorithm=default\noption.\n--stat\n[\n=\n<width>\n[\n,\n<name-width>\n[\n,\n<count>\n]]]\nGenerate a diffstat. By default, as much space as necessary\nwill be used for the filename part, and the rest for the graph\npart. Maximum width defaults to terminal width, or 80 columns\nif not connected to a terminal, and can be overridden by\n<width>\n. The width of the filename part can be limited by\ngiving another width\n<name-width>\nafter a comma or by setting\ndiff.statNameWidth=\n<name-width>\n. The width of the graph part can be\nlimited by using\n--stat-graph-width=\n<graph-width>\nor by setting\ndiff.statGraphWidth=\n<graph-width>\n. Using\n--stat\nor\n--stat-graph-width\naffects all commands generating a stat graph,\nwhile setting\ndiff.statNameWidth\nor\ndiff.statGraphWidth\ndoes not affect\ngit\nformat-patch\n.\nBy giving a third parameter\n<count>\n, you can limit the output to\nthe first\n<count>\nlines, followed by\n...\nif there are more.\nThese parameters can also be set individually with\n--stat-width=\n<width>\n,\n--stat-name-width=\n<name-width>\nand\n--stat-count=\n<count>\n.\n--compact-summary\nOutput a condensed summary of extended header information such\nas file creations or deletions (\"new\" or \"gone\", optionally\n+l\nif it’s a symlink) and mode changes (\n+x\nor\n-x\nfor adding\nor removing executable bit respectively) in diffstat. The\ninformation is put between the filename part and the graph\npart. Implies\n--stat\n.\n--numstat\nSimilar to\n--stat\n, but shows number of added and\ndeleted lines in decimal notation and pathname without\nabbreviation, to make it more machine friendly.  For\nbinary files, outputs two\n-\ninstead of saying\n0\n0\n.\n--shortstat\nOutput only the last line of the\n--stat\nformat containing total\nnumber of modified files, as well as number of added and deleted\nlines.\n-X\n[\n<param>\n,...\n]\n--dirstat\n[\n=\n<param>\n,...\n]\nOutput the distribution of relative amount of changes for each\nsub-directory. The behavior of\n--dirstat\ncan be customized by\npassing it a comma separated list of parameters.\nThe defaults are controlled by the\ndiff.dirstat\nconfiguration\nvariable (see\ngit-config[1]\n).\nThe following parameters are available:\nchanges\nCompute the dirstat numbers by counting the lines that have been\nremoved from the source, or added to the destination. This ignores\nthe amount of pure code movements within a file.  In other words,\nrearranging lines in a file is not counted as much as other changes.\nThis is the default behavior when no parameter is given.\nlines\nCompute the dirstat numbers by doing the regular line-based diff\nanalysis, and summing the removed/added line counts. (For binary\nfiles, count 64-byte chunks instead, since binary files have no\nnatural concept of lines). This is a more expensive\n--dirstat\nbehavior than the\nchanges\nbehavior, but it does count rearranged\nlines within a file as much as other changes. The resulting output\nis consistent with what you get from the other\n--*stat\noptions.\nfiles\nCompute the dirstat numbers by counting the number of files changed.\nEach changed file counts equally in the dirstat analysis. This is\nthe computationally cheapest\n--dirstat\nbehavior, since it does\nnot have to look at the file contents at all.\ncumulative\nCount changes in a child directory for the parent directory as well.\nNote that when using\ncumulative\n, the sum of the percentages\nreported may exceed 100%. The default (non-cumulative) behavior can\nbe specified with the\nnoncumulative\nparameter.\n<limit>\nAn integer parameter specifies a cut-off percent (3% by default).\nDirectories contributing less than this percentage of the changes\nare not shown in the output.\nExample: The following will count changed files, while ignoring\ndirectories with less than 10% of the total amount of changed files,\nand accumulating child directory counts in the parent directories:\n--dirstat=files,10,cumulative\n.\n--cumulative\nSynonym for\n--dirstat=cumulative\n.\n--dirstat-by-file\n[\n=\n<param>\n,...\n]\nSynonym for\n--dirstat=files,\n<param>\n,...\n.\n--summary\nOutput a condensed summary of extended header information\nsuch as creations, renames and mode changes.\n--patch-with-stat\nSynonym for\n-p\n--stat\n.\n-z\nWhen\n--raw\n,\n--numstat\n,\n--name-only\nor\n--name-status\nhas been\ngiven, do not munge pathnames and use NULs as output field terminators.\nWithout this option, pathnames with \"unusual\" characters are quoted as\nexplained for the configuration variable\ncore.quotePath\n(see\ngit-config[1]\n).\n--name-only\nShow only the name of each changed file in the post-image tree.\nThe file names are often encoded in UTF-8.\nFor more information see the discussion about encoding in the\ngit-log[1]\nmanual page.\n--name-status\nShow only the name(s) and status of each changed file. See the description\nof the\n--diff-filter\noption on what the status letters mean.\nJust like\n--name-only\nthe file names are often encoded in UTF-8.\n--submodule\n[\n=\n<format>\n]\nSpecify how differences in submodules are shown.  When specifying\n--submodule=short\nthe\nshort\nformat is used.  This format just\nshows the names of the commits at the beginning and end of the range.\nWhen\n--submodule\nor\n--submodule=log\nis specified, the\nlog\nformat is used.  This format lists the commits in the range like\ngit-submodule[1]\nsummary\ndoes.  When\n--submodule=diff\nis specified, the\ndiff\nformat is used.  This format shows an\ninline diff of the changes in the submodule contents between the\ncommit range.  Defaults to\ndiff.submodule\nor the\nshort\nformat\nif the config option is unset.\n--color\n[\n=\n<when>\n]\nShow colored diff.\n--color\n(i.e. without\n=\n<when>\n) is the same as\n--color=always\n.\n<when>\ncan be one of\nalways\n,\nnever\n, or\nauto\n.\nIt can be changed by the\ncolor.ui\nand\ncolor.diff\nconfiguration settings.\n--no-color\nTurn off colored diff.\nThis can be used to override configuration settings.\nIt is the same as\n--color=never\n.\n--color-moved\n[\n=\n<mode>\n]\nMoved lines of code are colored differently.\nIt can be changed by the\ndiff.colorMoved\nconfiguration setting.\nThe\n<mode>\ndefaults to\nno\nif the option is not given\nand to\nzebra\nif the option with no mode is given.\nThe mode must be one of:\nno\nMoved lines are not highlighted.\ndefault\nIs a synonym for\nzebra\n. This may change to a more sensible mode\nin the future.\nplain\nAny line that is added in one location and was removed\nin another location will be colored with\ncolor.diff.newMoved\n.\nSimilarly\ncolor.diff.oldMoved\nwill be used for removed lines\nthat are added somewhere else in the diff. This mode picks up any\nmoved line, but it is not very useful in a review to determine\nif a block of code was moved without permutation.\nblocks\nBlocks of moved text of at least 20 alphanumeric characters\nare detected greedily. The detected blocks are\npainted using either the\ncolor.diff.\n(\nold\n|\nnew\n)\nMoved\ncolor.\nAdjacent blocks cannot be told apart.\nzebra\nBlocks of moved text are detected as in\nblocks\nmode. The blocks\nare painted using either the\ncolor.diff.\n(\nold\n|\nnew\n)\nMoved\ncolor or\ncolor.diff.\n(\nold\n|\nnew\n)\nMovedAlternative\n. The change between\nthe two colors indicates that a new block was detected.\ndimmed-zebra\nSimilar to\nzebra\n, but additional dimming of uninteresting parts\nof moved code is performed. The bordering lines of two adjacent\nblocks are considered interesting, the rest is uninteresting.\ndimmed_zebra\nis a deprecated synonym.\n--no-color-moved\nTurn off move detection. This can be used to override configuration\nsettings. It is the same as\n--color-moved=no\n.\n--color-moved-ws=\n<mode>\n,...\nThis configures how whitespace is ignored when performing the\nmove detection for\n--color-moved\n.\nIt can be set by the\ndiff.colorMovedWS\nconfiguration setting.\nThese modes can be given as a comma separated list:\nno\nDo not ignore whitespace when performing move detection.\nignore-space-at-eol\nIgnore changes in whitespace at EOL.\nignore-space-change\nIgnore changes in amount of whitespace.  This ignores whitespace\nat line end, and considers all other sequences of one or\nmore whitespace characters to be equivalent.\nignore-all-space\nIgnore whitespace when comparing lines. This ignores differences\neven if one line has whitespace where the other line has none.\nallow-indentation-change\nInitially ignore any whitespace in the move detection, then\ngroup the moved code blocks only into a block if the change in\nwhitespace is the same per line. This is incompatible with the\nother modes.\n--no-color-moved-ws\nDo not ignore whitespace when performing move detection. This can be\nused to override configuration settings. It is the same as\n--color-moved-ws=no\n.\n--word-diff\n[\n=\n<mode>\n]\nBy default, words are delimited by whitespace; see\n--word-diff-regex\nbelow.  The\n<mode>\ndefaults to\nplain\n, and\nmust be one of:\ncolor\nHighlight changed words using only colors.  Implies\n--color\n.\nplain\nShow words as\n[\n-removed-\n]\nand\n{\nadded\n}\n.  Makes no\nattempts to escape the delimiters if they appear in the input,\nso the output may be ambiguous.\nporcelain\nUse a special line-based format intended for script\nconsumption.  Added/removed/unchanged runs are printed in the\nusual unified diff format, starting with a\n+\n/\n-\n/` `\ncharacter at the beginning of the line and extending to the\nend of the line.  Newlines in the input are represented by a\ntilde\n~\non a line of its own.\nnone\nDisable word diff again.\nNote that despite the name of the first mode, color is used to\nhighlight the changed parts in all modes if enabled.\n--word-diff-regex=\n<regex>\nUse\n<regex>\nto decide what a word is, instead of considering\nruns of non-whitespace to be a word.  Also implies\n--word-diff\nunless it was already enabled.\nEvery non-overlapping match of the\n<regex>\nis considered a word.  Anything between these matches is\nconsidered whitespace and ignored(!) for the purposes of finding\ndifferences.  You may want to append\n|[\n^\n[\n:space:\n]]\nto your regular\nexpression to make sure that it matches all non-whitespace characters.\nA match that contains a newline is silently truncated(!) at the\nnewline.\nFor example,\n--word-diff-regex=.\nwill treat each character as a word\nand, correspondingly, show differences character by character.\nThe regex can also be set via a diff driver or configuration option, see\ngitattributes[5]\nor\ngit-config[1]\n.  Giving it explicitly\noverrides any diff driver or configuration setting.  Diff drivers\noverride configuration settings.\n--color-words\n[\n=\n<regex>\n]\nEquivalent to\n--word-diff=color\nplus (if a regex was\nspecified)\n--word-diff-regex=\n<regex>\n.\n--no-renames\nTurn off rename detection, even when the configuration\nfile gives the default to do so.\n--rename-empty\n--no-rename-empty\nWhether to use empty blobs as rename source.\n--check\nWarn if changes introduce conflict markers or whitespace errors.\nWhat are considered whitespace errors is controlled by\ncore.whitespace\nconfiguration.  By default, trailing whitespaces (including\nlines that consist solely of whitespaces) and a space character\nthat is immediately followed by a tab character inside the\ninitial indent of the line are considered whitespace errors.\nExits with non-zero status if problems are found. Not compatible\nwith\n--exit-code\n.\n--ws-error-highlight=\n<kind>\nHighlight whitespace errors in the\ncontext\n,\nold\nor\nnew\nlines of the diff.  Multiple values are separated by comma,\nnone\nresets previous values,\ndefault\nreset the list to\nnew\nand\nall\nis a shorthand for\nold,new,context\n.  When\nthis option is not given, and the configuration variable\ndiff.wsErrorHighlight\nis not set, only whitespace errors in\nnew\nlines are highlighted. The whitespace errors are colored\nwith\ncolor.diff.whitespace\n.\n--full-index\nInstead of the first handful of characters, show the full\npre- and post-image blob object names on the \"index\"\nline when generating patch format output.\n--binary\nIn addition to\n--full-index\n, output a binary diff that\ncan be applied with\ngit-apply\n.\nImplies\n--patch\n.\n--abbrev\n[\n=\n<n>\n]\nInstead of showing the full 40-byte hexadecimal object\nname in diff-raw format output and diff-tree header\nlines, show the shortest prefix that is at least\n<n>\nhexdigits long that uniquely refers the object.\nIn diff-patch output format,\n--full-index\ntakes higher\nprecedence, i.e. if\n--full-index\nis specified, full blob\nnames will be shown regardless of\n--abbrev\n.\nNon default number of digits can be specified with\n--abbrev=\n<n>\n.\n-B\n[\n<n>\n][\n/\n<m>\n]\n--break-rewrites\n[\n=\n[\n<n>\n][\n/\n<m>\n]]\nBreak complete rewrite changes into pairs of delete and\ncreate. This serves two purposes:\nIt affects the way a change that amounts to a total rewrite of a file\nnot as a series of deletion and insertion mixed together with a very\nfew lines that happen to match textually as the context, but as a\nsingle deletion of everything old followed by a single insertion of\neverything new, and the number\n<m>\ncontrols this aspect of the\n-B\noption (defaults to 60%).\n-B/70%\nspecifies that less than 30% of the\noriginal should remain in the result for Git to consider it a total\nrewrite (i.e. otherwise the resulting patch will be a series of\ndeletion and insertion mixed together with context lines).\nWhen used with\n-M\n, a totally-rewritten file is also considered as the\nsource of a rename (usually\n-M\nonly considers a file that disappeared\nas the source of a rename), and the number\n<n>\ncontrols this aspect of\nthe\n-B\noption (defaults to 50%).\n-B20%\nspecifies that a change with\naddition and deletion compared to 20% or more of the file’s size are\neligible for being picked up as a possible source of a rename to\nanother file.\n-M\n[\n<n>\n]\n--find-renames\n[\n=\n<n>\n]\nDetect renames.\nIf\n<n>\nis specified, it is a threshold on the similarity\nindex (i.e. amount of addition/deletions compared to the\nfile’s size). For example,\n-M90%\nmeans Git should consider a\ndelete/add pair to be a rename if more than 90% of the file\nhasn’t changed.  Without a\n%\nsign, the number is to be read as\na fraction, with a decimal point before it.  I.e.,\n-M5\nbecomes\n0.5, and is thus the same as\n-M50%\n.  Similarly,\n-M05\nis\nthe same as\n-M5%\n.  To limit detection to exact renames, use\n-M100%\n.  The default similarity index is 50%.\n-C\n[\n<n>\n]\n--find-copies\n[\n=\n<n>\n]\nDetect copies as well as renames.  See also\n--find-copies-harder\n.\nIf\n<n>\nis specified, it has the same meaning as for\n-M\n<n>\n.\n--find-copies-harder\nFor performance reasons, by default,\n-C\noption finds copies only\nif the original file of the copy was modified in the same\nchangeset.  This flag makes the command\ninspect unmodified files as candidates for the source of\ncopy.  This is a very expensive operation for large\nprojects, so use it with caution.  Giving more than one\n-C\noption has the same effect.\n-D\n--irreversible-delete\nOmit the preimage for deletes, i.e. print only the header but not\nthe diff between the preimage and\n/dev/null\n. The resulting patch\nis not meant to be applied with\npatch\nor\ngit\napply\n; this is\nsolely for people who want to just concentrate on reviewing the\ntext after the change. In addition, the output obviously lacks\nenough information to apply such a patch in reverse, even manually,\nhence the name of the option.\nWhen used together with\n-B\n, omit also the preimage in the deletion part\nof a delete/create pair.\n-l\n<num>\nThe\n-M\nand\n-C\noptions involve some preliminary steps that\ncan detect subsets of renames/copies cheaply, followed by an\nexhaustive fallback portion that compares all remaining\nunpaired destinations to all relevant sources.  (For renames,\nonly remaining unpaired sources are relevant; for copies, all\noriginal sources are relevant.)  For N sources and\ndestinations, this exhaustive check is O(N^2).  This option\nprevents the exhaustive portion of rename/copy detection from\nrunning if the number of source/destination files involved\nexceeds the specified number.  Defaults to\ndiff.renameLimit\n.\nNote that a value of 0 is treated as unlimited.\n--diff-filter=\n[(\nA\n|\nC\n|\nD\n|\nM\n|\nR\n|\nT\n|\nU\n|\nX\n|\nB\n)\n...\n[\n*\n]]\nSelect only files that are Added (\nA\n), Copied (\nC\n),\nDeleted (\nD\n), Modified (\nM\n), Renamed (\nR\n), have their\ntype (i.e. regular file, symlink, submodule, …​) changed (\nT\n),\nare Unmerged (\nU\n), are\nUnknown (\nX\n), or have had their pairing Broken (\nB\n).\nAny combination of the filter characters (including none) can be used.\nWhen\n*\n(All-or-none) is added to the combination, all\npaths are selected if there is any file that matches\nother criteria in the comparison; if there is no file\nthat matches other criteria, nothing is selected.\nAlso, these upper-case letters can be downcased to exclude.  E.g.\n--diff-filter=ad\nexcludes added and deleted paths.\nNote that not all diffs can feature all types. For instance, copied and\nrenamed entries cannot appear if detection for those types is disabled.\n-S\n<string>\nLook for differences that change the number of occurrences of\nthe specified\n<string>\n(i.e. addition/deletion) in a file.\nIntended for the scripter’s use.\nIt is useful when you’re looking for an exact block of code (like a\nstruct), and want to know the history of that block since it first\ncame into being: use the feature iteratively to feed the interesting\nblock in the preimage back into\n-S\n, and keep going until you get the\nvery first version of the block.\nBinary files are searched as well.\n-G\n<regex>\nLook for differences whose patch text contains added/removed\nlines that match\n<regex>\n.\nTo illustrate the difference between\n-S\n<regex>\n--pickaxe-regex\nand\n-G\n<regex>\n, consider a commit with the following diff in the same\nfile:\n+    return frotz(nitfol, two->ptr, 1, 0);\n...\n-    hit = frotz(nitfol, mf2.ptr, 1, 0);\nWhile\ngit log -G\"frotz\\(nitfol\"\nwill show this commit,\ngit log\n-S\"frotz\\(nitfol\" --pickaxe-regex\nwill not (because the number of\noccurrences of that string did not change).\nUnless\n--text\nis supplied patches of binary files without a textconv\nfilter will be ignored.\nSee the\npickaxe\nentry in\ngitdiffcore[7]\nfor more\ninformation.\n--find-object=\n<object-id>\nLook for differences that change the number of occurrences of\nthe specified object. Similar to\n-S\n, just the argument is different\nin that it doesn’t search for a specific string but for a specific\nobject id.\nThe object can be a blob or a submodule commit. It implies the\n-t\noption in\ngit-log\nto also find trees.\n--pickaxe-all\nWhen\n-S\nor\n-G\nfinds a change, show all the changes in that\nchangeset, not just the files that contain the change\nin\n<string>\n.\n--pickaxe-regex\nTreat the\n<string>\ngiven to\n-S\nas an extended POSIX regular\nexpression to match.\n-O\n<orderfile>\nControl the order in which files appear in the output.\nThis overrides the\ndiff.orderFile\nconfiguration variable\n(see\ngit-config[1]\n).  To cancel\ndiff.orderFile\n,\nuse\n-O/dev/null\n.\nThe output order is determined by the order of glob patterns in\n<orderfile>\n.\nAll files with pathnames that match the first pattern are output\nfirst, all files with pathnames that match the second pattern (but not\nthe first) are output next, and so on.\nAll files with pathnames that do not match any pattern are output\nlast, as if there was an implicit match-all pattern at the end of the\nfile.\nIf multiple pathnames have the same rank (they match the same pattern\nbut no earlier patterns), their output order relative to each other is\nthe normal order.\n<orderfile>\nis parsed as follows:\nBlank lines are ignored, so they can be used as separators for\nreadability.\nLines starting with a hash (\"\n#\n\") are ignored, so they can be used\nfor comments.  Add a backslash (\"\n\\\n\") to the beginning of the\npattern if it starts with a hash.\nEach other line contains a single pattern.\nPatterns have the same syntax and semantics as patterns used for\nfnmatch\n(3) without the\nFNM_PATHNAME\nflag, except a pathname also\nmatches a pattern if removing any number of the final pathname\ncomponents matches the pattern.  For example, the pattern \"\nfoo*bar\n\"\nmatches \"\nfooasdfbar\n\" and \"\nfoo/bar/baz/asdf\n\" but not \"\nfoobarx\n\".\n--skip-to=\n<file>\n--rotate-to=\n<file>\nDiscard the files before the named\n<file>\nfrom the output\n(i.e.\nskip to\n), or move them to the end of the output\n(i.e.\nrotate to\n).  These options were invented primarily for the use\nof the\ngit\ndifftool\ncommand, and may not be very useful\notherwise.\n-R\nSwap two inputs; that is, show differences from index or\non-disk file to tree contents.\n--relative\n[\n=\n<path>\n]\n--no-relative\nWhen run from a subdirectory of the project, it can be\ntold to exclude changes outside the directory and show\npathnames relative to it with this option.  When you are\nnot in a subdirectory (e.g. in a bare repository), you\ncan name which subdirectory to make the output relative\nto by giving a\n<path>\nas an argument.\n--no-relative\ncan be used to countermand both\ndiff.relative\nconfig\noption and previous\n--relative\n.\n-a\n--text\nTreat all files as text.\n--ignore-cr-at-eol\nIgnore carriage-return at the end of line when doing a comparison.\n--ignore-space-at-eol\nIgnore changes in whitespace at EOL.\n-b\n--ignore-space-change\nIgnore changes in amount of whitespace.  This ignores whitespace\nat line end, and considers all other sequences of one or\nmore whitespace characters to be equivalent.\n-w\n--ignore-all-space\nIgnore whitespace when comparing lines.  This ignores\ndifferences even if one line has whitespace where the other\nline has none.\n--ignore-blank-lines\nIgnore changes whose lines are all blank.\n-I\n<regex>\n--ignore-matching-lines=\n<regex>\nIgnore changes whose all lines match\n<regex>\n.  This option may\nbe specified more than once.\n--inter-hunk-context=\n<number>\nShow the context between diff hunks, up to the specified\n<number>\nof lines, thereby fusing hunks that are close to each other.\nDefaults to\ndiff.interHunkContext\nor 0 if the config option\nis unset.\n-W\n--function-context\nShow whole function as context lines for each change.\nThe function names are determined in the same way as\ngit\ndiff\nworks out patch hunk headers (see \"Defining a\ncustom hunk-header\" in\ngitattributes[5]\n).\n--exit-code\nMake the program exit with codes similar to\ndiff\n(1).\nThat is, it exits with 1 if there were differences and\n0 means no differences.\n--quiet\nDisable all output of the program. Implies\n--exit-code\n.\nDisables execution of external diff helpers whose exit code\nis not trusted, i.e. their respective configuration option\ndiff.trustExitCode\nor\ndiff.\n<driver>\n.trustExitCode\nor\nenvironment variable\nGIT_EXTERNAL_DIFF_TRUST_EXIT_CODE\nis\nfalse.\n--ext-diff\nAllow an external diff helper to be executed. If you set an\nexternal diff driver with\ngitattributes[5]\n, you need\nto use this option with\ngit-log[1]\nand friends.\n--no-ext-diff\nDisallow external diff drivers.\n--textconv\n--no-textconv\nAllow (or disallow) external text conversion filters to be run\nwhen comparing binary files. See\ngitattributes[5]\nfor\ndetails. Because textconv filters are typically a one-way\nconversion, the resulting diff is suitable for human\nconsumption, but cannot be applied. For this reason, textconv\nfilters are enabled by default only for\ngit-diff[1]\nand\ngit-log[1]\n, but not for\ngit-format-patch[1]\nor\ndiff plumbing commands.\n--ignore-submodules\n[\n=\n(\nnone\n|\nuntracked\n|\ndirty\n|\nall\n)]\nIgnore changes to submodules in the diff generation.\nall\nis the default.\nUsing\nnone\nwill consider the submodule modified when it either contains\nuntracked or modified files or its\nHEAD\ndiffers from the commit recorded\nin the superproject and can be used to override any settings of the\nignore\noption in\ngit-config[1]\nor\ngitmodules[5]\n. When\nuntracked\nis used submodules are not considered dirty when they only\ncontain untracked content (but they are still scanned for modified\ncontent). Using\ndirty\nignores all changes to the work tree of submodules,\nonly changes to the commits stored in the superproject are shown (this was\nthe behavior until 1.7.0). Using\nall\nhides all changes to submodules.\n--src-prefix=\n<prefix>\nShow the given source\n<prefix>\ninstead of \"a/\".\n--dst-prefix=\n<prefix>\nShow the given destination\n<prefix>\ninstead of \"b/\".\n--no-prefix\nDo not show any source or destination prefix.\n--default-prefix\nUse the default source and destination prefixes (\"a/\" and \"b/\").\nThis overrides configuration variables such as\ndiff.noprefix\n,\ndiff.srcPrefix\n,\ndiff.dstPrefix\n, and\ndiff.mnemonicPrefix\n(see\ngit-config[1]\n).\n--line-prefix=\n<prefix>\nPrepend an additional\n<prefix>\nto every line of output.\n--ita-invisible-in-index\nBy default entries added by\ngit\nadd\n-N\nappear as an existing\nempty file in\ngit\ndiff\nand a new file in\ngit\ndiff\n--cached\n.\nThis option makes the entry appear as a new file in\ngit\ndiff\nand non-existent in\ngit\ndiff\n--cached\n. This option could be\nreverted with\n--ita-visible-in-index\n. Both options are\nexperimental and could be removed in future.\n--max-depth=<depth>\nFor each pathspec given on command line, descend at most\n<depth>\nlevels of directories. A value of\n-1\nmeans no limit.\nCannot be combined with wildcards in the pathspec.\nGiven a tree containing\nfoo/bar/baz\n, the following list shows the\nmatches generated by each set of options:\n--max-depth=0\n--\nfoo\n:\nfoo\n--max-depth=1\n--\nfoo\n:\nfoo/bar\n--max-depth=1\n--\nfoo/bar\n:\nfoo/bar/baz\n--max-depth=1\n--\nfoo\nfoo/bar\n:\nfoo/bar/baz\n--max-depth=2\n--\nfoo\n:\nfoo/bar/baz\nIf no pathspec is given, the depth is measured as if all\ntop-level entries were specified. Note that this is different\nthan measuring from the root, in that\n--max-depth=0\nwould\nstill return\nfoo\n. This allows you to still limit depth while\nasking for a subset of the top-level entries.\nNote that this option is only supported for diffs between tree objects,\nnot against the index or working tree.\nFor more detailed explanation on these common options, see also\ngitdiffcore[7]\n.\n-1\n--base\n-2\n--ours\n-3\n--theirs\nCompare the working tree with\nthe \"base\" version (stage #1) when using\n-1\nor\n--base\n,\n\"our branch\" (stage #2) when using\n-2\nor\n--ours\n, or\n\"their branch\" (stage #3) when using\n-3\nor\n--theirs\n.\nThe index contains these stages only for unmerged entries i.e.\nwhile resolving conflicts.  See\ngit-read-tree[1]\nsection \"3-Way Merge\" for detailed information.\n-0\nOmit diff output for unmerged entries and just show\n\"Unmerged\".  Can be used only when comparing the working tree\nwith the index.\n<path>\n...\nThe\n<path>\nparameters, when given, are used to limit\nthe diff to the named paths (you can give directory\nnames and get diff for all files under them).\nRaw output format\nThe raw output format from\ngit-diff-index\n,\ngit-diff-tree\n,\ngit-diff-files\nand\ngit\ndiff\n--raw\nare very similar.\nThese commands all compare two sets of things; what is\ncompared differs:\ngit-diff-index\n<tree-ish>\ncompares the\n<tree-ish>\nand the files on the filesystem.\ngit-diff-index\n--cached\n<tree-ish>\ncompares the\n<tree-ish>\nand the index.\ngit-diff-tree\n[\n-r\n]\n<tree-ish-1>\n<tree-ish-2>\n[\n<pattern>\n...]\ncompares the trees named by the two arguments.\ngit-diff-files\n[\n<pattern>\n...]\ncompares the index and the files on the filesystem.\nThe\ngit-diff-tree\ncommand begins its output by printing the hash of\nwhat is being compared. After that, all the commands print one output\nline per changed file.\nAn output line is formatted this way:\nin-place edit  :100644 100644 bcd1234 0123456 M file0\ncopy-edit      :100644 100644 abcd123 1234567 C68 file1 file2\nrename-edit    :100644 100644 abcd123 1234567 R86 file1 file3\ncreate         :000000 100644 0000000 1234567 A file4\ndelete         :100644 000000 1234567 0000000 D file5\nunmerged       :000000 000000 0000000 0000000 U file6\nThat is, from the left to the right:\na colon.\nmode for \"src\"; 000000 if creation or unmerged.\na space.\nmode for \"dst\"; 000000 if deletion or unmerged.\na space.\nsha1 for \"src\"; 0{40} if creation or unmerged.\na space.\nsha1 for \"dst\"; 0{40} if deletion, unmerged or \"work tree out of sync with the index\".\na space.\nstatus, followed by optional \"score\" number.\na tab or a NUL when\n-z\noption is used.\npath for \"src\"\na tab or a NUL when\n-z\noption is used; only exists for C or R.\npath for \"dst\"; only exists for C or R.\nan LF or a NUL when\n-z\noption is used, to terminate the record.\nPossible status letters are:\nA\n: addition of a file\nC\n: copy of a file into a new one\nD\n: deletion of a file\nM\n: modification of the contents or mode of a file\nR\n: renaming of a file\nT\n: change in the type of the file (regular file, symbolic link or submodule)\nU\n: file is unmerged (you must complete the merge before it can\nbe committed)\nX\n: \"unknown\" change type (most probably a bug, please report it)\nStatus letters\nC\nand\nR\nare always followed by a score (denoting the\npercentage of similarity between the source and target of the move or\ncopy).  Status letter\nM\nmay be followed by a score (denoting the\npercentage of dissimilarity) for file rewrites.\nThe sha1 for \"dst\" is shown as all 0’s if a file on the filesystem\nis out of sync with the index.\nExample:\n:100644 100644 5be4a4a 0000000 M file.c\nWithout the\n-z\noption, pathnames with \"unusual\" characters are\nquoted as explained for the configuration variable\ncore.quotePath\n(see\ngit-config[1]\n).  Using\n-z\nthe filename is output\nverbatim and the line is terminated by a NUL byte.\ndiff format for merges\ngit-diff-tree\n,\ngit-diff-files\nand\ngit-diff\n--raw\ncan take\n-c\nor\n--cc\noption\nto generate diff output also for merge commits.  The output differs\nfrom the format described above in the following way:\nthere is a colon for each parent\nthere are more \"src\" modes and \"src\" sha1\nstatus is concatenated status characters for each parent\nno optional \"score\" number\ntab-separated pathname(s) of the file\nFor\n-c\nand\n--cc\n, only the destination or final path is shown even\nif the file was renamed on any side of history.  With\n--combined-all-paths\n, the name of the path in each parent is shown\nfollowed by the name of the path in the merge commit.\nExamples for\n-c\nand\n--cc\nwithout\n--combined-all-paths\n:\n::100644 100644 100644 fabadb8 cc95eb0 4866510 MM\tdesc.c\n::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM\tbar.sh\n::100644 100644 100644 e07d6c5 9042e82 ee91881 RR\tphooey.c\nExamples when\n--combined-all-paths\nadded to either\n-c\nor\n--cc\n:\n::100644 100644 100644 fabadb8 cc95eb0 4866510 MM\tdesc.c\tdesc.c\tdesc.c\n::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM\tfoo.sh\tbar.sh\tbar.sh\n::100644 100644 100644 e07d6c5 9042e82 ee91881 RR\tfooey.c\tfuey.c\tphooey.c\nNote that\ncombined diff\nlists only files which were modified from\nall parents.\nGenerating patch text with -p\nRunning\ngit-diff[1]\n,\ngit-log[1]\n,\ngit-show[1]\n,\ngit-diff-index[1]\n,\ngit-diff-tree[1]\n, or\ngit-diff-files[1]\nwith the\n-p\noption produces patch text.\nYou can customize the creation of patch text via the\nGIT_EXTERNAL_DIFF\nand the\nGIT_DIFF_OPTS\nenvironment variables\n(see\ngit[1]\n), and the\ndiff\nattribute (see\ngitattributes[5]\n).\nWhat the\n-p\noption produces is slightly different from the traditional\ndiff format:\nIt is preceded by a \"git diff\" header that looks like this:\ndiff --git a/file1 b/file2\nThe\na/\nand\nb/\nfilenames are the same unless rename/copy is\ninvolved.  Especially, even for a creation or a deletion,\n/dev/null\nis\nnot\nused in place of the\na/\nor\nb/\nfilenames.\nWhen a rename/copy is involved,\nfile1\nand\nfile2\nshow the\nname of the source file of the rename/copy and the name of\nthe file that the rename/copy produces, respectively.\nIt is followed by one or more extended header lines:\nold\nmode\n<mode>\nnew\nmode\n<mode>\ndeleted\nfile\nmode\n<mode>\nnew\nfile\nmode\n<mode>\ncopy\nfrom\n<path>\ncopy\nto\n<path>\nrename\nfrom\n<path>\nrename\nto\n<path>\nsimilarity\nindex\n<number>\ndissimilarity\nindex\n<number>\nindex\n<hash>\n..\n<hash>\n<mode>\nFile modes\n<mode>\nare printed as 6-digit octal numbers including the file type\nand file permission bits.\nPath names in extended headers do not include the\na/\nand\nb/\nprefixes.\nThe similarity index is the percentage of unchanged lines, and\nthe dissimilarity index is the percentage of changed lines.  It\nis a rounded down integer, followed by a percent sign.  The\nsimilarity index value of 100% is thus reserved for two equal\nfiles, while 100% dissimilarity means that no line from the old\nfile made it into the new one.\nThe index line includes the blob object names before and after the change.\nThe\n<mode>\nis included if the file mode does not change; otherwise,\nseparate lines indicate the old and the new mode.\nPathnames with \"unusual\" characters are quoted as explained for\nthe configuration variable\ncore.quotePath\n(see\ngit-config[1]\n).\nAll the\nfile1\nfiles in the output refer to files before the\ncommit, and all the\nfile2\nfiles refer to files after the commit.\nIt is incorrect to apply each change to each file sequentially.  For\nexample, this patch will swap a and b:\ndiff --git a/a b/b\nrename from a\nrename to b\ndiff --git a/b b/a\nrename from b\nrename to a\nHunk headers mention the name of the function to which the hunk\napplies.  See \"Defining a custom hunk-header\" in\ngitattributes[5]\nfor details of how to tailor this to\nspecific languages.\nCombined diff format\nAny diff-generating command can take the\n-c\nor\n--cc\noption to\nproduce a\ncombined diff\nwhen showing a merge. This is the default\nformat when showing merges with\ngit-diff[1]\nor\ngit-show[1]\n. Note also that you can give suitable\n--diff-merges\noption to any of these commands to force generation of\ndiffs in a specific format.\nA \"combined diff\" format looks like this:\ndiff --combined describe.c\nindex fabadb8,cc95eb0..4866510\n--- a/describe.c\n+++ b/describe.c\n@@@ -98,20 -98,12 +98,20 @@@\nreturn (a_date > b_date) ? -1 : (a_date == b_date) ? 0 : 1;\n}\n- static void describe(char *arg)\n-static void describe(struct commit *cmit, int last_one)\n++static void describe(char *arg, int last_one)\n{\n+\tunsigned char sha1[20];\n+\tstruct commit *cmit;\nstruct commit_list *list;\nstatic int initialized = 0;\nstruct commit_name *n;\n+\tif (get_sha1(arg, sha1) < 0)\n+\t\tusage(describe_usage);\n+\tcmit = lookup_commit_reference(sha1);\n+\tif (!cmit)\n+\t\tusage(describe_usage);\n+\nif (!initialized) {\ninitialized = 1;\nfor_each_ref(get_name);\nIt is preceded by a \"git diff\" header, that looks like\nthis (when the\n-c\noption is used):\ndiff --combined file\nor like this (when the\n--cc\noption is used):\ndiff --cc file\nIt is followed by one or more extended header lines\n(this example shows a merge with two parents):\nindex\n<hash>\n,\n<hash>\n..\n<hash>\nmode\n<mode>\n,\n<mode>\n..\n<mode>\nnew\nfile\nmode\n<mode>\ndeleted\nfile\nmode\n<mode>\n,\n<mode>\nThe\nmode\n<mode>\n,\n<mode>\n..\n<mode>\nline appears only if at least one of\nthe <mode> is different from the rest. Extended headers with\ninformation about detected content movement (renames and\ncopying detection) are designed to work with the diff of two\n<tree-ish>\nand are not used by combined diff format.\nIt is followed by a two-line from-file/to-file header:\n--- a/file\n+++ b/file\nSimilar to the two-line header for the traditional\nunified\ndiff\nformat,\n/dev/null\nis used to signal created or deleted\nfiles.\nHowever, if the --combined-all-paths option is provided, instead of a\ntwo-line from-file/to-file, you get an N+1 line from-file/to-file header,\nwhere N is the number of parents in the merge commit:\n--- a/file\n--- a/file\n--- a/file\n+++ b/file\nThis extended format can be useful if rename or copy detection is\nactive, to allow you to see the original name of the file in different\nparents.\nChunk header format is modified to prevent people from\naccidentally feeding it to\npatch\n-p1\n. Combined diff format\nwas created for review of merge commit changes, and was not\nmeant to be applied. The change is similar to the change in the\nextended\nindex\nheader:\n@@@ <from-file-range> <from-file-range> <to-file-range> @@@\nThere are (number of parents + 1)\n@\ncharacters in the chunk\nheader for combined diff format.\nUnlike the traditional\nunified\ndiff format, which shows two\nfiles A and B with a single column that has\n-\n(minus — appears in A but removed in B),\n+\n(plus — missing in A but\nadded to B), or\n\"\n\"\n(space — unchanged) prefix, this format\ncompares two or more files file1, file2,…​ with one file X, and\nshows how X differs from each of fileN.  One column for each of\nfileN is prepended to the output line to note how X’s line is\ndifferent from it.\nA\n-\ncharacter in the column N means that the line appears in\nfileN but it does not appear in the result.  A\n+\ncharacter\nin the column N means that the line appears in the result,\nand fileN does not have that line (in other words, the line was\nadded, from the point of view of that parent).\nIn the above example output, the function signature was changed\nfrom both files (hence two\n-\nremovals from both file1 and\nfile2, plus\n++\nto mean one line that was added does not appear\nin either file1 or file2).  Also, eight other lines are the same\nfrom file1 but do not appear in file2 (hence prefixed with\n+\n).\nWhen shown by\ngit\ndiff-tree\n-c\n, it compares the parents of a\nmerge commit with the merge result (i.e. file1..fileN are the\nparents).  When shown by\ngit\ndiff-files\n-c\n, it compares the\ntwo unresolved merge parents with the working tree file\n(i.e. file1 is stage 2 aka \"our version\", file2 is stage 3 aka\n\"their version\").\nother diff formats\nThe\n--summary\noption describes newly added, deleted, renamed and\ncopied files.  The\n--stat\noption adds\ndiffstat\n(1) graph to the\noutput.  These options can be combined with other options, such as\n-p\n, and are meant for human consumption.\nWhen showing a change that involves a rename or a copy,\n--stat\noutput\nformats the pathnames compactly by combining common prefix and suffix of\nthe pathnames.  For example, a change that moves\narch/i386/Makefile\nto\narch/x86/Makefile\nwhile modifying 4 lines will be shown like this:\narch/{i386 => x86}/Makefile    |   4 +--\nThe\n--numstat\noption gives the diffstat(1) information but is designed\nfor easier machine consumption.  An entry in\n--numstat\noutput looks\nlike this:\n1\t2\tREADME\n3\t1\tarch/{i386 => x86}/Makefile\nThat is, from left to right:\nthe number of added lines;\na tab;\nthe number of deleted lines;\na tab;\npathname (possibly with rename/copy information);\na newline.\nWhen\n-z\noutput option is in effect, the output is formatted this way:\n1\t2\tREADME NUL\n3\t1\tNUL arch/i386/Makefile NUL arch/x86/Makefile NUL\nThat is:\nthe number of added lines;\na tab;\nthe number of deleted lines;\na tab;\na NUL (only exists if renamed/copied);\npathname in preimage;\na NUL (only exists if renamed/copied);\npathname in postimage (only exists if renamed/copied);\na NUL.\nThe extra\nNUL\nbefore the preimage path in renamed case is to allow\nscripts that read the output to tell if the current record being read is\na single-path record or a rename/copy record without reading ahead.\nAfter reading added and deleted lines, reading up to\nNUL\nwould yield\nthe pathname, but if that is\nNUL\n, the record will show two paths.\nEXAMPLES\nVarious ways to check your working tree\n$ git diff\n(1)\n$ git diff --cached\n(2)\n$ git diff HEAD\n(3)\n$ git diff AUTO_MERGE\n(4)\nChanges in the working tree not yet staged for the next commit.\nChanges between the index and your last commit; what you\nwould be committing if you run\ngit\ncommit\nwithout\n-a\noption.\nChanges in the working tree since your last commit; what you\nwould be committing if you run\ngit\ncommit\n-a\nChanges in the working tree you’ve made to resolve textual\nconflicts so far.\nComparing with arbitrary commits\n$ git diff test\n(1)\n$ git diff HEAD -- ./test\n(2)\n$ git diff HEAD^ HEAD\n(3)\nInstead of using the tip of the current branch, compare with the\ntip of \"test\" branch.\nInstead of comparing with the tip of \"test\" branch, compare with\nthe tip of the current branch, but limit the comparison to the\nfile \"test\".\nCompare the version before the last commit and the last commit.\nComparing branches\n$ git diff topic master\n(1)\n$ git diff topic..master\n(2)\n$ git diff topic...master\n(3)\nChanges between the tips of the topic and the master branches.\nSame as above.\nChanges that occurred on the master branch since when the topic\nbranch was started off it.\nLimiting the diff output\n$ git diff --diff-filter=MRC\n(1)\n$ git diff --name-status\n(2)\n$ git diff arch/i386 include/asm-i386\n(3)\nShow only modification, rename, and copy, but not addition\nor deletion.\nShow only names and the nature of change, but not actual\ndiff output.\nLimit diff output to named subtrees.\nMunging the diff output\n$ git diff --find-copies-harder -B -C\n(1)\n$ git diff -R\n(2)\nSpend extra cycles to find renames, copies and complete\nrewrites (very expensive).\nOutput diff in reverse.\nCONFIGURATION\nEverything below this line in this section is selectively included\nfrom the\ngit-config[1]\ndocumentation. The content is the same\nas what’s found there:\ndiff.autoRefreshIndex\nWhen using\ngit\ndiff\nto compare with work tree\nfiles, do not consider stat-only changes as changed.\nInstead, silently run\ngit\nupdate-index\n--refresh\nto\nupdate the cached stat information for paths whose\ncontents in the work tree match the contents in the\nindex.  This option defaults to\ntrue\n.  Note that this\naffects only\ngit\ndiff\nPorcelain, and not lower level\ndiff\ncommands such as\ngit\ndiff-files\n.\ndiff.dirstat\nA comma separated list of\n--dirstat\nparameters specifying the\ndefault behavior of the\n--dirstat\noption to\ngit\ndiff\nand friends.\nThe defaults can be overridden on the command line\n(using\n--dirstat=\n<param>\n,...\n). The fallback defaults\n(when not changed by\ndiff.dirstat\n) are\nchanges,noncumulative,3\n.\nThe following parameters are available:\nchanges\nCompute the dirstat numbers by counting the lines that have been\nremoved from the source, or added to the destination. This ignores\nthe amount of pure code movements within a file.  In other words,\nrearranging lines in a file is not counted as much as other changes.\nThis is the default behavior when no parameter is given.\nlines\nCompute the dirstat numbers by doing the regular line-based diff\nanalysis, and summing the removed/added line counts. (For binary\nfiles, count 64-byte chunks instead, since binary files have no\nnatural concept of lines). This is a more expensive\n--dirstat\nbehavior than the\nchanges\nbehavior, but it does count rearranged\nlines within a file as much as other changes. The resulting output\nis consistent with what you get from the other\n--*stat\noptions.\nfiles\nCompute the dirstat numbers by counting the number of files changed.\nEach changed file counts equally in the dirstat analysis. This is\nthe computationally cheapest\n--dirstat\nbehavior, since it does\nnot have to look at the file contents at all.\ncumulative\nCount changes in a child directory for the parent directory as well.\nNote that when using\ncumulative\n, the sum of the percentages\nreported may exceed 100%. The default (non-cumulative) behavior can\nbe specified with the\nnoncumulative\nparameter.\n<limit>\nAn integer parameter specifies a cut-off percent (3% by default).\nDirectories contributing less than this percentage of the changes\nare not shown in the output.\nExample: The following will count changed files, while ignoring\ndirectories with less than 10% of the total amount of changed files,\nand accumulating child directory counts in the parent directories:\nfiles,10,cumulative\n.\ndiff.statNameWidth\nLimit the width of the filename part in\n--stat\noutput. If set, applies\nto all commands generating\n--stat\noutput except\nformat-patch\n.\ndiff.statGraphWidth\nLimit the width of the graph part in\n--stat\noutput. If set, applies\nto all commands generating\n--stat\noutput except\nformat-patch\n.\ndiff.context\nGenerate diffs with\n<n>\nlines of context instead of the default\nof 3. This value is overridden by the\n-U\noption.\ndiff.interHunkContext\nShow the context between diff hunks, up to the specified number\nof lines, thereby fusing the hunks that are close to each other.\nThis value serves as the default for the\n--inter-hunk-context\ncommand line option.\ndiff.external\nIf this config variable is set, diff generation is not\nperformed using the internal diff machinery, but using the\ngiven command.  Can be overridden with the\nGIT_EXTERNAL_DIFF\nenvironment variable.  The command is called with parameters\nas described under \"git Diffs\" in\ngit[1]\n.  Note: if\nyou want to use an external diff program only on a subset of\nyour files, you might want to use\ngitattributes[5]\ninstead.\ndiff.trustExitCode\nIf this boolean value is set to\ntrue\nthen the\ndiff.external\ncommand is expected to return exit code\n0 if it considers the input files to be equal or 1 if it\nconsiders them to be different, like\ndiff\n(1).\nIf it is set to\nfalse\n, which is the default, then the command\nis expected to return exit code\n0\nregardless of equality.\nAny other exit code causes Git to report a fatal error.\ndiff.ignoreSubmodules\nSets the default value of\n--ignore-submodules\n. Note that this\naffects only\ngit\ndiff\nPorcelain, and not lower level\ndiff\ncommands such as\ngit\ndiff-files\n.\ngit\ncheckout\nand\ngit\nswitch\nalso honor\nthis setting when reporting uncommitted changes. Setting it to\nall\ndisables the submodule summary normally shown by\ngit\ncommit\nand\ngit\nstatus\nwhen\nstatus.submoduleSummary\nis set unless it is\noverridden by using the\n--ignore-submodules\ncommand-line option.\nThe\ngit\nsubmodule\ncommands are not affected by this setting.\nBy default this is set to untracked so that any untracked\nsubmodules are ignored.\ndiff.mnemonicPrefix\nIf set,\ngit\ndiff\nuses a prefix pair that is different from the\nstandard\na/\nand\nb/\ndepending on what is being compared.  When\nthis configuration is in effect, reverse diff output also swaps\nthe order of the prefixes:\ngit\ndiff\ncompares the (i)ndex and the (w)ork tree;\ngit\ndiff\nHEAD\ncompares a (c)ommit and the (w)ork tree;\ngit\ndiff\n--cached\ncompares a (c)ommit and the (i)ndex;\ngit\ndiff\nHEAD:\n<file1>\n<file2>\ncompares an (o)bject and a (w)ork tree entity;\ngit\ndiff\n--no-index\n<a>\n<b>\ncompares two non-git things\n<a>\nand\n<b>\n.\ndiff.noPrefix\nIf set,\ngit\ndiff\ndoes not show any source or destination prefix.\ndiff.srcPrefix\nIf set,\ngit\ndiff\nuses this source prefix. Defaults to\na/\n.\ndiff.dstPrefix\nIf set,\ngit\ndiff\nuses this destination prefix. Defaults to\nb/\n.\ndiff.relative\nIf set to\ntrue\n,\ngit\ndiff\ndoes not show changes outside of the directory\nand show pathnames relative to the current directory.\ndiff.orderFile\nFile indicating how to order files within a diff.\nSee the\n-O\noption for details.\nIf\ndiff.orderFile\nis a relative pathname, it is treated as\nrelative to the top of the working tree.\ndiff.renameLimit\nThe number of files to consider in the exhaustive portion of\ncopy/rename detection; equivalent to the\ngit\ndiff\noption\n-l\n.  If not set, the default value is currently 1000.  This\nsetting has no effect if rename detection is turned off.\ndiff.renames\nWhether and how Git detects renames.  If set to\nfalse\n,\nrename detection is disabled. If set to\ntrue\n, basic rename\ndetection is enabled.  If set to\ncopies\nor\ncopy\n, Git will\ndetect copies, as well.  Defaults to\ntrue\n.  Note that this\naffects only\ngit\ndiff\nPorcelain like\ngit-diff[1]\nand\ngit-log[1]\n, and not lower level commands such as\ngit-diff-files[1]\n.\ndiff.suppressBlankEmpty\nA boolean to inhibit the standard behavior of printing a space\nbefore each empty output line. Defaults to\nfalse\n.\ndiff.submodule\nSpecify the format in which differences in submodules are\nshown.  The\nshort\nformat just shows the names of the commits\nat the beginning and end of the range. The\nlog\nformat lists\nthe commits in the range like\ngit-submodule[1]\nsummary\ndoes. The\ndiff\nformat shows an inline diff of the changed\ncontents of the submodule. Defaults to\nshort\n.\ndiff.wordRegex\nA POSIX Extended Regular Expression used to determine what is a \"word\"\nwhen performing word-by-word difference calculations.  Character\nsequences that match the regular expression are \"words\", all other\ncharacters are\nignorable\nwhitespace.\ndiff.\n<driver>\n.command\nThe custom diff driver command.  See\ngitattributes[5]\nfor details.\ndiff.\n<driver>\n.trustExitCode\nIf this boolean value is set to\ntrue\nthen the\ndiff.\n<driver>\n.command\ncommand is expected to return exit code\n0 if it considers the input files to be equal or 1 if it\nconsiders them to be different, like\ndiff\n(1).\nIf it is set to\nfalse\n, which is the default, then the command\nis expected to return exit code 0 regardless of equality.\nAny other exit code causes Git to report a fatal error.\ndiff.\n<driver>\n.xfuncname\nThe regular expression that the diff driver should use to\nrecognize the hunk header.  A built-in pattern may also be used.\nSee\ngitattributes[5]\nfor details.\ndiff.\n<driver>\n.binary\nSet this option to\ntrue\nto make the diff driver treat files as\nbinary.  See\ngitattributes[5]\nfor details.\ndiff.\n<driver>\n.textconv\nThe command that the diff driver should call to generate the\ntext-converted version of a file.  The result of the\nconversion is used to generate a human-readable diff.  See\ngitattributes[5]\nfor details.\ndiff.\n<driver>\n.wordRegex\nThe regular expression that the diff driver should use to\nsplit words in a line.  See\ngitattributes[5]\nfor\ndetails.\ndiff.\n<driver>\n.cachetextconv\nSet this option to\ntrue\nto make the diff driver cache the text\nconversion outputs.  See\ngitattributes[5]\nfor details.\ndiff.indentHeuristic\nSet this option to\nfalse\nto disable the default heuristics\nthat shift diff hunk boundaries to make patches easier to read.\ndiff.algorithm\nChoose a diff algorithm.  The variants are as follows:\ndefault\nmyers\nThe basic greedy diff algorithm. Currently, this is the default.\nminimal\nSpend extra time to make sure the smallest possible diff is\nproduced.\npatience\nUse \"patience diff\" algorithm when generating patches.\nhistogram\nThis algorithm extends the patience algorithm to \"support\nlow-occurrence common elements\".\ndiff.wsErrorHighlight\nHighlight whitespace errors in the\ncontext\n,\nold\nor\nnew\nlines of the diff.  Multiple values are separated by comma,\nnone\nresets previous values,\ndefault\nreset the list to\nnew\nand\nall\nis a shorthand for\nold,new,context\n.  The\nwhitespace errors are colored with\ncolor.diff.whitespace\n.\nThe command line option\n--ws-error-highlight=\n<kind>\noverrides this setting.\ndiff.colorMoved\nIf set to either a valid\n<mode>\nor a\ntrue\nvalue, moved lines\nin a diff are colored differently.\nFor details of valid modes see\n--color-moved\n.\nIf simply set to\ntrue\nthe default color mode will be used. When\nset to\nfalse\n, moved lines are not colored.\ndiff.colorMovedWS\nWhen moved lines are colored using e.g. the\ndiff.colorMoved\nsetting,\nthis option controls the mode how spaces are treated.\nFor details of valid modes see\n--color-moved-ws\nin\ngit-diff[1]\n.\nSEE ALSO\ndiff\n(1),\ngit-difftool[1]\n,\ngit-log[1]\n,\ngitdiffcore[7]\n,\ngit-format-patch[1]\n,\ngit-apply[1]\n,\ngit-show[1]\nGIT\nPart of the\ngit[1]\nsuite\ndiff", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://git-scm.com/docs/git-diff"}}
{"text": "Getting Started · tmux/tmux Wiki · GitHub\nSkip to content\nNavigation Menu\nToggle navigation\nSign in\nAppearance settings\nSearch or jump to...\nSearch code, repositories, users, issues, pull requests...\nSearch\nClear\nSearch syntax tips\nProvide feedback\nWe read every piece of feedback, and take your input very seriously.\nInclude my email address so I can be contacted\nCancel\nSubmit feedback\nSaved searches\nUse saved searches to filter your results more quickly\nName\nQuery\nTo see all available qualifiers, see our\ndocumentation\n.\nCancel\nCreate saved search\nSign in\nSign up\nAppearance settings\nResetting focus\nYou signed in with another tab or window.\nReload\nto refresh your session.\nYou signed out in another tab or window.\nReload\nto refresh your session.\nYou switched accounts on another tab or window.\nReload\nto refresh your session.\nDismiss alert\ntmux\n/\ntmux\nPublic\nUh oh!\nThere was an error while loading.\nPlease reload this page\n.\nNotifications\nYou must be signed in to change notification settings\nFork\n2.3k\nStar\n39.9k\nGetting Started\nJump to bottom\nNicholas Marriott edited this page\nAug 26, 2025\n·\n113 revisions\nGetting started\nAbout tmux\ntmux is a program which runs in a terminal and allows multiple other terminal\nprograms to be run inside it. Each program inside tmux gets its own terminal\nmanaged by tmux, which can be accessed from the single terminal where tmux is\nrunning - this called multiplexing and tmux is a terminal multiplexer.\ntmux - and any programs running inside it - may be detached from the terminal\nwhere it is running (the outside terminal) and later reattached to the same or\nanother terminal.\nPrograms run inside tmux may be full screen interactive programs like\nvi(1)\nor\ntop(1)\n, shells like\nbash(1)\nor\nksh(1)\n, or any other program that can\nbe run in a Unix terminal.\nThere is a powerful feature set to access, manage and organize programs inside\ntmux, both interactively and from scripts.\nThe main uses of tmux are to:\nProtect running programs on a remote server from connection drops by running\nthem inside tmux.\nAllow programs running on a remote server to be accessed from multiple\ndifferent local computers.\nWork with multiple programs and shells together in one terminal, a bit like a\nwindow manager.\nFor example:\nA user connects to a remote server using\nssh(1)\nfrom an\nxterm(1)\non their\nwork computer and run several programs. perhaps an editor, a compiler and a\nfew shells.\nThey work with these programs interactively, perhaps start compiling, then\nclose the\nxterm(1)\nwith tmux and go home for the day.\nThey are then able to connect to the same remote server from home, attach to\ntmux, and continue from where they were previously.\nHere is a screenshot of tmux in an\nxterm(1)\nshowing the shell:\nAbout this document\nThis document gives an overview of some of tmux's key concepts, a description\nof how to use the main features interactively and some information on basic\ncustomization and configuration.\nNote that this document may mention features only available in the latest tmux\nrelease. Only the latest tmux release is supported. Releases are made\napproximately every six months.\ntmux may be installed from package management systems on most major platforms.\nSee\nthis document\nfor instructions on how to install tmux or\nhow to build it from source.\nOther documentation and help\nHere are several places to find documentation and help about tmux:\nThe manual\npage\nhas detailed reference documentation on\ntmux and a description of every command, flag and option. Once tmux is\ninstalled it is also available in section 1:\n$ man 1 tmux\nThe FAQ\nhas solutions to commonly asked questions, mostly about\nspecific configuration issues.\nThe\ntmux-users@googlegroups.com mailing list\n.\nBasic concepts\ntmux has a set of basic concepts and terms it is important to be familiar with.\nThis section gives a description of how the terminals inside tmux are grouped\ntogether and the various terms tmux uses.\nThe tmux server and clients\ntmux keeps all its state in a single main process, called the tmux server. This\nruns in the background and manages all the programs running inside tmux and\nkeeps track of their output. The tmux server is started automatically when the\nuser runs a tmux command and by default exits when there are no running\nprograms.\nUsers attach to the tmux server by starting a client. This takes over the\nterminal where it is run and talks to the server using a socket file in\n/tmp\n.\nEach client runs in one terminal, which may be an\nX(7)\nterminal such as\nxterm(1)\n, the system console, or a terminal inside another program (such as\ntmux itself). Each client is identified by the name of the outside terminal\nwhere it is started, for example\n/dev/ttypf\n.\nSessions, windows and panes\nEvery terminal inside tmux belongs to one pane, this is a rectangular area\nwhich shows the content of the terminal inside tmux. Because each terminal\ninside tmux is shown in only one pane, the term pane can be used to mean all of\nthe pane, the terminal and the program running inside it. The screenshot to the\nright shows tmux with panes.\nEach pane appears in one window. A window is made up of one or more panes which\ntogether cover its entire area - so multiple panes may be visible at the same\ntime. A window normally takes up the whole of the terminal where tmux is\nattached, but it can be bigger or smaller. The sizes and positions of all the\npanes in a window is called the window layout.\nEvery window has a name - by default tmux will choose one but it can be changed\nby the user. Window names do not have to be unique, windows are usually\nidentified by the session and the window index rather than their name.\nEach pane is separated from the panes around it by a line, this is called the\npane border. There is one pane in each window called the active pane, this is\nwhere any text typed is sent and is the default pane used for commands that\ntarget the window. The pane border of the active pane is marked in green, or if\nthere are only two panes then the top, bottom, left or right half of the border\nis green.\nMultiple windows are grouped together into sessions. If a window is part of a\nsession, it is said to be linked to that session. Windows may be linked to\nmultiple sessions at the same time, although mostly they are only in one. Each\nwindow in a session has a number, called the window index - the same window may\nbe linked at different indexes in different sessions. A session's window list\nis all the windows linked to that session in order of their indexes.\nEach session has one current window, this is the window displayed when the\nsession is attached and is the default window for any commands that target the\nsession. If the current window is changed, the previous current window becomes\nknown as the last window.\nA session may be attached to one or more clients, which means it is shown on\nthe outside terminal where that client is running. Any text typed into that\noutside terminal is sent to the active pane in the current window of the\nattached session. Sessions do not have an index but they do have a name, which\nmust be unique.\nIn summary:\nPrograms run in terminals in panes, which each belong to one window.\nEach window has a name and one active pane.\nWindows are linked to one or more sessions.\nEach session has a list of windows, each with an index.\nOne of the windows in a session is the current window.\nSessions are attached to one or more clients, or are detached (attached to no\nclients).\nEach client is attached to one session.\nSummary of terms\nTerm\nDescription\nClient\nAttaches a tmux session from an outside terminal such as\nxterm(1)\nSession\nGroups one or more windows together\nWindow\nGroups one or more panes together, linked to one or more sessions\nPane\nContains a terminal and running program, appears in one window\nActive pane\nThe pane in the current window where typing is sent; one per window\nCurrent window\nThe window in the attached session where typing is sent; one per session\nLast window\nThe previous current window\nSession name\nThe name of a session, defaults to a number starting from zero\nWindow list\nThe list of windows in a session in order by number\nWindow name\nThe name of a window, defaults to the name of the running program in the active pane\nWindow index\nThe number of a window in a session's window list\nWindow layout\nThe size and position of the panes in a window\nUsing tmux interactively\nCreating sessions\nTo create the first tmux session, tmux is run from the shell. A new session is\ncreated using the\nnew-session\ncommand -\nnew\nfor short:\n$ tmux new\nWithout arguments,\nnew-session\ncreates a new session and attaches it. Because\nthis is the first session, the tmux server is started and the tmux run from the\nshell becomes the first client and attaches to it.\nThe new session will have one window (at index 0) with a single pane containing\na shell. The shell prompt should appear at the top of the terminal and the\ngreen status line at the bottom (more on the status line is below).\nBy default, the first session will be called\n0\n, the second\n1\nand so on.\nnew-session\nallows a name to be specified for the session with the\n-s\nflag:\n$ tmux new -smysession\nThis creates a new session called\nmysession\n. A command may be given instead\nof running a shell by passing additional arguments. If one argument is given,\ntmux will pass it to the shell, if more than one it runs the command directly.\nFor example these run\nemacs(1)\n:\n$ tmux new 'emacs ~/.tmux.conf'\nOr:\n$ tmux new -- emacs ~/.tmux.conf\nBy default, tmux calls the first window in the session after whatever is\nrunning in it. The\n-n\nflag gives a name to use instead, in this case a window\nmytopwindow\nrunning\ntop(1)\n:\n$ tmux new -nmytopwindow top\nnew-session\nhas other flags - some are covered below. A full list is\nin the\ntmux manual\n.\nThe status line\nWhen a tmux client is attached, it shows a status line on the bottom line of\nthe screen. By default this is green and shows:\nOn the left, the name of the attached session:\n[0]\n.\nIn the middle, a list of the windows in the session, with their index, for\nexample with one window called\nksh\nat index 0:\n0:ksh\n.\nOn the right, the pane title in quotes (this defaults to the name of the host\nrunning tmux) and the time and the date.\nAs new windows are opened, the window list grows - if there are too many\nwindows to fit on the width of the terminal, a\n<\nor\n>\nwill be added at the\nleft or right or both to show there are hidden windows.\nIn the window list, the current window is marked with a\n*\nafter the name, and\nthe last window with a\n-\n.\nThe prefix key\nOnce a tmux client is attached, any keys entered are forwarded to the program\nrunning in the active pane of the current window. For keys that control tmux\nitself, a special key must be pressed first - this is called the prefix key.\nThe default prefix key is\nC-b\n, which means the\nCtrl\nkey and\nb\n. In tmux,\nmodifier keys are shown by prefixing a key with\nC-\nfor the control key,\nM-\nfor the meta key (normally\nAlt\non modern computers) and\nS-\nfor the shift\nkey. These may be combined together, so\nC-M-x\nmeans pressing the control key,\nmeta key and\nx\ntogether.\nWhen the prefix key is pressed, tmux waits for another key press and that\ndetermines what tmux command is executed. Keys like this are shown here with a\nspace between them:\nC-b c\nmeans first the prefix key\nC-b\nis pressed, then\nit is released and then the\nc\nkey is pressed. Care must be taken to release\nthe\nCtrl\nkey after pressing\nC-b\nif necessary -\nC-b c\nis different from\nC-b C-c\n.\nPressing\nC-b\ntwice sends the\nC-b\nkey to the program running in the active\npane.\nHelp keys\nEvery default tmux key binding has a short description to help remember what\nthe key does. A list of all the keys and their corresponding description texts\ncan be seen by pressing\nC-b ?\n.\nC-b ?\nenters view mode to show text. A pane in view mode has its own key\nbindings which do not need the prefix key. These broadly follow\nemacs(1)\n. The\nmost important are\nUp\n,\nDown\n,\nC-Up\n,\nC-Down\nto scroll up and down, and\nq\nto exit the mode. The line number of the top visible line together with the\ntotal number of lines is shown in the top right.\nAlternatively, the same list can be seen from the shell by running:\n$ tmux lsk -N|more\nC-b /\nshows the description of a single key - a prompt at the bottom of the\nterminal appears. Pressing a key will show its description in the same place.\nFor example, pressing\nC-b /\nthen\n?\nshows:\nC-b ? List key bindings\nCommands and flags\ntmux has a large set of commands. These all have a name like\nnew-window\nor\nnew-session\nor\nlist-keys\nand many also have a shorter alias like\nneww\nor\nnew\nor\nlsk\n.\nAny time a key binding is used, it runs one or more tmux commands. For example,\nC-b c\nruns the\nnew-window\ncommand.\nCommands can also be used from the shell, as with\nnew-session\nand\nlist-keys\nabove.\nEach command has zero or more flags, in the same way as standard Unix commands.\nFlags may or may not take a single argument themselves. In addition, commands\nmay take additional arguments after the flags. Flags are passed after the\ncommand, for example to run the\nnew-session\ncommand (alias\nnew\n) with flags\n-d\nand\n-n\n:\n$ tmux new-session -d -nmysession\nAll commands and their flags are documented in the tmux manual page.\nThis document focuses on the available key bindings, but commands are mentioned\nfor information or where there is a useful flag. They can be entered from the\nshell or from the command prompt, described in the next section.\nThe command prompt\ntmux has an interactive command prompt. This can be opened by pressing\nC-b :\nand appears instead of the status line, as shown in this screenshot.\nAt the prompt, commands can be entered similarly to how they are at the shell.\nOutput will either be shown for a short period in the status line, or switch\nthe active pane into view mode.\nBy default, the command prompt uses keys similar to\nemacs(1)\n; however, if the\nVISUAL\nor\nEDITOR\nenvironment variables are set to something containing\nvi\n(such as\nvi\nor\nvim\nor\nnvi\n), then\nvi(1)\n-style keys are used instead.\nMultiple commands may be entered together at the command prompt by separating\nthem with a semicolon (\n;\n). This is called a command sequence.\nAttaching and detaching\nDetaching from tmux means that the client exits and detaches from the outside\nterminal, returning to the shell and leaving the tmux session and any programs\ninside it running in the background. To detach tmux, the\nC-b d\nkey binding is\nused. When tmux detaches, it will print a message with the session name:\n[detached (from session mysession)]\nThe\nattach-session\ncommand attaches to an existing session. Without\narguments, it will attach to the most recently used session that is not already\nattached:\n$ tmux attach\nOr\n-t\ngives the name of a session to attach to:\n$ tmux attach -tmysession\nBy default, attaching to a session does not detach any other clients attached\nto the same session. The\n-d\nflag does this:\n$ tmux attach -dtmysession\nThe\nnew-session\ncommand has a\n-A\nflag to attach to an existing session if\nit exists, or create a new one if it does not. For a session named\nmysession\n:\n$ tmux new -Asmysession\nThe\n-D\nflag may be added to make\nnew-session\nalso behave like\nattach-session\nwith\n-d\nand detach any other clients attached to the\nsession.\nListing sessions\nThe\nlist-sessions\ncommand (alias\nls\n) shows a list of available sessions that\ncan be attached. This shows four sessions called\n1\n,\n2\n,\nmyothersession\nand\nmysession\n:\n$ tmux ls\n1: 3 windows (created Sat Feb 22 11:44:51 2020)\n2: 1 windows (created Sat Feb 22 11:44:51 2020)\nmyothersession: 2 windows (created Sat Feb 22 11:44:51 2020)\nmysession: 1 windows (created Sat Feb 22 11:44:51 2020)\nKilling tmux entirely\nIf there are no sessions, windows or panes inside tmux, the server will exit.\nIt can also be entirely killed using the\nkill-server\ncommand. For example, at\nthe command prompt:\n:kill-server\nCreating new windows\nA new window can be created in an attached session with the\nC-b c\nkey\nbinding which runs the\nnew-window\ncommand. The new window is created at the\nfirst available index - so the second window will have index 1. The new window\nbecomes the current window of the session.\nIf there are any gaps in the window list, they are filled by new windows. So if\nthere are windows with indexes 0 and 2, the next new window will be created as\nindex 1.\nThe\nnew-window\ncommand has some useful flags which can be used with the\ncommand prompt:\nThe\n-d\nflag creates the window, but does not make it the current window.\n-n\nallows a name for the new window to be given. For example using the\ncommand prompt to create a window called\nmynewwindow\nwithout making it the\ncurrent window:\n:neww -dnmynewwindow\nThe\n-t\nflag specifies a target for the window. Command targets have a\nspecial syntax, but for simple use with\nnew-window\nit is enough just to\ngive a window index. This creates a window at index 999:\n:neww -t999\nA command to be run in the new window may be given to\nnew-window\nin the same\nway as\nnew-session\n. For example to create a new window running\ntop(1)\n:\n:neww top\nSplitting the window\nA pane is created by splitting a window. This is done with the\nsplit-window\ncommand which is bound to two keys by default:\nC-b %\nsplits the current pane into two horizontally, producing two panes\nnext to each other, one on the left and one on the right.\nC-b \"\nsplits the current pane into two vertically, producing two panes one\nabove the other.\nEach time a pane is split into two, each of those panes may be split again\nusing the same key bindings, until the pane becomes too small.\nsplit-window\nhas several useful flags:\n-h\ndoes a horizontal split and\n-v\na vertical split.\n-d\ndoes not change the active pane to the newly created pane.\n-f\nmakes a new pane spanning the whole width or height of the window\ninstead of being constrained to the size of the pane being split.\n-b\nputs the new pane to the left or above of the pane being split instead\nof to the right or below.\nA command to be run in the new pane may be given to\nsplit-window\nin the same\nway as\nnew-session\nand\nnew-window\n.\nChanging the current window\nThere are several key bindings to change the current window of a session:\nC-b 0\nchanges to window 0,\nC-b 1\nto window 1, up to window\nC-b 9\nfor\nwindow 9.\nC-b '\nprompts for a window index and changes to that window.\nC-b n\nchanges to the next window in the window list by number. So pressing\nC-b n\nwhen in window 1 will change to window 2 if it exists.\nC-b p\nchanges to the previous window in the window list by number.\nC-b l\nchanges to the last window, which is the window that was the current\nwindow before the window that is now.\nThese are all variations of the\nselect-window\ncommand.\nChanging the active pane\nThe active pane can be changed between the panes in a window with these key\nbindings:\nC-b Up\n,\nC-b Down\n,\nC-b Left\nand\nC-b Right\nchange to the pane above,\nbelow, left or right of the active pane. These keys wrap around the window,\nso pressing\nC-b Down\non a pane at the bottom will change to a pane at the\ntop.\nC-b q\nprints the pane numbers and their sizes on top of the panes for a\nshort time. Pressing one of the number keys before they disappear changes the\nactive pane to the chosen pane, so\nC-b q 1\nwill change to pane number 1.\nC-b o\nmoves to the next pane by pane number and\nC-b C-o\nswaps that pane\nwith the active pane, so they exchange positions and sizes in the window.\nThese use the\nselect-pane\nand\ndisplay-panes\ncommands.\nPane numbers are not fixed, instead panes are numbered by their position in the\nwindow, so if the pane with number 0 is swapped with the pane with number 1,\nthe numbers are swapped as well as the panes themselves.\nChoosing sessions, windows and panes\ntmux includes a mode where sessions, windows or panes can be chosen from a\ntree, this is called tree mode. It can be used to browse sessions, windows and\npanes; to change the attached session, the current window or active pane; to\nkill sessions, windows and panes; or apply a command to several at once by\ntagging them.\nThere are two key bindings to enter tree mode:\nC-b s\nstarts showing only\nsessions and with the attached session selected;\nC-b w\nstarts with sessions\nexpanded so windows are shown and with the current window in the attached\nsession selected.\nTree mode splits the window into two sections: the top half has a tree of\nsessions, windows and panes and the bottom half has a preview of the area\naround the cursor in each pane. For sessions the preview shows the active panes\nin as many windows will fit; for windows as many panes as will fit; and for\npanes only the selected pane.\nKeys to control tree mode do not require the prefix. The list may be navigated\nwith the\nUp\nand\nDown\nkeys.\nEnter\nchanges to the selected item (it becomes\nthe attached session, current window or active pane) and exits the mode.\nRight\nexpands the item if possible - sessions expand to show their windows\nand windows to show their panes.\nLeft\ncollapses the item to hide any windows\nor panes.\nO\nchanges the order of the items and\nq\nexits tree mode.\nItems in the tree are tagged by pressing\nt\nand untagged by pressing\nt\nagain. Tagged items are shown in bold and with\n*\nafter their name. All tagged\nitems may be untagged by pressing\nT\n. Tagged items may be killed together by\npressing\nX\n, or a command applied to them all by pressing\n:\nfor a prompt.\nEach item in the tree has as shortcut key in brackets at the start of the line.\nPressing this key will immediately choose that item (as if it had been selected\nand\nEnter\npressed). The first ten items are keys\n0\nto\n9\nand after that\nkeys\nM-a\nto\nM-z\nare used.\nThis is a list of the keys available in tree mode without pressing the prefix\nkey:\nKey\nFunction\nEnter\nChange the attached session, current window or active pane\nUp\nSelect previous item\nDown\nSelect next item\nRight\nExpand item\nLeft\nCollapse item\nx\nKill selected item\nX\nKill tagged items\n<\nScroll preview left\n>\nScroll preview right\nC-s\nSearch by name\nn\nRepeat last search\nt\nToggle if item is tagged\nT\nTag no items\nC-t\nTag all items\n:\nPrompt for a command to run for the selected item or each tagged item\nO\nChange sort field\nr\nReverse sort order\nv\nToggle preview\nq\nExit tree mode\nTree mode is activated with the\nchoose-tree\ncommand.\nDetaching other clients\nA list of clients is available by pressing\nC-b D\n(that is,\nC-b S-d\n). This\nis similar to tree mode and is called client mode.\nEach client is shown in the list in the top half with its name, attached\nsession, size and the time and date when it was last used; the bottom half has\na preview of the selected client with as much of its status line as will fit.\nThe movement and tag keys are the same as tree mode, but others are different,\nfor example the\nEnter\nkey detaches the selected client.\nThis is a list of the keys in client mode without the movement and tagging keys\nthat are the same as tree mode:\nKey\nFunction\nEnter\nDetach selected client\nd\nDetach selected client, same as\nEnter\nD\nDetach tagged clients\nx\nDetach selected client and try to kill the shell it was started from\nX\nDetach tagged clients and try to kill the shells they were started from\nOther than using client mode, the\ndetach-client\ncommand has a\n-a\nflag to\ndetach all clients other than the attached client.\nKilling a session, window or pane\nPressing\nC-b &\nprompts for confirmation then kills (closes) the current\nwindow. All panes in the window are killed at the same time.\nC-b x\nkills only\nthe active pane. These are bound to the\nkill-window\nand\nkill-pane\ncommands.\nThe\nkill-session\ncommand kills the attached session and all its windows and\ndetaches the client. There is no key binding for\nkill-session\nbut it can be\nused from the command prompt or the\n:\nprompt in tree mode.\nRenaming sessions and windows\nC-b $\nwill prompt for a new name for the attached session. This uses the\nrename-session\ncommand. Likewise,\nC-b ,\nprompts for a new name for the\ncurrent window, using the\nrename-window\ncommand.\nSwapping and moving\ntmux allows panes and windows to be swapped with the\nswap-pane\nand\nswap-window\ncommands.\nTo make swapping easy, a single pane can be marked. There is one marked pane\nacross all sessions. The\nC-b m\nkey binding toggles whether the active pane in\nthe current window in the attached session is the marked pane.\nC-b M\nclears\nthe marked pane entirely so that no pane is marked. The marked pane is shown by\na green background to its border and the window containing the marked pane has\nan\nM\nflag in the status line.\nOnce a pane is marked, it can be swapped with the active pane in the current\nwindow with the\nswap-pane\ncommand, or the window containing the marked pane\ncan be swapped with the current window using the\nswap-window\ncommand. For\nexample, using the command prompt:\n:swap-pane\nPanes can additionally be swapped with the pane above or below using the\nC-b {\nand\nC-b }\nkey bindings.\nMoving windows uses the\nmove-window\ncommand or the\nC-b .\nkey binding.\nPressing\nC-b .\nwill prompt for a new index for the current window. If a\nwindow already exists at the given index, an error will be shown. An existing\nwindow can be replaced by using the\n-k\nflag - to move a window to index 999:\n:move-window -kt999\nIf there are gaps in the window list, the indexes can be renumbered with the\n-r\nflag to\nmove-window\n. For example, this will change a window list of 0,\n1, 3, 999 into 0, 1, 2, 3:\n:movew -r\nResizing and zooming panes\nPanes may be resized in small steps with\nC-b C-Left\n,\nC-b C-Right\n,\nC-b C-Up\nand\nC-b C-Down\nand in larger steps with\nC-b M-Left\n,\nC-b M-Right\n,\nC-b M-Up\nand\nC-b M-Down\n. These use the\nresize-pane\ncommand.\nA single pane may be temporarily made to take up the whole window with\nC-b z\n,\nhiding any other panes. Pressing\nC-b z\nagain puts the pane and window layout\nback to how it was. This is called zooming and unzooming. A window where a pane\nhas been zoomed is marked with a\nZ\nin the status line. Commands that change\nthe size or position of panes in a window automatically unzoom the window.\nWindow layouts\nThe panes in a window may be automatically arranged into one of several named\nlayouts, these may be rotated between with the\nC-b Space\nkey binding or\nchosen directly with\nC-b M-1\n,\nC-b M-2\nand so on.\nThe available layouts are:\nName\nKey\nDescription\neven-horizontal\nC-b M-1\nSpread out evenly across\neven-vertical\nC-b M-2\nSpread out evenly up and down\nmain-horizontal\nC-b M-3\nOne large pane at the top, the rest spread out evenly across\nmain-vertical\nC-b M-4\nOne large pane on the left, the rest spread out evenly up and down\ntiled\nC-b M-5\nTiled in the same number of rows as columns\nCopy and paste\ntmux has its own copy and paste system. A piece of copied text is called a\npaste buffer. Text is copied using copy mode, entered with\nC-b [\n, and the most\nrecently copied text is pasted into the active pane with\nC-b ]\n.\nPaste buffers can be given names but by default they are assigned a name by\ntmux, such as\nbuffer0\nor\nbuffer1\n. Buffers like this are called automatic\nbuffers and at most 50 are kept - once there are 50 buffers, the oldest is\nremoved when another is added. If a buffer is given a name, it is called a\nnamed buffer; named buffers are not deleted no matter how many there are.\nIt is possible to configure tmux to send any copied text to the system\nclipboard:\nthis document\nexplains the different ways to configure\nthis.\nCopy mode freezes any output in a pane and allows text to be copied. View mode\n(described earlier) is a read-only form of copy mode.\nLike the command prompt, copy mode uses keys similar to\nemacs(1)\n; however, if\nthe\nVISUAL\nor\nEDITOR\nenvironment variables are set to something containing\nvi\n, then\nvi(1)\n-style keys are used instead. The following keys are some of\nthose available in copy mode with\nemacs(1)\nkeys:\nKey\nAction\nUp\n,\nDown\n,\nLeft\n,\nRight\nMove the cursor\nC-Space\nStart a selection\nC-w\nCopy the selection and exit copy mode\nq\nExit copy mode\nC-g\nStop selecting without copying, or stop searching\nC-a\nMove the cursor to the start of the line\nC-e\nMove the cursor to the end of the line\nC-r\nSearch interactively backwards\nM-f\nMove the cursor to the next word\nM-b\nMove the cursor to the previous word\nA full list of keys for both\nvi(1)\nand\nemacs(1)\nis\navailable in the manual\npage\n.\nOnce some text is copied, the most recent may be pasted with\nC-b ]\nor an\nolder buffer pasted by using buffer mode, entered with\nC-b =\n. Buffer mode is\nsimilar to client mode and tree mode and offers a list of buffers together with\na preview of their contents. As well as the navigation and tagging keys used in\ntree mode and client mode, buffer mode supports the following keys:\nKey\nFunction\nEnter\nPaste selected buffer\np\nPaste selected buffer, same as\nEnter\nP\nPaste tagged buffers\nd\nDelete selected buffer\nD\nDelete tagged buffers\nA buffer may be renamed using the\nset-buffer\ncommand. The\n-b\nflag gives the\nexisting buffer name and\n-n\nthe new name. This converts it into a named\nbuffer. For example, to rename\nbuffer0\nto\nmybuffer\nfrom the command prompt:\n:setb -bbuffer0 -nmybuffer\nset-buffer\ncan also be used to create buffers. To create a buffer called\nfoo\nwith text\nbar\n:\n:setb -bfoo bar\nload-buffer\nwill load a buffer from a file:\n:loadb -bbuffername ~/a/file\nset-buffer\nor\nload-buffer\nwithout\n-b\ncreates an automatic buffer.\nAn existing buffer can be saved to a file with\nsave-buffer\n:\n:saveb -bbuffer0 ~/saved_buffer\nFinding windows and panes\nC-b f\nprompts for some text and then enters tree mode with a filter to show\nonly panes where that text appears in the visible content or title of the pane\nor in the window name. If panes are found, only those panes appear in the tree,\nand the text\nfilter: active\nis shown above the preview. If no panes are\nfound, all panes are shown in the tree and the text\nfilter: no matches\nappears above the preview.\nUsing the mouse\ntmux has rich support for the mouse. It can be used to change the active pane\nor window, to resize panes, to copy text, or to choose items from menus.\nSupport for the mouse is enabled with the\nmouse\noption; options and the\nconfiguration file are described in detail in the next section. To turn the\nmouse on from the command prompt, use the\nset-option\ncommand:\n:set -g mouse on\nOnce the mouse is enabled:\nPressing the left button on a pane will make that pane the active pane.\nPressing the left button on a window name on the status line will make that\nthe current window.\nDragging with the left button on a pane border resizes the pane.\nDragging with the left button inside a pane selects text; the selected text\nis copied when the mouse is released.\nPressing the right button on a pane opens a menu with various commands. When\nthe mouse button is released, the selected command is run with the pane as\ntarget. Each menu item also has a key shortcut shown in brackets.\nPressing the right button on a window or on the session name on the status\nline opens a similar menu for the window or session.\nConfiguring tmux\nThe configuration file\nWhen the tmux server is started, tmux runs a file called\n.tmux.conf\nin the\nuser's home directory. This file contains a list of tmux commands which are\nexecuted in order. It is important to note that\n.tmux.conf\nis\nonly\nrun when\nthe server is started, not when a new session is created.\nA different configuration file may be run from\n.tmux.conf\nor from a running\ntmux server using the\nsource-file\ncommand, for example to run\n.tmux.conf\nagain from a running server using the command prompt:\n:source ~/.tmux.conf\nCommands in a configuration file appear one per line. Any lines starting with\n#\nare comments and are ignored:\n# This is a comment - the command below turns the status line off\nset -g status off\nLines in the configuration file are processed similar to the shell, for example:\nArguments may be enclosed in\n'\nor\n\"\nto include spaces, or spaces may be\nescaped. These four lines do the same thing:\nset -g status-left \"hello word\"\nset -g status-left \"hello\\ word\"\nset -g status-left 'hello word'\nset -g status-left hello\\ word\nBut escaping doesn't happen inside\n'\ns. The string here is\nhello\\ world\nnot\nhello world\n:\nset -g status-left 'hello\\ word'\n~\nis expanded to the home directory (except inside\n'\ns):\nsource ~/myfile\nEnvironment variables can be set and are also expanded (but not inside\n'\ns):\nMYFILE=myfile\nsource \"~/$MYFILE\"\nAny variables set in the configuration file will be passed on to new panes\ncreated inside tmux.\nA few special characters like\n\\n\n(newline) and\n\\t\n(tab) are replaced. A\nliteral\n\\\nmust be given as\n\\\\\n.\nAlthough tmux configuration files have some features similar to the shell, they\nare not shell scripts and cannot use shell constructs like\n$()\n.\nKey bindings\ntmux key bindings are changed using the\nbind-key\nand\nunbind-key\ncommands.\nEach key binding in tmux belongs to a named key table. There are four default\nkey tables:\nThe\nroot\ntable contains key bindings for keys pressed without the prefix key.\nThe\nprefix\ntable contains key bindings for keys pressed after the prefix\nkey, like those mentioned so far in this document.\nThe\ncopy-mode\ntable contains key bindings for keys used in copy mode with\nemacs(1)\n-style keys.\nThe\ncopy-mode-vi\ntable contains key bindings for keys used in copy mode\nwith\nvi(1)\n-style keys.\nAll the key bindings or those for a single table can be listed with the\nlist-keys\ncommand. By default, this shows the keys as a series of\nbind-key\ncommands. The\n-T\nflag gives the key table to show and the\n-N\nflag shows the\nkey help, like the\nC-b ?\nkey binding.\nFor example to list only keys in the\nprefix\ntable:\n$ tmux lsk -Tprefix\nbind-key    -T prefix C-b     send-prefix\nbind-key    -T prefix C-o     rotate-window\n...\nOr:\n$ tmux lsk -Tprefix -N\nC-b     Send the prefix key\nC-o     Rotate through the panes\n...\nbind-key\ncommands can be used to set a key binding, either interactively or\nmost commonly from the configuration file. Like\nlist-keys\n,\nbind-key\nhas a\n-T\nflag for the key table to use. If\n-T\nis not given, the key is put in the\nprefix\ntable; the\n-n\nflag is a shorthand for\n-Troot\nto use the\nroot\ntable.\nFor example, the\nlist-keys\ncommand shows that\nC-b 9\nchanges to window 9\nusing the\nselect-window\ncommand:\n$ tmux lsk -Tprefix 9\nbind-key -T prefix 9 select-window -t :=9\nA similar key binding to make\nC-b M-0\nchange to window 10 can be added like this:\nbind M-0 selectw -t:=10\nThe\n-t\nflag to\nselect-window\nspecifies the target window. In this example,\nthe\n:\nmeans the target is a window and\n=\nmeans the name must match\n10\nexactly. Targets are documented further in the\nCOMMANDS section of the manual\npage\n.\nThe\nunbind-key\ncommand removes a key binding. Like\nbind-key\nit has\n-T\nand\n-n\nflags for the key table. It is not necessary to remove a key binding\nbefore binding it again,\nbind-key\nwill replace any existing key binding.\nunbind-key\nis necessary only to completely remove a key binding:\nunbind M-0\nCopy mode key bindings\nCopy mode key bindings are set in the\ncopy-mode\nand\ncopy-mode-vi\nkey\ntables. Copy mode has a separate set of commands which are passed using the\n-X\nflag to the\nsend-keys\ncommand, for example the copy mode\nstart-of-line\ncommand moves the cursor to the start of the line and is bound to\nC-a\nin the\ncopy-mode\nkey table:\n$ tmux lsk -Tcopy-mode C-a\nbind-key -T copy-mode C-a send-keys -X start-of-line\nA full list of copy mode commands is\navailable in the manual\npage\n. Here is a selection:\nCommand\nemacs(1)\nvi(1)\nDescription\nbegin-selection\nC-Space\nSpace\nStart selection\ncancel\nq\nq\nExit copy mode\nclear-selection\nC-g\nEscape\nClear selection\ncopy-pipe\nCopy and pipe to the command in the first argument\ncopy-selection-and-cancel\nM-w\nEnter\nCopy the selection and exit copy mode\ncursor-down\nDown\nj\nMove the cursor down\ncursor-left\nLeft\nh\nMove the cursot left\ncursor-right\nRight\nl\nMove the cursor right\ncursor-up\nUp\nk\nMove the cursor up\nend-of-line\nC-e\n$\nMove the cursor to the end of the line\nhistory-bottom\nM->\nG\nMove to the bottom of the history\nhistory-top\nM-<\ng\nMove to the top of the history\nmiddle-line\nM-r\nM\nMove to middle line\nnext-word-end\nM-f\ne\nMove to the end of the next word\npage-down\nPageDown\nC-f\nPage down\npage-up\nPageUp\nC-b\nPage up\nprevious-word\nM-b\nb\nMove to the previous word\nrectangle-toggle\nR\nv\nToggle rectangle selection\nsearch-again\nn\nn\nRepeat the last search\nsearch-backward\n?\nSearch backwards, the first argument is the search term\nsearch-backward-incremental\nC-r\nSearch backwards incrementally, usually used with the\n-i\nflag to\ncommand-prompt\nsearch-forward\n/\nSearch forwards, the first argument is the search term\nsearch-forward-incremental\nC-s\nSearch forwards incrementally\nsearch-reverse\nN\nN\nRepeat the last search but reverse the direction\nstart-of-line\nC-a\n0\nMove to the start of the line\nTypes of option\ntmux is configured by setting options. There are several types of options:\nServer options which affect the entire server.\nSession options which affect one or all sessions.\nWindow options which affect one or all windows.\nPane options which affect one or all panes.\nUser options which are not used by tmux but are reserved for the user.\nSession and window options have both a global set of options and a set for each\nsession or window. If the option is not present in the session or window set,\nthe global option is used. Pane options are similar except the window options\nare also checked.\nWhen configuring tmux, it is most common to set server options and global\nsession or window options. This document only covers these.\nShowing options\nOptions are displayed using the\nshow-options\ncommand. The\n-g\nflag shows\nglobal options. It can show server, session or window options:\n-s\nshows server options:\n$ tmux show -s\nbackspace C-?\nbuffer-limit 50\n...\n-g\nwith no other flags shows global session options:\n$ tmux show -g\nactivity-action other\nassume-paste-time 1\n...\n-g\nand\n-w\ntogether show global window options:\n$ tmux show -wg\naggressive-resize off\nallow-rename off\n...\nAn individual option value may be shown by giving its name to\nshow-option\n.\nWhen an option name is given, it is not necessary to give\n-s\nor\n-w\nbecause\ntmux can work it out from the option name. For example, to show the\nstatus\noption:\n$ tmux show -g status\nstatus on\nChanging options\nOptions are set or unset using the\nset-option\ncommand. Like\nshow-option\n, it\nis not necessary to give\n-s\nor\n-w\nbecause tmux can work out it out from the\noption name.\n-g\nis necessary to set global session or window options; for\nserver options it does nothing.\nTo set the\nstatus\noption:\nset -g status off\nOr the\ndefault-terminal\noption:\nset -s default-terminal 'tmux-256color'\nThe\n-u\nflag unsets an option. Unsetting a global option restores it to its\ndefault value, for example:\nset -gu status\nFormats\nMany options make use of formats. Formats provide a powerful syntax to\nconfigure how text appears, based on various attributes of the tmux server, a\nsession, window or pane. Formats are enclosed in\n#{}\nin string options or as\na single uppercase letter like\n#F\n. This is the default\nstatus-right\nwith\nseveral formats:\n$ tmux show -s status-right\nstatus-right \"#{?window_bigger,[#{window_offset_x}#,#{window_offset_y}] ,}\\\"#{=21:pane_title}\\\" %H:%M %d-%b-%y\"\nFormats are described\nin this\ndocument\nand\nin the manual\npage\n.\nEmbedded commands\nSome options may contain embedded shell commands. This is limited to the status\nline options such as\nstatus-left\n. Embedded shell commands are enclosed in\n#()\n. They can either:\nPrint a line and exit, in which case the line will be shown in the status\nline and the command run at intervals to update it. For example:\nset -g status-left '#(uptime)'\nThe maximum interval is set by the\nstatus-interval\noption but commands may\nalso be run sooner if tmux needs. Commands will not be run more than once a\nsecond.\nStay running and print a line whenever needed, for example:\nset -g status-left '#(while :; do uptime; sleep 1; done)'\nNote that is it not usually necessary to use an embedded command for the date\nand time since tmux will expand the date formats like\n%H\nand\n%S\nitself in\nthe status line options. If a command like\ndate(1)\nis used, any\n%\ns must be\ndoubled as\n%%\n.\nColours and styles\ntmux allows the colour and attribute of text to be configured with a simple\nsyntax, this is known as the style. There are two places styles appear:\nIn options, such as\nstatus-style\n.\nEnclosed in\n#[]\nin an option value, this is called an embedded style (see\nthe next section).\nA style has a number of terms separated by spaces or commas, the most\nuseful are:\ndefault\nuses the default colour; this must appear on its own. The default\ncolour is often set by another option, for example for embedded styles in the\nstatus-left\noption, it is\nstatus-style\n.\nbg\nsets the background colour. The colour is also given, for example\nbg=red\n.\nfg\nsets the foreground colour. Like\nbg\n, the colour is given:\nfg=green\n.\nbright\nor\nbold\n,\nunderscore\n,\nreverse\n,\nitalics\nset the attributes.\nThese appear alone, such as:\nbright,reverse\n.\nColours may be one of\nblack\n,\nred\n,\ngreen\n,\nyellow\n,\nblue\n,\nmagenta\n,\ncyan\n,\nwhite\nfor the standard terminal colours;\nbrightred\n,\nbrightyellow\nand so on for the bright variants;\ncolour0\nto\ncolour255\nfor the colours\nfrom the 256-colour palette;\ndefault\nfor the default colour; or a hexadecimal\nRGB colour such as\n#882244\n.\nThe remaining style terms are described\nin the manual\npage\n.\nFor example, to set the status line background to blue using the\nstatus-style\noption:\nset -g status-style 'bg=blue'\nEmbedded styles\nEmbedded styles are included inside another option in between\n#[\nand\n]\n.\nEach changes the style of following text until the next embedded style or the\nend of the text.\nFor example, to put some text in red and blue in\nstatus-left\n:\nset -g status-left 'default #[fg=red] red #[fg=blue] blue'\nBecause this is long it is also necessary to also increase the\nstatus-left-length\noption:\nset -g status-left-length 100\nOr embedded styles can be used conditionally, for example to show\nP\nin red if\nthe prefix has been pressed or in the default style if not:\nset -g status-left '#{?client_prefix,#[bg=red],}P#[default] [#{session_name}] '\nList of useful options\nThis is a short list of the most commonly used tmux options, apart from style\noptions:\nOption\nType\nDescription\nbase-index\nsession\nIf set, then windows indexes start from this instead of from 0\nbuffer-limit\nserver\nThe maximum number of automatic buffers to keep, the default is 50\ndefault-terminal\nserver\nThe default value of the\nTERM\nenvironment variable inside tmux\ndisplay-panes-time\nwindow\nThe time in milliseconds the pane numbers are shown for\nC-b q\ndisplay-time\nsession\nThe time in milliseconds for which messages on the status line are shown\nescape-time\nserver\nThe time tmux waits after receiving an\nEscape\nkey to see if it is part of a longer key sequence\nfocus-events\nserver\nWhether focus key sequences are sent by tmux when the active pane changes and when received from the outside terminal if it supports them\nhistory-limit\nsession\nThe maximum number of lines kept in the history for each pane\nmode-keys\nwindow\nWhether\nemacs(1)\nor\nvi(1)\nkey bindings are used in copy mode\nmouse\nsession\nIf the mouse is enabled\npane-border-status\nwindow\nWhether a status line appears in every pane border:\ntop\nor\nbottom\nprefix\nsession\nThe prefix key, the default is\nC-b\nremain-on-exit\nwindow\nWhether panes are automatically killed when the program running in the exits\nrenumber-windows\nsession\nIf\non\n, windows are automatically renumbered to close any gaps in the window list\nset-clipboard\nserver\nWhether tmux should attempt to set the external\nX(7)\nclipboard when text is copied and if the outside terminal supports it\nset-titles\nsession\nIf\non\n, tmux will set the title of the outside terminal\nstatus\nsession\nWhether the status line if visible\nstatus-keys\nsession\nWhether\nemacs(1)\nor\nvi(1)\nkey bindings are used at the command prompt\nstatus-interval\nsession\nThe maximum time in seconds before the status line is redrawn\nstatus-position\nsession\nThe position of the status line:\ntop\nor\nbottom\nsynchronize-panes\nwindow\nIf\non\n, typing in any pane in the window is sent to all panes in the window - care should be taken with this option!\nterminal-overrides\nserver\nAny capabilities tmux should override from the\nTERM\ngiven for the outside terminal\nList of style and format options\nThis is a list of the most commonly used tmux style and format options:\nOption\nType\nDescription\ndisplay-panes-active-colour\nsession\nThe style of the active pane number for\nC-b q\ndisplay-panes-colour\nsession\nThe style of the pane numbers, apart from the active pane for\nC-b q\nmessage-style\nsession\nThe style of messages shown on the status line and of the command prompt\nmode-style\nwindow\nThe style of the selection in copy mode\npane-active-border-style\nwindow\nThe style of the active pane border\npane-border-format\nwindow\nThe format of text that appears in the pane border status line if\npane-border-status\nis set\npane-border-style\nwindow\nThe style of the pane borders, apart from the active pane\nstatus-left-length\nsession\nThe maximum length of the status line left\nstatus-left-style\nsession\nThe style of the status line left\nstatus-left\nsession\nThe format of the text in the status line left\nstatus-right-length\nsession\nThe maximum length of the status line right\nstatus-right-style\nsession\nThe style of the status line right\nstatus-right\nsession\nThe format of the text in the status line right\nstatus-style\nsession\nThe style of the status line as a whole, parts may be overridden by more specific options like\nstatus-left-style\nwindow-active-style\nwindow\nThe style of the default colour in the active pane in the window\nwindow-status-current-format\nwindow\nThe format of the current window in the window list\nwindow-status-current-style\nwindow\nThe style of the current window in the window list\nwindow-status-format\nwindow\nThe format of windows in the window list, apart from the current window\nwindow-status-separator\nwindow\nThe separator between windows in the window list\nwindow-status-style\nwindow\nThe style of windows in the window list, apart from the current window\nwindow-style\nwindow\nThe style of the default colour of panes in the window, apart from the active pane\nCommon configuration changes\nThis section shows examples of some common configuration changes for\n.tmux.conf\n.\nChanging the prefix key\nThe prefix key is set by the\nprefix\noption. The\nC-b\nkey is also bound to\nthe\nsend-prefix\ncommand in the prefix key table so pressing\nC-b\ntwice sends\nit through to the active pane. To change to\nC-a\n:\nset -g prefix C-a\nunbind C-b\nbind C-a send-prefix\nCustomizing the status line\nThere are many options for customizing the status line. The simplest options are:\nTurn the status line off:\nset -g status off\nMove it to the top:\nset -g status-position top\nSet the background colour to red:\nset -g status-style bg=red\nChange the text on the right to the time only:\nset -g status-right '%H:%M'\nUnderline the current window:\nset -g window-status-current-style 'underscore'\nConfiguring the pane border\nThe pane border colours may be set:\nset -g pane-border-style fg=red\nset -g pane-active-border-style 'fg=red,bg=yellow'\nEach pane may be given a status line with the\npane-border-status\noption, for\nexample to show the pane title in bold:\nset -g pane-border-status top\nset -g pane-border-format '#[bold]#{pane_title}#[default]'\nvi(1)\nkey bindings\ntmux supports key bindings based on\nvi(1)\nfor copy mode and the command\nprompt. There are two options that set the key bindings:\nmode-keys\nsets the key bindings for copy mode. If this is set to\nvi\n,\nthen the\ncopy-mode-vi\nkey table is used in copy mode; otherwise the\ncopy-mode\nkey table is used.\nstatus-keys\nsets the key bindings for the command prompt.\nIf either of the\nVISUAL\nor\nEDITOR\nenvironment variables are set to\nsomething containing\nvi\n(such as\nvi\n,\nvim\n,\nnvi\n) when the tmux server is\nfirst started, both of these options are set to\nvi\n.\nTo set both to use\nvi(1)\nkeys:\nset -g mode-keys vi\nset -g status-keys vi\nMouse copying behaviour\nWhen dragging the mouse to copy text, tmux copies and exits copy mode when the\nmouse button is released. Alternative behaviours are configured by changing the\nMouseDragEnd1Pane\nkey binding. The three most useful are:\nDo not copy or clear the selection or exit copy mode when the mouse is\nreleased. The keyboard must be used to copy the selection:\nunbind -Tcopy-mode MouseDragEnd1Pane\nCopy and clear the selection but do not exit copy mode:\nbind -Tcopy-mode MouseDragEnd1Pane send -X copy-selection\nCopy but do not clear the selection:\nbind -Tcopy-mode MouseDragEnd1Pane send -X copy-selection-no-clear\nOther features\ntmux has a large set of features and commands not mentioned in this document,\nmany allowing powerful scripting. Here is a list of some that may be worth\nfurther reading:\nAlerts:\nmonitor-activity\n,\nmonitor-bell\n,\nmonitor-silence\n,\nactivity-action\n,\nbell-action\nand other options.\nOptions for individual session, windows and panes.\nMoving panes with\njoin-pane\nand\nbreak-pane\n.\nSending keys to panes with\nsend-keys\n.\nThe command prompt\nhistory-file\noption.\nSaved layout strings with\nselect-layout\n.\nCommand sequences (separated by\n;\n):\nselect-window; kill-window\n.\nConfiguration file syntax:\n{}\n,\n%if\nand so on.\nMouse key bindings:\nMouseDown1Pane\nand so on.\nLocking:\nlock-command\n,\nlock-after-time\nand other options.\nCapturing pane content with\ncapture-pane\nand piping with\npipe-pane\n.\nLinking windows: the\nlink-window\ncommand.\nSession groups: the\n-t\nflag to\nnew-session\n.\nRespawing window and panes with\nrespawn-window\nand\nrespawn-pane\n.\nCustom menus with the\ndisplay-menu\ncommand and custom prompts with\ncommand-prompt\nand\nconfirm-before\n.\nDifferent key tables:\nbind-key\nand the\n-T\nflag to\nswitch-client\n.\nEmpty panes: the\nsplit-window\nwith an empty command and\n-I\nto\ndisplay-message\n.\nHooks:\nset-hook\nand\nshow-hooks\n.\nSynchronization for scripts with\nwait-for\n.\nClone this wiki locally\nYou can’t perform that action at this time.", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://github.com/tmux/tmux/wiki/Getting-Started"}}
{"text": "Quickref - Neovim docs\nQuickref\nNvim\n:help\npages,\ngenerated\nfrom\nsource\nusing the\ntree-sitter-vimdoc\nparser.\nQuick reference guide\nContents\ntag\t  subject\t\t\t tag\t  subject\nQ_ct\nlist of help files\nQ_re\nRepeating commands\nQ_lr\nmotion: Left-right\nQ_km\nKey mapping\nQ_ud\nmotion: Up-down\nQ_ab\nAbbreviations\nQ_tm\nmotion: Text object\nQ_op\nOptions\nQ_pa\nmotion: Pattern searches\nQ_ur\nUndo/Redo commands\nQ_ma\nmotion: Marks\nQ_et\nExternal commands\nQ_vm\nmotion: Various\nQ_qf\nQuickfix commands\nQ_ta\nmotion: Using tags\nQ_vc\nVarious commands\nQ_sc\nScrolling\nQ_ce\nEx: Command-line editing\nQ_in\ninsert: Inserting text\nQ_ra\nEx: Ranges\nQ_ai\ninsert: Keys\nQ_ex\nEx: Special characters\nQ_ss\ninsert: Special keys\nQ_st\nStarting Vim\nQ_di\ninsert: Digraphs\nQ_ed\nEditing a file\nQ_si\ninsert: Special inserts\nQ_fl\nUsing the argument list\nQ_de\nchange: Deleting text\nQ_wq\nWriting and quitting\nQ_cm\nchange: Copying and moving\nQ_ac\nAutomatic commands\nQ_ch\nchange: Changing text\nQ_wi\nMulti-window commands\nQ_co\nchange: Complex\nQ_bu\nBuffer list commands\nQ_vi\nVisual mode\nQ_sy\nSyntax highlighting\nQ_to\nText objects\nQ_gu\nGUI commands\nQ_fo\nFolding\nQ_lr\nLeft-right motions\nN is used to indicate an optional count that can be given before the command.\nh\nN  h\t\tleft (also:\nCTRL-H\n,\n<BS>\n, or\n<Left>\nkey)\nl\nN  l\t\tright (also:\n<Space>\nor\n<Right>\nkey)\n0\n0\t\tto first character in the line (also:\n<Home>\nkey)\n^\n^\t\tto first non-blank character in the line\n$\nN  $\t\tto the next EOL (end of line) position\n(also:\n<End>\nkey)\ng0\ng0\t\tto first character in screen line (differs from \"0\"\nwhen lines wrap)\ng^\ng^\t\tto first non-blank character in screen line (differs\nfrom \"^\" when lines wrap)\ng$\nN  g$\t\tto last character in screen line (differs from \"$\"\nwhen lines wrap)\ngm\ngm\t\tto middle of the screen line\ngM\ngM\t\tto middle of the line\nbar\nN  |\t\tto column N (default: 1)\nf\nN  f{char}\tto the Nth occurrence of\n{char}\nto the right\nF\nN  F{char}\tto the Nth occurrence of\n{char}\nto the left\nt\nN  t{char}\ttill before the Nth occurrence of\n{char}\nto the right\nT\nN  T{char}\ttill before the Nth occurrence of\n{char}\nto the left\n;\nN  ;\t\trepeat the last \"f\", \"F\", \"t\", or \"T\" N times\n,\nN  ,\t\trepeat the last \"f\", \"F\", \"t\", or \"T\" N times in\nopposite direction\nQ_ud\nUp-down motions\nk\nN  k\t\tup N lines (also:\nCTRL-P\nand\n<Up>\n)\nj\nN  j\t\tdown N lines (also:\nCTRL-J\n,\nCTRL-N\n,\n<NL>\n, and\n<Down>\n)\n-\nN  -\t\tup N lines, on the first non-blank character\n+\nN  +\t\tdown N lines, on the first non-blank character (also:\nCTRL-M\nand\n<CR>\n)\n_\nN  _\t\tdown N-1 lines, on the first non-blank character\nG\nN  G\t\tgoto line N (default: last line), on the first\nnon-blank character\ngg\nN  gg\t\tgoto line N (default: first line), on the first\nnon-blank character\nN%\nN  %\t\tgoto line N percentage down in the file; N must be\ngiven, otherwise it is the\n%\ncommand\ngk\nN  gk\t\tup N screen lines (differs from \"k\" when line wraps)\ngj\nN  gj\t\tdown N screen lines (differs from \"j\" when line wraps)\nQ_tm\nText object motions\nw\nN  w\t\tN words forward\nW\nN  W\t\tN blank-separated\nWORD\ns forward\ne\nN  e\t\tforward to the end of the Nth word\nE\nN  E\t\tforward to the end of the Nth blank-separated\nWORD\nb\nN  b\t\tN words backward\nB\nN  B\t\tN blank-separated\nWORD\ns backward\nge\nN  ge\t\tbackward to the end of the Nth word\ngE\nN  gE\t\tbackward to the end of the Nth blank-separated\nWORD\n)\nN  )\t\tN sentences forward\n(\nN  (\t\tN sentences backward\n}\nN  }\t\tN paragraphs forward\n{\nN  {\t\tN paragraphs backward\n]]\nN  ]]\t\tN sections forward, at start of section\n[[\nN  [[\t\tN sections backward, at start of section\n][\nN  ][\t\tN sections forward, at end of section\n[]\nN  []\t\tN sections backward, at end of section\n[(\nN  [(\t\tN times back to unclosed '('\n[{\nN  [{\t\tN times back to unclosed '{'\n[m\nN  [m\t\tN times back to start of method (for Java)\n[M\nN  [M\t\tN times back to end of method (for Java)\n])\nN  ])\t\tN times forward to unclosed ')'\n]}\nN  ]}\t\tN times forward to unclosed '}'\n]m\nN  ]m\t\tN times forward to start of method (for Java)\n]M\nN  ]M\t\tN times forward to end of method (for Java)\n[#\nN  [#\t\tN times back to unclosed \"#if\" or \"#else\"\n]#\nN  ]#\t\tN times forward to unclosed \"#else\" or \"#endif\"\n[star\nN  [*\t\tN times back to start of comment \"/*\"\n]star\nN  ]*\t\tN times forward to end of comment \"*/\"\nQ_pa\nPattern searches\n/\nN  /{pattern}[/[offset]]<CR>\nsearch forward for the Nth occurrence of\n{pattern}\n?\nN  ?{pattern}[?[offset]]<CR>\nsearch backward for the Nth occurrence of\n{pattern}\n/<CR>\nN  /<CR>\trepeat last search, in the forward direction\n?<CR>\nN  ?<CR>\trepeat last search, in the backward direction\nn\nN  n\t\trepeat last search\nN\nN  N\t\trepeat last search, in opposite direction\nstar\nN  *\t\tsearch forward for the identifier under the cursor\n#\nN  #\t\tsearch backward for the identifier under the cursor\ngstar\nN  g*\t\tlike \"*\", but also find partial matches\ng#\nN  g#\t\tlike \"#\", but also find partial matches\ngd\ngd\t\tgoto local declaration of identifier under the cursor\ngD\ngD\t\tgoto global declaration of identifier under the cursor\npattern\nSpecial characters in search patterns\nmeaning\t\t      magic   nomagic\nmatches any single character\t.\t\\.\nmatches start of line\t^\t^\nmatches\n<EOL>\n$\t$\nmatches start of word\t\\<\t\\<\nmatches end of word\t\\>\t\\>\nmatches a single char from the range\t[a-z]\t\\[a-z]\nmatches a single char not in the range\t[^a-z]\t\\[^a-z]\nmatches an identifier char\t\\i\t\\i\nidem but excluding digits\t\\I\t\\I\nmatches a keyword character\t\\k\t\\k\nidem but excluding digits\t\\K\t\\K\nmatches a file name character\t\\f\t\\f\nidem but excluding digits\t\\F\t\\F\nmatches a printable character\t\\p\t\\p\nidem but excluding digits\t\\P\t\\P\nmatches a white space character\t\\s\t\\s\nmatches a non-white space character\t\\S\t\\S\nmatches\n<Esc>\n\\e\t\\e\nmatches\n<Tab>\n\\t\t\\t\nmatches\n<CR>\n\\r\t\\r\nmatches\n<BS>\n\\b\t\\b\nmatches 0 or more of the preceding atom\t*\t\\*\nmatches 1 or more of the preceding atom\t\\+\t\\+\nmatches 0 or 1 of the preceding atom\t\\=\t\\=\nmatches 2 to 5 of the preceding atom\t\\{2,5}  \\{2,5}\nseparates two alternatives\t\\|\t\\|\ngroup a pattern into an atom\t\\(\\)\t\\(\\)\nsearch-offset\nOffsets allowed after search command\n[num]\t[num] lines downwards, in column 1\n+[num]\t[num] lines downwards, in column 1\n-[num]\t[num] lines upwards, in column 1\ne[+num]\t[num] characters to the right of the end of the match\ne[-num]\t[num] characters to the left of the end of the match\ns[+num]\t[num] characters to the right of the start of the match\ns[-num]\t[num] characters to the left of the start of the match\nb[+num]\t[num] identical to s[+num] above (mnemonic: begin)\nb[-num]\t[num] identical to s[-num] above (mnemonic: begin)\n;{search-command}\texecute\n{search-command}\nnext\nQ_ma\nMarks and motions\nm\nm{a-zA-Z}\tmark current position with mark\n{a-zA-Z}\n`a\n{a-z}\tgo to mark {a-z} within current file\n`A\n{A-Z}\tgo to mark {A-Z} in any file\n`0\n{0-9}\tgo to the position where Vim was previously exited\n``\n``\t\tgo to the position before the last jump\n`quote\n\"\t\tgo to the position when last editing this file\n`[\n[\t\tgo to the start of the previously operated or put text\n`]\n]\t\tgo to the end of the previously operated or put text\n`<\n<\t\tgo to the start of the (previous) Visual area\n`>\n>\t\tgo to the end of the (previous) Visual area\n`.\n.\t\tgo to the position of the last change in this file\n'\n'{a-zA-Z0-9[]'\"<>.}\nsame as, but on the first non-blank in the line\n:marks\n:marks\tprint the active marks\nCTRL-O\nN\nCTRL-O\ngo to Nth older position in jump list\nCTRL-I\nN\nCTRL-I\ngo to Nth newer position in jump list\n:ju\n:ju[mps]\tprint the jump list\nQ_vm\nVarious motions\n%\n%\t\tfind the next brace, bracket, comment, or \"#if\"/\n\"#else\"/\"#endif\" in this line and go to its match\nH\nN  H\t\tgo to the Nth line in the window, on the first\nnon-blank\nM\nM\t\tgo to the middle line in the window, on the first\nnon-blank\nL\nN  L\t\tgo to the Nth line from the bottom, on the first\nnon-blank\ngo\nN  go\t\t\tgo to Nth byte in the buffer\n:go\n:[range]go[to] [off]\tgo to [off] byte in the buffer\nQ_ta\nUsing tags\n:ta\n:ta[g][!]\n{tag}\njump to tag\n{tag}\n:ta\n:[count]ta[g][!]\tjump to [count]'th newer tag in tag list\nCTRL-]\nCTRL-]\njump to the tag under cursor, unless changes\nhave been made\n:ts\n:ts[elect][!] [tag]\tlist matching tags and select one to jump to\n:tjump\n:tj[ump][!] [tag]\tjump to tag [tag] or select from list when\nthere are multiple matches\n:ltag\n:lt[ag][!] [tag]\tjump to tag [tag] and add matching tags to the\nlocation list\n:tags\n:tags\t\tprint tag list\nCTRL-T\nN\nCTRL-T\njump back from Nth older tag in tag list\n:po\n:[count]po[p][!]\tjump back from [count]'th older tag in tag list\n:tnext\n:[count]tn[ext][!]\tjump to [count]'th next matching tag\n:tp\n:[count]tp[revious][!] jump to [count]'th previous matching tag\n:tr\n:[count]tr[ewind][!]\tjump to [count]'th matching tag\n:tl\n:tl[ast][!]\t\tjump to last matching tag\n:ptag\n:pt[ag]\n{tag}\nopen a preview window to show tag\n{tag}\nCTRL-W_}\nCTRL-W\n}\t\tlike\nCTRL-]\nbut show tag in preview window\n:pts\n:pts[elect]\t\tlike \":tselect\" but show tag in preview window\n:ptjump\n:ptj[ump]\t\tlike \":tjump\" but show tag in preview window\n:pclose\n:pc[lose]\t\tclose tag preview window\nCTRL-W_z\nCTRL-W\nz\t\tclose tag preview window\nQ_sc\nScrolling\nCTRL-E\nN\nCTRL-E\nwindow N lines downwards (default: 1)\nCTRL-D\nN\nCTRL-D\nwindow N lines Downwards (default: 1/2 window)\nCTRL-F\nN\nCTRL-F\nwindow N pages Forwards (downwards)\nCTRL-Y\nN\nCTRL-Y\nwindow N lines upwards (default: 1)\nCTRL-U\nN\nCTRL-U\nwindow N lines Upwards (default: 1/2 window)\nCTRL-B\nN\nCTRL-B\nwindow N pages Backwards (upwards)\nz<CR>\nz<CR> or zt\tredraw, current line at top of window\nz.\nz.\t or zz\tredraw, current line at center of window\nz-\nz-\t or zb\tredraw, current line at bottom of window\nThese only work when\n'wrap'\nis off:\nzh\nN  zh\t\tscroll screen N characters to the right\nzl\nN  zl\t\tscroll screen N characters to the left\nzH\nN  zH\t\tscroll screen half a screenwidth to the right\nzL\nN  zL\t\tscroll screen half a screenwidth to the left\nQ_in\nInserting text\na\nN  a\tappend text after the cursor (N times)\nA\nN  A\tappend text at the end of the line (N times)\ni\nN  i\tinsert text before the cursor (N times) (also:\n<Insert>\n)\nI\nN  I\tinsert text before the first non-blank in the line (N times)\ngI\nN  gI\tinsert text in column 1 (N times)\no\nN  o\topen a new line below the current line, append text (N times)\nO\nN  O\topen a new line above the current line, append text (N times)\n:startinsert\n:star[tinsert][!]  start Insert mode, append when [!] used\n:startreplace\n:startr[eplace][!]  start Replace mode, at EOL when [!] used\nin Visual block mode:\nv_b_I\nI\tinsert the same text in front of all the selected lines\nv_b_A\nA\tappend the same text after all the selected lines\nQ_ai\nInsert mode keys\ninsert-index\nalphabetical index of Insert mode commands\nleaving Insert mode:\ni_<Esc>\n<Esc>\nend Insert mode, back to Normal mode\ni_CTRL-C\nCTRL-C\nlike\n<Esc>\n, but do not use an abbreviation\ni_CTRL-O\nCTRL-O\n{command}\nexecute\n{command}\nand return to Insert mode\nmoving around:\ni_<Up>\ncursor keys\t  move cursor left/right/up/down\ni_<S-Left>\nshift-left/right  one word left/right\ni_<S-Up>\nshift-up/down\t  one screenful backward/forward\ni_<End>\n<End>\ncursor after last character in the line\ni_<Home>\n<Home>\ncursor to first character in the line\nQ_ss\nSpecial keys in Insert mode\ni_CTRL-V\nCTRL-V\n{char}\n..\t  insert character literally, or enter decimal\nbyte value\ni_<NL>\n<NL>\nor\n<CR>\nor\nCTRL-M\nor\nCTRL-J\nbegin new line\ni_CTRL-E\nCTRL-E\ninsert the character from below the cursor\ni_CTRL-Y\nCTRL-Y\ninsert the character from above the cursor\ni_CTRL-A\nCTRL-A\ninsert previously inserted text\ni_CTRL-@\nCTRL-@\ninsert previously inserted text and stop\nInsert mode\ni_CTRL-R\nCTRL-R\n{register}\ninsert the contents of a register\ni_CTRL-N\nCTRL-N\ninsert next match of identifier before the\ncursor\ni_CTRL-P\nCTRL-P\ninsert previous match of identifier before\nthe cursor\ni_CTRL-X\nCTRL-X\n...\t  complete the word before the cursor in\nvarious ways\ni_<BS>\n<BS>\nor\nCTRL-H\ndelete the character before the cursor\ni_<Del>\n<Del>\ndelete the character under the cursor\ni_CTRL-W\nCTRL-W\ndelete word before the cursor\ni_CTRL-U\nCTRL-U\ndelete all entered characters in the current\nline\ni_CTRL-T\nCTRL-T\ninsert one shiftwidth of indent in front of\nthe current line\ni_CTRL-D\nCTRL-D\ndelete one shiftwidth of indent in front of\nthe current line\ni_0_CTRL-D\n0\nCTRL-D\ndelete all indent in the current line\ni_^_CTRL-D\n^\nCTRL-D\ndelete all indent in the current line,\nrestore indent in next line\nQ_di\nDigraphs\n:dig\n:dig[raphs]\t\tshow current list of digraphs\n:dig\n:dig[raphs]\n{char1}\n{char2}\n{number}\n...\nadd digraph(s) to the list\nIn Insert or Command-line mode:\ni_CTRL-K\nCTRL-K\n{char1}\n{char2}\nenter digraph\ni_digraph\n{char1}\n<BS>\n{char2}\nenter digraph if\n'digraph'\noption set\nQ_si\nSpecial inserts\n:r\n:r [file]\t   insert the contents of [file] below the cursor\n:r!\n:r!\n{command}\ninsert the standard output of\n{command}\nbelow the\ncursor\nQ_de\nDeleting text\nx\nN  x\t\tdelete N characters under and after the cursor\n<Del>\nN\n<Del>\ndelete N characters under and after the cursor\nX\nN  X\t\tdelete N characters before the cursor\nd\nN  d{motion}\tdelete the text that is moved over with\n{motion}\nv_d\n{visual}\nd\tdelete the highlighted text\ndd\nN  dd\t\tdelete N lines\nD\nN  D\t\tdelete to the end of the line (and N-1 more lines)\nJ\nN  J\t\tjoin N-1 lines (delete\n<EOL>\ns)\nv_J\n{visual}\nJ\tjoin the highlighted lines\ngJ\nN  gJ\t\tlike \"J\", but without inserting spaces\nv_gJ\n{visual}\ngJ\tlike \"{visual}J\", but without inserting spaces\n:d\n:[range]d [x]\tdelete [range] lines [into register x]\nQ_cm\nCopying and moving text\nquote\n\"{char}\tuse register\n{char}\nfor the next delete, yank, or put\n:reg\n:reg\t\tshow the contents of all registers\n:reg\n:reg\n{arg}\nshow the contents of registers mentioned in\n{arg}\ny\nN  y{motion}\tyank the text moved over with\n{motion}\ninto a register\nv_y\n{visual}\ny\tyank the highlighted text into a register\nyy\nN  yy\t\tyank N lines into a register\nY\nN  Y\t\tyank N lines into a register\nNote:\nMapped to \"y$\" by default.\ndefault-mappings\np\nN  p\t\tput a register after the cursor position (N times)\nP\nN  P\t\tput a register before the cursor position (N times)\n]p\nN  ]p\t\tlike p, but adjust indent to current line\n[p\nN  [p\t\tlike P, but adjust indent to current line\ngp\nN  gp\t\tlike p, but leave cursor after the new text\ngP\nN  gP\t\tlike P, but leave cursor after the new text\nQ_ch\nChanging text\nr\nN  r{char}\treplace N characters with\n{char}\ngr\nN  gr{char}\treplace N characters without affecting layout\nR\nN  R\t\tenter Replace mode (repeat the entered text N times)\ngR\nN  gR\t\tenter virtual Replace mode: Like Replace mode but\nwithout affecting layout\nv_b_r\n{visual}\nr{char}\nin Visual block mode: Replace each char of the\nselected text with\n{char}\n(change = delete text and enter Insert mode)\nc\nN  c{motion}\tchange the text that is moved over with\n{motion}\nv_c\n{visual}\nc\tchange the highlighted text\ncc\nN  cc\t\tchange N lines\nS\nN  S\t\tchange N lines\nC\nN  C\t\tchange to the end of the line (and N-1 more lines)\ns\nN  s\t\tchange N characters\nv_b_c\n{visual}\nc\tin Visual block mode: Change each of the selected\nlines with the entered text\nv_b_C\n{visual}\nC\tin Visual block mode: Change each of the selected\nlines until end-of-line with the entered text\n~\nN  ~\t\tswitch case for N characters and advance cursor\nv_~\n{visual}\n~\tswitch case for highlighted text\nv_u\n{visual}\nu\tmake highlighted text lowercase\nv_U\n{visual}\nU\tmake highlighted text uppercase\ng~\ng~{motion} switch case for the text that is moved over with\n{motion}\ngu\ngu{motion} make the text that is moved over with\n{motion}\nlowercase\ngU\ngU{motion} make the text that is moved over with\n{motion}\nuppercase\nv_g?\n{visual}\ng? perform rot13 encoding on highlighted text\ng?\ng?{motion} perform rot13 encoding on the text that is moved over\nwith\n{motion}\nCTRL-A\nN\nCTRL-A\nadd N to the number at or after the cursor\nCTRL-X\nN\nCTRL-X\nsubtract N from the number at or after the cursor\n<\nN  <{motion}\tmove the lines that are moved over with\n{motion}\none\nshiftwidth left\n<<\nN  <<\t\tmove N lines one shiftwidth left\n>\nN  >\n{motion}\nmove the lines that are moved over with\n{motion}\none\nshiftwidth right\n>>\nN  >>\t\tmove N lines one shiftwidth right\ngq\nN  gq{motion}\tformat the lines that are moved over with\n{motion}\nto\n'textwidth'\nlength\n:ce\n:[range]ce[nter] [width]\ncenter the lines in [range]\n:le\n:[range]le[ft] [indent]\nleft-align the lines in [range] (with [indent])\n:ri\n:[range]ri[ght] [width]\nright-align the lines in [range]\nQ_co\nComplex changes\n!\nN  !{motion}{command}<CR>\nfilter the lines that are moved over through\n{command}\n!!\nN  !!{command}<CR>\nfilter N lines through\n{command}\nv_!\n{visual}\n!{command}<CR>\nfilter the highlighted lines through\n{command}\n:range!\n:[range]!\n{command}\n<CR>\nfilter [range] lines through\n{command}\n=\nN  ={motion}\nfilter the lines that are moved over through\n'equalprg'\n==\nN  ==\tfilter N lines through\n'equalprg'\nv_=\n{visual}\n=\nfilter the highlighted lines through\n'equalprg'\n:s\n:[range]s[ubstitute]/{pattern}/{string}/[g][c]\nsubstitute\n{pattern}\nby\n{string}\nin [range] lines;\nwith [g], replace all occurrences of\n{pattern}\n;\nwith [c], confirm each replacement\n:s\n:[range]s[ubstitute] [g][c]\nrepeat previous \":s\" with new range and options\n&\n&\t\tRepeat previous \":s\" on current line without options\n:ret\n:[range]ret[ab][!] [tabstop]\nset\n'tabstop'\nto new value and adjust white space\naccordingly\nQ_vi\nVisual mode\nvisual-index\nlist of Visual mode commands.\nv\nv\t\tstart highlighting characters  }  move cursor and use\nV\nV\t\tstart highlighting linewise    }  operator to affect\nCTRL-V\nCTRL-V\nstart highlighting blockwise   }  highlighted text\nv_o\no\t\texchange cursor position with start of highlighting\ngv\ngv\t\tstart highlighting on previous visual area\nv_v\nv\t\thighlight characters or stop highlighting\nv_V\nV\t\thighlight linewise or stop highlighting\nv_CTRL-V\nCTRL-V\nhighlight blockwise or stop highlighting\nQ_to\nText objects (only in Visual mode or after an operator)\nv_aw\nN  aw\tSelect \"a word\"\nv_iw\nN  iw\tSelect \"inner word\"\nv_aW\nN  aW\tSelect \"a\nWORD\n\"\nv_iW\nN  iW\tSelect \"inner\nWORD\n\"\nv_as\nN  as\tSelect \"a sentence\"\nv_is\nN  is\tSelect \"inner sentence\"\nv_ap\nN  ap\tSelect \"a paragraph\"\nv_ip\nN  ip\tSelect \"inner paragraph\"\nv_ab\nN  ab\tSelect \"a block\" (from \"[(\" to \"])\")\nv_ib\nN  ib\tSelect \"inner block\" (from \"[(\" to \"])\")\nv_aB\nN  aB\tSelect \"a Block\" (from\n[{\nto\n]}\n)\nv_iB\nN  iB\tSelect \"inner Block\" (from\n[{\nto\n]}\n)\nv_a>\nN  a>\tSelect \"a <> block\"\nv_i>\nN  i>\tSelect \"inner <> block\"\nv_at\nN  at\tSelect \"a tag block\" (from\n<aaa>\nto </aaa>)\nv_it\nN  it\tSelect \"inner tag block\" (from\n<aaa>\nto </aaa>)\nv_a'\nN  a'\tSelect \"a single quoted string\"\nv_i'\nN  i'\tSelect \"inner single quoted string\"\nv_aquote\nN  a\"\tSelect \"a double quoted string\"\nv_iquote\nN  i\"\tSelect \"inner double quoted string\"\nv_a`\nN  a`\tSelect \"a backward quoted string\"\nv_i`\nN  i`\tSelect \"inner backward quoted string\"\nQ_re\nRepeating commands\n.\nN  .\t\trepeat last change (with count replaced with N)\nq\nq{a-z}\trecord typed characters into register\n{a-z}\nq\nq{A-Z}\trecord typed characters, appended to register\n{a-z}\nq\nq\t\tstop recording\nQ\nQ\t\treplay last recorded macro\n@\nN  @{a-z}\texecute the contents of register\n{a-z}\n(N times)\n@@\nN  @@\t   repeat previous @{a-z} (N times)\n:@\n:@{a-z}\texecute the contents of register\n{a-z}\nas an Ex\ncommand\n:@@\n:@@\t\trepeat previous :@{a-z}\n:g\n:[range]g[lobal]/{pattern}/[cmd]\nexecute Ex command [cmd] (default: \":p\") on the lines\nwithin [range] where\n{pattern}\nmatches\n:g\n:[range]g[lobal]!/{pattern}/[cmd]\nexecute Ex command [cmd] (default: \":p\") on the lines\nwithin [range] where\n{pattern}\ndoes NOT match\n:so\n:so[urce]\n{file}\nread Ex commands from\n{file}\n:so\n:so[urce]!\n{file}\nread Vim commands from\n{file}\n:sl\n:sl[eep] [sec]\ndon't do anything for [sec] seconds\ngs\nN  gs\tgoto Sleep for N seconds\nQ_km\nKey mapping\n:map\n:ma[p]\n{lhs}\n{rhs}\nmap\n{lhs}\nto\n{rhs}\nin Normal and Visual mode\n:map!\n:ma[p]!\n{lhs}\n{rhs}\nmap\n{lhs}\nto\n{rhs}\nin Insert and Command-line\nmode\n:noremap\n:no[remap][!]\n{lhs}\n{rhs}\nsame as \":map\", no remapping for this\n{rhs}\n:unmap\n:unm[ap]\n{lhs}\nremove the mapping of\n{lhs}\nfor Normal and\nVisual mode\n:unmap!\n:unm[ap]!\n{lhs}\nremove the mapping of\n{lhs}\nfor Insert and\nCommand-line mode\n:map_l\n:ma[p] [lhs]\t  list mappings (starting with [lhs]) for\nNormal and Visual mode\n:map_l!\n:ma[p]! [lhs]\t  list mappings (starting with [lhs]) for\nInsert and Command-line mode\n:cmap\n:cmap/:cunmap/:cnoremap\nlike \":map!\"/\":unmap!\"/\":noremap!\" but for\nCommand-line mode only\n:imap\n:imap/:iunmap/:inoremap\nlike \":map!\"/\":unmap!\"/\":noremap!\" but for\nInsert mode only\n:nmap\n:nmap/:nunmap/:nnoremap\nlike \":map\"/\":unmap\"/\":noremap\" but for\nNormal mode only\n:vmap\n:vmap/:vunmap/:vnoremap\nlike \":map\"/\":unmap\"/\":noremap\" but for\nVisual mode only\n:omap\n:omap/:ounmap/:onoremap\nlike \":map\"/\":unmap\"/\":noremap\" but only for\nwhen an operator is pending\n:mapc\n:mapc[lear]\t  remove mappings for Normal and Visual mode\n:mapc\n:mapc[lear]!\t  remove mappings for Insert and Cmdline mode\n:imapc\n:imapc[lear]\t  remove mappings for Insert mode\n:vmapc\n:vmapc[lear]\t  remove mappings for Visual mode\n:omapc\n:omapc[lear]\t  remove mappings for Operator-pending mode\n:nmapc\n:nmapc[lear]\t  remove mappings for Normal mode\n:cmapc\n:cmapc[lear]\t  remove mappings for Cmdline mode\n:mkexrc\n:mk[exrc][!] [file]  write current mappings, abbreviations, and\nsettings to [file] (default: \".exrc\";\nuse ! to overwrite)\n:mkvimrc\n:mkv[imrc][!] [file]\nsame as :mkexrc, but with default \".nvimrc\"\n:mksession\n:mks[ession][!] [file]\nlike \":mkvimrc\", but store current files,\nwindows, etc. too, to be able to continue\nthis session later\nQ_ab\nAbbreviations\n:abbreviate\n:ab[breviate]\n{lhs}\n{rhs}\nadd abbreviation for\n{lhs}\nto\n{rhs}\n:abbreviate\n:ab[breviate]\n{lhs}\nshow abbr's that start with\n{lhs}\n:abbreviate\n:ab[breviate]\t\t   show all abbreviations\n:unabbreviate\n:una[bbreviate]\n{lhs}\nremove abbreviation for\n{lhs}\n:noreabbrev\n:norea[bbrev] [lhs] [rhs]  like \":ab\", but don't remap [rhs]\n:iabbrev\n:iab/:iunab/:inoreab\t   like \":ab\", but only for Insert mode\n:cabbrev\n:cab/:cunab/:cnoreab\t   like \":ab\", but only for\nCommand-line mode\n:abclear\n:abc[lear]\t\t   remove all abbreviations\n:cabclear\n:cabc[lear]\t\t   remove all abbr's for Cmdline mode\n:iabclear\n:iabc[lear]\t\t   remove all abbr's for Insert mode\nQ_op\nOptions\n:set\n:se[t]\t\t\t  show all modified options\n:set\n:se[t] all\t\t  show all options\n:set\n:se[t]\n{option}\nset boolean option (switch it on),\nshow string or number option\n:set\n:se[t] no{option}\t  reset boolean option (switch it off)\n:set\n:se[t] inv{option}\t  invert boolean option\n:set\n:se[t]\n{option}\n={value}\t  set string/number option to\n{value}\n:set\n:se[t]\n{option}\n+={value}  append\n{value}\nto string option, add\n{value}\nto number option\n:set\n:se[t]\n{option}\n-={value}  remove\n{value}\nto string option,\nsubtract\n{value}\nfrom number option\n:set\n:se[t]\n{option}?\nshow value of\n{option}\n:set\n:se[t]\n{option}\n&\t  reset\n{option}\nto its default value\n:setlocal\n:setl[ocal]\t\t  like \":set\" but set the local value\nfor options that have one\n:setglobal\n:setg[lobal]\t\t  like \":set\" but set the global value\nof a local option\n:options\n:opt[ions]\t\t  open a new window to view and set\noptions, grouped by functionality,\na one line explanation and links to\nthe help\nShort explanation of each option:\noption-list\n'allowrevins'\n'ari'\nallow\nCTRL-_\nin Insert mode\n'ambiwidth'\n'ambw'\nwhat to do with Unicode chars of ambiguous width\n'arabic'\n'arab'\nfor Arabic as a default second language\n'arabicshape'\n'arshape'\ndo shaping for Arabic characters\n'autochdir'\n'acd'\nchange directory to the file in the current window\n'autocomplete'\n'ac'\nenable automatic completion in insert mode\n'autocompletedelay'\n'acl'\ndelay in msec before menu appears after typing\n'autocompletetimeout'\n'act'\ninitial decay timeout for autocompletion algorithm\n'autoindent'\n'ai'\ntake indent for new line from previous line\n'autoread'\n'ar'\nautom. read file when changed outside of Vim\n'autowrite'\n'aw'\nautomatically write file if changed\n'autowriteall'\n'awa'\nas\n'autowrite'\n, but works with more commands\n'background'\n'bg'\n\"dark\" or \"light\", used for highlight colors\n'backspace'\n'bs'\nhow backspace works at start of line\n'backup'\n'bk'\nkeep backup file after overwriting a file\n'backupcopy'\n'bkc'\nmake backup as a copy, don't rename the file\n'backupdir'\n'bdir'\nlist of directories for the backup file\n'backupext'\n'bex'\nextension used for the backup file\n'backupskip'\n'bsk'\nno backup for files that match these patterns\n'belloff'\n'bo'\ndo not ring the bell for these reasons\n'binary'\n'bin'\nread/write/edit file in binary mode\n'bomb'\nprepend a Byte Order Mark to the file\n'breakat'\n'brk'\ncharacters that may cause a line break\n'breakindent'\n'bri'\nwrapped line repeats indent\n'breakindentopt'\n'briopt'\nsettings for\n'breakindent'\n'browsedir'\n'bsdir'\nwhich directory to start browsing in\n'bufhidden'\n'bh'\nwhat to do when buffer is no longer in window\n'buflisted'\n'bl'\nwhether the buffer shows up in the buffer list\n'buftype'\n'bt'\nspecial type of buffer\n'casemap'\n'cmp'\nspecifies how case of letters is changed\n'cdhome'\n'cdh'\nchange directory to the home directory by \":cd\"\n'cdpath'\n'cd'\nlist of directories searched with \":cd\"\n'cedit'\nkey used to open the command-line window\n'charconvert'\n'ccv'\nexpression for character encoding conversion\n'chistory'\n'chi'\nmaximum number of quickfix lists in history\n'cindent'\n'cin'\ndo C program indenting\n'cinkeys'\n'cink'\nkeys that trigger indent when\n'cindent'\nis set\n'cinoptions'\n'cino'\nhow to do indenting when\n'cindent'\nis set\n'cinscopedecls'\n'cinsd'\nwords that are recognized by 'cino-g'\n'cinwords'\n'cinw'\nwords where\n'si'\nand\n'cin'\nadd an indent\n'clipboard'\n'cb'\nuse the clipboard as the unnamed register\n'cmdheight'\n'ch'\nnumber of lines to use for the command-line\n'cmdwinheight'\n'cwh'\nheight of the command-line window\n'colorcolumn'\n'cc'\ncolumns to highlight\n'columns'\n'co'\nnumber of columns in the display\n'comments'\n'com'\npatterns that can start a comment line\n'commentstring'\n'cms'\ntemplate for comments; used for fold marker\n'complete'\n'cpt'\nspecify how Insert mode completion works\n'completefunc'\n'cfu'\nfunction to be used for Insert mode completion\n'completeopt'\n'cot'\noptions for Insert mode completion\n'completeslash'\n'csl'\nlike\n'shellslash'\nfor completion\n'completetimeout'\n'cto'\ninitial decay timeout for\nCTRL-N\nand\nCTRL-P\n'concealcursor'\n'cocu'\nwhether concealable text is hidden in cursor line\n'conceallevel'\n'cole'\nwhether concealable text is shown or hidden\n'confirm'\n'cf'\nask what to do about unsaved/read-only files\n'copyindent'\n'ci'\nmake\n'autoindent'\nuse existing indent structure\n'cpoptions'\n'cpo'\nflags for Vi-compatible behavior\n'cursorbind'\n'crb'\nmove cursor in window as it moves in other windows\n'cursorcolumn'\n'cuc'\nhighlight the screen column of the cursor\n'cursorline'\n'cul'\nhighlight the screen line of the cursor\n'cursorlineopt'\n'culopt'\nsettings for\n'cursorline'\n'debug'\nset to \"msg\" to see all error messages\n'define'\n'def'\npattern to be used to find a macro definition\n'delcombine'\n'deco'\ndelete combining characters on their own\n'dictionary'\n'dict'\nlist of file names used for keyword completion\n'diff'\nuse diff mode for the current window\n'diffanchors'\n'dia'\nlist of\n{address}\nto force anchoring of a diff\n'diffexpr'\n'dex'\nexpression used to obtain a diff file\n'diffopt'\n'dip'\noptions for using diff mode\n'digraph'\n'dg'\nenable the entering of digraphs in Insert mode\n'directory'\n'dir'\nlist of directory names for the swap file\n'display'\n'dy'\nlist of flags for how to display text\n'eadirection'\n'ead'\nin which direction\n'equalalways'\nworks\n'encoding'\n'enc'\nencoding used internally\n'endoffile'\n'eof'\nwrite\nCTRL-Z\nat end of the file\n'endofline'\n'eol'\nwrite\n<EOL>\nfor last line in file\n'equalalways'\n'ea'\nwindows are automatically made the same size\n'equalprg'\n'ep'\nexternal program to use for \"=\" command\n'errorbells'\n'eb'\nring the bell for error messages\n'errorfile'\n'ef'\nname of the errorfile for the QuickFix mode\n'errorformat'\n'efm'\ndescription of the lines in the error file\n'eventignore'\n'ei'\nautocommand events that are ignored\n'eventignorewin'\n'eiw'\nautocommand events that are ignored in a window\n'expandtab'\n'et'\nuse spaces when\n<Tab>\nis inserted\n'exrc'\n'ex'\nread init files in the current directory\n'fileencoding'\n'fenc'\nfile encoding for multibyte text\n'fileencodings'\n'fencs'\nautomatically detected character encodings\n'fileformat'\n'ff'\nfile format used for file I/O\n'fileformats'\n'ffs'\nautomatically detected values for\n'fileformat'\n'fileignorecase'\n'fic'\nignore case when using file names\n'filetype'\n'ft'\ntype of file, used for autocommands\n'fillchars'\n'fcs'\ncharacters to use for displaying special items\n'findfunc'\n'ffu'\nfunction to be called for the\n:find\ncommand\n'fixendofline'\n'fixeol'\nmake sure last line in file has\n<EOL>\n'foldclose'\n'fcl'\nclose a fold when the cursor leaves it\n'foldcolumn'\n'fdc'\nwidth of the column used to indicate folds\n'foldenable'\n'fen'\nset to display all folds open\n'foldexpr'\n'fde'\nexpression used when\n'foldmethod'\nis \"expr\"\n'foldignore'\n'fdi'\nignore lines when\n'foldmethod'\nis \"indent\"\n'foldlevel'\n'fdl'\nclose folds with a level higher than this\n'foldlevelstart'\n'fdls'\n'foldlevel'\nwhen starting to edit a file\n'foldmarker'\n'fmr'\nmarkers used when\n'foldmethod'\nis \"marker\"\n'foldmethod'\n'fdm'\nfolding type\n'foldminlines'\n'fml'\nminimum number of lines for a fold to be closed\n'foldnestmax'\n'fdn'\nmaximum fold depth\n'foldopen'\n'fdo'\nfor which commands a fold will be opened\n'foldtext'\n'fdt'\nexpression used to display for a closed fold\n'formatexpr'\n'fex'\nexpression used with \"gq\" command\n'formatlistpat'\n'flp'\npattern used to recognize a list header\n'formatoptions'\n'fo'\nhow automatic formatting is to be done\n'formatprg'\n'fp'\nname of external program used with \"gq\" command\n'fsync'\n'fs'\nwhether to invoke fsync() after file write\n'gdefault'\n'gd'\nthe \":substitute\" flag 'g' is default on\n'grepformat'\n'gfm'\nformat of\n'grepprg'\noutput\n'grepprg'\n'gp'\nprogram to use for \":grep\"\n'guicursor'\n'gcr'\nGUI: settings for cursor shape and blinking\n'guifont'\n'gfn'\nGUI: Name(s) of font(s) to be used\n'guifontwide'\n'gfw'\nlist of font names for double-wide characters\n'guioptions'\n'go'\nGUI: Which components and options are used\n'guitablabel'\n'gtl'\nGUI: custom label for a tab page\n'guitabtooltip'\n'gtt'\nGUI: custom tooltip for a tab page\n'helpfile'\n'hf'\nfull path name of the main help file\n'helpheight'\n'hh'\nminimum height of a new help window\n'helplang'\n'hlg'\npreferred help languages\n'hidden'\n'hid'\ndon't unload buffer when it is\nabandon\ned\n'history'\n'hi'\nnumber of command-lines that are remembered\n'hlsearch'\n'hls'\nhighlight matches with last search pattern\n'icon'\nlet Vim set the text of the window icon\n'iconstring'\nstring to use for the Vim icon text\n'ignorecase'\n'ic'\nignore case in search patterns\n'imcmdline'\n'imc'\nuse IM when starting to edit a command line\n'imdisable'\n'imd'\ndo not use the IM in any mode\n'iminsert'\n'imi'\nuse :lmap or IM in Insert mode\n'imsearch'\n'ims'\nuse :lmap or IM when typing a search pattern\n'include'\n'inc'\npattern to be used to find an include file\n'includeexpr'\n'inex'\nexpression used to process an include line\n'incsearch'\n'is'\nhighlight match while typing search pattern\n'indentexpr'\n'inde'\nexpression used to obtain the indent of a line\n'indentkeys'\n'indk'\nkeys that trigger indenting with\n'indentexpr'\n'infercase'\n'inf'\nadjust case of match for keyword completion\n'isfname'\n'isf'\ncharacters included in file names and pathnames\n'isident'\n'isi'\ncharacters included in identifiers\n'iskeyword'\n'isk'\ncharacters included in keywords\n'isprint'\n'isp'\nprintable characters\n'joinspaces'\n'js'\ntwo spaces after a period with a join command\n'jumpoptions'\n'jop'\nspecifies how jumping is done\n'keymap'\n'kmp'\nname of a keyboard mapping\n'keymodel'\n'km'\nenable starting/stopping selection with keys\n'keywordprg'\n'kp'\nprogram to use for the \"K\" command\n'langmap'\n'lmap'\nalphabetic characters for other language mode\n'langmenu'\n'lm'\nlanguage to be used for the menus\n'langremap'\n'lrm'\ndo apply\n'langmap'\nto mapped characters\n'laststatus'\n'ls'\ntells when last window has status lines\n'lazyredraw'\n'lz'\ndon't redraw while executing macros\n'lhistory'\n'lhi'\nmaximum number of location lists in history\n'linebreak'\n'lbr'\nwrap long lines at a blank\n'lines'\nnumber of lines in the display\n'linespace'\n'lsp'\nnumber of pixel lines to use between characters\n'lisp'\nautomatic indenting for Lisp\n'lispoptions'\n'lop'\nchanges how Lisp indenting is done\n'lispwords'\n'lw'\nwords that change how lisp indenting works\n'list'\nshow\n<Tab>\nand\n<EOL>\n'listchars'\n'lcs'\ncharacters for displaying in list mode\n'loadplugins'\n'lpl'\nload plugin scripts when starting up\n'magic'\nchanges special characters in search patterns\n'makeef'\n'mef'\nname of the errorfile for \":make\"\n'makeencoding'\n'menc'\nencoding of external make/grep commands\n'makeprg'\n'mp'\nprogram to use for the \":make\" command\n'matchpairs'\n'mps'\npairs of characters that \"%\" can match\n'matchtime'\n'mat'\ntenths of a second to show matching paren\n'maxcombine'\n'mco'\nmaximum nr of combining characters displayed\n'maxfuncdepth'\n'mfd'\nmaximum recursive depth for user functions\n'maxmapdepth'\n'mmd'\nmaximum recursive depth for mapping\n'maxmempattern'\n'mmp'\nmaximum memory (in Kbyte) used for pattern search\n'menuitems'\n'mis'\nmaximum number of items in a menu\n'mkspellmem'\n'msm'\nmemory used before\n:mkspell\ncompresses the tree\n'modeline'\n'ml'\nrecognize modelines at start or end of file\n'modelineexpr'\n'mle'\nallow setting expression options from a modeline\n'modelines'\n'mls'\nnumber of lines checked for modelines\n'modifiable'\n'ma'\nchanges to the text are not possible\n'modified'\n'mod'\nbuffer has been modified\n'more'\npause listings when the whole screen is filled\n'mouse'\nenable the use of mouse clicks\n'mousefocus'\n'mousef'\nkeyboard focus follows the mouse\n'mousehide'\n'mh'\nhide mouse pointer while typing\n'mousemodel'\n'mousem'\nchanges meaning of mouse buttons\n'mousemoveevent'\n'mousemev'\nreport mouse moves with\n<MouseMove>\n'mousescroll'\namount to scroll by when scrolling with a mouse\n'mouseshape'\n'mouses'\nshape of the mouse pointer in different modes\n'mousetime'\n'mouset'\nmax time between mouse double-click\n'nrformats'\n'nf'\nnumber formats recognized for\nCTRL-A\ncommand\n'number'\n'nu'\nprint the line number in front of each line\n'numberwidth'\n'nuw'\nnumber of columns used for the line number\n'omnifunc'\n'ofu'\nfunction for filetype-specific completion\n'opendevice'\n'odev'\nallow reading/writing devices on MS-Windows\n'operatorfunc'\n'opfunc'\nfunction to be called for\ng@\noperator\n'packpath'\n'pp'\nlist of directories used for packages\n'paragraphs'\n'para'\nnroff macros that separate paragraphs\n'patchexpr'\n'pex'\nexpression used to patch a file\n'patchmode'\n'pm'\nkeep the oldest version of a file\n'path'\n'pa'\nlist of directories searched with \"gf\" et.al.\n'preserveindent'\n'pi'\npreserve the indent structure when reindenting\n'previewheight'\n'pvh'\nheight of the preview window\n'previewwindow'\n'pvw'\nidentifies the preview window\n'pumheight'\n'ph'\nmaximum number of items to show in the popup menu\n'pumwidth'\n'pw'\nminimum width of the popup menu\n'pyxversion'\n'pyx'\nPython version used for pyx* commands\n'quoteescape'\n'qe'\nescape characters used in a string\n'readonly'\n'ro'\ndisallow writing the buffer\n'redrawtime'\n'rdt'\ntimeout for\n'hlsearch'\nand\n:match\nhighlighting\n'regexpengine'\n're'\ndefault regexp engine to use\n'relativenumber'\n'rnu'\nshow relative line number in front of each line\n'report'\nthreshold for reporting nr. of lines changed\n'revins'\n'ri'\ninserting characters will work backwards\n'rightleft'\n'rl'\nwindow is right-to-left oriented\n'rightleftcmd'\n'rlc'\ncommands for which editing works right-to-left\n'ruler'\n'ru'\nshow cursor line and column in the status line\n'rulerformat'\n'ruf'\ncustom format for the ruler\n'runtimepath'\n'rtp'\nlist of directories used for runtime files\n'scroll'\n'scr'\nlines to scroll with\nCTRL-U\nand\nCTRL-D\n'scrollbind'\n'scb'\nscroll in window as other windows scroll\n'scrolljump'\n'sj'\nminimum number of lines to scroll\n'scrolloff'\n'so'\nminimum nr. of lines above and below cursor\n'scrollopt'\n'sbo'\nhow\n'scrollbind'\nshould behave\n'sections'\n'sect'\nnroff macros that separate sections\n'secure'\nsecure mode for reading .vimrc in current dir\n'selection'\n'sel'\nwhat type of selection to use\n'selectmode'\n'slm'\nwhen to use Select mode instead of Visual mode\n'sessionoptions'\n'ssop'\noptions for\n:mksession\n'shada'\n'sd'\nuse\nshada\nfile upon startup and exiting\n'shell'\n'sh'\nname of shell to use for external commands\n'shellcmdflag'\n'shcf'\nflag to shell to execute one command\n'shellpipe'\n'sp'\nstring to put output of \":make\" in error file\n'shellquote'\n'shq'\nquote character(s) for around shell command\n'shellredir'\n'srr'\nstring to put output of filter in a temp file\n'shellslash'\n'ssl'\nuse forward slash for shell file names\n'shelltemp'\n'stmp'\nwhether to use a temp file for shell commands\n'shellxescape'\n'sxe'\ncharacters to escape when\n'shellxquote'\nis (\n'shellxquote'\n'sxq'\nlike\n'shellquote'\n, but include redirection\n'shiftround'\n'sr'\nround indent to multiple of shiftwidth\n'shiftwidth'\n'sw'\nnumber of spaces to use for (auto)indent step\n'shortmess'\n'shm'\nlist of flags, reduce length of messages\n'showbreak'\n'sbr'\nstring to use at the start of wrapped lines\n'showcmd'\n'sc'\nshow (partial) command somewhere\n'showcmdloc'\n'sloc'\nwhere to show (partial) command\n'showfulltag'\n'sft'\nshow full tag pattern when completing tag\n'showmatch'\n'sm'\nbriefly jump to matching bracket if insert one\n'showmode'\n'smd'\nmessage on status line to show current mode\n'showtabline'\n'stal'\ntells when the tab pages line is displayed\n'sidescroll'\n'ss'\nminimum number of columns to scroll horizontal\n'sidescrolloff'\n'siso'\nmin. nr. of columns to left and right of cursor\n'signcolumn'\n'scl'\nwhen and how to display the sign column\n'smartcase'\n'scs'\nno ignore case when pattern has uppercase\n'smartindent'\n'si'\nsmart autoindenting for C programs\n'smarttab'\n'sta'\n<Tab>\nin leading whitespace indents by\n'shiftwidth'\n'smoothscroll'\n'sms'\nscroll by screen lines when\n'wrap'\nis set\n'softtabstop'\n'sts'\nnumber of columns between two soft tab stops\n'spell'\nenable spell checking\n'spellcapcheck'\n'spc'\npattern to locate end of a sentence\n'spellfile'\n'spf'\nfiles where\nzg\nand\nzw\nstore words\n'spelllang'\n'spl'\nlanguage(s) to do spell checking for\n'spelloptions'\n'spo'\noptions for spell checking\n'spellsuggest'\n'sps'\nmethod(s) used to suggest spelling corrections\n'splitbelow'\n'sb'\nnew window from split is below the current one\n'splitkeep'\n'spk'\ndetermines scroll behavior for split windows\n'splitright'\n'spr'\nnew window is put right of the current one\n'startofline'\n'sol'\ncommands move cursor to first non-blank in line\n'statuscolumn'\n'stc'\ncustom format for the status column\n'statusline'\n'stl'\ncustom format for the status line\n'suffixes'\n'su'\nsuffixes that are ignored with multiple match\n'suffixesadd'\n'sua'\nsuffixes added when searching for a file\n'swapfile'\n'swf'\nwhether to use a swapfile for a buffer\n'switchbuf'\n'swb'\nsets behavior when switching to another buffer\n'synmaxcol'\n'smc'\nmaximum column to find syntax items\n'syntax'\n'syn'\nsyntax to be loaded for current buffer\n'tabclose'\n'tcl'\nwhich tab page to focus when closing a tab\n'tabline'\n'tal'\ncustom format for the console tab pages line\n'tabpagemax'\n'tpm'\nmaximum number of tab pages for\n-p\nand \"tab all\"\n'tabstop'\n'ts'\nnumber of columns between two tab stops\n'tagbsearch'\n'tbs'\nuse binary searching in tags files\n'tagcase'\n'tc'\nhow to handle case when searching in tags files\n'tagfunc'\n'tfu'\nfunction to get list of tag matches\n'taglength'\n'tl'\nnumber of significant characters for a tag\n'tagrelative'\n'tr'\nfile names in tag file are relative\n'tags'\n'tag'\nlist of file names used by the tag command\n'tagstack'\n'tgst'\npush tags onto the tag stack\n'term'\nname of the terminal\n'termbidi'\n'tbidi'\nterminal takes care of bi-directionality\n'termguicolors'\n'tgc'\nenable 24-bit RGB color in the TUI\n'textwidth'\n'tw'\nmaximum width of text that is being inserted\n'thesaurus'\n'tsr'\nlist of thesaurus files for keyword completion\n'thesaurusfunc'\n'tsrfu'\nfunction to be used for thesaurus completion\n'tildeop'\n'top'\ntilde command \"~\" behaves like an operator\n'timeout'\n'to'\ntime out on mappings and key codes\n'timeoutlen'\n'tm'\ntime out time in milliseconds\n'title'\nlet Vim set the title of the window\n'titlelen'\npercentage of\n'columns'\nused for window title\n'titleold'\nold title, restored when exiting\n'titlestring'\nstring to use for the Vim window title\n'ttimeout'\ntime out on mappings\n'ttimeoutlen'\n'ttm'\ntime out time for key codes in milliseconds\n'ttytype'\n'tty'\nalias for\n'term'\n'undodir'\n'udir'\nwhere to store undo files\n'undofile'\n'udf'\nsave undo information in a file\n'undolevels'\n'ul'\nmaximum number of changes that can be undone\n'undoreload'\n'ur'\nmax nr of lines to save for undo on a buffer reload\n'updatecount'\n'uc'\nafter this many characters flush swap file\n'updatetime'\n'ut'\nafter this many milliseconds flush swap file\n'varsofttabstop'\n'vsts'\na list of number of columns between soft tab stops\n'vartabstop'\n'vts'\na list of number of columns between tab stops\n'verbose'\n'vbs'\ngive informative messages\n'verbosefile'\n'vfile'\nfile to write messages in\n'viewdir'\n'vdir'\ndirectory where to store files with :mkview\n'viewoptions'\n'vop'\nspecifies what to save for :mkview\n'virtualedit'\n've'\nwhen to use virtual editing\n'visualbell'\n'vb'\nuse visual bell instead of beeping\n'warn'\nwarn for shell command when buffer was changed\n'whichwrap'\n'ww'\nallow specified keys to cross line boundaries\n'wildchar'\n'wc'\ncommand-line character for wildcard expansion\n'wildcharm'\n'wcm'\nlike\n'wildchar'\nbut also works when mapped\n'wildignore'\n'wig'\nfiles matching these patterns are not completed\n'wildignorecase'\n'wic'\nignore case when completing file names\n'wildmenu'\n'wmnu'\nuse menu for command line completion\n'wildmode'\n'wim'\nmode for\n'wildchar'\ncommand-line expansion\n'wildoptions'\n'wop'\nspecifies how command line completion is done\n'winaltkeys'\n'wak'\nwhen the windows system handles ALT keys\n'window'\n'wi'\nnr of lines to scroll for\nCTRL-F\nand\nCTRL-B\n'winfixbuf'\n'wfb'\nkeep window focused on a single buffer\n'winfixheight'\n'wfh'\nkeep window height when opening/closing windows\n'winfixwidth'\n'wfw'\nkeep window width when opening/closing windows\n'winheight'\n'wh'\nminimum number of lines for the current window\n'winhighlight'\n'winhl'\nwindow-local highlighting\n'winminheight'\n'wmh'\nminimum number of lines for any window\n'winminwidth'\n'wmw'\nminimal number of columns for any window\n'winwidth'\n'wiw'\nminimal number of columns for current window\n'wrap'\nlong lines wrap and continue on the next line\n'wrapmargin'\n'wm'\nchars from the right where wrapping starts\n'wrapscan'\n'ws'\nsearches wrap around the end of the file\n'write'\nwriting to a file is allowed\n'writeany'\n'wa'\nwrite to file with no need for \"!\" override\n'writebackup'\n'wb'\nmake a backup before overwriting a file\n'writedelay'\n'wd'\ndelay this many msec for each char (for debug)\nQ_ur\nUndo/Redo commands\nu\nN  u\t\tundo last N changes\nCTRL-R\nN\nCTRL-R\nredo last N undone changes\nU\nU\t\trestore last changed line\nQ_et\nExternal commands\n:!\n:!{command}\texecute\n{command}\nwith a shell\nK\nK\t\tlookup keyword under the cursor with\n'keywordprg'\nprogram (default: \"man\")\nQ_qf\nQuickfix commands\n:cc\n:cc [nr]\tdisplay error [nr] (default is the same again)\n:cnext\n:cn\t\tdisplay the next error\n:cprevious\n:cp\t\tdisplay the previous error\n:clist\n:cl\t\tlist all errors\n:cfile\n:cf\t\tread errors from the file\n'errorfile'\n:cgetbuffer\n:cgetb\t\tlike :cbuffer but don't jump to the first error\n:cgetfile\n:cg\t\tlike :cfile but don't jump to the first error\n:cgetexpr\n:cgete\t\tlike :cexpr but don't jump to the first error\n:caddfile\n:caddf\t\tadd errors from the error file to the current\nquickfix list\n:caddexpr\n:cad\t\tadd errors from an expression to the current\nquickfix list\n:cbuffer\n:cb\t\tread errors from text in a buffer\n:cexpr\n:cex\t\tread errors from an expression\n:cquit\n:cq\t\tquit without writing and return error code (to\nthe compiler)\n:make\n:make [args]\tstart make, read errors, and jump to first\nerror\n:grep\n:gr[ep] [args]\texecute\n'grepprg'\nto find matches and jump to\nthe first one\nQ_vc\nVarious commands\nCTRL-L\nCTRL-L\nclear and redraw the screen\nCTRL-G\nCTRL-G\nshow current file name (with path) and cursor\nposition\nga\nga\t\tshow ascii value of character under cursor in\ndecimal, hex, and octal\ng8\ng8\t\tfor utf-8 encoding: show byte sequence for\ncharacter under cursor in hex\ng_CTRL-G\ng\nCTRL-G\nshow cursor column, line, and character\nposition\nCTRL-C\nCTRL-C\nduring searches: Interrupt the search\n<Del>\n<Del>\nwhile entering a count: delete last character\n:version\n:ve[rsion]\tshow version information\n:normal\n:norm[al][!]\n{commands}\nexecute Normal mode commands\ngQ\ngQ\t\tswitch to \"Ex\" mode\n:redir\n:redir >\n{file}\nredirect messages to\n{file}\n:silent\n:silent[!]\n{command}\nexecute\n{command}\nsilently\n:confirm\n:confirm\n{command}\nquit, write, etc., asking about\nunsaved changes or read-only files\n:browse\n:browse\n{command}\nopen/read/write file, using a\nfile selection dialog\nQ_ce\nCommand-line editing\nc_<Esc>\n<Esc>\nabandon command-line (if\n'wildchar'\nis\n<Esc>\n, type it twice)\nc_CTRL-V\nCTRL-V\n{char}\ninsert\n{char}\nliterally\nc_CTRL-V\nCTRL-V\n{number}\nenter decimal value of character (up to\nthree digits)\nc_CTRL-K\nCTRL-K\n{char1}\n{char2}\nenter digraph (See\nQ_di\n)\nc_CTRL-R\nCTRL-R\n{register}\ninsert the contents of a register\nc_<Left>\n<Left>\n/<Right>\t   cursor left/right\nc_<S-Left>\n<S-Left>\n/<S-Right> cursor one word left/right\nc_CTRL-B\nCTRL-B\n/CTRL-E\t   cursor to beginning/end of command-line\nc_<BS>\n<BS>\ndelete the character in front of the cursor\nc_<Del>\n<Del>\ndelete the character under the cursor\nc_CTRL-W\nCTRL-W\ndelete the word in front of the cursor\nc_CTRL-U\nCTRL-U\nremove all characters\nc_<Up>\n<Up>\n/<Down>\t   recall older/newer command-line that starts\nwith current command\nc_<S-Up>\n<S-Up>\n/<S-Down>\t   recall older/newer command-line from history\nc_CTRL-G\nCTRL-G\nnext match when\n'incsearch'\nis active\nc_CTRL-T\nCTRL-T\nprevious match when\n'incsearch'\nis active\n:history\n:his[tory]\t   show older command-lines\nContext-sensitive completion on the command-line:\nc_wildchar\n'wildchar'\n(default:\n<Tab>\n)\ndo completion on the pattern in front of the\ncursor; if there are multiple matches,\nbeep and show the first one; further\n'wildchar'\nwill show the next ones\nc_CTRL-D\nCTRL-D\nlist all names that match the pattern in\nfront of the cursor\nc_CTRL-A\nCTRL-A\ninsert all names that match pattern in front\nof cursor\nc_CTRL-L\nCTRL-L\ninsert longest common part of names that\nmatch pattern\nc_CTRL-N\nCTRL-N\nafter\n'wildchar'\nwith multiple matches: go\nto next match\nc_CTRL-P\nCTRL-P\nafter\n'wildchar'\nwith multiple matches: go\nto previous match\nQ_ra\nEx ranges\n:range\n,\t\tseparates two line numbers\n:range\n;\t\tidem, set cursor to the first line number\nbefore interpreting the second one\n:range\n{number}\nan absolute line number\n:range\n.\t\tthe current line\n:range\n$\t\tthe last line in the file\n:range\n%\t\tequal to 1,$ (the entire file)\n:range\n*\t\tequal to '<,'> (visual area)\n:range\n't\t\tposition of mark t\n:range\n/{pattern}[/]\tthe next line where\n{pattern}\nmatches\n:range\n?{pattern}[?]\tthe previous line where\n{pattern}\nmatches\n:range\n+[num]\t\tadd [num] to the preceding line number\n(default: 1)\n:range\n-[num]\t\tsubtract [num] from the preceding line\nnumber (default: 1)\nQ_ex\nSpecial Ex characters\n:bar\n|\t\tseparates two commands (not for \":global\" and \":!\")\n:quote\n\"\t\tbegins comment\n:_%\n%\t\tcurrent file name (only where a file name is expected)\n:_#\n#[num]\talternate file name [num] (only where a file name is\nexpected)\nNote:\nThe next seven are typed literally; these are not special keys!\n:<abuf>\n<abuf>\nbuffer number, for use in an autocommand (only where a\nfile name is expected)\n:<afile>\n<afile>\nfile name, for use in an autocommand (only where a\nfile name is expected)\n:<amatch>\n<amatch>\nwhat matched with the pattern, for use in an\nautocommand (only where a file name is expected)\n:<cword>\n<cword>\nword under the cursor (only where a file name is\nexpected)\n:<cWORD>\n<cWORD>\nWORD under the cursor (only where a file name is\nexpected) (see\nWORD\n)\n:<cfile>\n<cfile>\nfile name under the cursor (only where a file name is\nexpected)\n:<script>\n<script>\nfile name of a \":source\"d file, within that file (only\nwhere a file name is expected)\nAfter \"%\", \"#\", \"<cfile>\", \"<script>\" or \"<afile>\"\n::p\n:p\t\tfull path\n::h\n:h\t\thead (file name removed)\n::t\n:t\t\ttail (file name only)\n::r\n:r\t\troot (extension removed)\n::e\n:e\t\textension\n::s\n:s/{pat}/{repl}/\tsubstitute\n{pat}\nwith\n{repl}\nQ_st\nStarting Vim\n-file\nvim [options]\n{file}\n..\tstart editing one or more files\n--\nvim [options] -\t\tread file from stdin\n-tag\nvim [options] -t\n{tag}\nedit the file associated with\n{tag}\n-qf\nvim [options] -q [fname]\tstart editing in QuickFix mode,\ndisplay the first error\nMost useful Vim arguments (for full list see\nstartup-options\n)\n-+\n+[num]\t\t    put the cursor at line [num] (default: last line)\n-+c\n+{command}\t    execute\n{command}\nafter loading the file\n-+/\n+/{pat}\n{file}\n..   put the cursor at the first occurrence of\n{pat}\n-e\n-e\t\t    Ex mode, start vim in Ex mode\n-R\n-R\t\t    Read-only mode, implies -n\n-m\n-m\t\t    modifications not allowed (resets\n'write'\noption)\n-d\n-d\ndiff-mode\n-b\n-b\t\t    binary mode\n-l\n-l\t\t    lisp mode\n-A\n-A\t\t    Arabic mode (\n'arabic'\nis set)\n-H\n-H\t\t    Hebrew mode (Hebrew keymap &\n'rightleft'\nare set)\n-V\n-V\t\t    Verbose, give informative messages\n-r\n-r\t\t    give list of swap files\n-r\n-r\n{file}\n..\t    recover aborted edit session\n-n\n-n\t\t    do not create a swap file\n-o\n-o [num]\t    open [num] windows (default: one for each file)\n-s\n-s\n{scriptin}\nfirst read commands from the file\n{scriptin}\n-w\n-w\n{scriptout}\nwrite typed chars to file\n{scriptout}\n(append)\n-W\n-W\n{scriptout}\nwrite typed chars to file\n{scriptout}\n(overwrite)\n-u\n-u\n{vimrc}\nread inits from\n{vimrc}\ninstead of other inits\n-i\n-i\n{shada}\nread info from\n{shada}\ninstead of other files\n---\n--\t\t    end of options, other arguments are file names\n--help\n--help\t    show list of arguments and exit\n--version\n--version\t    show version info and exit\n--\n-\t\t    read file from stdin\nQ_ed\nEditing a file\nWithout !: Fail if changes have been made to the current buffer.\nWith !: Discard any changes to the current buffer.\n:edit_f\n:e[dit][!]\n{file}\nedit\n{file}\n:edit\n:e[dit][!]\t\treload the current file\n:enew\n:ene[w][!]\t\tedit a new, unnamed buffer\n:find\n:fin[d][!]\n{file}\nfind\n{file}\nin\n'path'\nand edit it\nCTRL-^\nN\nCTRL-^\nedit alternate file N (equivalent to \":e #N\")\ngf\ngf  or ]f\t\tedit the file whose name is under the cursor\n:pwd\n:pwd\t\t\tprint the current directory name\n:cd\n:cd [path]\t\tchange the current directory to [path]\n:cd-\n:cd -\t\tback to previous current directory\n:file\n:f[ile]\t\tprint the current file name and the cursor\nposition\n:file\n:f[ile]\n{name}\nset the current file name to\n{name}\n:files\n:files\t\tshow alternate file names\nQ_fl\nUsing the argument list\nargument-list\n:args\n:ar[gs]\t\tprint the argument list, with the current file\nin \"[]\"\n:all\n:all  or :sall\topen a window for every file in the arg list\n:wn\n:wn[ext][!]\t\twrite file and edit next file\n:wn\n:wn[ext][!]\n{file}\nwrite to\n{file}\nand edit next file, unless\n{file}\nexists; With !, overwrite existing\nfile\n:wN\n:wN[ext][!] [file]\twrite file and edit previous file\nin current window    in new window\n:argument\n:argu[ment] N\t  :sar[gument] N\tedit file N\n:next\n:n[ext]\t\t  :sn[ext]\t\tedit next file\n:next_f\n:n[ext]\n{arglist}\n:sn[ext]\n{arglist}\ndefine new arg list\nand edit first file\n:Next\n:N[ext]\t\t  :sN[ext]\t\tedit previous file\n:first\n:fir[st]\t\t  :sfir[st]\t\tedit first file\n:last\n:la[st]\t\t  :sla[st]\t\tedit last file\nQ_wq\nWriting and quitting\n:w\n:[range]w[rite][!]\t\twrite to the current file\n:w_f\n:[range]w[rite]\n{file}\nwrite to\n{file}\n, unless it already\nexists\n:w_f\n:[range]w[rite]!\n{file}\nwrite to\n{file}\n.  Overwrite an existing\nfile\n:w_a\n:[range]w[rite][!] >>\t\tappend to the current file\n:w_a\n:[range]w[rite][!] >>\n{file}\nappend to\n{file}\n:w_c\n:[range]w[rite] !{cmd}\texecute\n{cmd}\nwith [range] lines as\nstandard input\n:up\n:[range]up[date][!]\t\twrite to current file if modified\n:wall\n:wa[ll][!]\t\t\twrite all changed buffers\n:q\n:q[uit]\t\tquit current buffer, unless changes have been\nmade; Exit Vim when there are no other\nnon-help buffers\n:q\n:q[uit]!\t\tquit current buffer always, discard any\nchanges.  Exit Vim when there are no other\nnon-help buffers\n:qa\n:qa[ll]\t\texit Vim, unless changes have been made\n:qa\n:qa[ll]!\t\texit Vim always, discard any changes\n:cq\n:cq\t\t\tquit without writing and return error code\n:wq\n:wq[!]\t\twrite the current file and exit\n:wq\n:wq[!]\n{file}\nwrite to\n{file}\nand exit\n:xit\n:x[it][!] [file]\tlike \":wq\" but write only when changes have\nbeen made\nZZ\nZZ\t\t\tsame as \":x\"\nZQ\nZQ\t\t\tsame as \":q!\"\n:xall\n:xa[ll][!]  or :wqall[!]\nwrite all changed buffers and exit\n:stop\n:st[op][!]\t\tsuspend Vim or start new shell; if\n'aw'\noption\nis set and [!] not given write the buffer\nCTRL-Z\nCTRL-Z\nsame as \":stop\"\nQ_ac\nAutomatic Commands\nshada-file\nread registers, marks, history at startup, save when exiting.\n:rshada\n:rsh[ada] [file]\tread info from ShaDa file [file]\n:rshada\n:rsh[ada]! [file]\tidem, overwrite existing info\n:wshada\n:wsh[ada] [file]\tadd info to ShaDa file [file]\n:wshada\n:wsh[ada]! [file]\twrite info to ShaDa file [file]\nmodeline\nAutomatic option setting when editing a file\nmodeline\nvim:{set-arg}: ..\tIn the first and last lines of the\nfile (see\n'ml'\noption),\n{set-arg}\nis\ngiven as an argument to \":set\"\nautocommand\nAutomatic execution of commands on certain events.\n:autocmd\n:au\t\t\t  list all autocommands\n:autocmd\n:au\n{event}\nlist all autocommands for\n{event}\n:autocmd\n:au\n{event}\n{pat}\nlist all autocommands for\n{event}\nwith\n{pat}\n:autocmd\n:au\n{event}\n{pat}\n{cmd}\nenter new autocommands for\n{event}\nwith\n{pat}\n:autocmd\n:au!\t\t\t  remove all autocommands\n:autocmd\n:au!\n{event}\nremove all autocommands for\n{event}\n:autocmd\n:au! *\n{pat}\nremove all autocommands for\n{pat}\n:autocmd\n:au!\n{event}\n{pat}\nremove all autocommands for\n{event}\nwith\n{pat}\n:autocmd\n:au!\n{event}\n{pat}\n{cmd}\nremove all autocommands for\n{event}\nwith\n{pat}\nand enter new one\nQ_wi\nMulti-window commands\nCTRL-W_s\nCTRL-W\ns  or  :split\tsplit window into two parts\n:split_f\n:split\n{file}\nsplit window and edit\n{file}\nin one of\nthem\n:vsplit\n:vsplit\n{file}\nsame, but split vertically\n:vertical\n:vertical\n{cmd}\nmake\n{cmd}\nsplit vertically\n:sfind\n:sf[ind]\n{file}\nsplit window, find\n{file}\nin\n'path'\nand edit it\n:terminal\n:terminal\n{cmd}\nopen a terminal window\nCTRL-W_]\nCTRL-W\n]\t\tsplit window and jump to tag under\ncursor\nCTRL-W_f\nCTRL-W\nf\t\tsplit window and edit file name under\nthe cursor\nCTRL-W_^\nCTRL-W\n^\t\tsplit window and edit alternate file\nCTRL-W_n\nCTRL-W\nn  or  :new\tcreate new empty window\nCTRL-W_q\nCTRL-W\nq  or  :q[uit]\tquit editing and close window\nCTRL-W_c\nCTRL-W\nc  or  :clo[se]\tmake buffer hidden and close window\nCTRL-W_o\nCTRL-W\no  or  :on[ly]\tmake current window only one on the\nscreen\nCTRL-W_j\nCTRL-W\nj\t\tmove cursor to window below\nCTRL-W_k\nCTRL-W\nk\t\tmove cursor to window above\nCTRL-W_CTRL-W\nCTRL-W\nCTRL-W\nmove cursor to window below (wrap)\nCTRL-W_W\nCTRL-W\nW\t\tmove cursor to window above (wrap)\nCTRL-W_t\nCTRL-W\nt\t\tmove cursor to top window\nCTRL-W_b\nCTRL-W\nb\t\tmove cursor to bottom window\nCTRL-W_p\nCTRL-W\np\t\tmove cursor to previous active window\nCTRL-W_r\nCTRL-W\nr\t\trotate windows downwards\nCTRL-W_R\nCTRL-W\nR\t\trotate windows upwards\nCTRL-W_x\nCTRL-W\nx\t\texchange current window with next one\nCTRL-W_=\nCTRL-W\n=\t\tmake all windows equal height & width\nCTRL-W_-\nCTRL-W\n-\t\tdecrease current window height\nCTRL-W_+\nCTRL-W\n+\t\tincrease current window height\nCTRL-W__\nCTRL-W\n_\t\tset current window height (default:\nvery high)\nCTRL-W_<\nCTRL-W\n<\t\tdecrease current window width\nCTRL-W_>\nCTRL-W\n>\t\tincrease current window width\nCTRL-W_bar\nCTRL-W\n|\t\tset current window width (default:\nwidest possible)\nQ_bu\nBuffer list commands\n:buffers\n:buffers  or  :files\tlist all known buffer and file names\n:ball\n:ball\t  or  :sball\tedit all args/buffers\n:unhide\n:unhide   or  :sunhide\tedit all loaded buffers\n:badd\n:badd\n{fname}\nadd file name\n{fname}\nto the list\n:bunload\n:bunload[!] [N]\t\tunload buffer [N] from memory\n:bdelete\n:bdelete[!] [N]\t\tunload buffer [N] and delete it from\nthe buffer list\nin current window  in new window\n:buffer\n:[N]buffer [N]     :[N]sbuffer [N]     to arg/buf N\n:bnext\n:[N]bnext [N]      :[N]sbnext [N]      to Nth next arg/buf\n:bNext\n:[N]bNext [N]      :[N]sbNext [N]      to Nth previous arg/buf\n:bprevious\n:[N]bprevious [N]  :[N]sbprevious [N]  to Nth previous arg/buf\n:bfirst\n:bfirst\t           :sbfirst            to first arg/buf\n:blast\n:blast\t           :sblast             to last arg/buf\n:bmodified\n:[N]bmod [N]       :[N]sbmod [N]       to Nth modified buf\nQ_sy\nSyntax Highlighting\n:syn-on\n:syntax on\t\tstart using syntax highlighting\n:syn-off\n:syntax off\t\tstop using syntax highlighting\n:syn-keyword\n:syntax keyword\n{group-name}\n{keyword}\n..\nadd a syntax keyword item\n:syn-match\n:syntax match\n{group-name}\n{pattern}\n...\nadd syntax match item\n:syn-region\n:syntax region\n{group-name}\n{pattern}\n...\nadd syntax region item\n:syn-sync\n:syntax sync [ccomment | lines\n{N}\n| ...]\ntell syntax how to sync\n:syntax\n:syntax [list]\t\tlist current syntax items\n:syn-clear\n:syntax clear\t\tclear all syntax info\n:highlight\n:highlight clear\tclear all highlight info\n:highlight\n:highlight\n{group-name}\n{key}\n={arg} ..\nset highlighting for\n{group-name}\n:filetype\n:filetype on\t\tswitch on file type detection, without\nsyntax highlighting\n:filetype\n:filetype plugin indent on\nswitch on file type detection, with\nautomatic indenting and settings\nQ_gu\nGUI commands\n:menu\n:menu\t\t\tlist all menus\n:menu\n:menu\n{mpath}\nlist menus starting with\n{mpath}\n:menu\n:menu\n{mpath}\n{rhs}\nadd menu\n{mpath}\n, giving\n{rhs}\n:menu\n:menu\n{pri}\n{mpath}\n{rhs}\nidem, with priorities\n{pri}\n:menu\n:menu ToolBar.{name}\n{rhs}\nadd toolbar item, giving\n{rhs}\n:tmenu\n:tmenu\n{mpath}\n{text}\nadd tooltip to menu\n{mpath}\n:unmenu\n:unmenu\n{mpath}\nremove menu\n{mpath}\nQ_fo\nFolding\n'foldmethod'\nset foldmethod=manual\tmanual folding\nset foldmethod=indent\tfolding by indent\nset foldmethod=expr\tfolding by\n'foldexpr'\nset foldmethod=syntax\tfolding by syntax regions\nset foldmethod=marker\tfolding by\n'foldmarker'\nzf\nzf{motion}\t\toperator: Define a fold manually\n:fold\n:{range}fold\t\tdefine a fold for\n{range}\nlines\nzd\nzd\t\t\tdelete one fold under the cursor\nzD\nzD\t\t\tdelete all folds under the cursor\nzo\nzo\t\t\topen one fold under the cursor\nzO\nzO\t\t\topen all folds under the cursor\nzc\nzc\t\t\tclose one fold under the cursor\nzC\nzC\t\t\tclose all folds under the cursor\nzm\nzm\t\t\tfold more: decrease\n'foldlevel'\nzM\nzM\t\t\tclose all folds: make\n'foldlevel'\nzero\nzr\nzr\t\t\treduce folding: increase\n'foldlevel'\nzR\nzR\t\t\topen all folds: make\n'foldlevel'\nmax.\nzn\nzn\t\t\tfold none: reset\n'foldenable'\nzN\nzN\t\t\tfold normal set\n'foldenable'\nzi\nzi\t\t\tinvert\n'foldenable'\nMain\nCommands index\nQuick reference\nQuick reference guide\nLeft-right motions\nUp-down motions\nText object motions\nPattern searches\nMarks and motions\nVarious motions\nUsing tags\nScrolling\nInserting text\nInsert mode keys\nSpecial keys in Insert mode\nDigraphs\nSpecial inserts\nDeleting text\nCopying and moving text\nChanging text\nComplex changes\nVisual mode\nText objects (only in Visual mode or after an operator)\nRepeating commands\nKey mapping\nAbbreviations\nOptions\nUndo/Redo commands\nExternal commands\nQuickfix commands\nVarious commands\nCommand-line editing\nEx ranges\nSpecial Ex characters\nStarting Vim\nEditing a file\nUsing the argument list\t\t\t|argument-list|\nWriting and quitting\nAutomatic Commands\nMulti-window commands\nBuffer list commands\nSyntax Highlighting\nGUI commands\nFolding", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://neovim.io/doc/user/quickref.html"}}
{"text": "GNU make\nGNU\nmake\nNext:\nOverview of\nmake\n, Previous:\n(dir)\n, Up:\n(dir)\n[\nContents\n][\nIndex\n]\nGNU\nmake\nThis file documents the GNU\nmake\nutility, which determines\nautomatically which pieces of a large program need to be recompiled,\nand issues the commands to recompile them.\nThis is Edition 0.77, last updated 26 February 2023,\nof\nThe GNU Make Manual\n, for GNU\nmake\nversion 4.4.1.\nCopyright © 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995,\n1996, 1997, 1998, 1999, 2000, 2002, 2003, 2004, 2005, 2006, 2007,\n2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019,\n2020, 2021, 2022, 2023 Free Software Foundation, Inc.\nPermission is granted to copy, distribute and/or modify this document\nunder the terms of the GNU Free Documentation License, Version 1.3 or\nany later version published by the Free Software Foundation; with no\nInvariant Sections, with the Front-Cover Texts being “A GNU Manual,”\nand with the Back-Cover Texts as in (a) below.  A copy of the\nlicense is included in the section entitled “GNU Free Documentation\nLicense.”\n(a) The FSF’s Back-Cover Text is: “You have the freedom to copy and\nmodify this GNU manual.  Buying copies from the FSF supports it in\ndeveloping GNU and promoting software freedom.”\nTable of Contents\n1 Overview of\nmake\n1.1 How to Read This Manual\n1.2 Problems and Bugs\n2 An Introduction to Makefiles\n2.1 What a Rule Looks Like\n2.2 A Simple Makefile\n2.3 How\nmake\nProcesses a Makefile\n2.4 Variables Make Makefiles Simpler\n2.5 Letting\nmake\nDeduce the Recipes\n2.6 Another Style of Makefile\n2.7 Rules for Cleaning the Directory\n3 Writing Makefiles\n3.1 What Makefiles Contain\n3.1.1 Splitting Long Lines\n3.2 What Name to Give Your Makefile\n3.3 Including Other Makefiles\n3.4 The Variable\nMAKEFILES\n3.5 How Makefiles Are Remade\n3.6 Overriding Part of Another Makefile\n3.7 How\nmake\nReads a Makefile\n3.8 How Makefiles Are Parsed\n3.9 Secondary Expansion\n4 Writing Rules\n4.1 Rule Example\n4.2 Rule Syntax\n4.3 Types of Prerequisites\n4.4 Using Wildcard Characters in File Names\n4.4.1 Wildcard Examples\n4.4.2 Pitfalls of Using Wildcards\n4.4.3 The Function\nwildcard\n4.5 Searching Directories for Prerequisites\n4.5.1\nVPATH\n: Search Path for All Prerequisites\n4.5.2 The\nvpath\nDirective\n4.5.3 How Directory Searches are Performed\n4.5.4 Writing Recipes with Directory Search\n4.5.5 Directory Search and Implicit Rules\n4.5.6 Directory Search for Link Libraries\n4.6 Phony Targets\n4.7 Rules without Recipes or Prerequisites\n4.8 Empty Target Files to Record Events\n4.9 Special Built-in Target Names\n4.10 Multiple Targets in a Rule\n4.11 Multiple Rules for One Target\n4.12 Static Pattern Rules\n4.12.1 Syntax of Static Pattern Rules\n4.12.2 Static Pattern Rules versus Implicit Rules\n4.13 Double-Colon Rules\n4.14 Generating Prerequisites Automatically\n5 Writing Recipes in Rules\n5.1 Recipe Syntax\n5.1.1 Splitting Recipe Lines\n5.1.2 Using Variables in Recipes\n5.2 Recipe Echoing\n5.3 Recipe Execution\n5.3.1 Using One Shell\n5.3.2 Choosing the Shell\n5.4 Parallel Execution\n5.4.1 Disabling Parallel Execution\n5.4.2 Output During Parallel Execution\n5.4.3 Input During Parallel Execution\n5.5 Errors in Recipes\n5.6 Interrupting or Killing\nmake\n5.7 Recursive Use of\nmake\n5.7.1 How the\nMAKE\nVariable Works\n5.7.2 Communicating Variables to a Sub-\nmake\n5.7.3 Communicating Options to a Sub-\nmake\n5.7.4 The ‘\n--print-directory\n’ Option\n5.8 Defining Canned Recipes\n5.9 Using Empty Recipes\n6 How to Use Variables\n6.1 Basics of Variable References\n6.2 The Two Flavors of Variables\n6.2.1 Recursively Expanded Variable Assignment\n6.2.2 Simply Expanded Variable Assignment\n6.2.3 Immediately Expanded Variable Assignment\n6.2.4 Conditional Variable Assignment\n6.3 Advanced Features for Reference to Variables\n6.3.1 Substitution References\n6.3.2 Computed Variable Names\n6.4 How Variables Get Their Values\n6.5 Setting Variables\n6.6 Appending More Text to Variables\n6.7 The\noverride\nDirective\n6.8 Defining Multi-Line Variables\n6.9 Undefining Variables\n6.10 Variables from the Environment\n6.11 Target-specific Variable Values\n6.12 Pattern-specific Variable Values\n6.13 Suppressing Inheritance\n6.14 Other Special Variables\n7 Conditional Parts of Makefiles\n7.1 Example of a Conditional\n7.2 Syntax of Conditionals\n7.3 Conditionals that Test Flags\n8 Functions for Transforming Text\n8.1 Function Call Syntax\n8.2 Functions for String Substitution and Analysis\n8.3 Functions for File Names\n8.4 Functions for Conditionals\n8.5 The\nlet\nFunction\n8.6 The\nforeach\nFunction\n8.7 The\nfile\nFunction\n8.8 The\ncall\nFunction\n8.9 The\nvalue\nFunction\n8.10 The\neval\nFunction\n8.11 The\norigin\nFunction\n8.12 The\nflavor\nFunction\n8.13 Functions That Control Make\n8.14 The\nshell\nFunction\n8.15 The\nguile\nFunction\n9 How to Run\nmake\n9.1 Arguments to Specify the Makefile\n9.2 Arguments to Specify the Goals\n9.3 Instead of Executing Recipes\n9.4 Avoiding Recompilation of Some Files\n9.5 Overriding Variables\n9.6 Testing the Compilation of a Program\n9.7 Temporary Files\n9.8 Summary of Options\n10 Using Implicit Rules\n10.1 Using Implicit Rules\n10.2 Catalogue of Built-In Rules\n10.3 Variables Used by Implicit Rules\n10.4 Chains of Implicit Rules\n10.5 Defining and Redefining Pattern Rules\n10.5.1 Introduction to Pattern Rules\n10.5.2 Pattern Rule Examples\n10.5.3 Automatic Variables\n10.5.4 How Patterns Match\n10.5.5 Match-Anything Pattern Rules\n10.5.6 Canceling Implicit Rules\n10.6 Defining Last-Resort Default Rules\n10.7 Old-Fashioned Suffix Rules\n10.8 Implicit Rule Search Algorithm\n11 Using\nmake\nto Update Archive Files\n11.1 Archive Members as Targets\n11.2 Implicit Rule for Archive Member Targets\n11.2.1 Updating Archive Symbol Directories\n11.3 Dangers When Using Archives\n11.4 Suffix Rules for Archive Files\n12 Extending GNU\nmake\n12.1 GNU Guile Integration\n12.1.1 Conversion of Guile Types\n12.1.2 Interfaces from Guile to\nmake\n12.1.3 Example Using Guile in\nmake\n12.2 Loading Dynamic Objects\n12.2.1 The\nload\nDirective\n12.2.2 How Loaded Objects Are Remade\n12.2.3 Loaded Object Interface\n12.2.4 Example Loaded Object\n13 Integrating GNU\nmake\n13.1 Sharing Job Slots with GNU\nmake\n13.1.1 POSIX Jobserver Interaction\n13.1.2 Windows Jobserver Interaction\n13.2 Synchronized Terminal Output\n14 Features of GNU\nmake\n15 Incompatibilities and Missing Features\n16 Makefile Conventions\n16.1 General Conventions for Makefiles\n16.2 Utilities in Makefiles\n16.3 Variables for Specifying Commands\n16.4\nDESTDIR\n: Support for Staged Installs\n16.5 Variables for Installation Directories\n16.6 Standard Targets for Users\n16.7 Install Command Categories\nAppendix A Quick Reference\nAppendix B Errors Generated by Make\nAppendix C Complex Makefile Example\nAppendix D GNU Free Documentation License\nIndex of Concepts\nIndex of Functions, Variables, & Directives\nShort Table of Contents\n1 Overview of\nmake\n2 An Introduction to Makefiles\n3 Writing Makefiles\n4 Writing Rules\n5 Writing Recipes in Rules\n6 How to Use Variables\n7 Conditional Parts of Makefiles\n8 Functions for Transforming Text\n9 How to Run\nmake\n10 Using Implicit Rules\n11 Using\nmake\nto Update Archive Files\n12 Extending GNU\nmake\n13 Integrating GNU\nmake\n14 Features of GNU\nmake\n15 Incompatibilities and Missing Features\n16 Makefile Conventions\nAppendix A Quick Reference\nAppendix B Errors Generated by Make\nAppendix C Complex Makefile Example\nAppendix D GNU Free Documentation License\nIndex of Concepts\nIndex of Functions, Variables, & Directives\nNext:\nAn Introduction to Makefiles\n, Previous:\nGNU\nmake\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\n1 Overview of\nmake\nThe\nmake\nutility automatically determines which pieces of a large\nprogram need to be recompiled, and issues commands to recompile them.\nThis manual describes GNU\nmake\n, which was implemented by Richard\nStallman and Roland McGrath.  Development since Version 3.76 has been\nhandled by Paul D. Smith.\nGNU\nmake\nconforms to section 6.2 of\nIEEE Standard\n1003.2-1992\n(POSIX.2).\nOur examples show C programs, since they are most common, but you can use\nmake\nwith any programming language whose compiler can be run with a\nshell command.  Indeed,\nmake\nis not limited to programs.  You can\nuse it to describe any task where some files must be updated automatically\nfrom others whenever the others change.\nHow to Read This Manual\nProblems and Bugs\nNext:\nHow to Read This Manual\n, Previous:\nOverview of\nmake\n, Up:\nOverview of\nmake\n[\nContents\n][\nIndex\n]\nPreparing\nPreparing and Running Make\nTo prepare to use\nmake\n, you must write a file called\nthe\nmakefile\nthat describes the relationships among files\nin your program and provides commands for updating each file.\nIn a program, typically, the executable file is updated from object\nfiles, which are in turn made by compiling source files.\nOnce a suitable makefile exists, each time you change some source files,\nthis simple shell command:\nmake\nsuffices to perform all necessary recompilations.  The\nmake\nprogram\nuses the makefile data base and the last-modification times of the files to\ndecide which of the files need to be updated.  For each of those files, it\nissues the recipes recorded in the data base.\nYou can provide command line arguments to\nmake\nto control which\nfiles should be recompiled, or how.  See\nHow to Run\nmake\n.\nNext:\nProblems and Bugs\n, Previous:\nPreparing\n, Up:\nOverview of\nmake\n[\nContents\n][\nIndex\n]\n1.1 How to Read This Manual\nIf you are new to\nmake\n, or are looking for a general\nintroduction, read the first few sections of each chapter, skipping the\nlater sections.  In each chapter, the first few sections contain\nintroductory or general information and the later sections contain\nspecialized or technical information.\nThe exception is the second chapter,\nAn\nIntroduction to Makefiles\n, all of which is introductory.\nIf you are familiar with other\nmake\nprograms, see\nFeatures of GNU\nmake\n, which lists the enhancements GNU\nmake\nhas, and\nIncompatibilities and Missing\nFeatures\n, which explains the few things GNU\nmake\nlacks that\nothers have.\nFor a quick summary, see\nSummary of Options\n,\nQuick Reference\n,\nand\nSpecial Built-in Target Names\n.\nPrevious:\nHow to Read This Manual\n, Up:\nOverview of\nmake\n[\nContents\n][\nIndex\n]\n1.2 Problems and Bugs\nIf you have problems with GNU\nmake\nor think you’ve found a bug,\nplease report it to the developers; we cannot promise to do anything but\nwe might well want to fix it.\nBefore reporting a bug, make sure you’ve actually found a real bug.\nCarefully reread the documentation and see if it really says you can do\nwhat you’re trying to do.  If it’s not clear whether you should be able\nto do something or not, report that too; it’s a bug in the\ndocumentation!\nBefore reporting a bug or trying to fix it yourself, try to isolate it\nto the smallest possible makefile that reproduces the problem.  Then\nsend us the makefile and the exact results\nmake\ngave you,\nincluding any error or warning messages.  Please don’t paraphrase\nthese messages: it’s best to cut and paste them into your report.\nWhen generating this small makefile, be sure to not use any non-free\nor unusual tools in your recipes: you can almost always emulate what\nsuch a tool would do with simple shell commands.  Finally, be sure to\nexplain what you expected to occur; this will help us decide whether\nthe problem was really in the documentation.\nOnce you have a precise problem you can report it in one of two ways.\nEither send electronic mail to:\nbug-make@gnu.org\nor use our Web-based project management tool, at:\nhttps://savannah.gnu.org/projects/make/\nIn addition to the information above, please be careful to include the\nversion number of\nmake\nyou are using.  You can get this\ninformation with the command ‘\nmake --version\n’.  Be sure also to\ninclude the type of machine and operating system you are using.  One\nway to obtain this information is by looking at the final lines of\noutput from the command ‘\nmake --help\n’.\nIf you have a code change you’d like to submit, see the\nREADME\nfile\nsection “Submitting Patches” for information.\nNext:\nWriting Makefiles\n, Previous:\nOverview of\nmake\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\n2 An Introduction to Makefiles\nYou need a file called a\nmakefile\nto tell\nmake\nwhat to do.\nMost often, the makefile tells\nmake\nhow to compile and link a\nprogram.\nIn this chapter, we will discuss a simple makefile that describes how to\ncompile and link a text editor which consists of eight C source files\nand three header files.  The makefile can also tell\nmake\nhow to\nrun miscellaneous commands when explicitly asked (for example, to remove\ncertain files as a clean-up operation).  To see a more complex example\nof a makefile, see\nComplex Makefile Example\n.\nWhen\nmake\nrecompiles the editor, each changed C source file\nmust be recompiled.  If a header file has changed, each C source file\nthat includes the header file must be recompiled to be safe.  Each\ncompilation produces an object file corresponding to the source file.\nFinally, if any source file has been recompiled, all the object files,\nwhether newly made or saved from previous compilations, must be linked\ntogether to produce the new executable editor.\nWhat a Rule Looks Like\nA Simple Makefile\nHow\nmake\nProcesses a Makefile\nVariables Make Makefiles Simpler\nLetting\nmake\nDeduce the Recipes\nAnother Style of Makefile\nRules for Cleaning the Directory\nNext:\nA Simple Makefile\n, Previous:\nAn Introduction to Makefiles\n, Up:\nAn Introduction to Makefiles\n[\nContents\n][\nIndex\n]\n2.1 What a Rule Looks Like\nA simple makefile consists of “rules” with the following shape:\ntarget\n… :\nprerequisites\n…\nrecipe\n…\n…\nA\ntarget\nis usually the name of a file that is generated by a\nprogram; examples of targets are executable or object files.  A target\ncan also be the name of an action to carry out, such as ‘\nclean\n’\n(see\nPhony Targets\n).\nA\nprerequisite\nis a file that is used as input to create the\ntarget.  A target often depends on several files.\nA\nrecipe\nis an action that\nmake\ncarries out.  A recipe\nmay have more than one command, either on the same line or each on its\nown line.\nPlease note:\nyou need to put a tab character at\nthe beginning of every recipe line!  This is an obscurity that catches\nthe unwary.  If you prefer to prefix your recipes with a character\nother than tab, you can set the\n.RECIPEPREFIX\nvariable to an\nalternate character (see\nOther Special Variables\n).\nUsually a recipe is in a rule with prerequisites and serves to create a\ntarget file if any of the prerequisites change.  However, the rule that\nspecifies a recipe for the target need not have prerequisites.  For\nexample, the rule containing the delete command associated with the\ntarget ‘\nclean\n’ does not have prerequisites.\nA\nrule\n, then, explains how and when to remake certain files\nwhich are the targets of the particular rule.\nmake\ncarries out\nthe recipe on the prerequisites to create or update the target.  A\nrule can also explain how and when to carry out an action.\nSee\nWriting Rules\n.\nA makefile may contain other text besides rules, but a simple makefile\nneed only contain rules.  Rules may look somewhat more complicated\nthan shown in this template, but all fit the pattern more or less.\nNext:\nHow\nmake\nProcesses a Makefile\n, Previous:\nWhat a Rule Looks Like\n, Up:\nAn Introduction to Makefiles\n[\nContents\n][\nIndex\n]\n2.2 A Simple Makefile\nHere is a straightforward makefile that describes the way an\nexecutable file called\nedit\ndepends on eight object files\nwhich, in turn, depend on eight C source and three header files.\nIn this example, all the C files include\ndefs.h\n, but only those\ndefining editing commands include\ncommand.h\n, and only low\nlevel files that change the editor buffer include\nbuffer.h\n.\nedit : main.o kbd.o command.o display.o \\\ninsert.o search.o files.o utils.o\ncc -o edit main.o kbd.o command.o display.o \\\ninsert.o search.o files.o utils.o\nmain.o : main.c defs.h\ncc -c main.c\nkbd.o : kbd.c defs.h command.h\ncc -c kbd.c\ncommand.o : command.c defs.h command.h\ncc -c command.c\ndisplay.o : display.c defs.h buffer.h\ncc -c display.c\ninsert.o : insert.c defs.h buffer.h\ncc -c insert.c\nsearch.o : search.c defs.h buffer.h\ncc -c search.c\nfiles.o : files.c defs.h buffer.h command.h\ncc -c files.c\nutils.o : utils.c defs.h\ncc -c utils.c\nclean :\nrm edit main.o kbd.o command.o display.o \\\ninsert.o search.o files.o utils.o\nWe split each long line into two lines using backslash/newline; this is\nlike using one long line, but is easier to read.  See\nSplitting Long Lines\n.\nTo use this makefile to create the executable file called\nedit\n,\ntype:\nmake\nTo use this makefile to delete the executable file and all the object\nfiles from the directory, type:\nmake clean\nIn the example makefile, the targets include the executable file\n‘\nedit\n’, and the object files ‘\nmain.o\n’ and ‘\nkbd.o\n’.  The\nprerequisites are files such as ‘\nmain.c\n’ and ‘\ndefs.h\n’.\nIn fact, each ‘\n.o\n’ file is both a target and a prerequisite.\nRecipes include ‘\ncc\n-c\nmain.c\n’\nand ‘\ncc\n-c\nkbd.c\n’\n.\nWhen a target is a file, it needs to be recompiled or relinked if any\nof its prerequisites change.  In addition, any prerequisites that are\nthemselves automatically generated should be updated first.  In this\nexample,\nedit\ndepends on each of the eight object files; the\nobject file\nmain.o\ndepends on the source file\nmain.c\nand\non the header file\ndefs.h\n.\nA recipe may follow each line that contains a target and\nprerequisites.  These recipes say how to update the target file.  A\ntab character (or whatever character is specified by the\n.RECIPEPREFIX\nvariable; see\nOther Special Variables\n) must come at\nthe beginning of every line in the recipe to distinguish recipes from\nother lines in the makefile.  (Bear in mind that\nmake\ndoes not\nknow anything about how the recipes work.  It is up to you to supply\nrecipes that will update the target file properly.  All\nmake\ndoes is execute the recipe you have specified when the target file\nneeds to be updated.)\nThe target ‘\nclean\n’ is not a file, but merely the name of an\naction.  Since you normally do not want to carry out the actions in\nthis rule, ‘\nclean\n’ is not a prerequisite of any other rule.\nConsequently,\nmake\nnever does anything with it unless you tell\nit specifically.  Note that this rule not only is not a prerequisite,\nit also does not have any prerequisites, so the only purpose of the\nrule is to run the specified recipe.  Targets that do not refer to\nfiles but are just actions are called\nphony targets\n.\nSee\nPhony Targets\n, for information about this kind of target.\nSee\nErrors in Recipes\n, to see how to cause\nmake\nto ignore errors from\nrm\nor any other command.\nNext:\nVariables Make Makefiles Simpler\n, Previous:\nA Simple Makefile\n, Up:\nAn Introduction to Makefiles\n[\nContents\n][\nIndex\n]\n2.3 How\nmake\nProcesses a Makefile\nBy default,\nmake\nstarts with the first target (not targets whose names\nstart with ‘\n.\n’ unless they also contain one or more ‘\n/\n’).  This is\ncalled the\ndefault goal\n.  (\nGoals\nare the targets that\nmake\nstrives ultimately to update.  You can override this behavior using the\ncommand line (see\nArguments to Specify the Goals\n) or with the\n.DEFAULT_GOAL\nspecial variable (see\nOther\nSpecial Variables\n).\nIn the simple example of the previous section, the default goal is to\nupdate the executable program\nedit\n; therefore, we put that rule\nfirst.\nThus, when you give the command:\nmake\nmake\nreads the makefile in the current directory and begins by\nprocessing the first rule.  In the example, this rule is for relinking\nedit\n; but before\nmake\ncan fully process this rule, it\nmust process the rules for the files that\nedit\ndepends on,\nwhich in this case are the object files.  Each of these files is\nprocessed according to its own rule.  These rules say to update each\n‘\n.o\n’ file by compiling its source file.  The recompilation must\nbe done if the source file, or any of the header files named as\nprerequisites, is more recent than the object file, or if the object\nfile does not exist.\nThe other rules are processed because their targets appear as\nprerequisites of the goal.  If some other rule is not depended on by the\ngoal (or anything it depends on, etc.), that rule is not processed,\nunless you tell\nmake\nto do so (with a command such as\nmake clean\n).\nBefore recompiling an object file,\nmake\nconsiders updating its\nprerequisites, the source file and header files.  This makefile does not\nspecify anything to be done for them—the ‘\n.c\n’ and ‘\n.h\n’ files\nare not the targets of any rules—so\nmake\ndoes nothing for these\nfiles.  But\nmake\nwould update automatically generated C programs,\nsuch as those made by Bison or Yacc, by their own rules at this time.\nAfter recompiling whichever object files need it,\nmake\ndecides\nwhether to relink\nedit\n.  This must be done if the file\nedit\ndoes not exist, or if any of the object files are newer than\nit.  If an object file was just recompiled, it is now newer than\nedit\n, so\nedit\nis relinked.\nThus, if we change the file\ninsert.c\nand run\nmake\n,\nmake\nwill compile that file to update\ninsert.o\n, and then\nlink\nedit\n.  If we change the file\ncommand.h\nand run\nmake\n,\nmake\nwill recompile the object files\nkbd.o\n,\ncommand.o\nand\nfiles.o\nand then link the file\nedit\n.\nNext:\nLetting\nmake\nDeduce the Recipes\n, Previous:\nHow\nmake\nProcesses a Makefile\n, Up:\nAn Introduction to Makefiles\n[\nContents\n][\nIndex\n]\n2.4 Variables Make Makefiles Simpler\nIn our example, we had to list all the object files twice in the rule for\nedit\n(repeated here):\nedit : main.o kbd.o command.o display.o \\\ninsert.o search.o files.o utils.o\ncc -o edit main.o kbd.o command.o display.o \\\ninsert.o search.o files.o utils.o\nSuch duplication is error-prone; if a new object file is added to the\nsystem, we might add it to one list and forget the other.  We can eliminate\nthe risk and simplify the makefile by using a variable.\nVariables\nallow a text string to be defined once and substituted in multiple places\nlater (see\nHow to Use Variables\n).\nIt is standard practice for every makefile to have a variable named\nobjects\n,\nOBJECTS\n,\nobjs\n,\nOBJS\n,\nobj\n,\nor\nOBJ\nwhich is a list of all object file names.  We would\ndefine such a variable\nobjects\nwith a line like this in the\nmakefile:\nobjects = main.o kbd.o command.o display.o \\\ninsert.o search.o files.o utils.o\nThen, each place we want to put a list of the object file names, we can\nsubstitute the variable’s value by writing ‘\n$(objects)\n’\n(see\nHow to Use Variables\n).\nHere is how the complete simple makefile looks when you use a variable\nfor the object files:\nobjects = main.o kbd.o command.o display.o \\\ninsert.o search.o files.o utils.o\nedit : $(objects)\ncc -o edit $(objects)\nmain.o : main.c defs.h\ncc -c main.c\nkbd.o : kbd.c defs.h command.h\ncc -c kbd.c\ncommand.o : command.c defs.h command.h\ncc -c command.c\ndisplay.o : display.c defs.h buffer.h\ncc -c display.c\ninsert.o : insert.c defs.h buffer.h\ncc -c insert.c\nsearch.o : search.c defs.h buffer.h\ncc -c search.c\nfiles.o : files.c defs.h buffer.h command.h\ncc -c files.c\nutils.o : utils.c defs.h\ncc -c utils.c\nclean :\nrm edit $(objects)\nNext:\nAnother Style of Makefile\n, Previous:\nVariables Make Makefiles Simpler\n, Up:\nAn Introduction to Makefiles\n[\nContents\n][\nIndex\n]\n2.5 Letting\nmake\nDeduce the Recipes\nIt is not necessary to spell out the recipes for compiling the individual\nC source files, because\nmake\ncan figure them out: it has an\nimplicit rule\nfor updating a ‘\n.o\n’ file from a correspondingly\nnamed ‘\n.c\n’ file using a ‘\ncc -c\n’ command.  For example, it will\nuse the recipe ‘\ncc -c main.c -o main.o\n’ to compile\nmain.c\ninto\nmain.o\n.  We can therefore omit the recipes from the rules for the\nobject files.  See\nUsing Implicit Rules\n.\nWhen a ‘\n.c\n’ file is used automatically in this way, it is also\nautomatically added to the list of prerequisites.  We can therefore omit\nthe ‘\n.c\n’ files from the prerequisites, provided we omit the recipe.\nHere is the entire example, with both of these changes, and a variable\nobjects\nas suggested above:\nobjects = main.o kbd.o command.o display.o \\\ninsert.o search.o files.o utils.o\nedit : $(objects)\ncc -o edit $(objects)\nmain.o : defs.h\nkbd.o : defs.h command.h\ncommand.o : defs.h command.h\ndisplay.o : defs.h buffer.h\ninsert.o : defs.h buffer.h\nsearch.o : defs.h buffer.h\nfiles.o : defs.h buffer.h command.h\nutils.o : defs.h\n.PHONY : clean\nclean :\nrm edit $(objects)\nThis is how we would write the makefile in actual practice.  (The\ncomplications associated with ‘\nclean\n’ are described elsewhere.\nSee\nPhony Targets\n, and\nErrors in Recipes\n.)\nBecause implicit rules are so convenient, they are important.  You\nwill see them used frequently.\nNext:\nRules for Cleaning the Directory\n, Previous:\nLetting\nmake\nDeduce the Recipes\n, Up:\nAn Introduction to Makefiles\n[\nContents\n][\nIndex\n]\n2.6 Another Style of Makefile\nWhen the objects of a makefile are created only by implicit rules, an\nalternative style of makefile is possible.  In this style of makefile,\nyou group entries by their prerequisites instead of by their targets.\nHere is what one looks like:\nobjects = main.o kbd.o command.o display.o \\\ninsert.o search.o files.o utils.o\nedit : $(objects)\ncc -o edit $(objects)\n$(objects) : defs.h\nkbd.o command.o files.o : command.h\ndisplay.o insert.o search.o files.o : buffer.h\nHere\ndefs.h\nis given as a prerequisite of all the object files;\ncommand.h\nand\nbuffer.h\nare prerequisites of the specific\nobject files listed for them.\nWhether this is better is a matter of taste: it is more compact, but some\npeople dislike it because they find it clearer to put all the information\nabout each target in one place.\nPrevious:\nAnother Style of Makefile\n, Up:\nAn Introduction to Makefiles\n[\nContents\n][\nIndex\n]\n2.7 Rules for Cleaning the Directory\nCompiling a program is not the only thing you might want to write rules\nfor.  Makefiles commonly tell how to do a few other things besides\ncompiling a program: for example, how to delete all the object files\nand executables so that the directory is ‘\nclean\n’.\nHere is how we\ncould write a\nmake\nrule for cleaning our example editor:\nclean:\nrm edit $(objects)\nIn practice, we might want to write the rule in a somewhat more\ncomplicated manner to handle unanticipated situations.  We would do this:\n.PHONY : clean\nclean :\n-rm edit $(objects)\nThis prevents\nmake\nfrom getting confused by an actual file\ncalled\nclean\nand causes it to continue in spite of errors from\nrm\n.  (See\nPhony Targets\n, and\nErrors in\nRecipes\n.)\nA rule such as this should not be placed at the beginning of the\nmakefile, because we do not want it to run by default!  Thus, in the\nexample makefile, we want the rule for\nedit\n, which recompiles\nthe editor, to remain the default goal.\nSince\nclean\nis not a prerequisite of\nedit\n, this rule will not\nrun at all if we give the command ‘\nmake\n’ with no arguments.  In\norder to make the rule run, we have to type ‘\nmake clean\n’.\nSee\nHow to Run\nmake\n.\nNext:\nWriting Rules\n, Previous:\nAn Introduction to Makefiles\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\n3 Writing Makefiles\nThe information that tells\nmake\nhow to recompile a system comes from\nreading a data base called the\nmakefile\n.\nWhat Makefiles Contain\nWhat Name to Give Your Makefile\nIncluding Other Makefiles\nThe Variable\nMAKEFILES\nHow Makefiles Are Remade\nOverriding Part of Another Makefile\nHow\nmake\nReads a Makefile\nHow Makefiles Are Parsed\nSecondary Expansion\nNext:\nWhat Name to Give Your Makefile\n, Previous:\nWriting Makefiles\n, Up:\nWriting Makefiles\n[\nContents\n][\nIndex\n]\n3.1 What Makefiles Contain\nMakefiles contain five kinds of things:\nexplicit rules\n,\nimplicit rules\n,\nvariable definitions\n,\ndirectives\n,\nand\ncomments\n.  Rules, variables, and directives are described at\nlength in later chapters.\nAn\nexplicit rule\nsays when and how to remake one or more files,\ncalled the rule’s\ntargets\n.  It lists the other files that the\ntargets depend on, called the\nprerequisites\nof the target, and\nmay also give a recipe to use to create or update the targets.\nSee\nWriting Rules\n.\nAn\nimplicit rule\nsays when and how to remake a class of files\nbased on their names.  It describes how a target may depend on a file\nwith a name similar to the target and gives a recipe to create or\nupdate such a target.  See\nUsing Implicit Rules\n.\nA\nvariable definition\nis a line that specifies a text string\nvalue for a variable that can be substituted into the text later.  The\nsimple makefile example shows a variable definition for\nobjects\nas a list of all object files (see\nVariables\nMake Makefiles Simpler\n).\nA\ndirective\nis an instruction for\nmake\nto do something\nspecial while reading the makefile.  These include:\nReading another makefile (see\nIncluding Other Makefiles\n).\nDeciding (based on the values of variables) whether to use or\nignore a part of the makefile (see\nConditional Parts of Makefiles\n).\nDefining a variable from a verbatim string containing multiple lines\n(see\nDefining Multi-Line Variables\n).\n‘\n#\n’ in a line of a makefile starts a\ncomment\n.  It and the\nrest of the line are ignored, except that a trailing backslash not\nescaped by another backslash will continue the comment across multiple\nlines.  A line containing just a comment (with perhaps spaces before\nit) is effectively blank, and is ignored.  If you want a literal\n#\n, escape it with a backslash (e.g.,\n\\#\n).  Comments may\nappear on any line in the makefile, although they are treated\nspecially in certain situations.\nYou cannot use comments within variable references or function calls:\nany instance of\n#\nwill be treated literally (rather than as the\nstart of a comment) inside a variable reference or function call.\nComments within a recipe are passed to the shell, just as with any\nother recipe text.  The shell decides how to interpret it: whether or\nnot this is a comment is up to the shell.\nWithin a\ndefine\ndirective, comments are not ignored during the\ndefinition of the variable, but rather kept intact in the value of the\nvariable.  When the variable is expanded they will either be treated\nas\nmake\ncomments or as recipe text, depending on the context in\nwhich the variable is evaluated.\nSplitting Long Lines\nPrevious:\nWhat Makefiles Contain\n, Up:\nWhat Makefiles Contain\n[\nContents\n][\nIndex\n]\n3.1.1 Splitting Long Lines\nMakefiles use a “line-based” syntax in which the newline character\nis special and marks the end of a statement.  GNU\nmake\nhas no\nlimit on the length of a statement line, up to the amount of memory in\nyour computer.\nHowever, it is difficult to read lines which are too long to display\nwithout wrapping or scrolling.  So, you can format your makefiles for\nreadability by adding newlines into the middle of a statement: you do\nthis by escaping the internal newlines with a backslash (\n\\\n)\ncharacter.  Where we need to make a distinction we will refer to\n“physical lines” as a single line ending with a newline (regardless\nof whether it is escaped) and a “logical line” being a complete\nstatement including all escaped newlines up to the first non-escaped\nnewline.\nThe way in which backslash/newline combinations are handled depends on\nwhether the statement is a recipe line or a non-recipe line.  Handling\nof backslash/newline in a recipe line is discussed later\n(see\nSplitting Recipe Lines\n).\nOutside of recipe lines, backslash/newlines are converted into a\nsingle space character.  Once that is done, all whitespace around the\nbackslash/newline is condensed into a single space: this includes all\nwhitespace preceding the backslash, all whitespace at the beginning of\nthe line after the backslash/newline, and any consecutive\nbackslash/newline combinations.\nIf the\n.POSIX\nspecial target is defined then backslash/newline\nhandling is modified slightly to conform to POSIX.2: first, whitespace\npreceding a backslash is not removed and second, consecutive\nbackslash/newlines are not condensed.\nSplitting Without Adding Whitespace\nIf you need to split a line but do\nnot\nwant any whitespace\nadded, you can utilize a subtle trick: replace your backslash/newline\npairs with the three characters dollar sign, backslash, and newline:\nvar := one$\\\nword\nAfter\nmake\nremoves the backslash/newline and condenses the\nfollowing line into a single space, this is equivalent to:\nvar := one$ word\nThen\nmake\nwill perform variable expansion.  The variable\nreference ‘\n$\n’ refers to a variable with the one-character name\n“ ” (space) which does not exist, and so expands to the empty\nstring, giving a final assignment which is the equivalent of:\nvar := oneword\nNext:\nIncluding Other Makefiles\n, Previous:\nWhat Makefiles Contain\n, Up:\nWriting Makefiles\n[\nContents\n][\nIndex\n]\n3.2 What Name to Give Your Makefile\nBy default, when\nmake\nlooks for the makefile, it tries the\nfollowing names, in order:\nGNUmakefile\n,\nmakefile\nand\nMakefile\n.\nNormally you should call your makefile either\nmakefile\nor\nMakefile\n.  (We recommend\nMakefile\nbecause it appears\nprominently near the beginning of a directory listing, right near other\nimportant files such as\nREADME\n.)  The first name checked,\nGNUmakefile\n, is not recommended for most makefiles.  You should\nuse this name if you have a makefile that is specific to GNU\nmake\n, and will not be understood by other versions of\nmake\n.  Other\nmake\nprograms look for\nmakefile\nand\nMakefile\n, but not\nGNUmakefile\n.\nIf\nmake\nfinds none of these names, it does not use any makefile.\nThen you must specify a goal with a command argument, and\nmake\nwill attempt to figure out how to remake it using only its built-in\nimplicit rules.  See\nUsing Implicit Rules\n.\nIf you want to use a nonstandard name for your makefile, you can specify\nthe makefile name with the ‘\n-f\n’ or ‘\n--file\n’ option.  The\narguments ‘\n-f\nname\n’\nor ‘\n--file=\nname\n’\ntell\nmake\nto read the file\nname\nas the makefile.  If you use\nmore than one ‘\n-f\n’ or ‘\n--file\n’ option, you can specify several\nmakefiles.  All the makefiles are effectively concatenated in the order\nspecified.  The default makefile names\nGNUmakefile\n,\nmakefile\nand\nMakefile\nare not checked automatically if you\nspecify ‘\n-f\n’ or ‘\n--file\n’.\nNext:\nThe Variable\nMAKEFILES\n, Previous:\nWhat Name to Give Your Makefile\n, Up:\nWriting Makefiles\n[\nContents\n][\nIndex\n]\n3.3 Including Other Makefiles\nThe\ninclude\ndirective tells\nmake\nto suspend reading the\ncurrent makefile and read one or more other makefiles before continuing.\nThe directive is a line in the makefile that looks like this:\ninclude\nfilenames\n…\nfilenames\ncan contain shell file name patterns.  If\nfilenames\nis empty, nothing is included and no error is printed.\nExtra spaces are allowed and ignored at the beginning of the line, but\nthe first character must not be a tab (or the value of\n.RECIPEPREFIX\n)—if the line begins with a tab, it will be\nconsidered a recipe line.  Whitespace is required between\ninclude\nand the file names, and between file names; extra\nwhitespace is ignored there and at the end of the directive.  A\ncomment starting with ‘\n#\n’ is allowed at the end of the line.  If\nthe file names contain any variable or function references, they are\nexpanded.  See\nHow to Use Variables\n.\nFor example, if you have three\n.mk\nfiles,\na.mk\n,\nb.mk\n, and\nc.mk\n, and\n$(bar)\nexpands to\nbish bash\n, then the following expression\ninclude foo *.mk $(bar)\nis equivalent to\ninclude foo a.mk b.mk c.mk bish bash\nWhen\nmake\nprocesses an\ninclude\ndirective, it suspends\nreading of the containing makefile and reads from each listed file in\nturn.  When that is finished,\nmake\nresumes reading the\nmakefile in which the directive appears.\nOne occasion for using\ninclude\ndirectives is when several programs,\nhandled by individual makefiles in various directories, need to use a\ncommon set of variable definitions\n(see\nSetting Variables\n) or pattern rules\n(see\nDefining and Redefining Pattern Rules\n).\nAnother such occasion is when you want to generate prerequisites from\nsource files automatically; the prerequisites can be put in a file that\nis included by the main makefile.  This practice is generally cleaner\nthan that of somehow appending the prerequisites to the end of the main\nmakefile as has been traditionally done with other versions of\nmake\n.  See\nGenerating Prerequisites Automatically\n.\nIf the specified name does not start with a slash (or a drive letter and colon\nwhen GNU Make is compiled with MS-DOS / MS-Windows path support), and the file\nis not found in the current directory, several other directories are searched.\nFirst, any directories you have specified with the ‘\n-I\n’ or\n‘\n--include-dir\n’ options are searched (see\nSummary of\nOptions\n).  Then the following directories (if they exist) are searched, in\nthis order:\nprefix\n/include\n(normally\n/usr/local/include\n1\n)\n/usr/gnu/include\n,\n/usr/local/include\n,\n/usr/include\n.\nThe\n.INCLUDE_DIRS\nvariable will contain the current list of\ndirectories that make will search for included files.  See\nOther Special Variables\n.\nYou can avoid searching in these default directories by adding the\ncommand line option\n-I\nwith the special value\n-\n(e.g.,\n-I-\n) to the command line.  This will cause\nmake\nto\nforget any already-set include directories, including the default\ndirectories.\nIf an included makefile cannot be found in any of these directories it is not\nan immediately fatal error; processing of the makefile containing the\ninclude\ncontinues.  Once it has finished reading makefiles,\nmake\nwill try to remake any that are out of date or don’t exist.  See\nHow Makefiles Are Remade\n.  Only after it has failed to find a\nrule to remake the makefile, or it found a rule but the recipe failed, will\nmake\ndiagnose the missing makefile as a fatal error.\nIf you want\nmake\nto simply ignore a makefile which does not exist\nor cannot be remade, with no error message, use the\n-include\ndirective instead of\ninclude\n, like this:\n-include\nfilenames\n…\nThis acts like\ninclude\nin every way except that there is no\nerror (not even a warning) if any of the\nfilenames\n(or any\nprerequisites of any of the\nfilenames\n) do not exist or cannot be\nremade.\nFor compatibility with some other\nmake\nimplementations,\nsinclude\nis another name for\n-include\n.\nNext:\nHow Makefiles Are Remade\n, Previous:\nIncluding Other Makefiles\n, Up:\nWriting Makefiles\n[\nContents\n][\nIndex\n]\n3.4 The Variable\nMAKEFILES\nIf the environment variable\nMAKEFILES\nis defined,\nmake\nconsiders its value as a list of names (separated by whitespace) of\nadditional makefiles to be read before the others.  This works much\nlike the\ninclude\ndirective: various directories are searched\nfor those files (see\nIncluding Other Makefiles\n).  In\naddition, the default goal is never taken from one of these makefiles\n(or any makefile included by them) and it is not an error if the files\nlisted in\nMAKEFILES\nare not found.\nThe main use of\nMAKEFILES\nis in communication between recursive\ninvocations of\nmake\n(see\nRecursive Use of\nmake\n).  It usually is not desirable to set the environment\nvariable before a top-level invocation of\nmake\n, because it is\nusually better not to mess with a makefile from outside.  However, if\nyou are running\nmake\nwithout a specific makefile, a makefile in\nMAKEFILES\ncan do useful things to help the built-in implicit\nrules work better, such as defining search paths (see\nSearching Directories for Prerequisites\n).\nSome users are tempted to set\nMAKEFILES\nin the environment\nautomatically on login, and program makefiles to expect this to be done.\nThis is a very bad idea, because such makefiles will fail to work if run by\nanyone else.  It is much better to write explicit\ninclude\ndirectives\nin the makefiles.  See\nIncluding Other Makefiles\n.\nNext:\nOverriding Part of Another Makefile\n, Previous:\nThe Variable\nMAKEFILES\n, Up:\nWriting Makefiles\n[\nContents\n][\nIndex\n]\n3.5 How Makefiles Are Remade\nSometimes makefiles can be remade from other files, such as RCS or SCCS\nfiles.  If a makefile can be remade from other files, you probably want\nmake\nto get an up-to-date version of the makefile to read in.\nTo this end, after reading in all makefiles\nmake\nwill consider\neach as a goal target, in the order in which they were processed, and\nattempt to update it.  If parallel builds (see\nParallel\nExecution\n) are enabled then makefiles will be rebuilt in parallel as\nwell.\nIf a makefile has a rule which says how to update it (found either in\nthat very makefile or in another one) or if an implicit rule applies\nto it (see\nUsing Implicit Rules\n), it will be\nupdated if necessary.  After all makefiles have been checked, if any\nhave actually been changed,\nmake\nstarts with a clean slate and\nreads all the makefiles over again.  (It will also attempt to update\neach of them over again, but normally this will not change them again,\nsince they are already up to date.)  Each restart will cause the\nspecial variable\nMAKE_RESTARTS\nto be updated (see\nOther Special Variables\n).\nIf you know that one or more of your makefiles cannot be remade and\nyou want to keep\nmake\nfrom performing an implicit rule search\non them, perhaps for efficiency reasons, you can use any normal method\nof preventing implicit rule look-up to do so.  For example, you can\nwrite an explicit rule with the makefile as the target, and an empty\nrecipe (see\nUsing Empty Recipes\n).\nIf the makefiles specify a double-colon rule to remake a file with a recipe\nbut no prerequisites, that file will always be remade (see\nDouble-Colon Rules\n).\nIn the case of makefiles, a makefile that has a double-colon rule with a\nrecipe but no prerequisites will be remade every time\nmake\nis run, and\nthen again after\nmake\nstarts over and reads the makefiles in again.\nThis would cause an infinite loop:\nmake\nwould constantly remake the\nmakefile and restart, and never do anything else.  So, to avoid this,\nmake\nwill\nnot\nattempt to remake makefiles which are specified\nas targets of a double-colon rule with a recipe but no prerequisites.\nPhony targets (see\nPhony Targets\n) have the same effect: they are never\nconsidered up-to-date and so an included file marked as phony would cause\nmake\nto restart continuously.  To avoid this\nmake\nwill not\nattempt to remake makefiles which are marked phony.\nYou can take advantage of this to optimize startup time: if you know you don’t\nneed your\nMakefile\nto be remade you can prevent make from trying to\nremake it by adding either:\n.PHONY: Makefile\nor:\nMakefile:: ;\nIf you do not specify any makefiles to be read with ‘\n-f\n’ or\n‘\n--file\n’ options,\nmake\nwill try the default makefile names;\nsee\nWhat Name to Give Your Makefile\n.  Unlike\nmakefiles explicitly requested with ‘\n-f\n’ or ‘\n--file\n’ options,\nmake\nis not certain that these makefiles should exist.  However,\nif a default makefile does not exist but can be created by running\nmake\nrules, you probably want the rules to be run so that the\nmakefile can be used.\nTherefore, if none of the default makefiles exists,\nmake\nwill\ntry to make each of them until it succeeds in making one, or it runs\nout of names to try.  Note that it is not an error if\nmake\ncannot find or make any makefile; a makefile is not always\nnecessary.\nWhen you use the ‘\n-t\n’ or ‘\n--touch\n’ option\n(see\nInstead of Executing Recipes\n),\nyou would not want to use an out-of-date makefile to decide which\ntargets to touch.  So the ‘\n-t\n’ option has no effect on updating\nmakefiles; they are really updated even if ‘\n-t\n’ is specified.\nLikewise, ‘\n-q\n’ (or ‘\n--question\n’) and ‘\n-n\n’ (or\n‘\n--just-print\n’) do not prevent updating of makefiles, because an\nout-of-date makefile would result in the wrong output for other targets.\nThus, ‘\nmake -f mfile -n foo\n’ will update\nmfile\n, read it in,\nand then print the recipe to update\nfoo\nand its prerequisites\nwithout running it.  The recipe printed for\nfoo\nwill be the one\nspecified in the updated contents of\nmfile\n.\nHowever, on occasion you might actually wish to prevent updating of even\nthe makefiles.  You can do this by specifying the makefiles as goals in\nthe command line as well as specifying them as makefiles.  When the\nmakefile name is specified explicitly as a goal, the options ‘\n-t\n’\nand so on do apply to them.\nThus, ‘\nmake -f mfile -n mfile foo\n’ would read the makefile\nmfile\n, print the recipe needed to update it without actually\nrunning it, and then print the recipe needed to update\nfoo\nwithout running that.  The recipe for\nfoo\nwill be the one\nspecified by the existing contents of\nmfile\n.\nNext:\nHow\nmake\nReads a Makefile\n, Previous:\nHow Makefiles Are Remade\n, Up:\nWriting Makefiles\n[\nContents\n][\nIndex\n]\n3.6 Overriding Part of Another Makefile\nSometimes it is useful to have a makefile that is mostly just like\nanother makefile.  You can often use the ‘\ninclude\n’ directive to\ninclude one in the other, and add more targets or variable definitions.\nHowever, it is invalid for two makefiles to give different recipes for\nthe same target.  But there is another way.\nIn the containing makefile (the one that wants to include the other),\nyou can use a match-anything pattern rule to say that to remake any\ntarget that cannot be made from the information in the containing\nmakefile,\nmake\nshould look in another makefile.\nSee\nDefining and Redefining Pattern Rules\n, for more information on pattern rules.\nFor example, if you have a makefile called\nMakefile\nthat says how\nto make the target ‘\nfoo\n’ (and other targets), you can write a\nmakefile called\nGNUmakefile\nthat contains:\nfoo:\nfrobnicate > foo\n%: force\n@$(MAKE) -f Makefile $@\nforce: ;\nIf you say ‘\nmake foo\n’,\nmake\nwill find\nGNUmakefile\n,\nread it, and see that to make\nfoo\n, it needs to run the recipe\n‘\nfrobnicate > foo\n’.  If you say ‘\nmake bar\n’,\nmake\nwill\nfind no way to make\nbar\nin\nGNUmakefile\n, so it will use the\nrecipe from the pattern rule: ‘\nmake -f Makefile bar\n’.  If\nMakefile\nprovides a rule for updating\nbar\n,\nmake\nwill apply the rule.  And likewise for any other target that\nGNUmakefile\ndoes not say how to make.\nThe way this works is that the pattern rule has a pattern of just\n‘\n%\n’, so it matches any target whatever.  The rule specifies a\nprerequisite\nforce\n, to guarantee that the recipe will be run even\nif the target file already exists.  We give the\nforce\ntarget an\nempty recipe to prevent\nmake\nfrom searching for an implicit rule to\nbuild it—otherwise it would apply the same match-anything rule to\nforce\nitself and create a prerequisite loop!\nNext:\nHow Makefiles Are Parsed\n, Previous:\nOverriding Part of Another Makefile\n, Up:\nWriting Makefiles\n[\nContents\n][\nIndex\n]\n3.7 How\nmake\nReads a Makefile\nGNU\nmake\ndoes its work in two distinct phases.  During the\nfirst phase it reads all the makefiles, included makefiles, etc. and\ninternalizes all the variables and their values and implicit and\nexplicit rules, and builds a dependency graph of all the targets and\ntheir prerequisites.  During the second phase,\nmake\nuses this\ninternalized data to determine which targets need to be updated and\nrun the recipes necessary to update them.\nIt’s important to understand this two-phase approach because it has a\ndirect impact on how variable and function expansion happens; this is\noften a source of some confusion when writing makefiles.  Below is a\nsummary of the different constructs that can be found in a makefile,\nand the phase in which expansion happens for each part of the\nconstruct.\nWe say that expansion is\nimmediate\nif it happens during the\nfirst phase:\nmake\nwill expand that part of the construct as the\nmakefile is parsed.  We say that expansion is\ndeferred\nif it is\nnot immediate.  Expansion of a deferred construct part is delayed\nuntil the expansion is used: either when it is referenced in an\nimmediate context, or when it is needed during the second phase.\nYou may not be familiar with some of these constructs yet.  You can\nreference this section as you become familiar with them, in later\nchapters.\nVariable Assignment\nVariable definitions are parsed as follows:\nimmediate\n=\ndeferred\nimmediate\n?=\ndeferred\nimmediate\n:=\nimmediate\nimmediate\n::=\nimmediate\nimmediate\n:::=\nimmediate-with-escape\nimmediate\n+=\ndeferred\nor\nimmediate\nimmediate\n!=\nimmediate\ndefine\nimmediate\ndeferred\nendef\ndefine\nimmediate\n=\ndeferred\nendef\ndefine\nimmediate\n?=\ndeferred\nendef\ndefine\nimmediate\n:=\nimmediate\nendef\ndefine\nimmediate\n::=\nimmediate\nendef\ndefine\nimmediate\n:::=\nimmediate-with-escape\nendef\ndefine\nimmediate\n+=\ndeferred\nor\nimmediate\nendef\ndefine\nimmediate\n!=\nimmediate\nendef\nFor the append operator ‘\n+=\n’, the right-hand side is considered\nimmediate if the variable was previously set as a simple variable\n(‘\n:=\n’ or ‘\n::=\n’), and deferred otherwise.\nFor the\nimmediate-with-escape\noperator ‘\n:::=\n’, the value on\nthe right-hand side is immediately expanded but then escaped (that is,\nall instances of\n$\nin the result of the expansion are replaced\nwith\n$$\n).\nFor the shell assignment operator ‘\n!=\n’, the right-hand side is\nevaluated immediately and handed to the shell.  The result is stored\nin the variable named on the left, and that variable is considered a\nrecursively expanded variable (and will thus be re-evaluated on each\nreference).\nConditional Directives\nConditional directives are parsed immediately.  This means, for\nexample, that automatic variables cannot be used in conditional\ndirectives, as automatic variables are not set until the recipe for\nthat rule is invoked.  If you need to use automatic variables in a\nconditional directive you\nmust\nmove the condition into the\nrecipe and use shell conditional syntax instead.\nRule Definition\nA rule is always expanded the same way, regardless of the form:\nimmediate\n:\nimmediate\n;\ndeferred\ndeferred\nThat is, the target and prerequisite sections are expanded\nimmediately, and the recipe used to build the target is always\ndeferred.  This is true for explicit rules, pattern rules, suffix\nrules, static pattern rules, and simple prerequisite definitions.\nNext:\nSecondary Expansion\n, Previous:\nHow\nmake\nReads a Makefile\n, Up:\nWriting Makefiles\n[\nContents\n][\nIndex\n]\n3.8 How Makefiles Are Parsed\nGNU\nmake\nparses makefiles line-by-line.  Parsing proceeds using\nthe following steps:\nRead in a full logical line, including backslash-escaped lines\n(see\nSplitting Long Lines\n).\nRemove comments (see\nWhat Makefiles Contain\n).\nIf the line begins with the recipe prefix character and we are in a\nrule context, add the line to the current recipe and read the next\nline (see\nRecipe Syntax\n).\nExpand elements of the line which appear in an\nimmediate\nexpansion context (see\nHow\nmake\nReads a\nMakefile\n).\nScan the line for a separator character, such as ‘\n:\n’ or ‘\n=\n’,\nto determine whether the line is a macro assignment or a rule\n(see\nRecipe Syntax\n).\nInternalize the resulting operation and read the next line.\nAn important consequence of this is that a macro can expand to an\nentire rule,\nif it is one line long\n.  This will work:\nmyrule = target : ; echo built\n$(myrule)\nHowever, this will not work because\nmake\ndoes not re-split lines\nafter it has expanded them:\ndefine myrule\ntarget:\necho built\nendef\n$(myrule)\nThe above makefile results in the definition of a target ‘\ntarget\n’\nwith prerequisites ‘\necho\n’ and ‘\nbuilt\n’, as if the makefile\ncontained\ntarget: echo built\n, rather than a rule with a recipe.\nNewlines still present in a line after expansion is complete are\nignored as normal whitespace.\nIn order to properly expand a multi-line macro you must use the\neval\nfunction: this causes the\nmake\nparser to be run on\nthe results of the expanded macro (see\nThe\neval\nFunction\n).\nPrevious:\nHow Makefiles Are Parsed\n, Up:\nWriting Makefiles\n[\nContents\n][\nIndex\n]\n3.9 Secondary Expansion\nPreviously we learned that GNU\nmake\nworks in two distinct\nphases: a read-in phase and a target-update phase (see\nHow\nmake\nReads a Makefile\n).  GNU Make also has\nthe ability to enable a\nsecond expansion\nof the prerequisites\n(only) for some or all targets defined in the makefile.  In order for\nthis second expansion to occur, the special target\n.SECONDEXPANSION\nmust be defined before the first prerequisite\nlist that makes use of this feature.\nIf\n.SECONDEXPANSION\nis defined then when GNU\nmake\nneeds to check\nthe prerequisites of a target, the prerequisites are expanded a\nsecond\ntime\n.  In most circumstances this secondary expansion will have no effect,\nsince all variable and function references will have been expanded during the\ninitial parsing of the makefiles.  In order to take advantage of the secondary\nexpansion phase of the parser, then, it’s necessary to\nescape\nthe\nvariable or function reference in the makefile.  In this case the first\nexpansion merely un-escapes the reference but doesn’t expand it, and expansion\nis left to the secondary expansion phase.  For example, consider this\nmakefile:\n.SECONDEXPANSION:\nONEVAR = onefile\nTWOVAR = twofile\nmyfile: $(ONEVAR) $$(TWOVAR)\nAfter the first expansion phase the prerequisites list of the\nmyfile\ntarget will be\nonefile\nand\n$(TWOVAR)\n; the\nfirst (unescaped) variable reference to\nONEVAR\nis expanded,\nwhile the second (escaped) variable reference is simply unescaped,\nwithout being recognized as a variable reference.  Now during the\nsecondary expansion the first word is expanded again but since it\ncontains no variable or function references it remains the value\nonefile\n, while the second word is now a normal reference to the\nvariable\nTWOVAR\n, which is expanded to the value\ntwofile\n.\nThe final result is that there are two prerequisites,\nonefile\nand\ntwofile\n.\nObviously, this is not a very interesting case since the same result\ncould more easily have been achieved simply by having both variables\nappear, unescaped, in the prerequisites list.  One difference becomes\napparent if the variables are reset; consider this example:\n.SECONDEXPANSION:\nAVAR = top\nonefile: $(AVAR)\ntwofile: $$(AVAR)\nAVAR = bottom\nHere the prerequisite of\nonefile\nwill be expanded immediately,\nand resolve to the value\ntop\n, while the prerequisite of\ntwofile\nwill not be full expanded until the secondary expansion\nand yield a value of\nbottom\n.\nThis is marginally more exciting, but the true power of this feature\nonly becomes apparent when you discover that secondary expansions\nalways take place within the scope of the automatic variables for that\ntarget.  This means that you can use variables such as\n$@\n,\n$*\n, etc. during the second expansion and they will have their\nexpected values, just as in the recipe.  All you have to do is defer\nthe expansion by escaping the\n$\n.  Also, secondary expansion\noccurs for both explicit and implicit (pattern) rules.  Knowing this,\nthe possible uses for this feature increase dramatically.  For\nexample:\n.SECONDEXPANSION:\nmain_OBJS := main.o try.o test.o\nlib_OBJS := lib.o api.o\nmain lib: $$($$@_OBJS)\nHere, after the initial expansion the prerequisites of both the\nmain\nand\nlib\ntargets will be\n$($@_OBJS)\n.  During\nthe secondary expansion, the\n$@\nvariable is set to the name of\nthe target and so the expansion for the\nmain\ntarget will yield\n$(main_OBJS)\n, or\nmain.o try.o test.o\n, while the\nsecondary expansion for the\nlib\ntarget will yield\n$(lib_OBJS)\n, or\nlib.o api.o\n.\nYou can also mix in functions here, as long as they are properly escaped:\nmain_SRCS := main.c try.c test.c\nlib_SRCS := lib.c api.c\n.SECONDEXPANSION:\nmain lib: $$(patsubst %.c,%.o,$$($$@_SRCS))\nThis version allows users to specify source files rather than object\nfiles, but gives the same resulting prerequisites list as the previous\nexample.\nEvaluation of automatic variables during the secondary expansion\nphase, especially of the target name variable\n$$@\n, behaves\nsimilarly to evaluation within recipes.  However, there are some\nsubtle differences and “corner cases” which come into play for the\ndifferent types of rule definitions that\nmake\nunderstands.  The\nsubtleties of using the different automatic variables are described\nbelow.\nSecondary Expansion of Explicit Rules\nDuring the secondary expansion of explicit rules,\n$$@\nand\n$$%\nevaluate, respectively, to the file name of the target and,\nwhen the target is an archive member, the target member name.  The\n$$<\nvariable evaluates to the first prerequisite in the first\nrule for this target.\n$$^\nand\n$$+\nevaluate to the list\nof all prerequisites of rules\nthat have already appeared\nfor\nthe same target (\n$$+\nwith repetitions and\n$$^\nwithout).  The following example will help illustrate these behaviors:\n.SECONDEXPANSION:\nfoo: foo.1 bar.1 $$< $$^ $$+    # line #1\nfoo: foo.2 bar.2 $$< $$^ $$+    # line #2\nfoo: foo.3 bar.3 $$< $$^ $$+    # line #3\nIn the first prerequisite list, all three variables (\n$$<\n,\n$$^\n, and\n$$+\n) expand to the empty string.  In the\nsecond, they will have values\nfoo.1\n,\nfoo.1 bar.1\n, and\nfoo.1 bar.1\nrespectively.  In the third they will have values\nfoo.1\n,\nfoo.1 bar.1 foo.2 bar.2\n, and\nfoo.1 bar.1\nfoo.2 bar.2 foo.1 foo.1 bar.1 foo.1 bar.1\nrespectively.\nRules undergo secondary expansion in makefile order, except that\nthe rule with the recipe is always evaluated last.\nThe variables\n$$?\nand\n$$*\nare not available and expand\nto the empty string.\nSecondary Expansion of Static Pattern Rules\nRules for secondary expansion of static pattern rules are identical to\nthose for explicit rules, above, with one exception: for static\npattern rules the\n$$*\nvariable is set to the pattern stem.  As\nwith explicit rules,\n$$?\nis not available and expands to the\nempty string.\nSecondary Expansion of Implicit Rules\nAs\nmake\nsearches for an implicit rule, it substitutes the stem\nand then performs secondary expansion for every rule with a matching\ntarget pattern.  The value of the automatic variables is derived in\nthe same fashion as for static pattern rules.  As an example:\n.SECONDEXPANSION:\nfoo: bar\nfoo foz: fo%: bo%\n%oo: $$< $$^ $$+ $$*\nWhen the implicit rule is tried for target\nfoo\n,\n$$<\nexpands to\nbar\n,\n$$^\nexpands to\nbar boo\n,\n$$+\nalso expands to\nbar boo\n, and\n$$*\nexpands to\nf\n.\nNote that the directory prefix (D), as described in\nImplicit Rule Search Algorithm\n, is appended (after\nexpansion) to all the patterns in the prerequisites list.  As an\nexample:\n.SECONDEXPANSION:\n/tmp/foo.o:\n%.o: $$(addsuffix /%.c,foo bar) foo.h\n@echo $^\nThe prerequisite list printed, after the secondary expansion and\ndirectory prefix reconstruction, will be\n/tmp/foo/foo.c\n/tmp/bar/foo.c foo.h\n.  If you are not interested in this\nreconstruction, you can use\n$$*\ninstead of\n%\nin the\nprerequisites list.\nNext:\nWriting Recipes in Rules\n, Previous:\nWriting Makefiles\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\n4 Writing Rules\nA\nrule\nappears in the makefile and says when and how to remake\ncertain files, called the rule’s\ntargets\n(most often only one per rule).\nIt lists the other files that are the\nprerequisites\nof the target, and\nthe\nrecipe\nto use to create or update the target.\nThe order of rules is not significant, except for determining the\ndefault\ngoal\n: the target for\nmake\nto consider, if you do not otherwise specify\none.  The default goal is the first target of the first rule in the first\nmakefile.  There are two exceptions: a target starting with a period is not a\ndefault unless it also contains one or more slashes, ‘\n/\n’; and, a target\nthat defines a pattern rule has no effect on the default goal.  (See\nDefining and Redefining Pattern Rules\n.)\nTherefore, we usually write the makefile so that the first rule is the\none for compiling the entire program or all the programs described by\nthe makefile (often with a target called ‘\nall\n’).\nSee\nArguments to Specify the Goals\n.\nRule Example\nRule Syntax\nTypes of Prerequisites\nUsing Wildcard Characters in File Names\nSearching Directories for Prerequisites\nPhony Targets\nRules without Recipes or Prerequisites\nEmpty Target Files to Record Events\nSpecial Built-in Target Names\nMultiple Targets in a Rule\nMultiple Rules for One Target\nStatic Pattern Rules\nDouble-Colon Rules\nGenerating Prerequisites Automatically\nNext:\nRule Syntax\n, Previous:\nWriting Rules\n, Up:\nWriting Rules\n[\nContents\n][\nIndex\n]\n4.1 Rule Example\nHere is an example of a rule:\nfoo.o : foo.c defs.h       # module for twiddling the frobs\ncc -c -g foo.c\nIts target is\nfoo.o\nand its prerequisites are\nfoo.c\nand\ndefs.h\n.  It has one command in the recipe: ‘\ncc -c -g foo.c\n’.\nThe recipe starts with a tab to identify it as a recipe.\nThis rule says two things:\nHow to decide whether\nfoo.o\nis out of date: it is out of date\nif it does not exist, or if either\nfoo.c\nor\ndefs.h\nis\nmore recent than it.\nHow to update the file\nfoo.o\n: by running\ncc\nas stated.\nThe recipe does not explicitly mention\ndefs.h\n, but we presume\nthat\nfoo.c\nincludes it, and that is why\ndefs.h\nwas added\nto the prerequisites.\nNext:\nTypes of Prerequisites\n, Previous:\nRule Example\n, Up:\nWriting Rules\n[\nContents\n][\nIndex\n]\n4.2 Rule Syntax\nIn general, a rule looks like this:\ntargets\n:\nprerequisites\nrecipe\n…\nor like this:\ntargets\n:\nprerequisites\n;\nrecipe\nrecipe\n…\nThe\ntargets\nare file names, separated by spaces.  Wildcard\ncharacters may be used (see\nUsing Wildcard Characters\nin File Names\n) and a name of the form\na\n(\nm\n)\nrepresents member\nm\nin archive file\na\n(see\nArchive Members as Targets\n).\nUsually there is only one\ntarget per rule, but occasionally there is a reason to have more\n(see\nMultiple Targets in a Rule\n).\nThe\nrecipe\nlines start with a tab character (or the first\ncharacter in the value of the\n.RECIPEPREFIX\nvariable;\nsee\nOther Special Variables\n).  The first recipe line may appear on the line\nafter the prerequisites, with a tab character, or may appear on the\nsame line, with a semicolon.  Either way, the effect is the same.\nThere are other differences in the syntax of recipes.\nSee\nWriting Recipes in Rules\n.\nBecause dollar signs are used to start\nmake\nvariable\nreferences, if you really want a dollar sign in a target or\nprerequisite you must write two of them, ‘\n$$\n’ (see\nHow to Use Variables\n).  If you have enabled secondary\nexpansion (see\nSecondary Expansion\n) and you want a literal dollar\nsign in the prerequisites list, you must actually write\nfour\ndollar signs (‘\n$$$$\n’).\nYou may split a long line by inserting a backslash followed by a\nnewline, but this is not required, as\nmake\nplaces no limit on\nthe length of a line in a makefile.\nA rule tells\nmake\ntwo things: when the targets are out of date,\nand how to update them when necessary.\nThe criterion for being out of date is specified in terms of the\nprerequisites\n, which consist of file names separated by spaces.\n(Wildcards and archive members (see\nUsing\nmake\nto Update Archive Files\n) are allowed here too.)\nA target is out of date if it does not exist or if it is older than any\nof the prerequisites (by comparison of last-modification times).  The\nidea is that the contents of the target file are computed based on\ninformation in the prerequisites, so if any of the prerequisites changes,\nthe contents of the existing target file are no longer necessarily\nvalid.\nHow to update is specified by a\nrecipe\n.  This is one or more\nlines to be executed by the shell (normally ‘\nsh\n’), but with some\nextra features (see\nWriting Recipes in Rules\n).\nNext:\nUsing Wildcard Characters in File Names\n, Previous:\nRule Syntax\n, Up:\nWriting Rules\n[\nContents\n][\nIndex\n]\n4.3 Types of Prerequisites\nThere are two different types of prerequisites understood by GNU\nmake\n:\nnormal prerequisites, described in the previous section, and\norder-only\nprerequisites.  A normal prerequisite makes two statements: first, it imposes\nan order in which recipes will be invoked: the recipes for all prerequisites\nof a target will be completed before the recipe for the target is started.\nSecond, it imposes a dependency relationship: if any prerequisite is newer\nthan the target, then the target is considered out-of-date and must be\nrebuilt.\nNormally, this is exactly what you want: if a target’s prerequisite is\nupdated, then the target should also be updated.\nOccasionally you may want to ensure that a prerequisite is built before a\ntarget, but\nwithout\nforcing the target to be updated if the\nprerequisite is updated.\nOrder-only\nprerequisites are used to create\nthis type of relationship.  Order-only prerequisites can be specified by\nplacing a pipe symbol (\n|\n) in the prerequisites list: any prerequisites\nto the left of the pipe symbol are normal; any prerequisites to the right are\norder-only:\ntargets\n:\nnormal-prerequisites\n|\norder-only-prerequisites\nThe normal prerequisites section may of course be empty.  Also, you\nmay still declare multiple lines of prerequisites for the same target:\nthey are appended appropriately (normal prerequisites are appended to\nthe list of normal prerequisites; order-only prerequisites are\nappended to the list of order-only prerequisites).  Note that if you\ndeclare the same file to be both a normal and an order-only\nprerequisite, the normal prerequisite takes precedence (since they\nhave a strict superset of the behavior of an order-only prerequisite).\nOrder-only prerequisites are never checked when determining if the\ntarget is out of date; even order-only prerequisites marked as phony\n(see\nPhony Targets\n) will not cause the target to be rebuilt.\nConsider an example where your targets are to be placed in a separate\ndirectory, and that directory might not exist before\nmake\nis\nrun.  In this situation, you want the directory to be created before\nany targets are placed into it but, because the timestamps on\ndirectories change whenever a file is added, removed, or renamed, we\ncertainly don’t want to rebuild all the targets whenever the\ndirectory’s timestamp changes.  One way to manage this is with\norder-only prerequisites: make the directory an order-only\nprerequisite on all the targets:\nOBJDIR := objdir\nOBJS := $(addprefix $(OBJDIR)/,foo.o bar.o baz.o)\n$(OBJDIR)/%.o : %.c\n$(COMPILE.c) $(OUTPUT_OPTION) $<\nall: $(OBJS)\n$(OBJS): | $(OBJDIR)\n$(OBJDIR):\nmkdir $(OBJDIR)\nNow the rule to create the\nobjdir\ndirectory will be run, if\nneeded, before any ‘\n.o\n’ is built, but no ‘\n.o\n’ will be built\nbecause the\nobjdir\ndirectory timestamp changed.\nNext:\nSearching Directories for Prerequisites\n, Previous:\nTypes of Prerequisites\n, Up:\nWriting Rules\n[\nContents\n][\nIndex\n]\n4.4 Using Wildcard Characters in File Names\nA single file name can specify many files using\nwildcard characters\n.\nThe wildcard characters in\nmake\nare ‘\n*\n’, ‘\n?\n’ and\n‘\n[…]\n’, the same as in the Bourne shell.  For example,\n*.c\nspecifies a list of all the files (in the working directory) whose names\nend in ‘\n.c\n’.\nIf an expression matches multiple files then the results will be\nsorted.\n2\nHowever multiple expressions will not be\nglobally sorted.  For example,\n*.c *.h\nwill list all the files whose\nnames end in ‘\n.c\n’, sorted, followed by all the files whose names end in\n‘\n.h\n’, sorted.\nThe character ‘\n~\n’ at the beginning of a file name also has special\nsignificance.  If alone, or followed by a slash, it represents your home\ndirectory.  For example\n~/bin\nexpands to\n/home/you/bin\n.\nIf the ‘\n~\n’ is followed by a word, the string represents the home\ndirectory of the user named by that word.  For example\n~john/bin\nexpands to\n/home/john/bin\n.  On systems which don’t have a home\ndirectory for each user (such as MS-DOS or MS-Windows), this\nfunctionality can be simulated by setting the environment variable\nHOME\n.\nWildcard expansion is performed by\nmake\nautomatically in\ntargets and in prerequisites.  In recipes, the shell is responsible\nfor wildcard expansion.  In other contexts, wildcard expansion happens\nonly if you request it explicitly with the\nwildcard\nfunction.\nThe special significance of a wildcard character can be turned off by\npreceding it with a backslash.  Thus,\nfoo\\*bar\nwould refer to a\nspecific file whose name consists of ‘\nfoo\n’, an asterisk, and\n‘\nbar\n’.\nWildcard Examples\nPitfalls of Using Wildcards\nThe Function\nwildcard\nNext:\nPitfalls of Using Wildcards\n, Previous:\nUsing Wildcard Characters in File Names\n, Up:\nUsing Wildcard Characters in File Names\n[\nContents\n][\nIndex\n]\n4.4.1 Wildcard Examples\nWildcards can be used in the recipe of a rule, where they are expanded\nby the shell.  For example, here is a rule to delete all the object files:\nclean:\nrm -f *.o\nWildcards are also useful in the prerequisites of a rule.  With the\nfollowing rule in the makefile, ‘\nmake print\n’ will print all the\n‘\n.c\n’ files that have changed since the last time you printed them:\nprint: *.c\nlpr -p $?\ntouch print\nThis rule uses\nprint\nas an empty target file; see\nEmpty Target Files to Record Events\n.  (The automatic variable\n‘\n$?\n’ is used to print only those files that have changed; see\nAutomatic Variables\n.)\nWildcard expansion does not happen when you define a variable.  Thus, if\nyou write this:\nobjects = *.o\nthen the value of the variable\nobjects\nis the actual string\n‘\n*.o\n’.  However, if you use the value of\nobjects\nin a\ntarget or prerequisite, wildcard expansion will take place there.  If\nyou use the value of\nobjects\nin a recipe, the shell may perform\nwildcard expansion when the recipe runs.  To set\nobjects\nto the\nexpansion, instead use:\nobjects := $(wildcard *.o)\nSee\nThe Function\nwildcard\n.\nNext:\nThe Function\nwildcard\n, Previous:\nWildcard Examples\n, Up:\nUsing Wildcard Characters in File Names\n[\nContents\n][\nIndex\n]\n4.4.2 Pitfalls of Using Wildcards\nNow here is an example of a naive way of using wildcard expansion, that\ndoes not do what you would intend.  Suppose you would like to say that the\nexecutable file\nfoo\nis made from all the object files in the\ndirectory, and you write this:\nobjects = *.o\nfoo : $(objects)\ncc -o foo $(CFLAGS) $(objects)\nThe value of\nobjects\nis the actual string ‘\n*.o\n’.  Wildcard\nexpansion happens in the rule for\nfoo\n, so that each\nexisting\n‘\n.o\n’ file becomes a prerequisite of\nfoo\nand will be recompiled if\nnecessary.\nBut what if you delete all the ‘\n.o\n’ files?  When a wildcard matches\nno files, it is left as it is, so then\nfoo\nwill depend on the\noddly-named file\n*.o\n.  Since no such file is likely to exist,\nmake\nwill give you an error saying it cannot figure out how to\nmake\n*.o\n.  This is not what you want!\nActually it is possible to obtain the desired result with wildcard\nexpansion, but you need more sophisticated techniques, including the\nwildcard\nfunction and string substitution.\nSee\nThe Function\nwildcard\n.\nMicrosoft operating systems (MS-DOS and MS-Windows) use backslashes to\nseparate directories in pathnames, like so:\nc:\\foo\\bar\\baz.c\nThis is equivalent to the Unix-style\nc:/foo/bar/baz.c\n(the\nc:\npart is the so-called drive letter).  When\nmake\nruns on\nthese systems, it supports backslashes as well as the Unix-style forward\nslashes in pathnames.  However, this support does\nnot\ninclude the\nwildcard expansion, where backslash is a quote character.  Therefore,\nyou\nmust\nuse Unix-style slashes in these cases.\nPrevious:\nPitfalls of Using Wildcards\n, Up:\nUsing Wildcard Characters in File Names\n[\nContents\n][\nIndex\n]\n4.4.3 The Function\nwildcard\nWildcard expansion happens automatically in rules.  But wildcard expansion\ndoes not normally take place when a variable is set, or inside the\narguments of a function.  If you want to do wildcard expansion in such\nplaces, you need to use the\nwildcard\nfunction, like this:\n$(wildcard\npattern\n…)\nThis string, used anywhere in a makefile, is replaced by a\nspace-separated list of names of existing files that match one of the\ngiven file name patterns.  If no existing file name matches a pattern,\nthen that pattern is omitted from the output of the\nwildcard\nfunction.  Note that this is different from how unmatched wildcards\nbehave in rules, where they are used verbatim rather than ignored\n(see\nPitfalls of Using Wildcards\n).\nAs with wildcard expansion in rules, the results of the\nwildcard\nfunction are sorted.  But again, each individual expression is sorted\nseparately, so ‘\n$(wildcard *.c *.h)\n’ will expand to all files matching\n‘\n.c\n’, sorted, followed by all files matching ‘\n.h\n’, sorted.\nOne use of the\nwildcard\nfunction is to get a list of all the C source\nfiles in a directory, like this:\n$(wildcard *.c)\nWe can change the list of C source files into a list of object files by\nreplacing the ‘\n.c\n’ suffix with ‘\n.o\n’ in the result, like this:\n$(patsubst %.c,%.o,$(wildcard *.c))\n(Here we have used another function,\npatsubst\n.\nSee\nFunctions for String Substitution and Analysis\n.)\nThus, a makefile to compile all C source files in the directory and then\nlink them together could be written as follows:\nobjects := $(patsubst %.c,%.o,$(wildcard *.c))\nfoo : $(objects)\ncc -o foo $(objects)\n(This takes advantage of the implicit rule for compiling C programs, so\nthere is no need to write explicit rules for compiling the files.\nSee\nThe Two Flavors of Variables\n, for an explanation of\n‘\n:=\n’, which is a variant of ‘\n=\n’.)\nNext:\nPhony Targets\n, Previous:\nUsing Wildcard Characters in File Names\n, Up:\nWriting Rules\n[\nContents\n][\nIndex\n]\n4.5 Searching Directories for Prerequisites\nFor large systems, it is often desirable to put sources in a separate\ndirectory from the binaries.  The\ndirectory search\nfeatures of\nmake\nfacilitate this by searching several directories\nautomatically to find a prerequisite.  When you redistribute the files\namong directories, you do not need to change the individual rules,\njust the search paths.\nVPATH\n: Search Path for All Prerequisites\nThe\nvpath\nDirective\nHow Directory Searches are Performed\nWriting Recipes with Directory Search\nDirectory Search and Implicit Rules\nDirectory Search for Link Libraries\nNext:\nThe\nvpath\nDirective\n, Previous:\nSearching Directories for Prerequisites\n, Up:\nSearching Directories for Prerequisites\n[\nContents\n][\nIndex\n]\n4.5.1\nVPATH\n: Search Path for All Prerequisites\nThe value of the\nmake\nvariable\nVPATH\nspecifies a list of\ndirectories that\nmake\nshould search.  Most often, the\ndirectories are expected to contain prerequisite files that are not in the\ncurrent directory; however,\nmake\nuses\nVPATH\nas a search\nlist for both prerequisites and targets of rules.\nThus, if a file that is listed as a target or prerequisite does not exist\nin the current directory,\nmake\nsearches the directories listed in\nVPATH\nfor a file with that name.  If a file is found in one of\nthem, that file may become the prerequisite (see below).  Rules may then\nspecify the names of files in the prerequisite list as if they all\nexisted in the current directory.  See\nWriting Recipes with Directory Search\n.\nIn the\nVPATH\nvariable, directory names are separated by colons or\nblanks.  The order in which directories are listed is the order followed\nby\nmake\nin its search.  (On MS-DOS and MS-Windows, semi-colons\nare used as separators of directory names in\nVPATH\n, since the\ncolon can be used in the pathname itself, after the drive letter.)\nFor example,\nVPATH = src:../headers\nspecifies a path containing two directories,\nsrc\nand\n../headers\n, which\nmake\nsearches in that order.\nWith this value of\nVPATH\n, the following rule,\nfoo.o : foo.c\nis interpreted as if it were written like this:\nfoo.o : src/foo.c\nassuming the file\nfoo.c\ndoes not exist in the current directory but\nis found in the directory\nsrc\n.\nNext:\nHow Directory Searches are Performed\n, Previous:\nVPATH\n: Search Path for All Prerequisites\n, Up:\nSearching Directories for Prerequisites\n[\nContents\n][\nIndex\n]\n4.5.2 The\nvpath\nDirective\nSimilar to the\nVPATH\nvariable, but more selective, is the\nvpath\ndirective (note lower case), which allows you to specify a\nsearch path for a particular class of file names: those that match a\nparticular pattern.  Thus you can supply certain search directories for\none class of file names and other directories (or none) for other file\nnames.\nThere are three forms of the\nvpath\ndirective:\nvpath\npattern\ndirectories\nSpecify the search path\ndirectories\nfor file names that match\npattern\n.\nThe search path,\ndirectories\n, is a list of directories to be\nsearched, separated by colons (semi-colons on MS-DOS and MS-Windows) or\nblanks, just like the search path used in the\nVPATH\nvariable.\nvpath\npattern\nClear out the search path associated with\npattern\n.\nvpath\nClear all search paths previously specified with\nvpath\ndirectives.\nA\nvpath\npattern is a string containing a ‘\n%\n’ character.  The\nstring must match the file name of a prerequisite that is being searched\nfor, the ‘\n%\n’ character matching any sequence of zero or more\ncharacters (as in pattern rules; see\nDefining and\nRedefining Pattern Rules\n).  For example,\n%.h\nmatches files that\nend in\n.h\n.  (If there is no ‘\n%\n’, the pattern must match the\nprerequisite exactly, which is not useful very often.)\n‘\n%\n’ characters in a\nvpath\ndirective’s pattern can be quoted\nwith preceding backslashes (‘\n\\\n’).  Backslashes that would otherwise\nquote ‘\n%\n’ characters can be quoted with more backslashes.\nBackslashes that quote ‘\n%\n’ characters or other backslashes are\nremoved from the pattern before it is compared to file names.  Backslashes\nthat are not in danger of quoting ‘\n%\n’ characters go unmolested.\nWhen a prerequisite fails to exist in the current directory, if the\npattern\nin a\nvpath\ndirective matches the name of the\nprerequisite file, then the\ndirectories\nin that directive are searched\njust like (and before) the directories in the\nVPATH\nvariable.\nFor example,\nvpath %.h ../headers\ntells\nmake\nto look for any prerequisite whose name ends in\n.h\nin the directory\n../headers\nif the file is not found in the current\ndirectory.\nIf several\nvpath\npatterns match the prerequisite file’s name, then\nmake\nprocesses each matching\nvpath\ndirective one by one,\nsearching all the directories mentioned in each directive.\nmake\nhandles multiple\nvpath\ndirectives in the order in which they\nappear in the makefile; multiple directives with the same pattern are\nindependent of each other.\nThus,\nvpath %.c foo\nvpath %   blish\nvpath %.c bar\nwill look for a file ending in ‘\n.c\n’ in\nfoo\n, then\nblish\n, then\nbar\n, while\nvpath %.c foo:bar\nvpath %   blish\nwill look for a file ending in ‘\n.c\n’ in\nfoo\n, then\nbar\n, then\nblish\n.\nNext:\nWriting Recipes with Directory Search\n, Previous:\nThe\nvpath\nDirective\n, Up:\nSearching Directories for Prerequisites\n[\nContents\n][\nIndex\n]\n4.5.3 How Directory Searches are Performed\nWhen a prerequisite is found through directory search, regardless of type\n(general or selective), the pathname located may not be the one that\nmake\nactually provides you in the prerequisite list.  Sometimes\nthe path discovered through directory search is thrown away.\nThe algorithm\nmake\nuses to decide whether to keep or abandon a\npath found via directory search is as follows:\nIf a target file does not exist at the path specified in the makefile,\ndirectory search is performed.\nIf the directory search is successful, that path is kept and this file\nis tentatively stored as the target.\nAll prerequisites of this target are examined using this same method.\nAfter processing the prerequisites, the target may or may not need to be\nrebuilt:\nIf the target does\nnot\nneed to be rebuilt, the path to the file\nfound during directory search is used for any prerequisite lists which\ncontain this target.  In short, if\nmake\ndoesn’t need to rebuild\nthe target then you use the path found via directory search.\nIf the target\ndoes\nneed to be rebuilt (is out-of-date), the\npathname found during directory search is\nthrown away\n, and the\ntarget is rebuilt using the file name specified in the makefile.  In\nshort, if\nmake\nmust rebuild, then the target is rebuilt locally,\nnot in the directory found via directory search.\nThis algorithm may seem complex, but in practice it is quite often\nexactly what you want.\nOther versions of\nmake\nuse a simpler algorithm: if the file does\nnot exist, and it is found via directory search, then that pathname is\nalways used whether or not the target needs to be built.  Thus, if the\ntarget is rebuilt it is created at the pathname discovered during\ndirectory search.\nIf, in fact, this is the behavior you want for some or all of your\ndirectories, you can use the\nGPATH\nvariable to indicate this to\nmake\n.\nGPATH\nhas the same syntax and format as\nVPATH\n(that is, a\nspace- or colon-delimited list of pathnames).  If an out-of-date target\nis found by directory search in a directory that also appears in\nGPATH\n, then that pathname is not thrown away.  The target is\nrebuilt using the expanded path.\nNext:\nDirectory Search and Implicit Rules\n, Previous:\nHow Directory Searches are Performed\n, Up:\nSearching Directories for Prerequisites\n[\nContents\n][\nIndex\n]\n4.5.4 Writing Recipes with Directory Search\nWhen a prerequisite is found in another directory through directory search,\nthis cannot change the recipe of the rule; they will execute as written.\nTherefore, you must write the recipe with care so that it will look for\nthe prerequisite in the directory where\nmake\nfinds it.\nThis is done with the\nautomatic variables\nsuch as ‘\n$^\n’\n(see\nAutomatic Variables\n).\nFor instance, the value of ‘\n$^\n’ is a\nlist of all the prerequisites of the rule, including the names of\nthe directories in which they were found, and the value of\n‘\n$@\n’ is the target.  Thus:\nfoo.o : foo.c\ncc -c $(CFLAGS) $^ -o $@\n(The variable\nCFLAGS\nexists so you can specify flags for C\ncompilation by implicit rules; we use it here for consistency so it will\naffect all C compilations uniformly;\nsee\nVariables Used by Implicit Rules\n.)\nOften the prerequisites include header files as well, which you do not\nwant to mention in the recipe.  The automatic variable ‘\n$<\n’ is\njust the first prerequisite:\nVPATH = src:../headers\nfoo.o : foo.c defs.h hack.h\ncc -c $(CFLAGS) $< -o $@\nNext:\nDirectory Search for Link Libraries\n, Previous:\nWriting Recipes with Directory Search\n, Up:\nSearching Directories for Prerequisites\n[\nContents\n][\nIndex\n]\n4.5.5 Directory Search and Implicit Rules\nThe search through the directories specified in\nVPATH\nor with\nvpath\nalso happens during consideration of implicit rules\n(see\nUsing Implicit Rules\n).\nFor example, when a file\nfoo.o\nhas no explicit rule,\nmake\nconsiders implicit rules, such as the built-in rule to compile\nfoo.c\nif that file exists.  If such a file is lacking in the\ncurrent directory, the appropriate directories are searched for it.  If\nfoo.c\nexists (or is mentioned in the makefile) in any of the\ndirectories, the implicit rule for C compilation is applied.\nThe recipes of implicit rules normally use automatic variables as a\nmatter of necessity; consequently they will use the file names found by\ndirectory search with no extra effort.\nPrevious:\nDirectory Search and Implicit Rules\n, Up:\nSearching Directories for Prerequisites\n[\nContents\n][\nIndex\n]\n4.5.6 Directory Search for Link Libraries\nDirectory search applies in a special way to libraries used with the\nlinker.  This special feature comes into play when you write a prerequisite\nwhose name is of the form ‘\n-l\nname\n’.  (You can tell something\nstrange is going on here because the prerequisite is normally the name of a\nfile, and the\nfile name\nof a library generally looks like\nlib\nname\n.a\n, not like ‘\n-l\nname\n’.)\nWhen a prerequisite’s name has the form ‘\n-l\nname\n’,\nmake\nhandles it specially by searching for the file\nlib\nname\n.so\n,\nand, if it is not found, for the file\nlib\nname\n.a\nin the current\ndirectory, in directories specified by matching\nvpath\nsearch paths and the\nVPATH\nsearch path, and then in the\ndirectories\n/lib\n,\n/usr/lib\n, and\nprefix\n/lib\n(normally\n/usr/local/lib\n, but MS-DOS/MS-Windows versions of\nmake\nbehave as if\nprefix\nis defined to be the root of the\nDJGPP installation tree).\nFor example, if there is a\n/usr/lib/libcurses.a\nlibrary on your\nsystem (and no\n/usr/lib/libcurses.so\nfile), then\nfoo : foo.c -lcurses\ncc $^ -o $@\nwould cause the command ‘\ncc foo.c /usr/lib/libcurses.a -o foo\n’ to\nbe executed when\nfoo\nis older than\nfoo.c\nor than\n/usr/lib/libcurses.a\n.\nAlthough the default set of files to be searched for is\nlib\nname\n.so\nand\nlib\nname\n.a\n, this is customizable\nvia the\n.LIBPATTERNS\nvariable.  Each word in the value of this\nvariable is a pattern string.  When a prerequisite like\n‘\n-l\nname\n’ is seen,\nmake\nwill replace the percent in\neach pattern in the list with\nname\nand perform the above directory\nsearches using each library file name.\nThe default value for\n.LIBPATTERNS\nis ‘\nlib%.so lib%.a\n’,\nwhich provides the default behavior described above.\nYou can turn off link library expansion completely by setting this\nvariable to an empty value.\nNext:\nRules without Recipes or Prerequisites\n, Previous:\nSearching Directories for Prerequisites\n, Up:\nWriting Rules\n[\nContents\n][\nIndex\n]\n4.6 Phony Targets\nA phony target is one that is not really the name of a file; rather it\nis just a name for a recipe to be executed when you make an explicit\nrequest.  There are two reasons to use a phony target: to avoid a\nconflict with a file of the same name, and to improve performance.\nIf you write a rule whose recipe will not create the target file, the\nrecipe will be executed every time the target comes up for remaking.\nHere is an example:\nclean:\nrm *.o temp\nBecause the\nrm\ncommand does not create a file named\nclean\n,\nprobably no such file will ever exist.  Therefore, the\nrm\ncommand\nwill be executed every time you say ‘\nmake clean\n’.\nIn this example, the\nclean\ntarget will not work properly if a\nfile named\nclean\nis ever created in this directory.  Since it\nhas no prerequisites,\nclean\nwould always be considered up to\ndate and its recipe would not be executed.  To avoid this problem you\ncan explicitly declare the target to be phony by making it a\nprerequisite of the special target\n.PHONY\n(see\nSpecial Built-in Target Names\n) as follows:\n.PHONY: clean\nclean:\nrm *.o temp\nOnce this is done, ‘\nmake clean\n’ will run the recipe regardless of\nwhether there is a file named\nclean\n.\nPrerequisites of\n.PHONY\nare always interpreted as literal\ntarget names, never as patterns (even if they contain ‘\n%\n’\ncharacters).  To always rebuild a pattern rule consider using a\n“force target” (see\nRules without Recipes or\nPrerequisites\n).\nPhony targets are also useful in conjunction with recursive\ninvocations of\nmake\n(see\nRecursive Use of\nmake\n).\nIn this situation the makefile will often contain a variable which\nlists a number of sub-directories to be built.  A simplistic way to\nhandle this is to define one rule with a recipe that loops over the\nsub-directories, like this:\nSUBDIRS = foo bar baz\nsubdirs:\nfor dir in $(SUBDIRS); do \\\n$(MAKE) -C $$dir; \\\ndone\nThere are problems with this method, however.  First, any error detected in a\nsub-make is ignored by this rule, so it will continue to build the rest of the\ndirectories even when one fails.  This can be overcome by adding shell\ncommands to note the error and exit, but then it will do so even if\nmake\nis invoked with the\n-k\noption, which is unfortunate.\nSecond, and perhaps more importantly, you cannot take full advantage of\nmake\n’s ability to build targets in parallel (see\nParallel\nExecution\n), since there is only one rule.  Each individual makefile’s targets\nwill be built in parallel, but only one sub-directory will be built at a time.\nBy declaring the sub-directories as\n.PHONY\ntargets (you must do\nthis as the sub-directory obviously always exists; otherwise it won’t\nbe built) you can remove these problems:\nSUBDIRS = foo bar baz\n.PHONY: subdirs $(SUBDIRS)\nsubdirs: $(SUBDIRS)\n$(SUBDIRS):\n$(MAKE) -C $@\nfoo: baz\nHere we’ve also declared that the\nfoo\nsub-directory cannot be\nbuilt until after the\nbaz\nsub-directory is complete; this kind of\nrelationship declaration is particularly important when attempting\nparallel builds.\nThe implicit rule search (see\nUsing Implicit Rules\n) is skipped for\n.PHONY\ntargets.  This is why declaring a target as\n.PHONY\nis good for performance, even if you are not worried\nabout the actual file existing.\nA phony target should not be a prerequisite of a real target file; if it is,\nits recipe will be run every time\nmake\nconsiders that file.  As long as\na phony target is never a prerequisite of a real target, the phony target\nrecipe will be executed only when the phony target is a specified goal\n(see\nArguments to Specify the Goals\n).\nYou should not declare an included makefile as phony.  Phony targets are not\nintended to represent real files, and because the target is always considered\nout of date make will always rebuild it then re-execute itself\n(see\nHow Makefiles Are Remade\n).  To avoid this,\nmake\nwill not re-execute itself if an included file marked as phony is\nre-built.\nPhony targets can have prerequisites.  When one directory contains multiple\nprograms, it is most convenient to describe all of the programs in one\nmakefile\n./Makefile\n.  Since the target remade by default will be the\nfirst one in the makefile, it is common to make this a phony target named\n‘\nall\n’ and give it, as prerequisites, all the individual programs.  For\nexample:\nall : prog1 prog2 prog3\n.PHONY : all\nprog1 : prog1.o utils.o\ncc -o prog1 prog1.o utils.o\nprog2 : prog2.o\ncc -o prog2 prog2.o\nprog3 : prog3.o sort.o utils.o\ncc -o prog3 prog3.o sort.o utils.o\nNow you can say just ‘\nmake\n’ to remake all three programs, or\nspecify as arguments the ones to remake (as in ‘\nmake prog1\nprog3\n’).  Phoniness is not inherited: the prerequisites of a phony\ntarget are not themselves phony, unless explicitly declared to be so.\nWhen one phony target is a prerequisite of another, it serves as a subroutine\nof the other.  For example, here ‘\nmake cleanall\n’ will delete the\nobject files, the difference files, and the file\nprogram\n:\n.PHONY: cleanall cleanobj cleandiff\ncleanall : cleanobj cleandiff\nrm program\ncleanobj :\nrm *.o\ncleandiff :\nrm *.diff\nNext:\nEmpty Target Files to Record Events\n, Previous:\nPhony Targets\n, Up:\nWriting Rules\n[\nContents\n][\nIndex\n]\n4.7 Rules without Recipes or Prerequisites\nIf a rule has no prerequisites or recipe, and the target of the rule\nis a nonexistent file, then\nmake\nimagines this target to have\nbeen updated whenever its rule is run.  This implies that all targets\ndepending on this one will always have their recipe run.\nAn example will illustrate this:\nclean: FORCE\nrm $(objects)\nFORCE:\nHere the target ‘\nFORCE\n’ satisfies the special conditions, so the\ntarget\nclean\nthat depends on it is forced to run its recipe.\nThere is nothing special about the name ‘\nFORCE\n’, but that is one\nname commonly used this way.\nAs you can see, using ‘\nFORCE\n’ this way has the same results as using\n‘\n.PHONY: clean\n’.\nUsing ‘\n.PHONY\n’ is more explicit and more efficient.  However,\nother versions of\nmake\ndo not support ‘\n.PHONY\n’; thus\n‘\nFORCE\n’ appears in many makefiles.  See\nPhony Targets\n.\nNext:\nSpecial Built-in Target Names\n, Previous:\nRules without Recipes or Prerequisites\n, Up:\nWriting Rules\n[\nContents\n][\nIndex\n]\n4.8 Empty Target Files to Record Events\nThe\nempty target\nis a variant of the phony target; it is used to hold\nrecipes for an action that you request explicitly from time to time.\nUnlike a phony target, this target file can really exist; but the file’s\ncontents do not matter, and usually are empty.\nThe purpose of the empty target file is to record, with its\nlast-modification time, when the rule’s recipe was last executed.  It\ndoes so because one of the commands in the recipe is a\ntouch\ncommand to update the target file.\nThe empty target file should have some prerequisites (otherwise it\ndoesn’t make sense).  When you ask to remake the empty target, the\nrecipe is executed if any prerequisite is more recent than the target;\nin other words, if a prerequisite has changed since the last time you\nremade the target.  Here is an example:\nprint: foo.c bar.c\nlpr -p $?\ntouch print\nWith this rule, ‘\nmake print\n’ will execute the\nlpr\ncommand if\neither source file has changed since the last ‘\nmake print\n’.  The\nautomatic variable ‘\n$?\n’ is used to print only those files that have\nchanged (see\nAutomatic Variables\n).\nNext:\nMultiple Targets in a Rule\n, Previous:\nEmpty Target Files to Record Events\n, Up:\nWriting Rules\n[\nContents\n][\nIndex\n]\n4.9 Special Built-in Target Names\nCertain names have special meanings if they appear as targets.\n.PHONY\nThe prerequisites of the special target\n.PHONY\nare considered to\nbe phony targets.  When it is time to consider such a target,\nmake\nwill run its recipe unconditionally, regardless of\nwhether a file with that name exists or what its last-modification\ntime is.  See\nPhony Targets\n.\n.SUFFIXES\nThe prerequisites of the special target\n.SUFFIXES\nare the list\nof suffixes to be used in checking for suffix rules.\nSee\nOld-Fashioned Suffix Rules\n.\n.DEFAULT\nThe recipe specified for\n.DEFAULT\nis used for any target for\nwhich no rules are found (either explicit rules or implicit rules).\nSee\nDefining Last-Resort Default Rules\n.  If a\n.DEFAULT\nrecipe is specified, every\nfile mentioned as a prerequisite, but not as a target in a rule, will have\nthat recipe executed on its behalf.  See\nImplicit Rule Search Algorithm\n.\n.PRECIOUS\n¶\nThe targets which\n.PRECIOUS\ndepends on are given the following\nspecial treatment: if\nmake\nis killed or interrupted during the\nexecution of their recipes, the target is not deleted.\nSee\nInterrupting or Killing\nmake\n.  Also, if the\ntarget is an intermediate file, it will not be deleted after it is no\nlonger needed, as is normally done.  See\nChains of\nImplicit Rules\n.  In this latter respect it overlaps with the\n.SECONDARY\nspecial target.\nYou can also list the target pattern of an implicit rule (such as\n‘\n%.o\n’) as a prerequisite file of the special target\n.PRECIOUS\nto preserve intermediate files created by rules whose target patterns\nmatch that file’s name.\n.INTERMEDIATE\n¶\nThe targets which\n.INTERMEDIATE\ndepends on are treated as\nintermediate files.  See\nChains of Implicit Rules\n.\n.INTERMEDIATE\nwith no prerequisites has no effect.\n.NOTINTERMEDIATE\n¶\nPrerequisites of the special target\n.NOTINTERMEDIATE\nare never\nconsidered intermediate files.  See\nChains of Implicit Rules\n.\n.NOTINTERMEDIATE\nwith no prerequisites causes all targets to be treated\nas not intermediate.\nIf the prerequisite is a target pattern then targets that are built using that\npattern rule are not considered intermediate.\n.SECONDARY\n¶\nThe targets which\n.SECONDARY\ndepends on are treated as\nintermediate files, except that they are never automatically deleted.\nSee\nChains of Implicit Rules\n.\n.SECONDARY\ncan be used to avoid redundant rebuilds in some unusual\nsituations.  For example:\nhello.bin: hello.o bye.o\n$(CC) -o $@ $^\n%.o: %.c\n$(CC) -c -o $@ $<\n.SECONDARY: hello.o bye.o\nSuppose\nhello.bin\nis up to date in regards to the source files,\nbut\nthe object file\nhello.o\nis missing.  Without\n.SECONDARY\nmake would rebuild\nhello.o\nthen rebuild\nhello.bin\neven though the source files had not changed.  By declaring\nhello.o\nas\n.SECONDARY\nmake\nwill not need to rebuild it\nand won’t need to rebuild\nhello.bin\neither.  Of course, if one of the\nsource files\nwere\nupdated then all object files would be rebuilt so\nthat the creation of\nhello.bin\ncould succeed.\n.SECONDARY\nwith no prerequisites causes all targets to be treated\nas secondary (i.e., no target is removed because it is considered\nintermediate).\n.SECONDEXPANSION\nIf\n.SECONDEXPANSION\nis mentioned as a target anywhere in the\nmakefile, then all prerequisite lists defined\nafter\nit appears\nwill be expanded a second time after all makefiles have been read in.\nSee\nSecondary Expansion\n.\n.DELETE_ON_ERROR\n¶\nIf\n.DELETE_ON_ERROR\nis mentioned as a target anywhere in the\nmakefile, then\nmake\nwill delete the target of a rule if it has\nchanged and its recipe exits with a nonzero exit status, just as it\ndoes when it receives a signal.  See\nErrors in Recipes\n.\n.IGNORE\nIf you specify prerequisites for\n.IGNORE\n, then\nmake\nwill\nignore errors in execution of the recipe for those particular files.\nThe recipe for\n.IGNORE\n(if any) is ignored.\nIf mentioned as a target with no prerequisites,\n.IGNORE\nsays to\nignore errors in execution of recipes for all files.  This usage of\n‘\n.IGNORE\n’ is supported only for historical compatibility.  Since\nthis affects every recipe in the makefile, it is not very useful; we\nrecommend you use the more selective ways to ignore errors in specific\nrecipes.  See\nErrors in Recipes\n.\n.LOW_RESOLUTION_TIME\nIf you specify prerequisites for\n.LOW_RESOLUTION_TIME\n,\nmake\nassumes that these files are created by commands that\ngenerate low resolution time stamps.  The recipe for the\n.LOW_RESOLUTION_TIME\ntarget are ignored.\nThe high resolution file time stamps of many modern file systems\nlessen the chance of\nmake\nincorrectly concluding that a file\nis up to date.  Unfortunately, some hosts do not provide a way to set a\nhigh resolution file time stamp, so commands like ‘\ncp -p\n’ that\nexplicitly set a file’s time stamp must discard its sub-second part.\nIf a file is created by such a command, you should list it as a\nprerequisite of\n.LOW_RESOLUTION_TIME\nso that\nmake\ndoes not mistakenly conclude that the file is out of date.  For\nexample:\n.LOW_RESOLUTION_TIME: dst\ndst: src\ncp -p src dst\nSince ‘\ncp -p\n’ discards the sub-second part of\nsrc\n’s time\nstamp,\ndst\nis typically slightly older than\nsrc\neven when\nit is up to date.  The\n.LOW_RESOLUTION_TIME\nline causes\nmake\nto consider\ndst\nto be up to date if its time stamp\nis at the start of the same second that\nsrc\n’s time stamp is in.\nDue to a limitation of the archive format, archive member time stamps\nare always low resolution.  You need not list archive members as\nprerequisites of\n.LOW_RESOLUTION_TIME\n, as\nmake\ndoes this\nautomatically.\n.SILENT\nIf you specify prerequisites for\n.SILENT\n, then\nmake\nwill\nnot print the recipe used to remake those particular files before\nexecuting them.  The recipe for\n.SILENT\nis ignored.\nIf mentioned as a target with no prerequisites,\n.SILENT\nsays\nnot to print any recipes before executing them.  You may also use more\nselective ways to silence specific recipe command lines.\nSee\nRecipe Echoing\n.  If you want to silence all recipes\nfor a particular run of\nmake\n, use the ‘\n-s\n’ or\n‘\n--silent\n’\noption (see\nSummary of Options\n).\n.EXPORT_ALL_VARIABLES\nSimply by being mentioned as a target, this tells\nmake\nto export all\nvariables to child processes by default.  This is an alternative to using\nexport\nwith no arguments.  See\nCommunicating\nVariables to a Sub-\nmake\n.\n.NOTPARALLEL\n¶\nIf\n.NOTPARALLEL\nis mentioned as a target with no prerequisites, all\ntargets in this invocation of\nmake\nwill be run serially, even if the\n‘\n-j\n’ option is given.  Any recursively invoked\nmake\ncommand will\nstill run recipes in parallel (unless its makefile also contains this target).\nIf\n.NOTPARALLEL\nhas targets as prerequisites, then all the\nprerequisites of those targets will be run serially.  This implicitly adds a\n.WAIT\nbetween each prerequisite of the listed targets.  See\nDisabling Parallel Execution\n.\n.ONESHELL\n¶\nIf\n.ONESHELL\nis mentioned as a target, then when a target is\nbuilt all lines of the recipe will be given to a single invocation of\nthe shell rather than each line being invoked separately.\nSee\nRecipe Execution\n.\n.POSIX\n¶\nIf\n.POSIX\nis mentioned as a target, then the makefile will be\nparsed and run in POSIX-conforming mode.  This does\nnot\nmean\nthat only POSIX-conforming makefiles will be accepted: all advanced\nGNU\nmake\nfeatures are still available.  Rather, this target\ncauses\nmake\nto behave as required by POSIX in those areas\nwhere\nmake\n’s default behavior differs.\nIn particular, if this target is mentioned then recipes will be\ninvoked as if the shell had been passed the\n-e\nflag: the first\nfailing command in a recipe will cause the recipe to fail immediately.\nAny defined implicit rule suffix also counts as a special target if it\nappears as a target, and so does the concatenation of two suffixes, such\nas ‘\n.c.o\n’.  These targets are suffix rules, an obsolete way of\ndefining implicit rules (but a way still widely used).  In principle, any\ntarget name could be special in this way if you break it in two and add\nboth pieces to the suffix list.  In practice, suffixes normally begin with\n‘\n.\n’, so these special target names also begin with ‘\n.\n’.\nSee\nOld-Fashioned Suffix Rules\n.\nNext:\nMultiple Rules for One Target\n, Previous:\nSpecial Built-in Target Names\n, Up:\nWriting Rules\n[\nContents\n][\nIndex\n]\n4.10 Multiple Targets in a Rule\nWhen an explicit rule has multiple targets they can be treated in one\nof two possible ways: as independent targets or as grouped targets.\nThe manner in which they are treated is determined by the separator that\nappears after the list of targets.\nRules with Independent Targets\nRules that use the standard target separator,\n:\n, define\nindependent targets.  This is equivalent to writing the same rule once\nfor each target, with duplicated prerequisites and recipes.  Typically,\nthe recipe would use automatic variables such as ‘\n$@\n’ to specify\nwhich target is being built.\nRules with independent targets are useful in two cases:\nYou want just prerequisites, no recipe.  For example:\nkbd.o command.o files.o: command.h\ngives an additional prerequisite to each of the three object files\nmentioned.  It is equivalent to writing:\nkbd.o: command.h\ncommand.o: command.h\nfiles.o: command.h\nSimilar recipes work for all the targets.  The automatic variable\n‘\n$@\n’ can be used to substitute the particular target to be\nremade into the commands (see\nAutomatic Variables\n).  For example:\nbigoutput littleoutput : text.g\ngenerate text.g -$(subst output,,$@) > $@\nis equivalent to\nbigoutput : text.g\ngenerate text.g -big > bigoutput\nlittleoutput : text.g\ngenerate text.g -little > littleoutput\nHere we assume the hypothetical program\ngenerate\nmakes two\ntypes of output, one if given ‘\n-big\n’ and one if given\n‘\n-little\n’.\nSee\nFunctions for String Substitution and Analysis\n,\nfor an explanation of the\nsubst\nfunction.\nSuppose you would like to vary the prerequisites according to the\ntarget, much as the variable ‘\n$@\n’ allows you to vary the recipe.\nYou cannot do this with multiple targets in an ordinary rule, but you\ncan do it with a\nstatic pattern rule\n.  See\nStatic Pattern Rules\n.\nRules with Grouped Targets\nIf instead of independent targets you have a recipe that generates multiple\nfiles from a single invocation, you can express that relationship by declaring\nyour rule to use\ngrouped targets\n.  A grouped target rule uses the\nseparator\n&:\n(the ‘\n&\n’ here is used to imply “all”).\nWhen\nmake\nbuilds any one of the grouped targets, it understands that\nall the other targets in the group are also updated as a result of the\ninvocation of the recipe.  Furthermore, if only some of the grouped targets\nare out of date or missing\nmake\nwill realize that running the recipe\nwill update all of the targets.  Finally, if any of the grouped targets are\nout of date, all the grouped targets are considered out of date.\nAs an example, this rule defines a grouped target:\nfoo bar biz &: baz boz\necho $^ > foo\necho $^ > bar\necho $^ > biz\nDuring the execution of a grouped target’s recipe, the automatic\nvariable ‘\n$@\n’ is set to the name of the particular target in the\ngroup which triggered the rule.  Caution must be used if relying on\nthis variable in the recipe of a grouped target rule.\nUnlike independent targets, a grouped target rule\nmust\ninclude\na recipe.  However, targets that are members of a grouped target may\nalso appear in independent target rule definitions that do not have\nrecipes.\nEach target may have only one recipe associated with it.  If a grouped\ntarget appears in either an independent target rule or in another\ngrouped target rule with a recipe, you will get a warning and the\nlatter recipe will replace the former recipe.  Additionally the target\nwill be removed from the previous group and appear only in the new\ngroup.\nIf you would like a target to appear in multiple groups, then you must\nuse the double-colon grouped target separator,\n&::\nwhen\ndeclaring all of the groups containing that target.  Grouped\ndouble-colon targets are each considered independently, and each\ngrouped double-colon rule’s recipe is executed at most once, if at\nleast one of its multiple targets requires updating.\nNext:\nStatic Pattern Rules\n, Previous:\nMultiple Targets in a Rule\n, Up:\nWriting Rules\n[\nContents\n][\nIndex\n]\n4.11 Multiple Rules for One Target\nOne file can be the target of several rules.  All the prerequisites\nmentioned in all the rules are merged into one list of prerequisites for\nthe target.  If the target is older than any prerequisite from any rule,\nthe recipe is executed.\nThere can only be one recipe to be executed for a file.  If more than\none rule gives a recipe for the same file,\nmake\nuses the last\none given and prints an error message.  (As a special case, if the\nfile’s name begins with a dot, no error message is printed.  This odd\nbehavior is only for compatibility with other implementations of\nmake\n… you should avoid using it).  Occasionally it is\nuseful to have the same target invoke multiple recipes which are\ndefined in different parts of your makefile; you can use\ndouble-colon rules\n(see\nDouble-Colon Rules\n) for this.\nAn extra rule with just prerequisites can be used to give a few extra\nprerequisites to many files at once.  For example, makefiles often\nhave a variable, such as\nobjects\n, containing a list of all the\ncompiler output files in the system being made.  An easy way to say\nthat all of them must be recompiled if\nconfig.h\nchanges is to\nwrite the following:\nobjects = foo.o bar.o\nfoo.o : defs.h\nbar.o : defs.h test.h\n$(objects) : config.h\nThis could be inserted or taken out without changing the rules that really\nspecify how to make the object files, making it a convenient form to use if\nyou wish to add the additional prerequisite intermittently.\nAnother wrinkle is that the additional prerequisites could be\nspecified with a variable that you set with a command line argument to\nmake\n(see\nOverriding Variables\n).  For example,\nextradeps=\n$(objects) : $(extradeps)\nmeans that the command ‘\nmake extradeps=foo.h\n’ will consider\nfoo.h\nas a prerequisite of each object file, but plain ‘\nmake\n’\nwill not.\nIf none of the explicit rules for a target has a recipe, then\nmake\nsearches for an applicable implicit rule to find one\nsee\nUsing Implicit Rules\n).\nNext:\nDouble-Colon Rules\n, Previous:\nMultiple Rules for One Target\n, Up:\nWriting Rules\n[\nContents\n][\nIndex\n]\n4.12 Static Pattern Rules\nStatic pattern rules\nare rules which specify multiple targets and\nconstruct the prerequisite names for each target based on the target name.\nThey are more general than ordinary rules with multiple targets because the\ntargets do not have to have identical prerequisites.  Their prerequisites must\nbe\nanalogous\n, but not necessarily\nidentical\n.\nSyntax of Static Pattern Rules\nStatic Pattern Rules versus Implicit Rules\nNext:\nStatic Pattern Rules versus Implicit Rules\n, Previous:\nStatic Pattern Rules\n, Up:\nStatic Pattern Rules\n[\nContents\n][\nIndex\n]\n4.12.1 Syntax of Static Pattern Rules\nHere is the syntax of a static pattern rule:\ntargets\n…:\ntarget-pattern\n:\nprereq-patterns\n…\nrecipe\n…\nThe\ntargets\nlist specifies the targets that the rule applies to.\nThe targets can contain wildcard characters, just like the targets of\nordinary rules (see\nUsing Wildcard Characters in File\nNames\n).\nThe\ntarget-pattern\nand\nprereq-patterns\nsay how to compute the\nprerequisites of each target.  Each target is matched against the\ntarget-pattern\nto extract a part of the target name, called the\nstem\n.  This stem is substituted into each of the\nprereq-patterns\nto make the prerequisite names (one from each\nprereq-pattern\n).\nEach pattern normally contains the character ‘\n%\n’ just once.  When the\ntarget-pattern\nmatches a target, the ‘\n%\n’ can match any part of\nthe target name; this part is called the\nstem\n.  The rest of the\npattern must match exactly.  For example, the target\nfoo.o\nmatches\nthe pattern ‘\n%.o\n’, with ‘\nfoo\n’ as the stem.  The targets\nfoo.c\nand\nfoo.out\ndo not match that pattern.\nThe prerequisite names for each target are made by substituting the stem\nfor the ‘\n%\n’ in each prerequisite pattern.  For example, if one\nprerequisite pattern is\n%.c\n, then substitution of the stem\n‘\nfoo\n’ gives the prerequisite name\nfoo.c\n.  It is legitimate\nto write a prerequisite pattern that does not contain ‘\n%\n’; then this\nprerequisite is the same for all targets.\n‘\n%\n’ characters in pattern rules can be quoted with preceding\nbackslashes (‘\n\\\n’).  Backslashes that would otherwise quote ‘\n%\n’\ncharacters can be quoted with more backslashes.  Backslashes that quote\n‘\n%\n’ characters or other backslashes are removed from the pattern\nbefore it is compared to file names or has a stem substituted into it.\nBackslashes that are not in danger of quoting ‘\n%\n’ characters go\nunmolested.  For example, the pattern\nthe\\%weird\\\\%pattern\\\\\nhas\n‘\nthe%weird\\\n’ preceding the operative ‘\n%\n’ character, and\n‘\npattern\\\\\n’ following it.  The final two backslashes are left alone\nbecause they cannot affect any ‘\n%\n’ character.\nHere is an example, which compiles each of\nfoo.o\nand\nbar.o\nfrom the corresponding\n.c\nfile:\nobjects = foo.o bar.o\nall: $(objects)\n$(objects): %.o: %.c\n$(CC) -c $(CFLAGS) $< -o $@\nHere ‘\n$<\n’ is the automatic variable that holds the name of the\nprerequisite and ‘\n$@\n’ is the automatic variable that holds the name\nof the target; see\nAutomatic Variables\n.\nEach target specified must match the target pattern; a warning is issued\nfor each target that does not.  If you have a list of files, only some of\nwhich will match the pattern, you can use the\nfilter\nfunction to\nremove non-matching file names (see\nFunctions for String Substitution and Analysis\n):\nfiles = foo.elc bar.o lose.o\n$(filter %.o,$(files)): %.o: %.c\n$(CC) -c $(CFLAGS) $< -o $@\n$(filter %.elc,$(files)): %.elc: %.el\nemacs -f batch-byte-compile $<\nIn this example the result of ‘\n$(filter %.o,$(files))\n’ is\nbar.o lose.o\n, and the first static pattern rule causes each of\nthese object files to be updated by compiling the corresponding C source\nfile.  The result of ‘\n$(filter %.elc,$(files))\n’\nis\nfoo.elc\n, so that file is made from\nfoo.el\n.\nAnother example shows how to use\n$*\nin static pattern rules:\nbigoutput littleoutput : %output : text.g\ngenerate text.g -$* > $@\nWhen the\ngenerate\ncommand is run,\n$*\nwill expand to the\nstem, either ‘\nbig\n’ or ‘\nlittle\n’.\nPrevious:\nSyntax of Static Pattern Rules\n, Up:\nStatic Pattern Rules\n[\nContents\n][\nIndex\n]\n4.12.2 Static Pattern Rules versus Implicit Rules\nA static pattern rule has much in common with an implicit rule defined as a\npattern rule (see\nDefining and Redefining Pattern Rules\n).\nBoth have a pattern for the target and patterns for constructing the\nnames of prerequisites.  The difference is in how\nmake\ndecides\nwhen\nthe rule applies.\nAn implicit rule\ncan\napply to any target that matches its pattern,\nbut it\ndoes\napply only when the target has no recipe otherwise\nspecified, and only when the prerequisites can be found.  If more than one\nimplicit rule appears applicable, only one applies; the choice depends on\nthe order of rules.\nBy contrast, a static pattern rule applies to the precise list of targets\nthat you specify in the rule.  It cannot apply to any other target and it\ninvariably does apply to each of the targets specified.  If two conflicting\nrules apply, and both have recipes, that’s an error.\nThe static pattern rule can be better than an implicit rule for these\nreasons:\nYou may wish to override the usual implicit rule for a few\nfiles whose names cannot be categorized syntactically but\ncan be given in an explicit list.\nIf you cannot be sure of the precise contents of the directories\nyou are using, you may not be sure which other irrelevant files\nmight lead\nmake\nto use the wrong implicit rule.  The choice\nmight depend on the order in which the implicit rule search is done.\nWith static pattern rules, there is no uncertainty: each rule applies\nto precisely the targets specified.\nNext:\nGenerating Prerequisites Automatically\n, Previous:\nStatic Pattern Rules\n, Up:\nWriting Rules\n[\nContents\n][\nIndex\n]\n4.13 Double-Colon Rules\nDouble-colon\nrules are explicit rules written with ‘\n::\n’\ninstead of ‘\n:\n’ after the target names.  They are handled\ndifferently from ordinary rules when the same target appears in more\nthan one rule.  Pattern rules with double-colons have an entirely\ndifferent meaning (see\nMatch-Anything Pattern Rules\n).\nWhen a target appears in multiple rules, all the rules must be the same\ntype: all ordinary, or all double-colon.  If they are double-colon, each\nof them is independent of the others.  Each double-colon rule’s recipe\nis executed if the target is older than any prerequisites of that rule.\nIf there are no prerequisites for that rule, its recipe is always\nexecuted (even if the target already exists).  This can result in\nexecuting none, any, or all of the double-colon rules.\nDouble-colon rules with the same target are in fact completely separate\nfrom one another.  Each double-colon rule is processed individually, just\nas rules with different targets are processed.\nThe double-colon rules for a target are executed in the order they appear\nin the makefile.  However, the cases where double-colon rules really make\nsense are those where the order of executing the recipes would not matter.\nDouble-colon rules are somewhat obscure and not often very useful; they\nprovide a mechanism for cases in which the method used to update a target\ndiffers depending on which prerequisite files caused the update, and such\ncases are rare.\nEach double-colon rule should specify a recipe; if it does not, an\nimplicit rule will be used if one applies.\nSee\nUsing Implicit Rules\n.\nPrevious:\nDouble-Colon Rules\n, Up:\nWriting Rules\n[\nContents\n][\nIndex\n]\n4.14 Generating Prerequisites Automatically\nIn the makefile for a program, many of the rules you need to write often\nsay only that some object file depends on some header\nfile.  For example, if\nmain.c\nuses\ndefs.h\nvia an\n#include\n, you would write:\nmain.o: defs.h\nYou need this rule so that\nmake\nknows that it must remake\nmain.o\nwhenever\ndefs.h\nchanges.  You can see that for a\nlarge program you would have to write dozens of such rules in your\nmakefile.  And, you must always be very careful to update the makefile\nevery time you add or remove an\n#include\n.\nTo avoid this hassle, most modern C compilers can write these rules for\nyou, by looking at the\n#include\nlines in the source files.\nUsually this is done with the ‘\n-M\n’ option to the compiler.\nFor example, the command:\ncc -M main.c\ngenerates the output:\nmain.o : main.c defs.h\nThus you no longer have to write all those rules yourself.\nThe compiler will do it for you.\nNote that such a rule constitutes mentioning\nmain.o\nin a\nmakefile, so it can never be considered an intermediate file by\nimplicit rule search.  This means that\nmake\nwon’t ever remove\nthe file after using it; see\nChains of Implicit\nRules\n.\nWith old\nmake\nprograms, it was traditional practice to use this\ncompiler feature to generate prerequisites on demand with a command like\n‘\nmake depend\n’.  That command would create a file\ndepend\ncontaining all the automatically-generated prerequisites; then the\nmakefile could use\ninclude\nto read them in (see\nIncluding Other Makefiles\n).\nIn GNU\nmake\n, the feature of remaking makefiles makes this\npractice obsolete—you need never tell\nmake\nexplicitly to\nregenerate the prerequisites, because it always regenerates any makefile\nthat is out of date.  See\nHow Makefiles Are Remade\n.\nThe practice we recommend for automatic prerequisite generation is to have\none makefile corresponding to each source file.  For each source file\nname\n.c\nthere is a makefile\nname\n.d\nwhich lists\nwhat files the object file\nname\n.o\ndepends on.  That way\nonly the source files that have changed need to be rescanned to produce\nthe new prerequisites.\nHere is the pattern rule to generate a file of prerequisites (i.e., a makefile)\ncalled\nname\n.d\nfrom a C source file called\nname\n.c\n:\n%.d: %.c\n@set -e; rm -f $@; \\\n$(CC) -M $(CPPFLAGS) $< > $@.$$$$; \\\nsed 's,\\($*\\)\\.o[ :]*,\\1.o $@ : ,g' < $@.$$$$ > $@; \\\nrm -f $@.$$$$\nSee\nDefining and Redefining Pattern Rules\n, for information on defining pattern rules.  The\n‘\n-e\n’ flag to the shell causes it to exit immediately if the\n$(CC)\ncommand (or any other command) fails (exits with a\nnonzero status).\nWith the GNU C compiler, you may wish to use the ‘\n-MM\n’ flag instead\nof ‘\n-M\n’.  This omits prerequisites on system header files.\nSee\nOptions Controlling the Preprocessor\nin\nUsing GNU CC\n, for details.\nThe purpose of the\nsed\ncommand is to translate (for example):\nmain.o : main.c defs.h\ninto:\nmain.o main.d : main.c defs.h\nThis makes each ‘\n.d\n’ file depend on all the source and header files\nthat the corresponding ‘\n.o\n’ file depends on.\nmake\nthen\nknows it must regenerate the prerequisites whenever any of the source or\nheader files changes.\nOnce you’ve defined the rule to remake the ‘\n.d\n’ files,\nyou then use the\ninclude\ndirective to read them all in.\nSee\nIncluding Other Makefiles\n.  For example:\nsources = foo.c bar.c\ninclude $(sources:.c=.d)\n(This example uses a substitution variable reference to translate the\nlist of source files ‘\nfoo.c bar.c\n’ into a list of prerequisite\nmakefiles, ‘\nfoo.d bar.d\n’.  See\nSubstitution References\n, for full\ninformation on substitution references.)  Since the ‘\n.d\n’ files are\nmakefiles like any others,\nmake\nwill remake them as necessary\nwith no further work from you.  See\nHow Makefiles Are Remade\n.\nNote that the ‘\n.d\n’ files contain target definitions; you should\nbe sure to place the\ninclude\ndirective\nafter\nthe first,\ndefault goal in your makefiles or run the risk of having a random\nobject file become the default goal.\nSee\nHow\nmake\nProcesses a Makefile\n.\nNext:\nHow to Use Variables\n, Previous:\nWriting Rules\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\n5 Writing Recipes in Rules\nThe recipe of a rule consists of one or more shell command lines to\nbe executed, one at a time, in the order they appear.  Typically, the\nresult of executing these commands is that the target of the rule is\nbrought up to date.\nUsers use many different shell programs, but recipes in makefiles are\nalways interpreted by\n/bin/sh\nunless the makefile specifies\notherwise.  See\nRecipe Execution\n.\nRecipe Syntax\nRecipe Echoing\nRecipe Execution\nParallel Execution\nErrors in Recipes\nInterrupting or Killing\nmake\nRecursive Use of\nmake\nDefining Canned Recipes\nUsing Empty Recipes\nNext:\nRecipe Echoing\n, Previous:\nWriting Recipes in Rules\n, Up:\nWriting Recipes in Rules\n[\nContents\n][\nIndex\n]\n5.1 Recipe Syntax\nMakefiles have the unusual property that there are really two distinct\nsyntaxes in one file.  Most of the makefile uses\nmake\nsyntax\n(see\nWriting Makefiles\n).  However, recipes are meant\nto be interpreted by the shell and so they are written using shell\nsyntax.  The\nmake\nprogram does not try to understand shell\nsyntax: it performs only a very few specific translations on the\ncontent of the recipe before handing it to the shell.\nEach line in the recipe must start with a tab (or the first character\nin the value of the\n.RECIPEPREFIX\nvariable; see\nOther Special Variables\n), except that the first recipe line may be attached to the\ntarget-and-prerequisites line with a semicolon in between.\nAny\nline in the makefile that begins with a tab and appears in a “rule\ncontext” (that is, after a rule has been started until another rule\nor variable definition) will be considered part of a recipe for that\nrule.  Blank lines and lines of just comments may appear among the\nrecipe lines; they are ignored.\nSome consequences of these rules include:\nA blank line that begins with a tab is not blank: it’s an empty\nrecipe (see\nUsing Empty Recipes\n).\nA comment in a recipe is not a\nmake\ncomment; it will be\npassed to the shell as-is.  Whether the shell treats it as a comment\nor not depends on your shell.\nA variable definition in a “rule context” which is indented by a tab\nas the first character on the line, will be considered part of a\nrecipe, not a\nmake\nvariable definition, and passed to the\nshell.\nA conditional expression (\nifdef\n,\nifeq\n,\netc. see\nSyntax of Conditionals\n) in a “rule\ncontext” which is indented by a tab as the first character on the\nline, will be considered part of a recipe and be passed to the shell.\nSplitting Recipe Lines\nUsing Variables in Recipes\nNext:\nUsing Variables in Recipes\n, Previous:\nRecipe Syntax\n, Up:\nRecipe Syntax\n[\nContents\n][\nIndex\n]\n5.1.1 Splitting Recipe Lines\nOne of the few ways in which\nmake\ndoes interpret recipes is\nchecking for a backslash just before the newline.  As in normal\nmakefile syntax, a single logical recipe line can be split into\nmultiple physical lines in the makefile by placing a backslash before\neach newline.  A sequence of lines like this is considered a single\nrecipe line, and one instance of the shell will be invoked to run it.\nHowever, in contrast to how they are treated in other places in a\nmakefile (see\nSplitting Long Lines\n),\nbackslash/newline pairs are\nnot\nremoved from the recipe.  Both\nthe backslash and the newline characters are preserved and passed to\nthe shell.  How the backslash/newline is interpreted depends on your\nshell.  If the first character of the next line after the\nbackslash/newline is the recipe prefix character (a tab by default;\nsee\nOther Special Variables\n), then that character (and only that\ncharacter) is removed.  Whitespace is never added to the recipe.\nFor example, the recipe for the all target in this makefile:\nall :\n@echo no\\\nspace\n@echo no\\\nspace\n@echo one \\\nspace\n@echo one\\\nspace\nconsists of four separate shell commands where the output is:\nnospace\nnospace\none space\none space\nAs a more complex example, this makefile:\nall : ; @echo 'hello \\\nworld' ; echo \"hello \\\nworld\"\nwill invoke one shell with a command of:\necho 'hello \\\nworld' ; echo \"hello \\\nworld\"\nwhich, according to shell quoting rules, will yield the following output:\nhello \\\nworld\nhello     world\nNotice how the backslash/newline pair was removed inside the string\nquoted with double quotes (\n\"…\"\n), but not from the string\nquoted with single quotes (\n'…'\n).  This is the way the\ndefault shell (\n/bin/sh\n) handles backslash/newline pairs.  If\nyou specify a different shell in your makefiles it may treat them\ndifferently.\nSometimes you want to split a long line inside of single quotes, but\nyou don’t want the backslash/newline to appear in the quoted content.\nThis is often the case when passing scripts to languages such as Perl,\nwhere extraneous backslashes inside the script can change its meaning\nor even be a syntax error.  One simple way of handling this is to\nplace the quoted string, or even the entire command, into a\nmake\nvariable then use the variable in the recipe.  In this\nsituation the newline quoting rules for makefiles will be used, and\nthe backslash/newline will be removed.  If we rewrite our example\nabove using this method:\nHELLO = 'hello \\\nworld'\nall : ; @echo $(HELLO)\nwe will get output like this:\nhello world\nIf you like, you can also use target-specific variables\n(see\nTarget-specific Variable Values\n) to obtain\na tighter correspondence between the variable and the recipe that\nuses it.\nPrevious:\nSplitting Recipe Lines\n, Up:\nRecipe Syntax\n[\nContents\n][\nIndex\n]\n5.1.2 Using Variables in Recipes\nThe other way in which\nmake\nprocesses recipes is by expanding\nany variable references in them (see\nBasics of Variable\nReferences\n).  This occurs after make has finished reading all the\nmakefiles and the target is determined to be out of date; so, the\nrecipes for targets which are not rebuilt are never expanded.\nVariable and function references in recipes have identical syntax and\nsemantics to references elsewhere in the makefile.  They also have the\nsame quoting rules: if you want a dollar sign to appear in your\nrecipe, you must double it (‘\n$$\n’).  For shells like the default\nshell, that use dollar signs to introduce variables, it’s important to\nkeep clear in your mind whether the variable you want to reference is\na\nmake\nvariable (use a single dollar sign) or a shell variable\n(use two dollar signs).  For example:\nLIST = one two three\nall:\nfor i in $(LIST); do \\\necho $$i; \\\ndone\nresults in the following command being passed to the shell:\nfor i in one two three; do \\\necho $i; \\\ndone\nwhich generates the expected result:\none\ntwo\nthree\nNext:\nRecipe Execution\n, Previous:\nRecipe Syntax\n, Up:\nWriting Recipes in Rules\n[\nContents\n][\nIndex\n]\n5.2 Recipe Echoing\nNormally\nmake\nprints each line of the recipe before it is\nexecuted.  We call this\nechoing\nbecause it gives the appearance\nthat you are typing the lines yourself.\nWhen a line starts with ‘\n@\n’, the echoing of that line is suppressed.\nThe ‘\n@\n’ is discarded before the line is passed to the shell.\nTypically you would use this for a command whose only effect is to print\nsomething, such as an\necho\ncommand to indicate progress through\nthe makefile:\n@echo About to make distribution files\nWhen\nmake\nis given the flag ‘\n-n\n’ or ‘\n--just-print\n’ it\nonly echoes most recipes, without executing them.  See\nSummary of Options\n.  In this case even the recipe lines\nstarting with ‘\n@\n’ are printed.  This flag is useful for finding\nout which recipes\nmake\nthinks are necessary without actually\ndoing them.\nThe ‘\n-s\n’ or ‘\n--silent\n’\nflag to\nmake\nprevents all echoing, as if all recipes\nstarted with ‘\n@\n’.  A rule in the makefile for the special target\n.SILENT\nwithout prerequisites has the same effect\n(see\nSpecial Built-in Target Names\n).\nNext:\nParallel Execution\n, Previous:\nRecipe Echoing\n, Up:\nWriting Recipes in Rules\n[\nContents\n][\nIndex\n]\n5.3 Recipe Execution\nWhen it is time to execute recipes to update a target, they are\nexecuted by invoking a new sub-shell for each line of the recipe,\nunless the\n.ONESHELL\nspecial target is in effect\n(see\nUsing One Shell\n)  (In practice,\nmake\nmay\ntake shortcuts that do not affect the results.)\nPlease note:\nthis implies that setting shell variables and\ninvoking shell commands such as\ncd\nthat set a context local to\neach process will not affect the following lines in the recipe.\n3\nIf you want to use\ncd\nto affect the next statement,\nput both statements in a single recipe line.  Then\nmake\nwill\ninvoke one shell to run the entire line, and the shell will execute\nthe statements in sequence.  For example:\nfoo : bar/lose\ncd $(<D) && gobble $(<F) > ../$@\nHere we use the shell AND operator (\n&&\n) so that if the\ncd\ncommand fails, the script will fail without trying to invoke\nthe\ngobble\ncommand in the wrong directory, which could cause\nproblems (in this case it would certainly cause\n../foo\nto be\ntruncated, at least).\nUsing One Shell\nChoosing the Shell\nNext:\nChoosing the Shell\n, Previous:\nRecipe Execution\n, Up:\nRecipe Execution\n[\nContents\n][\nIndex\n]\n5.3.1 Using One Shell\nSometimes you would prefer that all the lines in the recipe be passed\nto a single invocation of the shell.  There are generally two\nsituations where this is useful: first, it can improve performance in\nmakefiles where recipes consist of many command lines, by avoiding\nextra processes.  Second, you might want newlines to be included in\nyour recipe command (for example perhaps you are using a very\ndifferent interpreter as your\nSHELL\n).  If the\n.ONESHELL\nspecial target appears anywhere in the makefile then\nall\nrecipe lines for each target will be provided to a single invocation\nof the shell.  Newlines between recipe lines will be preserved.  For\nexample:\n.ONESHELL:\nfoo : bar/lose\ncd $(<D)\ngobble $(<F) > ../$@\nwould now work as expected even though the commands are on different\nrecipe lines.\nIf\n.ONESHELL\nis provided, then only the first line of the\nrecipe will be checked for the special prefix characters (‘\n@\n’,\n‘\n-\n’, and ‘\n+\n’).  Subsequent lines will include the special\ncharacters in the recipe line when the\nSHELL\nis invoked.  If\nyou want your recipe to start with one of these special characters\nyou’ll need to arrange for them to not be the first characters on the\nfirst line, perhaps by adding a comment or similar.  For example, this\nwould be a syntax error in Perl because the first ‘\n@\n’ is removed\nby make:\n.ONESHELL:\nSHELL = /usr/bin/perl\n.SHELLFLAGS = -e\nshow :\n@f = qw(a b c);\nprint \"@f\\n\";\nHowever, either of these alternatives would work properly:\n.ONESHELL:\nSHELL = /usr/bin/perl\n.SHELLFLAGS = -e\nshow :\n# Make sure \"@\" is not the first character on the first line\n@f = qw(a b c);\nprint \"@f\\n\";\nor\n.ONESHELL:\nSHELL = /usr/bin/perl\n.SHELLFLAGS = -e\nshow :\nmy @f = qw(a b c);\nprint \"@f\\n\";\nAs a special feature, if\nSHELL\nis determined to be a\nPOSIX-style shell, the special prefix characters in “internal”\nrecipe lines will be\nremoved\nbefore the recipe is processed.\nThis feature is intended to allow existing makefiles to add the\n.ONESHELL\nspecial target and still run properly without\nextensive modifications.  Since the special prefix characters are not\nlegal at the beginning of a line in a POSIX shell script this is not a\nloss in functionality.  For example, this works as expected:\n.ONESHELL:\nfoo : bar/lose\n@cd $(@D)\n@gobble $(@F) > ../$@\nEven with this special feature, however, makefiles with\n.ONESHELL\nwill behave differently in ways that could be\nnoticeable.  For example, normally if any line in the recipe fails,\nthat causes the rule to fail and no more recipe lines are processed.\nUnder\n.ONESHELL\na failure of any but the final recipe line will\nnot be noticed by\nmake\n.  You can modify\n.SHELLFLAGS\nto\nadd the\n-e\noption to the shell which will cause any failure\nanywhere in the command line to cause the shell to fail, but this\ncould itself cause your recipe to behave differently.  Ultimately you\nmay need to harden your recipe lines to allow them to work with\n.ONESHELL\n.\nPrevious:\nUsing One Shell\n, Up:\nRecipe Execution\n[\nContents\n][\nIndex\n]\n5.3.2 Choosing the Shell\nThe program used as the shell is taken from the variable\nSHELL\n.\nIf this variable is not set in your makefile, the program\n/bin/sh\nis used as the shell.  The argument(s) passed to the\nshell are taken from the variable\n.SHELLFLAGS\n.  The default\nvalue of\n.SHELLFLAGS\nis\n-c\nnormally, or\n-ec\nin\nPOSIX-conforming mode.\nUnlike most variables, the variable\nSHELL\nis never set from the\nenvironment.  This is because the\nSHELL\nenvironment variable is\nused to specify your personal choice of shell program for interactive\nuse.  It would be very bad for personal choices like this to affect the\nfunctioning of makefiles.  See\nVariables from the\nEnvironment\n.\nFurthermore, when you do set\nSHELL\nin your makefile that value\nis\nnot\nexported in the environment to recipe lines that\nmake\ninvokes.  Instead, the value inherited from the user’s\nenvironment, if any, is exported.  You can override this behavior by\nexplicitly exporting\nSHELL\n(see\nCommunicating Variables to a Sub-\nmake\n), forcing it to be\npassed in the environment to recipe lines.\nHowever, on MS-DOS and MS-Windows the value of\nSHELL\nin the\nenvironment\nis\nused, since on those systems most users do not\nset this variable, and therefore it is most likely set specifically to\nbe used by\nmake\n.  On MS-DOS, if the setting of\nSHELL\nis\nnot suitable for\nmake\n, you can set the variable\nMAKESHELL\nto the shell that\nmake\nshould use; if set it\nwill be used as the shell instead of the value of\nSHELL\n.\nChoosing a Shell in DOS and Windows\nChoosing a shell in MS-DOS and MS-Windows is much more complex than on\nother systems.\nOn MS-DOS, if\nSHELL\nis not set, the value of the variable\nCOMSPEC\n(which is always set) is used instead.\nThe processing of lines that set the variable\nSHELL\nin Makefiles\nis different on MS-DOS.  The stock shell,\ncommand.com\n, is\nridiculously limited in its functionality and many users of\nmake\ntend to install a replacement shell.  Therefore, on MS-DOS,\nmake\nexamines the value of\nSHELL\n, and changes its behavior based on\nwhether it points to a Unix-style or DOS-style shell.  This allows\nreasonable functionality even if\nSHELL\npoints to\ncommand.com\n.\nIf\nSHELL\npoints to a Unix-style shell,\nmake\non MS-DOS\nadditionally checks whether that shell can indeed be found; if not, it\nignores the line that sets\nSHELL\n.  In MS-DOS, GNU\nmake\nsearches for the shell in the following places:\nIn the precise place pointed to by the value of\nSHELL\n.  For\nexample, if the makefile specifies ‘\nSHELL = /bin/sh\n’,\nmake\nwill look in the directory\n/bin\non the current drive.\nIn the current directory.\nIn each of the directories in the\nPATH\nvariable, in order.\nIn every directory it examines,\nmake\nwill first look for the\nspecific file (\nsh\nin the example above).  If this is not found,\nit will also look in that directory for that file with one of the known\nextensions which identify executable files.  For example\n.exe\n,\n.com\n,\n.bat\n,\n.btm\n,\n.sh\n, and some others.\nIf any of these attempts is successful, the value of\nSHELL\nwill\nbe set to the full pathname of the shell as found.  However, if none of\nthese is found, the value of\nSHELL\nwill not be changed, and thus\nthe line that sets it will be effectively ignored.  This is so\nmake\nwill only support features specific to a Unix-style shell if\nsuch a shell is actually installed on the system where\nmake\nruns.\nNote that this extended search for the shell is limited to the cases\nwhere\nSHELL\nis set from the Makefile; if it is set in the\nenvironment or command line, you are expected to set it to the full\npathname of the shell, exactly as things are on Unix.\nThe effect of the above DOS-specific processing is that a Makefile that\ncontains ‘\nSHELL = /bin/sh\n’ (as many Unix makefiles do), will work\non MS-DOS unaltered if you have e.g.\nsh.exe\ninstalled in some\ndirectory along your\nPATH\n.\nNext:\nErrors in Recipes\n, Previous:\nRecipe Execution\n, Up:\nWriting Recipes in Rules\n[\nContents\n][\nIndex\n]\n5.4 Parallel Execution\nGNU\nmake\nknows how to execute several recipes at once.  Normally,\nmake\nwill execute only one recipe at a time, waiting for it to finish\nbefore executing the next.  However, the ‘\n-j\n’ or ‘\n--jobs\n’ option\ntells\nmake\nto execute many recipes simultaneously.  You can inhibit\nparallelism for some or all targets from within the makefile (see\nDisabling Parallel Execution\n).\nOn MS-DOS, the ‘\n-j\n’ option has no effect, since that system doesn’t\nsupport multi-processing.\nIf the ‘\n-j\n’ option is followed by an integer, this is the number of\nrecipes to execute at once; this is called the number of\njob slots\n.\nIf there is nothing looking like an integer after the ‘\n-j\n’ option,\nthere is no limit on the number of job slots.  The default number of job\nslots is one, which means serial execution (one thing at a time).\nHandling recursive\nmake\ninvocations raises issues for parallel\nexecution.  For more information on this, see\nCommunicating Options to a Sub-\nmake\n.\nIf a recipe fails (is killed by a signal or exits with a nonzero\nstatus), and errors are not ignored for that recipe (see\nErrors in Recipes\n), the remaining recipe lines to remake the same\ntarget will not be run.  If a recipe fails and the ‘\n-k\n’ or\n‘\n--keep-going\n’ option was not given (see\nSummary of Options\n),\nmake\naborts execution.  If make\nterminates for any reason (including a signal) with child processes\nrunning, it waits for them to finish before actually exiting.\nWhen the system is heavily loaded, you will probably want to run fewer jobs\nthan when it is lightly loaded.  You can use the ‘\n-l\n’ option to tell\nmake\nto limit the number of jobs to run at once, based on the load\naverage.  The ‘\n-l\n’ or ‘\n--max-load\n’\noption is followed by a floating-point number.  For\nexample,\n-l 2.5\nwill not let\nmake\nstart more than one job if the load average is\nabove 2.5.  The ‘\n-l\n’ option with no following number removes the\nload limit, if one was given with a previous ‘\n-l\n’ option.\nMore precisely, when\nmake\ngoes to start up a job, and it already has\nat least one job running, it checks the current load average; if it is not\nlower than the limit given with ‘\n-l\n’,\nmake\nwaits until the load\naverage goes below that limit, or until all the other jobs finish.\nBy default, there is no load limit.\nDisabling Parallel Execution\nOutput During Parallel Execution\nInput During Parallel Execution\nNext:\nOutput During Parallel Execution\n, Previous:\nParallel Execution\n, Up:\nParallel Execution\n[\nContents\n][\nIndex\n]\n5.4.1 Disabling Parallel Execution\nIf a makefile completely and accurately defines the dependency relationships\nbetween all of its targets, then\nmake\nwill correctly build the goals\nregardless of whether parallel execution is enabled or not.  This is the ideal\nway to write makefiles.\nHowever, sometimes some or all of the targets in a makefile cannot be executed\nin parallel and it’s not feasible to add the prerequisites needed to inform\nmake\n.  In that case the makefile can use various methods to disable\nparallel execution.\nIf the\n.NOTPARALLEL\nspecial target with no prerequisites is specified\nanywhere then the entire instance of\nmake\nwill be run serially,\nregardless of the parallel setting.  For example:\nall: one two three\none two three: ; @sleep 1; echo $@\n.NOTPARALLEL:\nRegardless of how\nmake\nis invoked, the targets\none\n,\ntwo\n,\nand\nthree\nwill be run serially.\nIf the\n.NOTPARALLEL\nspecial target has prerequisites, then each of\nthose prerequisites will be considered a target and all prerequisites of these\ntargets will be run serially.  Note that only when building this target will\nthe prerequisites be run serially: if some other target lists the same\nprerequisites and is not in\n.NOTPARALLEL\nthen these prerequisites may\nbe run in parallel.  For example:\nall: base notparallel\nbase: one two three\nnotparallel: one two three\none two three: ; @sleep 1; echo $@\n.NOTPARALLEL: notparallel\nHere ‘\nmake -j base\n’ will run the targets\none\n,\ntwo\n, and\nthree\nin parallel, while ‘\nmake -j notparallel\n’ will run them\nserially.  If you run ‘\nmake -j all\n’ then they\nwill\nbe run in\nparallel since\nbase\nlists them as prerequisites and is not serialized.\nThe\n.NOTPARALLEL\ntarget should not have commands.\nFinally you can control the serialization of specific prerequisites in a\nfine-grained way using the\n.WAIT\nspecial target.  When this target\nappears in a prerequisite list and parallel execution is enabled,\nmake\nwill not build any of the prerequisites to the\nright\nof\n.WAIT\nuntil all prerequisites to the\nleft\nof\n.WAIT\nhave completed.\nFor example:\nall: one two .WAIT three\none two three: ; @sleep 1; echo $@\nIf parallel execution is enabled,\nmake\nwill try to build\none\nand\ntwo\nin parallel but will not try to build\nthree\nuntil both are\ncomplete.\nAs with targets provided to\n.NOTPARALLEL\n,\n.WAIT\ntakes effect\nonly when building the target in whose prerequisite list it appears.  If the\nsame prerequisites are present in other targets, without\n.WAIT\n, then\nthey may still be run in parallel.  Because of this, neither\n.NOTPARALLEL\nwith targets nor\n.WAIT\nare as reliable for\ncontrolling parallel execution as defining a prerequisite relationship.\nHowever they are easy to use and may be sufficient in less complex situations.\nThe\n.WAIT\nprerequisite will not be present in any of the automatic\nvariables for the rule.\nYou can create an actual target\n.WAIT\nin your makefile for portability\nbut this is not required to use this feature.  If a\n.WAIT\ntarget is\ncreated it should not have prerequisites or commands.\nThe\n.WAIT\nfeature is also implemented in other versions of\nmake\nand it’s specified in the POSIX standard for\nmake\n.\nNext:\nInput During Parallel Execution\n, Previous:\nDisabling Parallel Execution\n, Up:\nParallel Execution\n[\nContents\n][\nIndex\n]\n5.4.2 Output During Parallel Execution\nWhen running several recipes in parallel the output from each\nrecipe appears as soon as it is generated, with the result that\nmessages from different recipes may be interspersed, sometimes even\nappearing on the same line.  This can make reading the output very\ndifficult.\nTo avoid this you can use the ‘\n--output-sync\n’ (‘\n-O\n’) option.\nThis option instructs\nmake\nto save the output from the commands\nit invokes and print it all once the commands are completed.\nAdditionally, if there are multiple recursive\nmake\ninvocations\nrunning in parallel, they will communicate so that only one of them is\ngenerating output at a time.\nIf working directory printing is enabled (see\nThe\n‘\n--print-directory\n’ Option\n), the enter/leave messages are\nprinted around each output grouping.  If you prefer not to see these\nmessages add the ‘\n--no-print-directory\n’ option to\nMAKEFLAGS\n.\nThere are four levels of granularity when synchronizing output,\nspecified by giving an argument to the option (e.g.,  ‘\n-Oline\n’ or\n‘\n--output-sync=recurse\n’).\nnone\nThis is the default: all output is sent directly as it is generated and\nno synchronization is performed.\nline\nOutput from each individual line of the recipe is grouped and printed\nas soon as that line is complete.  If a recipe consists of multiple\nlines, they may be interspersed with lines from other recipes.\ntarget\nOutput from the entire recipe for each target is grouped and printed\nonce the target is complete.  This is the default if the\n--output-sync\nor\n-O\noption is given with no argument.\nrecurse\nOutput from each recursive invocation of\nmake\nis grouped and\nprinted once the recursive invocation is complete.\nRegardless of the mode chosen, the total build time will be the same.\nThe only difference is in how the output appears.\nThe ‘\ntarget\n’ and ‘\nrecurse\n’ modes both collect the output of\nthe entire recipe of a target and display it uninterrupted when the\nrecipe completes.  The difference between them is in how recipes that\ncontain recursive invocations of\nmake\nare treated\n(see\nRecursive Use of\nmake\n).  For all recipes\nwhich have no recursive lines, the ‘\ntarget\n’ and ‘\nrecurse\n’\nmodes behave identically.\nIf the ‘\nrecurse\n’ mode is chosen, recipes that contain recursive\nmake\ninvocations are treated the same as other targets: the\noutput from the recipe, including the output from the recursive\nmake\n, is saved and printed after the entire recipe is complete.\nThis ensures output from all the targets built by a given recursive\nmake\ninstance are grouped together, which may make the output\neasier to understand.  However it also leads to long periods of time\nduring the build where no output is seen, followed by large bursts of\noutput.  If you are not watching the build as it proceeds, but instead\nviewing a log of the build after the fact, this may be the best option\nfor you.\nIf you are watching the output, the long gaps of quiet during the\nbuild can be frustrating.  The ‘\ntarget\n’ output synchronization\nmode detects when\nmake\nis going to be invoked recursively,\nusing the standard methods, and it will not synchronize the output of\nthose lines.  The recursive\nmake\nwill perform the\nsynchronization for its targets and the output from each will be\ndisplayed immediately when it completes.  Be aware that output from\nrecursive lines of the recipe are not synchronized (for example if\nthe recursive line prints a message before running\nmake\n, that\nmessage will not be synchronized).\nThe ‘\nline\n’ mode can be useful for front-ends that are watching\nthe output of\nmake\nto track when recipes are started and\ncompleted.\nSome programs invoked by\nmake\nmay behave differently if they\ndetermine they’re writing output to a terminal versus a file (often\ndescribed as “interactive” vs. “non-interactive” modes).  For\nexample, many programs that can display colorized output will not do\nso if they determine they are not writing to a terminal.  If your\nmakefile invokes a program like this then using the output\nsynchronization options will cause the program to believe it’s running\nin “non-interactive” mode even though the output will ultimately go\nto the terminal.\nPrevious:\nOutput During Parallel Execution\n, Up:\nParallel Execution\n[\nContents\n][\nIndex\n]\n5.4.3 Input During Parallel Execution\nTwo processes cannot both take input from the same device at the same\ntime.  To make sure that only one recipe tries to take input from the\nterminal at once,\nmake\nwill invalidate the standard input\nstreams of all but one running recipe.  If another recipe attempts to\nread from standard input it will usually incur a fatal error (a\n‘\nBroken pipe\n’ signal).\nIt is unpredictable which recipe will have a valid standard input stream\n(which will come from the terminal, or wherever you redirect the standard\ninput of\nmake\n).  The first recipe run will always get it first, and\nthe first recipe started after that one finishes will get it next, and so\non.\nWe will change how this aspect of\nmake\nworks if we find a better\nalternative.  In the mean time, you should not rely on any recipe using\nstandard input at all if you are using the parallel execution feature; but\nif you are not using this feature, then standard input works normally in\nall recipes.\nNext:\nInterrupting or Killing\nmake\n, Previous:\nParallel Execution\n, Up:\nWriting Recipes in Rules\n[\nContents\n][\nIndex\n]\n5.5 Errors in Recipes\nAfter each shell invocation returns,\nmake\nlooks at its exit\nstatus.  If the shell completed successfully (the exit status is\nzero), the next line in the recipe is executed in a new shell; after\nthe last line is finished, the rule is finished.\nIf there is an error (the exit status is nonzero),\nmake\ngives up on\nthe current rule, and perhaps on all rules.\nSometimes the failure of a certain recipe line does not indicate a problem.\nFor example, you may use the\nmkdir\ncommand to ensure that a\ndirectory exists.  If the directory already exists,\nmkdir\nwill\nreport an error, but you probably want\nmake\nto continue regardless.\nTo ignore errors in a recipe line, write a ‘\n-\n’ at the beginning\nof the line’s text (after the initial tab).  The ‘\n-\n’ is discarded\nbefore the line is passed to the shell for execution.\nFor example,\nclean:\n-rm -f *.o\nThis causes\nmake\nto continue even if\nrm\nis unable to\nremove a file.\nWhen you run\nmake\nwith the ‘\n-i\n’ or ‘\n--ignore-errors\n’\nflag, errors are ignored in all recipes of all rules.  A rule in the\nmakefile for the special target\n.IGNORE\nhas the same effect, if\nthere are no prerequisites.  This is less flexible but sometimes useful.\nWhen errors are to be ignored, because of either a ‘\n-\n’ or the\n‘\n-i\n’ flag,\nmake\ntreats an error return just like success,\nexcept that it prints out a message that tells you the status code\nthe shell exited with, and says that the error has been ignored.\nWhen an error happens that\nmake\nhas not been told to ignore,\nit implies that the current target cannot be correctly remade, and neither\ncan any other that depends on it either directly or indirectly.  No further\nrecipes will be executed for these targets, since their preconditions\nhave not been achieved.\nNormally\nmake\ngives up immediately in this circumstance, returning a\nnonzero status.  However, if the ‘\n-k\n’ or ‘\n--keep-going\n’\nflag is specified,\nmake\ncontinues to consider the other prerequisites of the pending targets,\nremaking them if necessary, before it gives up and returns nonzero status.\nFor example, after an error in compiling one object file, ‘\nmake -k\n’\nwill continue compiling other object files even though it already knows\nthat linking them will be impossible.  See\nSummary of Options\n.\nThe usual behavior assumes that your purpose is to get the specified\ntargets up to date; once\nmake\nlearns that this is impossible, it\nmight as well report the failure immediately.  The ‘\n-k\n’ option says\nthat the real purpose is to test as many of the changes made in the\nprogram as possible, perhaps to find several independent problems so\nthat you can correct them all before the next attempt to compile.  This\nis why Emacs’\ncompile\ncommand passes the ‘\n-k\n’ flag by\ndefault.\nUsually when a recipe line fails, if it has changed the target file at all,\nthe file is corrupted and cannot be used—or at least it is not\ncompletely updated.  Yet the file’s time stamp says that it is now up to\ndate, so the next time\nmake\nruns, it will not try to update that\nfile.  The situation is just the same as when the shell is killed by a\nsignal; see\nInterrupting or Killing\nmake\n.  So generally the right thing to do is to\ndelete the target file if the recipe fails after beginning to change\nthe file.\nmake\nwill do this if\n.DELETE_ON_ERROR\nappears\nas a target.  This is almost always what you want\nmake\nto do, but\nit is not historical practice; so for compatibility, you must explicitly\nrequest it.\nNext:\nRecursive Use of\nmake\n, Previous:\nErrors in Recipes\n, Up:\nWriting Recipes in Rules\n[\nContents\n][\nIndex\n]\n5.6 Interrupting or Killing\nmake\nIf\nmake\ngets a fatal signal while a shell is executing, it may\ndelete the target file that the recipe was supposed to update.  This is\ndone if the target file’s last-modification time has changed since\nmake\nfirst checked it.\nThe purpose of deleting the target is to make sure that it is remade from\nscratch when\nmake\nis next run.  Why is this?  Suppose you type\nCtrl-c\nwhile a compiler is running, and it has begun to write an\nobject file\nfoo.o\n.  The\nCtrl-c\nkills the compiler, resulting\nin an incomplete file whose last-modification time is newer than the source\nfile\nfoo.c\n.  But\nmake\nalso receives the\nCtrl-c\nsignal\nand deletes this incomplete file.  If\nmake\ndid not do this, the next\ninvocation of\nmake\nwould think that\nfoo.o\ndid not require\nupdating—resulting in a strange error message from the linker when it\ntries to link an object file half of which is missing.\nYou can prevent the deletion of a target file in this way by making the\nspecial target\n.PRECIOUS\ndepend on it.  Before remaking a target,\nmake\nchecks to see whether it appears on the prerequisites of\n.PRECIOUS\n, and thereby decides whether the target should be deleted\nif a signal happens.  Some reasons why you might do this are that the\ntarget is updated in some atomic fashion, or exists only to record a\nmodification-time (its contents do not matter), or must exist at all\ntimes to prevent other sorts of trouble.\nAlthough\nmake\ndoes its best to clean up there are certain situations\nin which cleanup is impossible.  For example,\nmake\nmay be killed by\nan uncatchable signal.  Or, one of the programs make invokes may be killed\nor crash, leaving behind an up-to-date but corrupt target file:\nmake\nwill not realize that this failure requires the target to be cleaned.  Or\nmake\nitself may encounter a bug and crash.\nFor these reasons it’s best to write\ndefensive recipes\n, which won’t\nleave behind corrupted targets even if they fail.  Most commonly these\nrecipes create temporary files rather than updating the target directly,\nthen rename the temporary file to the final target name.  Some compilers\nalready behave this way, so that you don’t need to write a defensive recipe.\nNext:\nDefining Canned Recipes\n, Previous:\nInterrupting or Killing\nmake\n, Up:\nWriting Recipes in Rules\n[\nContents\n][\nIndex\n]\n5.7 Recursive Use of\nmake\nRecursive use of\nmake\nmeans using\nmake\nas a command in a\nmakefile.  This technique is useful when you want separate makefiles for\nvarious subsystems that compose a larger system.  For example, suppose you\nhave a sub-directory\nsubdir\nwhich has its own makefile, and you would\nlike the containing directory’s makefile to run\nmake\non the\nsub-directory.  You can do it by writing this:\nsubsystem:\ncd subdir && $(MAKE)\nor, equivalently, this (see\nSummary of Options\n):\nsubsystem:\n$(MAKE) -C subdir\nYou can write recursive\nmake\ncommands just by copying this example,\nbut there are many things to know about how they work and why, and about\nhow the sub-\nmake\nrelates to the top-level\nmake\n.  You may\nalso find it useful to declare targets that invoke recursive\nmake\ncommands as ‘\n.PHONY\n’ (for more discussion on when\nthis is useful, see\nPhony Targets\n).\nFor your convenience, when GNU\nmake\nstarts (after it has\nprocessed any\n-C\noptions) it sets the variable\nCURDIR\nto\nthe pathname of the current working directory.  This value is never\ntouched by\nmake\nagain: in particular note that if you include\nfiles from other directories the value of\nCURDIR\ndoes not\nchange.  The value has the same precedence it would have if it were\nset in the makefile (by default, an environment variable\nCURDIR\nwill not override this value).  Note that setting this variable has no\nimpact on the operation of\nmake\n(it does not cause\nmake\nto change its working directory, for example).\nHow the\nMAKE\nVariable Works\nCommunicating Variables to a Sub-\nmake\nCommunicating Options to a Sub-\nmake\nThe ‘\n--print-directory\n’ Option\nNext:\nCommunicating Variables to a Sub-\nmake\n, Previous:\nRecursive Use of\nmake\n, Up:\nRecursive Use of\nmake\n[\nContents\n][\nIndex\n]\n5.7.1 How the\nMAKE\nVariable Works\nRecursive\nmake\ncommands should always use the variable\nMAKE\n,\nnot the explicit command name ‘\nmake\n’, as shown here:\nsubsystem:\ncd subdir && $(MAKE)\nThe value of this variable is the file name with which\nmake\nwas\ninvoked.  If this file name was\n/bin/make\n, then the recipe executed\nis ‘\ncd subdir && /bin/make\n’.  If you use a special version of\nmake\nto run the top-level makefile, the same special version will be\nexecuted for recursive invocations.\nAs a special feature, using the variable\nMAKE\nin the recipe of\na rule alters the effects of the ‘\n-t\n’ (‘\n--touch\n’), ‘\n-n\n’\n(‘\n--just-print\n’), or ‘\n-q\n’ (‘\n--question\n’\n) option.\nUsing the\nMAKE\nvariable has the same effect as using a ‘\n+\n’\ncharacter at the beginning of the recipe line.  See\nInstead of Executing the Recipes\n.  This special feature\nis only enabled if the\nMAKE\nvariable appears directly in the\nrecipe: it does not apply if the\nMAKE\nvariable is referenced\nthrough expansion of another variable.  In the latter case you must\nuse the ‘\n+\n’ token to get these special effects.\nConsider the command ‘\nmake -t\n’ in the above example.  (The\n‘\n-t\n’ option marks targets as up to date without actually running\nany recipes; see\nInstead of Executing Recipes\n.)  Following the usual\ndefinition of ‘\n-t\n’, a ‘\nmake -t\n’ command in the example would\ncreate a file named\nsubsystem\nand do nothing else.  What you\nreally want it to do is run ‘\ncd subdir &&\nmake\n-t\n’; but\nthat would require executing the recipe, and ‘\n-t\n’ says not to\nexecute recipes.\nThe special feature makes this do what you want: whenever a recipe\nline of a rule contains the variable\nMAKE\n, the flags ‘\n-t\n’,\n‘\n-n\n’ and ‘\n-q\n’ do not apply to that line.  Recipe lines\ncontaining\nMAKE\nare executed normally despite the presence of a\nflag that causes most recipes not to be run.  The usual\nMAKEFLAGS\nmechanism passes the flags to the sub-\nmake\n(see\nCommunicating Options to a\nSub-\nmake\n), so your request to touch the files, or print the\nrecipes, is propagated to the subsystem.\nNext:\nCommunicating Options to a Sub-\nmake\n, Previous:\nHow the\nMAKE\nVariable Works\n, Up:\nRecursive Use of\nmake\n[\nContents\n][\nIndex\n]\n5.7.2 Communicating Variables to a Sub-\nmake\nVariable values of the top-level\nmake\ncan be passed to the\nsub-\nmake\nthrough the environment by explicit request.  These\nvariables are defined in the sub-\nmake\nas defaults, but they do\nnot override variables defined in the makefile used by\nthe sub-\nmake\nunless you use the ‘\n-e\n’ switch (see\nSummary of Options\n).\nTo pass down, or\nexport\n, a variable,\nmake\nadds the\nvariable and its value to the environment for running each line of the\nrecipe.  The sub-\nmake\n, in turn, uses the environment to\ninitialize its table of variable values.  See\nVariables from the Environment\n.\nExcept by explicit request,\nmake\nexports a variable only if it\nis either defined in the environment initially, or if set on the command\nline and its name consists only of letters, numbers, and underscores.\nThe value of the\nmake\nvariable\nSHELL\nis not exported.\nInstead, the value of the\nSHELL\nvariable from the invoking\nenvironment is passed to the sub-\nmake\n.  You can force\nmake\nto export its value for\nSHELL\nby using the\nexport\ndirective, described below.  See\nChoosing the Shell\n.\nThe special variable\nMAKEFLAGS\nis always exported (unless you\nunexport it).\nMAKEFILES\nis exported if you set it to anything.\nmake\nautomatically passes down variable values that were defined\non the command line, by putting them in the\nMAKEFLAGS\nvariable.\nSee\nCommunicating Options to a Sub-\nmake\n.\nVariables are\nnot\nnormally passed down if they were created by\ndefault by\nmake\n(see\nVariables Used by\nImplicit Rules\n).  The sub-\nmake\nwill define these for\nitself.\nIf you want to export specific variables to a sub-\nmake\n, use the\nexport\ndirective, like this:\nexport\nvariable\n…\nIf you want to\nprevent\na variable from being exported, use the\nunexport\ndirective, like this:\nunexport\nvariable\n…\nIn both of these forms, the arguments to\nexport\nand\nunexport\nare expanded, and so could be variables or functions\nwhich expand to a (list of) variable names to be (un)exported.\nAs a convenience, you can define a variable and export it at the same\ntime by doing:\nexport\nvariable\n= value\nhas the same result as:\nvariable\n= value\nexport\nvariable\nand\nexport\nvariable\n:= value\nhas the same result as:\nvariable\n:= value\nexport\nvariable\nLikewise,\nexport\nvariable\n+= value\nis just like:\nvariable\n+= value\nexport\nvariable\nSee\nAppending More Text to Variables\n.\nYou may notice that the\nexport\nand\nunexport\ndirectives\nwork in\nmake\nin the same way they work in the shell,\nsh\n.\nIf you want all variables to be exported by default, you can use\nexport\nby itself:\nexport\nThis tells\nmake\nthat variables which are not explicitly mentioned in an\nexport\nor\nunexport\ndirective should be exported.  Any variable\ngiven in an\nunexport\ndirective will still\nnot\nbe exported.\nThe behavior elicited by an\nexport\ndirective by itself was the default\nin older versions of GNU\nmake\n.  If your makefiles depend on this\nbehavior and you want to be compatible with old versions of\nmake\n, you\ncan add the special target\n.EXPORT_ALL_VARIABLES\nto your makefile\ninstead of using the\nexport\ndirective.  This will be ignored by old\nmake\ns, while the\nexport\ndirective will cause a syntax\nerror.\nWhen using\nexport\nby itself or\n.EXPORT_ALL_VARIABLES\nto export\nvariables by default, only variables whose names consist solely of\nalphanumerics and underscores will be exported.  To export other variables you\nmust specifically mention them in an\nexport\ndirective.\nAdding a variable’s value to the environment requires it to be expanded.  If\nexpanding a variable has side-effects (such as the\ninfo\nor\neval\nor similar functions) then these side-effects will be seen every time a\ncommand is invoked.  You can avoid this by ensuring that such variables have\nnames which are not exportable by default.  However, a better solution is to\nnot\nuse this “export by default” facility at all, and instead\nexplicitly\nexport\nthe relevant variables by name.\nYou can use\nunexport\nby itself to tell\nmake\nnot\nto export\nvariables by default.  Since this is the default behavior, you would only need\nto do this if\nexport\nhad been used by itself earlier (in an included\nmakefile, perhaps).  You\ncannot\nuse\nexport\nand\nunexport\nby themselves to have variables exported for some recipes and not for others.\nThe last\nexport\nor\nunexport\ndirective that appears by itself\ndetermines the behavior for the entire run of\nmake\n.\nAs a special feature, the variable\nMAKELEVEL\nis changed when it\nis passed down from level to level.  This variable’s value is a string\nwhich is the depth of the level as a decimal number.  The value is\n‘\n0\n’ for the top-level\nmake\n; ‘\n1\n’ for a sub-\nmake\n,\n‘\n2\n’ for a sub-sub-\nmake\n, and so on.  The incrementation\nhappens when\nmake\nsets up the environment for a recipe.\nThe main use of\nMAKELEVEL\nis to test it in a conditional\ndirective (see\nConditional Parts of Makefiles\n); this\nway you can write a makefile that behaves one way if run recursively and\nanother way if run directly by you.\nYou can use the variable\nMAKEFILES\nto cause all sub-\nmake\ncommands to use additional makefiles.  The value of\nMAKEFILES\nis\na whitespace-separated list of file names.  This variable, if defined in\nthe outer-level makefile, is passed down through the environment; then\nit serves as a list of extra makefiles for the sub-\nmake\nto read\nbefore the usual or specified ones.  See\nThe\nVariable\nMAKEFILES\n.\nNext:\nThe ‘\n--print-directory\n’ Option\n, Previous:\nCommunicating Variables to a Sub-\nmake\n, Up:\nRecursive Use of\nmake\n[\nContents\n][\nIndex\n]\n5.7.3 Communicating Options to a Sub-\nmake\nFlags such as ‘\n-s\n’ and ‘\n-k\n’ are passed automatically to the\nsub-\nmake\nthrough the variable\nMAKEFLAGS\n.  This variable is\nset up automatically by\nmake\nto contain the flag letters that\nmake\nreceived.  Thus, if you do ‘\nmake\n-ks\n’\nthen\nMAKEFLAGS\ngets the value ‘\nks\n’.\nAs a consequence, every sub-\nmake\ngets a value for\nMAKEFLAGS\nin\nits environment.  In response, it takes the flags from that value and\nprocesses them as if they had been given as arguments.  See\nSummary of Options\n.  This means that, unlike other environment variables,\nMAKEFLAGS\nspecified in the environment take precedence over\nMAKEFLAGS\nspecified in the makefile.\nThe value of\nMAKEFLAGS\nis a possibly empty group of characters\nrepresenting single-letter options that take no argument, followed by a space\nand any options that take arguments or which have long option names.  If an\noption has both single-letter and long options, the single-letter option is\nalways preferred.  If there are no single-letter options on the command line,\nthen the value of\nMAKEFLAGS\nstarts with a space.\nLikewise variables defined on the command line are passed to the\nsub-\nmake\nthrough\nMAKEFLAGS\n.  Words in the value of\nMAKEFLAGS\nthat contain ‘\n=\n’,\nmake\ntreats as variable\ndefinitions just as if they appeared on the command line.\nSee\nOverriding Variables\n.\nThe options ‘\n-C\n’, ‘\n-f\n’, ‘\n-o\n’, and ‘\n-W\n’ are not put\ninto\nMAKEFLAGS\n; these options are not passed down.\nThe ‘\n-j\n’ option is a special case (see\nParallel Execution\n).\nIf you set it to some numeric value ‘\nN\n’ and your operating system\nsupports it (most any UNIX system will; others typically won’t), the\nparent\nmake\nand all the sub-\nmake\ns will communicate to\nensure that there are only ‘\nN\n’ jobs running at the same time\nbetween them all.  Note that any job that is marked recursive\n(see\nInstead of Executing Recipes\n)\ndoesn’t count against the total jobs (otherwise we could get ‘\nN\n’\nsub-\nmake\ns running and have no slots left over for any real work!)\nIf your operating system doesn’t support the above communication, then\nno ‘\n-j\n’ is added to\nMAKEFLAGS\n, so that sub-\nmake\ns\nrun in non-parallel mode.  If the ‘\n-j\n’\noption were passed down\nto sub-\nmake\ns you would get many more jobs running in parallel\nthan you asked for.  If you give ‘\n-j\n’ with no numeric argument,\nmeaning to run as many jobs as possible in parallel, this is passed\ndown, since multiple infinities are no more than one.\nIf you do not want to pass the other flags down, you must change the\nvalue of\nMAKEFLAGS\n, for example like this:\nsubsystem:\ncd subdir && $(MAKE) MAKEFLAGS=\nThe command line variable definitions really appear in the variable\nMAKEOVERRIDES\n, and\nMAKEFLAGS\ncontains a reference to this\nvariable.  If you do want to pass flags down normally, but don’t want to\npass down the command line variable definitions, you can reset\nMAKEOVERRIDES\nto empty, like this:\nMAKEOVERRIDES =\nThis is not usually useful to do.  However, some systems have a small\nfixed limit on the size of the environment, and putting so much\ninformation into the value of\nMAKEFLAGS\ncan exceed it.  If you\nsee the error message ‘\nArg list too long\n’, this may be the problem.\n(For strict compliance with POSIX.2, changing\nMAKEOVERRIDES\ndoes\nnot affect\nMAKEFLAGS\nif the special target ‘\n.POSIX\n’ appears\nin the makefile.  You probably do not care about this.)\nA similar variable\nMFLAGS\nexists also, for historical\ncompatibility.  It has the same value as\nMAKEFLAGS\nexcept that it\ndoes not contain the command line variable definitions, and it always\nbegins with a hyphen unless it is empty (\nMAKEFLAGS\nbegins with a\nhyphen only when it begins with an option that has no single-letter\nversion, such as ‘\n--warn-undefined-variables\n’).\nMFLAGS\nwas\ntraditionally used explicitly in the recursive\nmake\ncommand, like\nthis:\nsubsystem:\ncd subdir && $(MAKE) $(MFLAGS)\nbut now\nMAKEFLAGS\nmakes this usage redundant.  If you want your\nmakefiles to be compatible with old\nmake\nprograms, use this\ntechnique; it will work fine with more modern\nmake\nversions too.\nThe\nMAKEFLAGS\nvariable can also be useful if you want to have\ncertain options, such as ‘\n-k\n’ (see\nSummary of\nOptions\n), set each time you run\nmake\n.  You simply put a value for\nMAKEFLAGS\nin your environment.  You can also set\nMAKEFLAGS\nin\na makefile, to specify additional flags that should also be in effect for\nthat makefile.  (Note that you cannot use\nMFLAGS\nthis way.  That\nvariable is set only for compatibility;\nmake\ndoes not interpret a\nvalue you set for it in any way.)\nWhen\nmake\ninterprets the value of\nMAKEFLAGS\n(either from the\nenvironment or from a makefile), it first prepends a hyphen if the value\ndoes not already begin with one.  Then it chops the value into words\nseparated by blanks, and parses these words as if they were options given\non the command line (except that ‘\n-C\n’, ‘\n-f\n’, ‘\n-h\n’,\n‘\n-o\n’, ‘\n-W\n’, and their long-named versions are ignored; and there\nis no error for an invalid option).\nIf you do put\nMAKEFLAGS\nin your environment, you should be sure not\nto include any options that will drastically affect the actions of\nmake\nand undermine the purpose of makefiles and of\nmake\nitself.  For instance, the ‘\n-t\n’, ‘\n-n\n’, and ‘\n-q\n’ options, if\nput in one of these variables, could have disastrous consequences and would\ncertainly have at least surprising and probably annoying effects.\nIf you’d like to run other implementations of\nmake\nin addition\nto GNU\nmake\n, and hence do not want to add GNU\nmake\n-specific flags to the\nMAKEFLAGS\nvariable, you can\nadd them to the\nGNUMAKEFLAGS\nvariable instead.  This variable\nis parsed just before\nMAKEFLAGS\n, in the same way as\nMAKEFLAGS\n.  When\nmake\nconstructs\nMAKEFLAGS\nto\npass to a recursive\nmake\nit will include all flags, even those\ntaken from\nGNUMAKEFLAGS\n.  As a result, after parsing\nGNUMAKEFLAGS\nGNU\nmake\nsets this variable to the empty\nstring to avoid duplicating flags during recursion.\nIt’s best to use\nGNUMAKEFLAGS\nonly with flags which won’t\nmaterially change the behavior of your makefiles.  If your makefiles\nrequire GNU Make anyway then simply use\nMAKEFLAGS\n.  Flags such\nas ‘\n--no-print-directory\n’ or ‘\n--output-sync\n’ may be\nappropriate for\nGNUMAKEFLAGS\n.\nPrevious:\nCommunicating Options to a Sub-\nmake\n, Up:\nRecursive Use of\nmake\n[\nContents\n][\nIndex\n]\n5.7.4 The ‘\n--print-directory\n’ Option\nIf you use several levels of recursive\nmake\ninvocations, the\n‘\n-w\n’ or ‘\n--print-directory\n’\noption can make the output a\nlot easier to understand by showing each directory as\nmake\nstarts processing it and as\nmake\nfinishes processing it.  For\nexample, if ‘\nmake -w\n’ is run in the directory\n/u/gnu/make\n,\nmake\nwill print a line of the form:\nmake: Entering directory `/u/gnu/make'.\nbefore doing anything else, and a line of the form:\nmake: Leaving directory `/u/gnu/make'.\nwhen processing is completed.\nNormally, you do not need to specify this option because ‘\nmake\n’\ndoes it for you: ‘\n-w\n’ is turned on automatically when you use the\n‘\n-C\n’ option, and in sub-\nmake\ns.\nmake\nwill not\nautomatically turn on ‘\n-w\n’ if you also use ‘\n-s\n’, which says to\nbe silent, or if you use ‘\n--no-print-directory\n’ to explicitly\ndisable it.\nNext:\nUsing Empty Recipes\n, Previous:\nRecursive Use of\nmake\n, Up:\nWriting Recipes in Rules\n[\nContents\n][\nIndex\n]\n5.8 Defining Canned Recipes\nWhen the same sequence of commands is useful in making various\ntargets, you can define it as a canned sequence with the\ndefine\ndirective, and refer to the canned sequence from the recipes for those\ntargets.  The canned sequence is actually a variable, so the name must\nnot conflict with other variable names.\nHere is an example of defining a canned recipe:\ndefine run-yacc =\nyacc $(firstword $^)\nmv y.tab.c $@\nendef\nHere\nrun-yacc\nis the name of the variable being defined;\nendef\nmarks the end of the definition; the lines in between are the\ncommands.  The\ndefine\ndirective does not expand variable references\nand function calls in the canned sequence; the ‘\n$\n’ characters,\nparentheses, variable names, and so on, all become part of the value of the\nvariable you are defining.\nSee\nDefining Multi-Line Variables\n,\nfor a complete explanation of\ndefine\n.\nThe first command in this example runs Yacc on the first prerequisite of\nwhichever rule uses the canned sequence.  The output file from Yacc is\nalways named\ny.tab.c\n.  The second command moves the output to the\nrule’s target file name.\nTo use the canned sequence, substitute the variable into the recipe of a\nrule.  You can substitute it like any other variable\n(see\nBasics of Variable References\n).\nBecause variables defined by\ndefine\nare recursively expanded\nvariables, all the variable references you wrote inside the\ndefine\nare expanded now.  For example:\nfoo.c : foo.y\n$(run-yacc)\n‘\nfoo.y\n’ will be substituted for the variable ‘\n$^\n’ when it occurs in\nrun-yacc\n’s value, and ‘\nfoo.c\n’ for ‘\n$@\n’.\nThis is a realistic example, but this particular one is not needed in\npractice because\nmake\nhas an implicit rule to figure out these\ncommands based on the file names involved\n(see\nUsing Implicit Rules\n).\nIn recipe execution, each line of a canned sequence is treated just as\nif the line appeared on its own in the rule, preceded by a tab.  In\nparticular,\nmake\ninvokes a separate sub-shell for each line.  You\ncan use the special prefix characters that affect command lines\n(‘\n@\n’, ‘\n-\n’, and ‘\n+\n’) on each line of a canned sequence.\nSee\nWriting Recipes in Rules\n.\nFor example, using this canned sequence:\ndefine frobnicate =\n@echo \"frobnicating target $@\"\nfrob-step-1 $< -o $@-step-1\nfrob-step-2 $@-step-1 -o $@\nendef\nmake\nwill not echo the first line, the\necho\ncommand.\nBut it\nwill\necho the following two recipe lines.\nOn the other hand, prefix characters on the recipe line that refers to\na canned sequence apply to every line in the sequence.  So the rule:\nfrob.out: frob.in\n@$(frobnicate)\ndoes not echo\nany\nrecipe lines.\n(See\nRecipe Echoing\n, for a full explanation of ‘\n@\n’.)\nPrevious:\nDefining Canned Recipes\n, Up:\nWriting Recipes in Rules\n[\nContents\n][\nIndex\n]\n5.9 Using Empty Recipes\nIt is sometimes useful to define recipes which do nothing.  This is done\nsimply by giving a recipe that consists of nothing but whitespace.  For\nexample:\ntarget: ;\ndefines an empty recipe for\ntarget\n.  You could also use a line\nbeginning with a recipe prefix character to define an empty recipe,\nbut this would be confusing because such a line looks empty.\nYou may be wondering why you would want to define a recipe that does\nnothing.  One reason this is useful is to prevent a target from\ngetting implicit recipes (from implicit rules or the\n.DEFAULT\nspecial target; see\nUsing Implicit Rules\nand see\nDefining Last-Resort Default Rules\n).\nEmpty recipes can also be used to avoid errors for targets that will\nbe created as a side-effect of another recipe: if the target does not\nexist the empty recipe ensures that\nmake\nwon’t complain that it\ndoesn’t know how to build the target, and\nmake\nwill assume the\ntarget is out of date.\nYou may be inclined to define empty recipes for targets that are not\nactual files, but only exist so that their prerequisites can be\nremade.  However, this is not the best way to do that, because the\nprerequisites may not be remade properly if the target file actually\ndoes exist.  See\nPhony Targets\n, for a better way to\ndo this.\nNext:\nConditional Parts of Makefiles\n, Previous:\nWriting Recipes in Rules\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\n6 How to Use Variables\nA\nvariable\nis a name defined in a makefile to represent a string\nof text, called the variable’s\nvalue\n.  These values are\nsubstituted by explicit request into targets, prerequisites, recipes,\nand other parts of the makefile.  (In some other versions of\nmake\n,\nvariables are called\nmacros\n.)\nVariables and functions in all parts of a makefile are expanded when\nread, except for in recipes, the right-hand sides of variable\ndefinitions using ‘\n=\n’, and the bodies of variable definitions\nusing the\ndefine\ndirective.  The value a variable expands to is\nthat of its most recent definition at the time of expansion.  In other\nwords, variables are dynamically scoped.\nVariables can represent lists of file names, options to pass to compilers,\nprograms to run, directories to look in for source files, directories to\nwrite output in, or anything else you can imagine.\nA variable name may be any sequence of characters not containing\n‘\n:\n’, ‘\n#\n’, ‘\n=\n’, or whitespace.  However, variable names\ncontaining characters other than letters, numbers, and underscores\nshould be considered carefully, as in some shells they cannot be\npassed through the environment to a sub-\nmake\n(see\nCommunicating Variables to a\nSub-\nmake\n).  Variable names beginning with ‘\n.\n’ and an\nuppercase letter may be given special meaning in future versions of\nmake\n.\nVariable names are case-sensitive.  The names ‘\nfoo\n’, ‘\nFOO\n’,\nand ‘\nFoo\n’ all refer to different variables.\nIt is traditional to use upper case letters in variable names, but we\nrecommend using lower case letters for variable names that serve internal\npurposes in the makefile, and reserving upper case for parameters that\ncontrol implicit rules or for parameters that the user should override with\ncommand options (see\nOverriding Variables\n).\nA few variables have names that are a single punctuation character or\njust a few characters.  These are the\nautomatic variables\n, and\nthey have particular specialized uses.  See\nAutomatic Variables\n.\nBasics of Variable References\nThe Two Flavors of Variables\nAdvanced Features for Reference to Variables\nHow Variables Get Their Values\nSetting Variables\nAppending More Text to Variables\nThe\noverride\nDirective\nDefining Multi-Line Variables\nUndefining Variables\nVariables from the Environment\nTarget-specific Variable Values\nPattern-specific Variable Values\nSuppressing Inheritance\nOther Special Variables\nNext:\nThe Two Flavors of Variables\n, Previous:\nHow to Use Variables\n, Up:\nHow to Use Variables\n[\nContents\n][\nIndex\n]\n6.1 Basics of Variable References\nTo substitute a variable’s value, write a dollar sign followed by the name\nof the variable in parentheses or braces: either ‘\n$(foo)\n’ or\n‘\n${foo}\n’ is a valid reference to the variable\nfoo\n.  This\nspecial significance of ‘\n$\n’ is why you must write ‘\n$$\n’ to have\nthe effect of a single dollar sign in a file name or recipe.\nVariable references can be used in any context: targets, prerequisites,\nrecipes, most directives, and new variable values.  Here is an\nexample of a common case, where a variable holds the names of all the\nobject files in a program:\nobjects = program.o foo.o utils.o\nprogram : $(objects)\ncc -o program $(objects)\n$(objects) : defs.h\nVariable references work by strict textual substitution.  Thus, the rule\nfoo = c\nprog.o : prog.$(foo)\n$(foo)$(foo) -$(foo) prog.$(foo)\ncould be used to compile a C program\nprog.c\n.  Since spaces before\nthe variable value are ignored in variable assignments, the value of\nfoo\nis precisely ‘\nc\n’.  (Don’t actually write your makefiles\nthis way!)\nA dollar sign followed by a character other than a dollar sign,\nopen-parenthesis or open-brace treats that single character as the\nvariable name.  Thus, you could reference the variable\nx\nwith\n‘\n$x\n’.  However, this practice can lead to confusion (e.g.,\n‘\n$foo\n’ refers to the variable\nf\nfollowed by the string\noo\n) so we recommend using parentheses or braces around all\nvariables, even single-letter variables, unless omitting them gives\nsignificant readability improvements.  One place where readability is\noften improved is automatic variables (see\nAutomatic Variables\n).\nNext:\nAdvanced Features for Reference to Variables\n, Previous:\nBasics of Variable References\n, Up:\nHow to Use Variables\n[\nContents\n][\nIndex\n]\n6.2 The Two Flavors of Variables\nThere are different ways that a variable in GNU\nmake\ncan get a value;\nwe call them the\nflavors\nof variables.  The flavors are distinguished in\nhow they handle the values they are assigned in the makefile, and in how those\nvalues are managed when the variable is later used and expanded.\nRecursively Expanded Variable Assignment\nSimply Expanded Variable Assignment\nImmediately Expanded Variable Assignment\nConditional Variable Assignment\nNext:\nSimply Expanded Variable Assignment\n, Previous:\nThe Two Flavors of Variables\n, Up:\nThe Two Flavors of Variables\n[\nContents\n][\nIndex\n]\n6.2.1 Recursively Expanded Variable Assignment\nThe first flavor of variable is a\nrecursively expanded\nvariable.\nVariables of this sort are defined by lines using ‘\n=\n’\n(see\nSetting Variables\n) or by the\ndefine\ndirective\n(see\nDefining Multi-Line Variables\n).  The value you specify\nis installed verbatim; if it contains references to other variables,\nthese references are expanded whenever this variable is substituted (in\nthe course of expanding some other string).  When this happens, it is\ncalled\nrecursive expansion\n.\nFor example,\nfoo = $(bar)\nbar = $(ugh)\nugh = Huh?\nall:;echo $(foo)\nwill echo ‘\nHuh?\n’: ‘\n$(foo)\n’ expands to ‘\n$(bar)\n’ which\nexpands to ‘\n$(ugh)\n’ which finally expands to ‘\nHuh?\n’.\nThis flavor of variable is the only sort supported by most other\nversions of\nmake\n.  It has its advantages and its disadvantages.\nAn advantage (most would say) is that:\nCFLAGS = $(include_dirs) -O\ninclude_dirs = -Ifoo -Ibar\nwill do what was intended: when ‘\nCFLAGS\n’ is expanded in a recipe,\nit will expand to ‘\n-Ifoo -Ibar -O\n’.  A major disadvantage is that you\ncannot append something on the end of a variable, as in\nCFLAGS = $(CFLAGS) -O\nbecause it will cause an infinite loop in the variable expansion.\n(Actually\nmake\ndetects the infinite loop and reports an error.)\nAnother disadvantage is that any functions\n(see\nFunctions for Transforming Text\n)\nreferenced in the definition will be executed every time the variable is\nexpanded.  This makes\nmake\nrun slower; worse, it causes the\nwildcard\nand\nshell\nfunctions to give unpredictable results\nbecause you cannot easily control when they are called, or even how many\ntimes.\nNext:\nImmediately Expanded Variable Assignment\n, Previous:\nRecursively Expanded Variable Assignment\n, Up:\nThe Two Flavors of Variables\n[\nContents\n][\nIndex\n]\n6.2.2 Simply Expanded Variable Assignment\nTo avoid the problems and inconveniences of recursively expanded\nvariables, there is another flavor: simply expanded variables.\nSimply expanded variables\nare defined by lines using ‘\n:=\n’\nor ‘\n::=\n’ (see\nSetting Variables\n).  Both forms are\nequivalent in GNU\nmake\n; however only the ‘\n::=\n’ form is\ndescribed by the POSIX standard (support for ‘\n::=\n’ is added to\nthe POSIX standard for POSIX Issue 8).\nThe value of a simply expanded variable is scanned once, expanding any\nreferences to other variables and functions, when the variable is\ndefined.  Once that expansion is complete the value of the variable is\nnever expanded again: when the variable is used the value is copied\nverbatim as the expansion.  If the value contained variable references\nthe result of the expansion will contain their values\nas of the\ntime this variable was defined\n.  Therefore,\nx := foo\ny := $(x) bar\nx := later\nis equivalent to\ny := foo bar\nx := later\nHere is a somewhat more complicated example, illustrating the use of\n‘\n:=\n’ in conjunction with the\nshell\nfunction.\n(See\nThe\nshell\nFunction\n.)  This example\nalso shows use of the variable\nMAKELEVEL\n, which is changed\nwhen it is passed down from level to level.\n(See\nCommunicating Variables to a\nSub-\nmake\n, for information about\nMAKELEVEL\n.)\nifeq (0,${MAKELEVEL})\nwhoami    := $(shell whoami)\nhost-type := $(shell arch)\nMAKE := ${MAKE} host-type=${host-type} whoami=${whoami}\nendif\nAn advantage of this use of ‘\n:=\n’ is that a typical\n‘descend into a directory’ recipe then looks like this:\n${subdirs}:\n${MAKE} -C $@ all\nSimply expanded variables generally make complicated makefile programming\nmore predictable because they work like variables in most programming\nlanguages.  They allow you to redefine a variable using its own value (or\nits value processed in some way by one of the expansion functions) and to\nuse the expansion functions much more efficiently\n(see\nFunctions for Transforming Text\n).\nYou can also use them to introduce controlled leading whitespace into\nvariable values.  Leading whitespace characters are discarded from your\ninput before substitution of variable references and function calls;\nthis means you can include leading spaces in a variable value by\nprotecting them with variable references, like this:\nnullstring :=\nspace := $(nullstring) # end of the line\nHere the value of the variable\nspace\nis precisely one space.  The\ncomment ‘\n# end of the line\n’\nis included here just for clarity.\nSince trailing space characters are\nnot\nstripped from variable\nvalues, just a space at the end of the line would have the same effect\n(but be rather hard to read).  If you put whitespace at the end of a\nvariable value, it is a good idea to put a comment like that at the end\nof the line to make your intent clear.  Conversely, if you do\nnot\nwant any whitespace characters at the end of your variable value, you\nmust remember not to put a random comment on the end of the line after\nsome whitespace, such as this:\ndir := /foo/bar    # directory to put the frobs in\nHere the value of the variable\ndir\nis ‘\n/foo/bar\n’\n(with four trailing spaces), which was probably not the intention.\n(Imagine something like ‘\n$(dir)/file\n’\nwith this definition!)\nNext:\nConditional Variable Assignment\n, Previous:\nSimply Expanded Variable Assignment\n, Up:\nThe Two Flavors of Variables\n[\nContents\n][\nIndex\n]\n6.2.3 Immediately Expanded Variable Assignment\nAnother form of assignment allows for immediate expansion, but unlike simple\nassignment the resulting variable is recursive: it will be re-expanded again\non every use.  In order to avoid unexpected results, after the value is\nimmediately expanded it will automatically be quoted: all instances of\n$\nin the value after expansion will be converted into\n$$\n.  This\ntype of assignment uses the ‘\n:::=\n’ operator.  For example,\nvar = first\nOUT :::= $(var)\nvar = second\nresults in the\nOUT\nvariable containing the text ‘\nfirst\n’, while here:\nvar = one$$two\nOUT :::= $(var)\nvar = three$$four\nresults in the\nOUT\nvariable containing the text ‘\none$$two\n’.  The\nvalue is expanded when the variable is assigned, so the result is the\nexpansion of the first value of\nvar\n, ‘\none$two\n’; then the value is\nre-escaped before the assignment is complete giving the final result of\n‘\none$$two\n’.\nThe variable\nOUT\nis thereafter considered a recursive variable, so it\nwill be re-expanded when it is used.\nThis seems functionally equivalent to the ‘\n:=\n’ / ‘\n::=\n’ operators,\nbut there are a few differences:\nFirst, after assignment the variable is a normal recursive variable; when you\nappend to it with ‘\n+=\n’ the value on the right-hand side is not expanded\nimmediately.  If you prefer the ‘\n+=\n’ operator to expand the right-hand\nside immediately you should use the ‘\n:=\n’ / ‘\n::=\n’ assignment instead.\nSecond, these variables are slightly less efficient than simply expanded\nvariables since they do need to be re-expanded when they are used, rather than\nmerely copied.  However since all variable references are escaped this\nexpansion simply un-escapes the value, it won’t expand any variables or run\nany functions.\nHere is another example:\nvar = one$$two\nOUT :::= $(var)\nOUT += $(var)\nvar = three$$four\nAfter this, the value of\nOUT\nis the text ‘\none$$two $(var)\n’.  When\nthis variable is used it will be expanded and the result will be\n‘\none$two three$four\n’.\nThis style of assignment is equivalent to the traditional BSD\nmake\n‘\n:=\n’ operator; as you can see it works slightly differently than the GNU\nmake\n‘\n:=\n’ operator.  The\n:::=\noperator is added to the\nPOSIX specification in Issue 8 to provide portability.\nPrevious:\nImmediately Expanded Variable Assignment\n, Up:\nThe Two Flavors of Variables\n[\nContents\n][\nIndex\n]\n6.2.4 Conditional Variable Assignment\nThere is another assignment operator for variables, ‘\n?=\n’.  This\nis called a conditional variable assignment operator, because it only\nhas an effect if the variable is not yet defined.  This statement:\nFOO ?= bar\nis exactly equivalent to this\n(see\nThe\norigin\nFunction\n):\nifeq ($(origin FOO), undefined)\nFOO = bar\nendif\nNote that a variable set to an empty value is still defined, so\n‘\n?=\n’ will not set that variable.\nNext:\nHow Variables Get Their Values\n, Previous:\nThe Two Flavors of Variables\n, Up:\nHow to Use Variables\n[\nContents\n][\nIndex\n]\n6.3 Advanced Features for Reference to Variables\nThis section describes some advanced features you can use to reference\nvariables in more flexible ways.\nSubstitution References\nComputed Variable Names\nNext:\nComputed Variable Names\n, Previous:\nAdvanced Features for Reference to Variables\n, Up:\nAdvanced Features for Reference to Variables\n[\nContents\n][\nIndex\n]\n6.3.1 Substitution References\nA\nsubstitution reference\nsubstitutes the value of a variable with\nalterations that you specify.  It has the form\n‘\n$(\nvar\n:\na\n=\nb\n)\n’ (or\n‘\n${\nvar\n:\na\n=\nb\n}\n’) and its meaning is to take the value\nof the variable\nvar\n, replace every\na\nat the end of a word with\nb\nin that value, and substitute the resulting string.\nWhen we say “at the end of a word”, we mean that\na\nmust appear\neither followed by whitespace or at the end of the value in order to be\nreplaced; other occurrences of\na\nin the value are unaltered.  For\nexample:\nfoo := a.o b.o l.a c.o\nbar := $(foo:.o=.c)\nsets ‘\nbar\n’ to ‘\na.c b.c l.a c.c\n’.  See\nSetting Variables\n.\nA substitution reference is shorthand for the\npatsubst\nexpansion function (see\nFunctions for String Substitution and Analysis\n):\n‘\n$(\nvar\n:\na\n=\nb\n)\n’ is equivalent to\n‘\n$(patsubst %\na\n,%\nb\n,\nvar\n)\n’.  We provide\nsubstitution references as well as\npatsubst\nfor compatibility\nwith other implementations of\nmake\n.\nAnother type of substitution reference lets you use the full power of\nthe\npatsubst\nfunction.  It has the same form\n‘\n$(\nvar\n:\na\n=\nb\n)\n’ described above, except that now\na\nmust contain a single ‘\n%\n’ character.  This case is\nequivalent to ‘\n$(patsubst\na\n,\nb\n,$(\nvar\n))\n’.\nSee\nFunctions for String Substitution and Analysis\n,\nfor a description of the\npatsubst\nfunction.  For example:\nfoo := a.o b.o l.a c.o\nbar := $(foo:%.o=%.c)\nsets ‘\nbar\n’ to ‘\na.c b.c l.a c.c\n’.\nPrevious:\nSubstitution References\n, Up:\nAdvanced Features for Reference to Variables\n[\nContents\n][\nIndex\n]\n6.3.2 Computed Variable Names\nComputed variable names are an advanced concept, very useful in more\nsophisticated makefile programming.  In simple situations you need not\nconsider them, but they can be extremely useful.\nVariables may be referenced inside the name of a variable.  This is\ncalled a\ncomputed variable name\nor a\nnested variable\nreference\n.  For example,\nx = y\ny = z\na := $($(x))\ndefines\na\nas ‘\nz\n’: the ‘\n$(x)\n’ inside ‘\n$($(x))\n’ expands\nto ‘\ny\n’, so ‘\n$($(x))\n’ expands to ‘\n$(y)\n’ which in turn expands\nto ‘\nz\n’.  Here the name of the variable to reference is not stated\nexplicitly; it is computed by expansion of ‘\n$(x)\n’.  The reference\n‘\n$(x)\n’ here is nested within the outer variable reference.\nThe previous example shows two levels of nesting, but any number of levels\nis possible.  For example, here are three levels:\nx = y\ny = z\nz = u\na := $($($(x)))\nHere the innermost ‘\n$(x)\n’ expands to ‘\ny\n’, so ‘\n$($(x))\n’\nexpands to ‘\n$(y)\n’ which in turn expands to ‘\nz\n’; now we have\n‘\n$(z)\n’, which becomes ‘\nu\n’.\nReferences to recursively-expanded variables within a variable name are\nre-expanded in the usual fashion.  For example:\nx = $(y)\ny = z\nz = Hello\na := $($(x))\ndefines\na\nas ‘\nHello\n’: ‘\n$($(x))\n’ becomes ‘\n$($(y))\n’\nwhich becomes ‘\n$(z)\n’ which becomes ‘\nHello\n’.\nNested variable references can also contain modified references and function\ninvocations (see\nFunctions for Transforming Text\n), just like\nany other reference.  For example, using the\nsubst\nfunction\n(see\nFunctions for String Substitution and Analysis\n):\nx = variable1\nvariable2 := Hello\ny = $(subst 1,2,$(x))\nz = y\na := $($($(z)))\neventually defines\na\nas ‘\nHello\n’.  It is doubtful that anyone\nwould ever want to write a nested reference as convoluted as this one, but\nit works: ‘\n$($($(z)))\n’ expands to ‘\n$($(y))\n’ which becomes\n‘\n$($(subst 1,2,$(x)))\n’.  This gets the value ‘\nvariable1\n’ from\nx\nand changes it by substitution to ‘\nvariable2\n’, so that the\nentire string becomes ‘\n$(variable2)\n’, a simple variable reference\nwhose value is ‘\nHello\n’.\nA computed variable name need not consist entirely of a single variable\nreference.  It can contain several variable references, as well as some\ninvariant text.  For example,\na_dirs := dira dirb\n1_dirs := dir1 dir2\na_files := filea fileb\n1_files := file1 file2\nifeq \"$(use_a)\" \"yes\"\na1 := a\nelse\na1 := 1\nendif\nifeq \"$(use_dirs)\" \"yes\"\ndf := dirs\nelse\ndf := files\nendif\ndirs := $($(a1)_$(df))\nwill give\ndirs\nthe same value as\na_dirs\n,\n1_dirs\n,\na_files\nor\n1_files\ndepending on the settings of\nuse_a\nand\nuse_dirs\n.\nComputed variable names can also be used in substitution references:\na_objects := a.o b.o c.o\n1_objects := 1.o 2.o 3.o\nsources := $($(a1)_objects:.o=.c)\ndefines\nsources\nas either ‘\na.c b.c c.c\n’ or ‘\n1.c 2.c 3.c\n’,\ndepending on the value of\na1\n.\nThe only restriction on this sort of use of nested variable references\nis that they cannot specify part of the name of a function to be called.\nThis is because the test for a recognized function name is done before\nthe expansion of nested references.  For example,\nifdef do_sort\nfunc := sort\nelse\nfunc := strip\nendif\nbar := a d b g q c\nfoo := $($(func) $(bar))\nattempts to give ‘\nfoo\n’ the value of the variable ‘\nsort a d b g\nq c\n’ or ‘\nstrip a d b g q c\n’, rather than giving ‘\na d b g q c\n’\nas the argument to either the\nsort\nor the\nstrip\nfunction.\nThis restriction could be removed in the future if that change is shown\nto be a good idea.\nYou can also use computed variable names in the left-hand side of a\nvariable assignment, or in a\ndefine\ndirective, as in:\ndir = foo\n$(dir)_sources := $(wildcard $(dir)/*.c)\ndefine $(dir)_print =\nlpr $($(dir)_sources)\nendef\nThis example defines the variables ‘\ndir\n’, ‘\nfoo_sources\n’, and\n‘\nfoo_print\n’.\nNote that\nnested variable references\nare quite different from\nrecursively expanded variables\n(see\nThe Two Flavors of Variables\n), though both are\nused together in complex ways when doing makefile programming.\nNext:\nSetting Variables\n, Previous:\nAdvanced Features for Reference to Variables\n, Up:\nHow to Use Variables\n[\nContents\n][\nIndex\n]\n6.4 How Variables Get Their Values\nVariables can get values in several different ways:\nYou can specify an overriding value when you run\nmake\n.\nSee\nOverriding Variables\n.\nYou can specify a value in the makefile, either\nwith an assignment (see\nSetting Variables\n) or with a\nverbatim definition (see\nDefining Multi-Line Variables\n).\nYou can specify a short-lived value with the\nlet\nfunction\n(see\nThe\nlet\nFunction\n) or with the\nforeach\nfunction\n(see\nThe\nforeach\nFunction\n).\nVariables in the environment become\nmake\nvariables.\nSee\nVariables from the Environment\n.\nSeveral\nautomatic\nvariables are given new values for each rule.\nEach of these has a single conventional use.\nSee\nAutomatic Variables\n.\nSeveral variables have constant initial values.\nSee\nVariables Used by Implicit Rules\n.\nNext:\nAppending More Text to Variables\n, Previous:\nHow Variables Get Their Values\n, Up:\nHow to Use Variables\n[\nContents\n][\nIndex\n]\n6.5 Setting Variables\nTo set a variable from the makefile, write a line starting with the variable\nname followed by one of the assignment operators ‘\n=\n’, ‘\n:=\n’,\n‘\n::=\n’, or ‘\n:::=\n’.  Whatever follows the operator and any initial\nwhitespace on the line becomes the value.  For example,\nobjects = main.o foo.o bar.o utils.o\ndefines a variable named\nobjects\nto contain the value ‘\nmain.o\nfoo.o bar.o utils.o\n’.  Whitespace around the variable name and immediately\nafter the ‘\n=\n’ is ignored.\nVariables defined with ‘\n=\n’ are\nrecursively expanded\nvariables.\nVariables defined with ‘\n:=\n’ or ‘\n::=\n’ are\nsimply expanded\nvariables; these definitions can contain variable references which will be\nexpanded before the definition is made.  Variables defined with ‘\n:::=\n’\nare\nimmediately expanded\nvariables.  The different assignment operators\nare described in See\nThe Two Flavors of Variables\n.\nThe variable name may contain function and variable references, which\nare expanded when the line is read to find the actual variable name to use.\nThere is no limit on the length of the value of a variable except the\namount of memory on the computer.  You can split the value of a\nvariable into multiple physical lines for readability\n(see\nSplitting Long Lines\n).\nMost variable names are considered to have the empty string as a value if\nyou have never set them.  Several variables have built-in initial values\nthat are not empty, but you can set them in the usual ways\n(see\nVariables Used by Implicit Rules\n).\nSeveral special variables are set\nautomatically to a new value for each rule; these are called the\nautomatic\nvariables (see\nAutomatic Variables\n).\nIf you’d like a variable to be set to a value only if it’s not already\nset, then you can use the shorthand operator ‘\n?=\n’ instead of\n‘\n=\n’.  These two settings of the variable ‘\nFOO\n’ are identical\n(see\nThe\norigin\nFunction\n):\nFOO ?= bar\nand\nifeq ($(origin FOO), undefined)\nFOO = bar\nendif\nThe shell assignment operator ‘\n!=\n’ can be used to execute a\nshell script and set a variable to its output.  This operator first\nevaluates the right-hand side, then passes that result to the shell\nfor execution.  If the result of the execution ends in a newline, that\none newline is removed; all other newlines are replaced by spaces.\nThe resulting string is then placed into the named\nrecursively-expanded variable.  For example:\nhash != printf '\\043'\nfile_list != find . -name '*.c'\nIf the result of the execution could produce a\n$\n, and you don’t\nintend what follows that to be interpreted as a make variable or\nfunction reference, then you must replace every\n$\nwith\n$$\nas part of the execution.  Alternatively, you can set a\nsimply expanded variable to the result of running a program using the\nshell\nfunction call.  See\nThe\nshell\nFunction\n.  For example:\nhash := $(shell printf '\\043')\nvar := $(shell find . -name \"*.c\")\nAs with the\nshell\nfunction, the exit status of the just-invoked\nshell script is stored in the\n.SHELLSTATUS\nvariable.\nNext:\nThe\noverride\nDirective\n, Previous:\nSetting Variables\n, Up:\nHow to Use Variables\n[\nContents\n][\nIndex\n]\n6.6 Appending More Text to Variables\nOften it is useful to add more text to the value of a variable already defined.\nYou do this with a line containing ‘\n+=\n’, like this:\nobjects += another.o\nThis takes the value of the variable\nobjects\n, and adds the text\n‘\nanother.o\n’ to it (preceded by a single space, if it has a value\nalready).  Thus:\nobjects = main.o foo.o bar.o utils.o\nobjects += another.o\nsets\nobjects\nto ‘\nmain.o foo.o bar.o utils.o another.o\n’.\nUsing ‘\n+=\n’ is similar to:\nobjects = main.o foo.o bar.o utils.o\nobjects := $(objects) another.o\nbut differs in ways that become important when you use more complex values.\nWhen the variable in question has not been defined before, ‘\n+=\n’\nacts just like normal ‘\n=\n’: it defines a recursively-expanded\nvariable.  However, when there\nis\na previous definition, exactly\nwhat ‘\n+=\n’ does depends on what flavor of variable you defined\noriginally.  See\nThe Two Flavors of Variables\n, for an\nexplanation of the two flavors of variables.\nWhen you add to a variable’s value with ‘\n+=\n’,\nmake\nacts\nessentially as if you had included the extra text in the initial definition of\nthe variable.  If you defined it first with ‘\n:=\n’ or ‘\n::=\n’, making it\na simply-expanded variable, ‘\n+=\n’ adds to that simply-expanded definition,\nand expands the new text before appending it to the old value just as\n‘\n:=\n’ does (see\nSetting Variables\n, for a full explanation\nof ‘\n:=\n’ or ‘\n::=\n’).  In fact,\nvariable := value\nvariable += more\nis exactly equivalent to:\nvariable := value\nvariable := $(variable) more\nOn the other hand, when you use ‘\n+=\n’ with a variable that you defined\nfirst to be recursively-expanded using plain ‘\n=\n’ or ‘\n:::=\n’,\nmake\nappends the un-expanded text to the existing value, whatever it\nis.  This means that\nvariable = value\nvariable += more\nis roughly equivalent to:\ntemp = value\nvariable = $(temp) more\nexcept that of course it never defines a variable called\ntemp\n.\nThe importance of this comes when the variable’s old value contains\nvariable references.  Take this common example:\nCFLAGS = $(includes) -O\n…\nCFLAGS += -pg # enable profiling\nThe first line defines the\nCFLAGS\nvariable with a reference to another\nvariable,\nincludes\n.  (\nCFLAGS\nis used by the rules for C\ncompilation; see\nCatalogue of Built-In Rules\n.)\nUsing ‘\n=\n’ for the definition makes\nCFLAGS\na recursively-expanded\nvariable, meaning ‘\n$(includes)\n-O\n’\nis\nnot\nexpanded when\nmake\nprocesses the definition of\nCFLAGS\n.  Thus,\nincludes\nneed not be defined yet for its value to take effect.  It only has to be\ndefined before any reference to\nCFLAGS\n.  If we tried to append to the\nvalue of\nCFLAGS\nwithout using ‘\n+=\n’, we might do it like this:\nCFLAGS := $(CFLAGS) -pg # enable profiling\nThis is pretty close, but not quite what we want.  Using ‘\n:=\n’\nredefines\nCFLAGS\nas a simply-expanded variable; this means\nmake\nexpands the text ‘\n$(CFLAGS)\n-pg\n’\nbefore setting the\nvariable.  If\nincludes\nis not yet defined, we get ‘\n-O\n-pg\n’\n, and a later definition of\nincludes\nwill have no effect.\nConversely, by using ‘\n+=\n’ we set\nCFLAGS\nto the\nunexpanded\nvalue ‘\n$(includes)\n-O\n-pg\n’\n.  Thus we preserve\nthe reference to\nincludes\n, so if that variable gets defined at\nany later point, a reference like ‘\n$(CFLAGS)\n’ still uses its\nvalue.\nNext:\nDefining Multi-Line Variables\n, Previous:\nAppending More Text to Variables\n, Up:\nHow to Use Variables\n[\nContents\n][\nIndex\n]\n6.7 The\noverride\nDirective\nIf a variable has been set with a command argument\n(see\nOverriding Variables\n),\nthen ordinary assignments in the makefile are ignored.  If you want to set\nthe variable in the makefile even though it was set with a command\nargument, you can use an\noverride\ndirective, which is a line that\nlooks like this:\noverride\nvariable\n=\nvalue\nor\noverride\nvariable\n:=\nvalue\nTo append more text to a variable defined on the command line, use:\noverride\nvariable\n+=\nmore text\nSee\nAppending More Text to Variables\n.\nVariable assignments marked with the\noverride\nflag have a\nhigher priority than all other assignments, except another\noverride\n.  Subsequent assignments or appends to this variable\nwhich are not marked\noverride\nwill be ignored.\nThe\noverride\ndirective was not invented for escalation in the war\nbetween makefiles and command arguments.  It was invented so you can alter\nand add to values that the user specifies with command arguments.\nFor example, suppose you always want the ‘\n-g\n’ switch when you run the\nC compiler, but you would like to allow the user to specify the other\nswitches with a command argument just as usual.  You could use this\noverride\ndirective:\noverride CFLAGS += -g\nYou can also use\noverride\ndirectives with\ndefine\ndirectives.\nThis is done as you might expect:\noverride define foo =\nbar\nendef\nSee\nDefining Multi-Line Variables\n.\nNext:\nUndefining Variables\n, Previous:\nThe\noverride\nDirective\n, Up:\nHow to Use Variables\n[\nContents\n][\nIndex\n]\n6.8 Defining Multi-Line Variables\nAnother way to set the value of a variable is to use the\ndefine\ndirective.  This directive has an unusual syntax which allows newline\ncharacters to be included in the value, which is convenient for\ndefining both canned sequences of commands (see\nDefining Canned Recipes\n), and also sections of makefile syntax to\nuse with\neval\n(see\nThe\neval\nFunction\n).\nThe\ndefine\ndirective is followed on the same line by the name\nof the variable being defined and an (optional) assignment operator,\nand nothing more.  The value to give the variable appears on the\nfollowing lines.  The end of the value is marked by a line containing\njust the word\nendef\n.\nAside from this difference in syntax,\ndefine\nworks just like\nany other variable definition.  The variable name may contain function\nand variable references, which are expanded when the directive is read\nto find the actual variable name to use.\nThe final newline before the\nendef\nis not included in the\nvalue; if you want your value to contain a trailing newline you must\ninclude a blank line.  For example in order to define a variable that\ncontains a newline character you must use\ntwo\nempty lines, not one:\ndefine newline\nendef\nYou may omit the variable assignment operator if you prefer.  If\nomitted,\nmake\nassumes it to be ‘\n=\n’ and creates a\nrecursively-expanded variable (see\nThe Two Flavors of Variables\n).\nWhen using a ‘\n+=\n’ operator, the value is appended to the previous\nvalue as with any other append operation: with a single space\nseparating the old and new values.\nYou may nest\ndefine\ndirectives:\nmake\nwill keep track of\nnested directives and report an error if they are not all properly\nclosed with\nendef\n.  Note that lines beginning with the recipe\nprefix character are considered part of a recipe, so any\ndefine\nor\nendef\nstrings appearing on such a line will not be\nconsidered\nmake\ndirectives.\ndefine two-lines\necho foo\necho $(bar)\nendef\nWhen used in a recipe, the previous example is functionally equivalent\nto this:\ntwo-lines = echo foo; echo $(bar)\nsince two commands separated by semicolon behave much like two separate\nshell commands.  However, note that using two separate lines means\nmake\nwill invoke the shell twice, running an independent sub-shell\nfor each line.  See\nRecipe Execution\n.\nIf you want variable definitions made with\ndefine\nto take\nprecedence over command-line variable definitions, you can use the\noverride\ndirective together with\ndefine\n:\noverride define two-lines =\nfoo\n$(bar)\nendef\nSee\nThe\noverride\nDirective\n.\nNext:\nVariables from the Environment\n, Previous:\nDefining Multi-Line Variables\n, Up:\nHow to Use Variables\n[\nContents\n][\nIndex\n]\n6.9 Undefining Variables\nIf you want to clear a variable, setting its value to empty is usually\nsufficient. Expanding such a variable will yield the same result (empty\nstring) regardless of whether it was set or not. However, if you are\nusing the\nflavor\n(see\nThe\nflavor\nFunction\n) and\norigin\n(see\nThe\norigin\nFunction\n) functions, there is a difference\nbetween a variable that was never set and a variable with an empty value.\nIn such situations you may want to use the\nundefine\ndirective to\nmake a variable appear as if it was never set. For example:\nfoo := foo\nbar = bar\nundefine foo\nundefine bar\n$(info $(origin foo))\n$(info $(flavor bar))\nThis example will print “undefined” for both variables.\nIf you want to undefine a command-line variable definition, you can use\nthe\noverride\ndirective together with\nundefine\n, similar to\nhow this is done for variable definitions:\noverride undefine CFLAGS\nNext:\nTarget-specific Variable Values\n, Previous:\nUndefining Variables\n, Up:\nHow to Use Variables\n[\nContents\n][\nIndex\n]\n6.10 Variables from the Environment\nVariables in\nmake\ncan come from the environment in which\nmake\nis run.  Every environment variable that\nmake\nsees\nwhen it starts up is transformed into a\nmake\nvariable with the\nsame name and value.  However, an explicit assignment in the makefile,\nor with a command argument, overrides the environment.  (If the\n‘\n-e\n’ flag is specified, then values from the environment override\nassignments in the makefile.  See\nSummary of\nOptions\n.  But this is not recommended practice.)\nThus, by setting the variable\nCFLAGS\nin your environment, you can\ncause all C compilations in most makefiles to use the compiler switches you\nprefer.  This is safe for variables with standard or conventional meanings\nbecause you know that no makefile will use them for other things.  (Note\nthis is not totally reliable; some makefiles set\nCFLAGS\nexplicitly\nand therefore are not affected by the value in the environment.)\nWhen\nmake\nruns a recipe, some variables defined in the makefile\nare placed into the environment of each command\nmake\ninvokes.\nBy default, only variables that came from the\nmake\n’s\nenvironment or set on its command line are placed into the environment\nof the commands.  You can use the\nexport\ndirective to pass\nother variables.  See\nCommunicating Variables\nto a Sub-\nmake\n, for full details.\nOther use of variables from the environment is not recommended.  It is not\nwise for makefiles to depend for their functioning on environment variables\nset up outside their control, since this would cause different users to get\ndifferent results from the same makefile.  This is against the whole\npurpose of most makefiles.\nSuch problems would be especially likely with the variable\nSHELL\n, which is normally present in the environment to specify\nthe user’s choice of interactive shell.  It would be very undesirable\nfor this choice to affect\nmake\n; so,\nmake\nhandles the\nSHELL\nenvironment variable in a special way; see\nChoosing the Shell\n.\nNext:\nPattern-specific Variable Values\n, Previous:\nVariables from the Environment\n, Up:\nHow to Use Variables\n[\nContents\n][\nIndex\n]\n6.11 Target-specific Variable Values\nVariable values in\nmake\nare usually global; that is, they are the\nsame regardless of where they are evaluated (unless they’re reset, of\ncourse).  Exceptions to that are variables defined with the\nlet\nfunction (see\nThe\nlet\nFunction\n) or the\nforeach\nfunction\n(see\nThe\nforeach\nFunction\n, and automatic variables\n(see\nAutomatic Variables\n).\nAnother exception are\ntarget-specific variable values\n.  This\nfeature allows you to define different values for the same variable,\nbased on the target that\nmake\nis currently building.  As with\nautomatic variables, these values are only available within the context\nof a target’s recipe (and in other target-specific assignments).\nSet a target-specific variable value like this:\ntarget\n… :\nvariable-assignment\nTarget-specific variable assignments can be prefixed with any or all of the\nspecial keywords\nexport\n,\nunexport\n,\noverride\n, or\nprivate\n; these apply their normal behavior to this instance of the\nvariable only.\nMultiple\ntarget\nvalues create a target-specific variable value for\neach member of the target list individually.\nThe\nvariable-assignment\ncan be any valid form of assignment; recursive\n(‘\n=\n’), simple (‘\n:=\n’ or ‘\n::=\n’), immediate (‘\n::=\n’),\nappending (‘\n+=\n’), or conditional (‘\n?=\n’).  All variables that appear\nwithin the\nvariable-assignment\nare evaluated within the context of the\ntarget: thus, any previously-defined target-specific variable values will be\nin effect.  Note that this variable is actually distinct from any “global”\nvalue: the two variables do not have to have the same flavor (recursive vs.\nsimple).\nTarget-specific variables have the same priority as any other makefile\nvariable.  Variables provided on the command line (and in the\nenvironment if the ‘\n-e\n’ option is in force) will take precedence.\nSpecifying the\noverride\ndirective will allow the target-specific\nvariable value to be preferred.\nThere is one more special feature of target-specific variables: when\nyou define a target-specific variable that variable value is also in\neffect for all prerequisites of this target, and all their\nprerequisites, etc. (unless those prerequisites override that variable\nwith their own target-specific variable value).  So, for example, a\nstatement like this:\nprog : CFLAGS = -g\nprog : prog.o foo.o bar.o\nwill set\nCFLAGS\nto ‘\n-g\n’ in the recipe for\nprog\n, but\nit will also set\nCFLAGS\nto ‘\n-g\n’ in the recipes that create\nprog.o\n,\nfoo.o\n, and\nbar.o\n, and any recipes which\ncreate their prerequisites.\nBe aware that a given prerequisite will only be built once per\ninvocation of make, at most.  If the same file is a prerequisite of\nmultiple targets, and each of those targets has a different value for\nthe same target-specific variable, then the first target to be built\nwill cause that prerequisite to be built and the prerequisite will\ninherit the target-specific value from the first target.  It will\nignore the target-specific values from any other targets.\nNext:\nSuppressing Inheritance\n, Previous:\nTarget-specific Variable Values\n, Up:\nHow to Use Variables\n[\nContents\n][\nIndex\n]\n6.12 Pattern-specific Variable Values\nIn addition to target-specific variable values\n(see\nTarget-specific Variable Values\n), GNU\nmake\nsupports pattern-specific variable values.  In this form,\nthe variable is defined for any target that matches the pattern\nspecified.\nSet a pattern-specific variable value like this:\npattern\n… :\nvariable-assignment\nwhere\npattern\nis a %-pattern.  As with target-specific variable\nvalues, multiple\npattern\nvalues create a pattern-specific variable\nvalue for each pattern individually.  The\nvariable-assignment\ncan\nbe any valid form of assignment.  Any command line variable setting will\ntake precedence, unless\noverride\nis specified.\nFor example:\n%.o : CFLAGS = -O\nwill assign\nCFLAGS\nthe value of ‘\n-O\n’ for all targets\nmatching the pattern\n%.o\n.\nIf a target matches more than one pattern, the matching pattern-specific\nvariables with longer stems are interpreted first. This results in more\nspecific variables taking precedence over the more generic ones, for\nexample:\n%.o: %.c\n$(CC) -c $(CFLAGS) $(CPPFLAGS) $< -o $@\nlib/%.o: CFLAGS := -fPIC -g\n%.o: CFLAGS := -g\nall: foo.o lib/bar.o\nIn this example the first definition of the\nCFLAGS\nvariable\nwill be used to update\nlib/bar.o\neven though the second one\nalso applies to this target. Pattern-specific variables which result\nin the same stem length are considered in the order in which they\nwere defined in the makefile.\nPattern-specific variables are searched after any target-specific\nvariables defined explicitly for that target, and before target-specific\nvariables defined for the parent target.\nNext:\nOther Special Variables\n, Previous:\nPattern-specific Variable Values\n, Up:\nHow to Use Variables\n[\nContents\n][\nIndex\n]\n6.13 Suppressing Inheritance\nAs described in previous sections,\nmake\nvariables are inherited\nby prerequisites.  This capability allows you to modify the behavior\nof a prerequisite based on which targets caused it to be rebuilt.  For\nexample, you might set a target-specific variable on a\ndebug\ntarget, then running ‘\nmake debug\n’ will cause that variable to be\ninherited by all prerequisites of\ndebug\n, while just running\n‘\nmake all\n’ (for example) would not have that assignment.\nSometimes, however, you may not want a variable to be inherited.  For\nthese situations,\nmake\nprovides the\nprivate\nmodifier.\nAlthough this modifier can be used with any variable assignment, it\nmakes the most sense with target- and pattern-specific variables.  Any\nvariable marked\nprivate\nwill be visible to its local target but\nwill not be inherited by prerequisites of that target.  A global\nvariable marked\nprivate\nwill be visible in the global scope but\nwill not be inherited by any target, and hence will not be visible\nin any recipe.\nAs an example, consider this makefile:\nEXTRA_CFLAGS =\nprog: private EXTRA_CFLAGS = -L/usr/local/lib\nprog: a.o b.o\nDue to the\nprivate\nmodifier,\na.o\nand\nb.o\nwill not\ninherit the\nEXTRA_CFLAGS\nvariable assignment from the\nprog\ntarget.\nPrevious:\nSuppressing Inheritance\n, Up:\nHow to Use Variables\n[\nContents\n][\nIndex\n]\n6.14 Other Special Variables\nGNU\nmake\nsupports some variables that have special properties.\nMAKEFILE_LIST\nContains the name of each makefile that is parsed by\nmake\n, in\nthe order in which it was parsed.  The name is appended just\nbefore\nmake\nbegins to parse the makefile.  Thus, if the first\nthing a makefile does is examine the last word in this variable, it\nwill be the name of the current makefile.  Once the current makefile\nhas used\ninclude\n, however, the last word will be the\njust-included makefile.\nIf a makefile named\nMakefile\nhas this content:\nname1 := $(lastword $(MAKEFILE_LIST))\ninclude inc.mk\nname2 := $(lastword $(MAKEFILE_LIST))\nall:\n@echo name1 = $(name1)\n@echo name2 = $(name2)\nthen you would expect to see this output:\nname1 = Makefile\nname2 = inc.mk\n.DEFAULT_GOAL\nSets the default goal to be used if no targets were specified on the\ncommand line (see\nArguments to Specify the Goals\n).  The\n.DEFAULT_GOAL\nvariable allows you to discover the current\ndefault goal, restart the default goal selection algorithm by clearing\nits value, or to explicitly set the default goal.  The following\nexample illustrates these cases:\n# Query the default goal.\nifeq ($(.DEFAULT_GOAL),)\n$(warning no default goal is set)\nendif\n.PHONY: foo\nfoo: ; @echo $@\n$(warning default goal is $(.DEFAULT_GOAL))\n# Reset the default goal.\n.DEFAULT_GOAL :=\n.PHONY: bar\nbar: ; @echo $@\n$(warning default goal is $(.DEFAULT_GOAL))\n# Set our own.\n.DEFAULT_GOAL := foo\nThis makefile prints:\nno default goal is set\ndefault goal is foo\ndefault goal is bar\nfoo\nNote that assigning more than one target name to\n.DEFAULT_GOAL\nis\ninvalid and will result in an error.\nMAKE_RESTARTS\nThis variable is set only if this instance of\nmake\nhas\nrestarted (see\nHow Makefiles Are Remade\n): it\nwill contain the number of times this instance has restarted.  Note\nthis is not the same as recursion (counted by the\nMAKELEVEL\nvariable).  You should not set, modify, or export this variable.\nMAKE_TERMOUT\nMAKE_TERMERR\nWhen\nmake\nstarts it will check whether stdout and stderr will\nshow their output on a terminal.  If so, it will set\nMAKE_TERMOUT\nand\nMAKE_TERMERR\n, respectively, to the name\nof the terminal device (or\ntrue\nif this cannot be determined).\nIf set these variables will be marked for export.  These variables\nwill not be changed by\nmake\nand they will not be modified if\nalready set.\nThese values can be used (particularly in combination with output\nsynchronization (see\nOutput During Parallel\nExecution\n) to determine whether\nmake\nitself is writing to a\nterminal; they can be tested to decide whether to force recipe\ncommands to generate colorized output for example.\nIf you invoke a sub-\nmake\nand redirect its stdout or stderr it\nis your responsibility to reset or unexport these variables as well,\nif your makefiles rely on them.\n.RECIPEPREFIX\nThe first character of the value of this variable is used as the\ncharacter make assumes is introducing a recipe line.  If the variable\nis empty (as it is by default) that character is the standard tab\ncharacter.  For example, this is a valid makefile:\n.RECIPEPREFIX = >\nall:\n> @echo Hello, world\nThe value of\n.RECIPEPREFIX\ncan be changed multiple times; once set\nit stays in effect for all rules parsed until it is modified.\n.VARIABLES\nExpands to a list of the\nnames\nof all global variables defined\nso far.  This includes variables which have empty values, as well as\nbuilt-in variables (see\nVariables Used by\nImplicit Rules\n), but does not include any variables which are only\ndefined in a target-specific context.  Note that any value you assign\nto this variable will be ignored; it will always return its special\nvalue.\n.FEATURES\nExpands to a list of special features supported by this version of\nmake\n.  Possible values include, but are not limited to:\n‘\narchives\n’\nSupports\nar\n(archive) files using special file name syntax.\nSee\nUsing\nmake\nto Update Archive Files\n.\n‘\ncheck-symlink\n’\nSupports the\n-L\n(\n--check-symlink-times\n) flag.\nSee\nSummary of Options\n.\n‘\nelse-if\n’\nSupports “else if” non-nested conditionals.  See\nSyntax of Conditionals\n.\n‘\nextra-prereqs\n’\nSupports the\n.EXTRA_PREREQS\nspecial target.\n‘\ngrouped-target\n’\nSupports grouped target syntax for explicit rules.  See\nMultiple Targets in a Rule\n.\n‘\nguile\n’\nHas GNU Guile available as an embedded extension language.\nSee\nGNU Guile Integration\n.\n‘\njobserver\n’\nSupports “job server” enhanced parallel builds.  See\nParallel Execution\n.\n‘\njobserver-fifo\n’\nSupports “job server” enhanced parallel builds using named pipes.\nSee\nIntegrating GNU\nmake\n.\n‘\nload\n’\nSupports dynamically loadable objects for creating custom extensions.\nSee\nLoading Dynamic Objects\n.\n‘\nnotintermediate\n’\nSupports the\n.NOTINTERMEDIATE\nspecial target.\nSee\nIntegrating GNU\nmake\n.\n‘\noneshell\n’\nSupports the\n.ONESHELL\nspecial target.  See\nUsing\nOne Shell\n.\n‘\norder-only\n’\nSupports order-only prerequisites.  See\nTypes\nof Prerequisites\n.\n‘\noutput-sync\n’\nSupports the\n--output-sync\ncommand line option.  See\nSummary of Options\n.\n‘\nsecond-expansion\n’\nSupports secondary expansion of prerequisite lists.\n‘\nshell-export\n’\nSupports exporting\nmake\nvariables to\nshell\nfunctions.\n‘\nshortest-stem\n’\nUses the “shortest stem” method of choosing which pattern, of\nmultiple applicable options, will be used.  See\nHow\nPatterns Match\n.\n‘\ntarget-specific\n’\nSupports target-specific and pattern-specific variable assignments.\nSee\nTarget-specific Variable Values\n.\n‘\nundefine\n’\nSupports the\nundefine\ndirective.  See\nUndefining Variables\n.\n.INCLUDE_DIRS\nExpands to a list of directories that\nmake\nsearches for\nincluded makefiles (see\nIncluding Other Makefiles\n).\nNote that modifying this variable’s value does not change the list of\ndirectories which are searched.\n.EXTRA_PREREQS\nEach word in this variable is a new prerequisite which is added to\ntargets for which it is set.  These prerequisites differ from normal\nprerequisites in that they do not appear in any of the automatic\nvariables (see\nAutomatic Variables\n).  This allows prerequisites to\nbe defined which do not impact the recipe.\nConsider a rule to link a program:\nmyprog: myprog.o file1.o file2.o\n$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $^ $(LDLIBS)\nNow suppose you want to enhance this makefile to ensure that updates\nto the compiler cause the program to be re-linked.  You can add the\ncompiler as a prerequisite, but you must ensure that it’s not passed\nas an argument to link command.  You’ll need something like this:\nmyprog: myprog.o file1.o file2.o $(CC)\n$(CC) $(CFLAGS) $(LDFLAGS) -o $@ \\\n$(filter-out $(CC),$^) $(LDLIBS)\nThen consider having multiple extra prerequisites: they would all have\nto be filtered out.  Using\n.EXTRA_PREREQS\nand target-specific\nvariables provides a simpler solution:\nmyprog: myprog.o file1.o file2.o\n$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $^ $(LDLIBS)\nmyprog: .EXTRA_PREREQS = $(CC)\nThis feature can also be useful if you want to add prerequisites to a\nmakefile you cannot easily modify: you can create a new file such as\nextra.mk\n:\nmyprog: .EXTRA_PREREQS = $(CC)\nthen invoke\nmake -f extra.mk -f Makefile\n.\nSetting\n.EXTRA_PREREQS\nglobally will cause those prerequisites\nto be added to all targets (which did not themselves override it with\na target-specific value).  Note\nmake\nis smart enough not to add\na prerequisite listed in\n.EXTRA_PREREQS\nas a prerequisite to\nitself.\nNext:\nFunctions for Transforming Text\n, Previous:\nHow to Use Variables\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\n7 Conditional Parts of Makefiles\nA\nconditional\ndirective causes part of a makefile to be obeyed\nor ignored depending on the values of variables.  Conditionals can\ncompare the value of one variable to another, or the value of a\nvariable to a constant string.  Conditionals control what\nmake\nactually “sees” in the makefile, so they\ncannot\nbe used to\ncontrol recipes at the time of execution.\nExample of a Conditional\nSyntax of Conditionals\nConditionals that Test Flags\nNext:\nSyntax of Conditionals\n, Previous:\nConditional Parts of Makefiles\n, Up:\nConditional Parts of Makefiles\n[\nContents\n][\nIndex\n]\n7.1 Example of a Conditional\nThe following example of a conditional tells\nmake\nto use one\nset of libraries if the\nCC\nvariable is ‘\ngcc\n’, and a\ndifferent set of libraries otherwise.  It works by controlling which\nof two recipe lines will be used for the rule.  The result is that\n‘\nCC=gcc\n’ as an argument to\nmake\nchanges not only which\ncompiler is used but also which libraries are linked.\nlibs_for_gcc = -lgnu\nnormal_libs =\nfoo: $(objects)\nifeq ($(CC),gcc)\n$(CC) -o foo $(objects) $(libs_for_gcc)\nelse\n$(CC) -o foo $(objects) $(normal_libs)\nendif\nThis conditional uses three directives: one\nifeq\n, one\nelse\nand one\nendif\n.\nThe\nifeq\ndirective begins the conditional, and specifies the\ncondition.  It contains two arguments, separated by a comma and surrounded\nby parentheses.  Variable substitution is performed on both arguments and\nthen they are compared.  The lines of the makefile following the\nifeq\nare obeyed if the two arguments match; otherwise they are\nignored.\nThe\nelse\ndirective causes the following lines to be obeyed if the\nprevious conditional failed.  In the example above, this means that the\nsecond alternative linking command is used whenever the first alternative\nis not used.  It is optional to have an\nelse\nin a conditional.\nThe\nendif\ndirective ends the conditional.  Every conditional must\nend with an\nendif\n.  Unconditional makefile text follows.\nAs this example illustrates, conditionals work at the textual level:\nthe lines of the conditional are treated as part of the makefile, or\nignored, according to the condition.  This is why the larger syntactic\nunits of the makefile, such as rules, may cross the beginning or the\nend of the conditional.\nWhen the variable\nCC\nhas the value ‘\ngcc\n’, the above example has\nthis effect:\nfoo: $(objects)\n$(CC) -o foo $(objects) $(libs_for_gcc)\nWhen the variable\nCC\nhas any other value, the effect is this:\nfoo: $(objects)\n$(CC) -o foo $(objects) $(normal_libs)\nEquivalent results can be obtained in another way by conditionalizing a\nvariable assignment and then using the variable unconditionally:\nlibs_for_gcc = -lgnu\nnormal_libs =\nifeq ($(CC),gcc)\nlibs=$(libs_for_gcc)\nelse\nlibs=$(normal_libs)\nendif\nfoo: $(objects)\n$(CC) -o foo $(objects) $(libs)\nNext:\nConditionals that Test Flags\n, Previous:\nExample of a Conditional\n, Up:\nConditional Parts of Makefiles\n[\nContents\n][\nIndex\n]\n7.2 Syntax of Conditionals\nThe syntax of a simple conditional with no\nelse\nis as follows:\nconditional-directive\ntext-if-true\nendif\nThe\ntext-if-true\nmay be any lines of text, to be considered as part\nof the makefile if the condition is true.  If the condition is false, no\ntext is used instead.\nThe syntax of a complex conditional is as follows:\nconditional-directive\ntext-if-true\nelse\ntext-if-false\nendif\nor:\nconditional-directive-one\ntext-if-one-is-true\nelse\nconditional-directive-two\ntext-if-two-is-true\nelse\ntext-if-one-and-two-are-false\nendif\nThere can be as many “\nelse\nconditional-directive\n”\nclauses as necessary.  Once a given condition is true,\ntext-if-true\nis used and no other clause is used; if no\ncondition is true then\ntext-if-false\nis used.  The\ntext-if-true\nand\ntext-if-false\ncan be any number of lines\nof text.\nThe syntax of the\nconditional-directive\nis the same whether the\nconditional is simple or complex; after an\nelse\nor not.  There\nare four different directives that test different conditions.  Here is\na table of them:\nifeq (\narg1\n,\narg2\n)\nifeq '\narg1\n' '\narg2\n'\nifeq \"\narg1\n\" \"\narg2\n\"\nifeq \"\narg1\n\" '\narg2\n'\nifeq '\narg1\n' \"\narg2\n\"\nExpand all variable references in\narg1\nand\narg2\nand\ncompare them.  If they are identical, the\ntext-if-true\nis\neffective; otherwise, the\ntext-if-false\n, if any, is effective.\nOften you want to test if a variable has a non-empty value.  When the\nvalue results from complex expansions of variables and functions,\nexpansions you would consider empty may actually contain whitespace\ncharacters and thus are not seen as empty.  However, you can use the\nstrip\nfunction (see\nFunctions for String Substitution and Analysis\n) to avoid interpreting\nwhitespace as a non-empty value.  For example:\nifeq ($(strip $(foo)),)\ntext-if-empty\nendif\nwill evaluate\ntext-if-empty\neven if the expansion of\n$(foo)\ncontains whitespace characters.\nifneq (\narg1\n,\narg2\n)\nifneq '\narg1\n' '\narg2\n'\nifneq \"\narg1\n\" \"\narg2\n\"\nifneq \"\narg1\n\" '\narg2\n'\nifneq '\narg1\n' \"\narg2\n\"\nExpand all variable references in\narg1\nand\narg2\nand\ncompare them.  If they are different, the\ntext-if-true\nis\neffective; otherwise, the\ntext-if-false\n, if any, is effective.\nifdef\nvariable-name\nThe\nifdef\nform takes the\nname\nof a variable as its\nargument, not a reference to a variable.  If the value of that\nvariable has a non-empty value, the\ntext-if-true\nis effective;\notherwise, the\ntext-if-false\n, if any, is effective.  Variables\nthat have never been defined have an empty value.  The text\nvariable-name\nis expanded, so it could be a variable or function\nthat expands to the name of a variable.  For example:\nbar = true\nfoo = bar\nifdef $(foo)\nfrobozz = yes\nendif\nThe variable reference\n$(foo)\nis expanded, yielding\nbar\n,\nwhich is considered to be the name of a variable.  The variable\nbar\nis not expanded, but its value is examined to determine if\nit is non-empty.\nNote that\nifdef\nonly tests whether a variable has a value.  It\ndoes not expand the variable to see if that value is nonempty.\nConsequently, tests using\nifdef\nreturn true for all definitions\nexcept those like\nfoo =\n.  To test for an empty value, use\nifeq ($(foo),)\n.  For example,\nbar =\nfoo = $(bar)\nifdef foo\nfrobozz = yes\nelse\nfrobozz = no\nendif\nsets ‘\nfrobozz\n’ to ‘\nyes\n’, while:\nfoo =\nifdef foo\nfrobozz = yes\nelse\nfrobozz = no\nendif\nsets ‘\nfrobozz\n’ to ‘\nno\n’.\nifndef\nvariable-name\nIf the variable\nvariable-name\nhas an empty value, the\ntext-if-true\nis effective; otherwise, the\ntext-if-false\n,\nif any, is effective.  The rules for expansion and testing of\nvariable-name\nare identical to the\nifdef\ndirective.\nExtra spaces are allowed and ignored at the beginning of the\nconditional directive line, but a tab is not allowed.  (If the line\nbegins with a tab, it will be considered part of a recipe for a rule.)\nAside from this, extra spaces or tabs may be inserted with no effect\nanywhere except within the directive name or within an argument.  A\ncomment starting with ‘\n#\n’ may appear at the end of the line.\nThe other two directives that play a part in a conditional are\nelse\nand\nendif\n.  Each of these directives is written as one word, with no\narguments.  Extra spaces are allowed and ignored at the beginning of the\nline, and spaces or tabs at the end.  A comment starting with ‘\n#\n’ may\nappear at the end of the line.\nConditionals affect which lines of the makefile\nmake\nuses.  If\nthe condition is true,\nmake\nreads the lines of the\ntext-if-true\nas part of the makefile; if the condition is false,\nmake\nignores those lines completely.  It follows that syntactic\nunits of the makefile, such as rules, may safely be split across the\nbeginning or the end of the conditional.\nmake\nevaluates conditionals when it reads a makefile.\nConsequently, you cannot use automatic variables in the tests of\nconditionals because they are not defined until recipes are run\n(see\nAutomatic Variables\n).\nTo prevent intolerable confusion, it is not permitted to start a\nconditional in one makefile and end it in another.  However, you may\nwrite an\ninclude\ndirective within a conditional, provided you do\nnot attempt to terminate the conditional inside the included file.\nPrevious:\nSyntax of Conditionals\n, Up:\nConditional Parts of Makefiles\n[\nContents\n][\nIndex\n]\n7.3 Conditionals that Test Flags\nYou can write a conditional that tests\nmake\ncommand flags such as\n‘\n-t\n’ by using the variable\nMAKEFLAGS\ntogether with the\nfindstring\nfunction\n(see\nFunctions for String Substitution and Analysis\n).\nThis is useful when\ntouch\nis not enough to make a file appear up\nto date.\nRecall that\nMAKEFLAGS\nwill put all single-letter options (such as\n‘\n-t\n’) into the first word, and that word will be empty if no\nsingle-letter options were given.  To work with this, it’s helpful to add a\nvalue at the start to ensure there’s a word: for example\n‘\n-$(MAKEFLAGS)\n’.\nThe\nfindstring\nfunction determines whether one string appears as a\nsubstring of another.  If you want to test for the ‘\n-t\n’ flag, use\n‘\nt\n’ as the first string and the first word of\nMAKEFLAGS\nas the\nother.\nFor example, here is how to arrange to use ‘\nranlib -t\n’ to finish\nmarking an archive file up to date:\narchive.a: …\nifneq (,$(findstring t,$(firstword -$(MAKEFLAGS))))\n+touch archive.a\n+ranlib -t archive.a\nelse\nranlib archive.a\nendif\nThe ‘\n+\n’ prefix marks those recipe lines as “recursive” so that\nthey will be executed despite use of the ‘\n-t\n’ flag.\nSee\nRecursive Use of\nmake\n.\nNext:\nHow to Run\nmake\n, Previous:\nConditional Parts of Makefiles\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\n8 Functions for Transforming Text\nFunctions\nallow you to do text processing in the makefile to\ncompute the files to operate on or the commands to use in recipes.\nYou use a function in a\nfunction call\n, where you give the name\nof the function and some text (the\narguments\n) for the function\nto operate on.  The result of the function’s processing is substituted\ninto the makefile at the point of the call, just as a variable might\nbe substituted.\nFunction Call Syntax\nFunctions for String Substitution and Analysis\nFunctions for File Names\nFunctions for Conditionals\nThe\nlet\nFunction\nThe\nforeach\nFunction\nThe\nfile\nFunction\nThe\ncall\nFunction\nThe\nvalue\nFunction\nThe\neval\nFunction\nThe\norigin\nFunction\nThe\nflavor\nFunction\nFunctions That Control Make\nThe\nshell\nFunction\nThe\nguile\nFunction\nNext:\nFunctions for String Substitution and Analysis\n, Previous:\nFunctions for Transforming Text\n, Up:\nFunctions for Transforming Text\n[\nContents\n][\nIndex\n]\n8.1 Function Call Syntax\nA function call resembles a variable reference.  It can appear\nanywhere a variable reference can appear, and it is expanded using the\nsame rules as variable references.  A function call looks like this:\n$(\nfunction\narguments\n)\nor like this:\n${\nfunction\narguments\n}\nHere\nfunction\nis a function name; one of a short list of names\nthat are part of\nmake\n.  You can also essentially create your own\nfunctions by using the\ncall\nbuilt-in function.\nThe\narguments\nare the arguments of the function.  They are separated\nfrom the function name by one or more spaces or tabs, and if there is more\nthan one argument, then they are separated by commas.  Such whitespace and\ncommas are not part of an argument’s value.  The delimiters which you use to\nsurround the function call, whether parentheses or braces, can appear in an\nargument only in matching pairs; the other kind of delimiters may appear\nsingly.  If the arguments themselves contain other function calls or variable\nreferences, it is wisest to use the same kind of delimiters for all the\nreferences; write ‘\n$(subst a,b,$(x))\n’\n, not ‘\n$(subst a,b,${x})\n’\n.  This is because it is clearer, and because only one type of\ndelimiter is matched to find the end of the reference.\nEach argument is expanded before the function is invoked, unless otherwise\nnoted below.  The substitution is done in the order in which the arguments\nappear.\nSpecial Characters\nWhen using characters that are special to\nmake\nas function arguments,\nyou may need to hide them.  GNU\nmake\ndoesn’t support escaping\ncharacters with backslashes or other escape sequences; however, because\narguments are split before they are expanded you can hide them by putting them\ninto variables.\nCharacters you may need to hide include:\nCommas\nInitial whitespace in the first argument\nUnmatched open parenthesis or brace\nAn open parenthesis or brace if you don’t want it to start a matched pair\nFor example, you can define variables\ncomma\nand\nspace\nwhose\nvalues are isolated comma and space characters, then substitute these\nvariables where such characters are wanted, like this:\ncomma:= ,\nempty:=\nspace:= $(empty) $(empty)\nfoo:= a b c\nbar:= $(subst $(space),$(comma),$(foo))\n#\nbar is now ‘a,b,c’.\nHere the\nsubst\nfunction replaces each space with a comma, through\nthe value of\nfoo\n, and substitutes the result.\nNext:\nFunctions for File Names\n, Previous:\nFunction Call Syntax\n, Up:\nFunctions for Transforming Text\n[\nContents\n][\nIndex\n]\n8.2 Functions for String Substitution and Analysis\nHere are some functions that operate on strings:\n$(subst\nfrom\n,\nto\n,\ntext\n)\n¶\nPerforms a textual replacement on the text\ntext\n: each occurrence\nof\nfrom\nis replaced by\nto\n.  The result is substituted for\nthe function call.  For example,\n$(subst ee,EE,feet on the street)\nproduces the value ‘\nfEEt on the strEEt\n’.\n$(patsubst\npattern\n,\nreplacement\n,\ntext\n)\n¶\nFinds whitespace-separated words in\ntext\nthat match\npattern\nand replaces them with\nreplacement\n.  Here\npattern\nmay contain a ‘\n%\n’ which acts as a wildcard,\nmatching any number of any characters within a word.  If\nreplacement\nalso contains a ‘\n%\n’, the ‘\n%\n’ is replaced\nby the text that matched the ‘\n%\n’ in\npattern\n.  Words that do\nnot match the pattern are kept without change in the output.  Only the\nfirst ‘\n%\n’ in the\npattern\nand\nreplacement\nis treated\nthis way; any subsequent ‘\n%\n’ is unchanged.\n‘\n%\n’ characters in\npatsubst\nfunction invocations can be\nquoted with preceding backslashes (‘\n\\\n’).  Backslashes that would\notherwise quote ‘\n%\n’ characters can be quoted with more backslashes.\nBackslashes that quote ‘\n%\n’ characters or other backslashes are\nremoved from the pattern before it is compared file names or has a stem\nsubstituted into it.  Backslashes that are not in danger of quoting\n‘\n%\n’ characters go unmolested.  For example, the pattern\nthe\\%weird\\\\%pattern\\\\\nhas ‘\nthe%weird\\\n’ preceding the\noperative ‘\n%\n’ character, and ‘\npattern\\\\\n’ following it.  The\nfinal two backslashes are left alone because they cannot affect any\n‘\n%\n’ character.\nWhitespace between words is folded into single space characters;\nleading and trailing whitespace is discarded.\nFor example,\n$(patsubst %.c,%.o,x.c.c bar.c)\nproduces the value ‘\nx.c.o bar.o\n’.\nSubstitution references (see\nSubstitution\nReferences\n) are a simpler way to get the effect of the\npatsubst\nfunction:\n$(\nvar\n:\npattern\n=\nreplacement\n)\nis equivalent to\n$(patsubst\npattern\n,\nreplacement\n,$(\nvar\n))\nThe second shorthand simplifies one of the most common uses of\npatsubst\n: replacing the suffix at the end of file names.\n$(\nvar\n:\nsuffix\n=\nreplacement\n)\nis equivalent to\n$(patsubst %\nsuffix\n,%\nreplacement\n,$(\nvar\n))\nFor example, you might have a list of object files:\nobjects = foo.o bar.o baz.o\nTo get the list of corresponding source files, you could simply write:\n$(objects:.o=.c)\ninstead of using the general form:\n$(patsubst %.o,%.c,$(objects))\n$(strip\nstring\n)\n¶\nRemoves leading and trailing whitespace from\nstring\nand replaces\neach internal sequence of one or more whitespace characters with a\nsingle space.  Thus, ‘\n$(strip a b  c )\n’ results in ‘\na b c\n’\n.\nThe function\nstrip\ncan be very useful when used in conjunction\nwith conditionals.  When comparing something with the empty string\n‘\n’ using\nifeq\nor\nifneq\n, you usually want a string of\njust whitespace to match the empty string (see\nConditional Parts of Makefiles\n).\nThus, the following may fail to have the desired results:\n.PHONY: all\nifneq   \"$(needs_made)\" \"\"\nall: $(needs_made)\nelse\nall:;@echo 'Nothing to make!'\nendif\nReplacing the variable reference ‘\n$(needs_made)\n’\nwith the\nfunction call ‘\n$(strip\n$(needs_made))\n’\nin the\nifneq\ndirective would make it more robust.\n$(findstring\nfind\n,\nin\n)\n¶\nSearches\nin\nfor an occurrence of\nfind\n.  If it occurs, the\nvalue is\nfind\n; otherwise, the value is empty.  You can use this\nfunction in a conditional to test for the presence of a specific\nsubstring in a given string.  Thus, the two examples,\n$(findstring a,a b c)\n$(findstring a,b c)\nproduce the values ‘\na\n’ and ‘\n’ (the empty string),\nrespectively.  See\nConditionals that Test Flags\n, for a practical application of\nfindstring\n.\n$(filter\npattern\n…,\ntext\n)\nReturns all whitespace-separated words in\ntext\nthat\ndo\nmatch\nany of the\npattern\nwords, removing any words that\ndo not\nmatch.  The patterns are written using ‘\n%\n’, just like the patterns\nused in the\npatsubst\nfunction above.\nThe\nfilter\nfunction can be used to separate out different types\nof strings (such as file names) in a variable.  For example:\nsources := foo.c bar.c baz.s ugh.h\nfoo: $(sources)\ncc $(filter %.c %.s,$(sources)) -o foo\nsays that\nfoo\ndepends of\nfoo.c\n,\nbar.c\n,\nbaz.s\nand\nugh.h\nbut only\nfoo.c\n,\nbar.c\nand\nbaz.s\nshould be specified in the command to the\ncompiler.\n$(filter-out\npattern\n…,\ntext\n)\n¶\nReturns all whitespace-separated words in\ntext\nthat\ndo not\nmatch any of the\npattern\nwords, removing the words that\ndo\nmatch one or more.  This is the exact opposite of the\nfilter\nfunction.\nFor example, given:\nobjects=main1.o foo.o main2.o bar.o\nmains=main1.o main2.o\nthe following generates a list which contains all the object files not\nin ‘\nmains\n’:\n$(filter-out $(mains),$(objects))\n$(sort\nlist\n)\nSorts the words of\nlist\nin lexical order, removing duplicate\nwords.  The output is a list of words separated by single spaces.\nThus,\n$(sort foo bar lose)\nreturns the value ‘\nbar foo lose\n’.\nIncidentally, since\nsort\nremoves duplicate words, you can use\nit for this purpose even if you don’t care about the sort order.\n$(word\nn\n,\ntext\n)\n¶\nReturns the\nn\nth word of\ntext\n.  The legitimate values of\nn\nstart from 1.  If\nn\nis bigger than the number of words\nin\ntext\n, the value is empty.  For example,\n$(word 2, foo bar baz)\nreturns ‘\nbar\n’.\n$(wordlist\ns\n,\ne\n,\ntext\n)\n¶\nReturns the list of words in\ntext\nstarting with word\ns\nand\nending with word\ne\n(inclusive).  The legitimate values of\ns\nstart from 1;\ne\nmay start from 0.  If\ns\nis bigger than the\nnumber of words in\ntext\n, the value is empty.  If\ne\nis\nbigger than the number of words in\ntext\n, words up to the end of\ntext\nare returned.  If\ns\nis greater than\ne\n, nothing\nis returned.  For example,\n$(wordlist 2, 3, foo bar baz)\nreturns ‘\nbar baz\n’.\n$(words\ntext\n)\n¶\nReturns the number of words in\ntext\n.  Thus, the last word of\ntext\nis\n$(word $(words\ntext\n),\ntext\n)\n.\n$(firstword\nnames\n…)\n¶\nThe argument\nnames\nis regarded as a series of names, separated\nby whitespace.  The value is the first name in the series.  The rest\nof the names are ignored.\nFor example,\n$(firstword foo bar)\nproduces the result ‘\nfoo\n’.  Although\n$(firstword\ntext\n)\nis the same as\n$(word 1,\ntext\n)\n, the\nfirstword\nfunction is retained for its simplicity.\n$(lastword\nnames\n…)\n¶\nThe argument\nnames\nis regarded as a series of names, separated\nby whitespace.  The value is the last name in the series.\nFor example,\n$(lastword foo bar)\nproduces the result ‘\nbar\n’.  Although\n$(lastword\ntext\n)\nis the same as\n$(word $(words\ntext\n),\ntext\n)\n,\nthe\nlastword\nfunction was added for its simplicity and better\nperformance.\nHere is a realistic example of the use of\nsubst\nand\npatsubst\n.  Suppose that a makefile uses the\nVPATH\nvariable\nto specify a list of directories that\nmake\nshould search for\nprerequisite files\n(see\nVPATH\nSearch Path for All Prerequisites\n).\nThis example shows how to\ntell the C compiler to search for header files in the same list of\ndirectories.\nThe value of\nVPATH\nis a list of directories separated by colons,\nsuch as ‘\nsrc:../headers\n’.  First, the\nsubst\nfunction is used to\nchange the colons to spaces:\n$(subst :, ,$(VPATH))\nThis produces ‘\nsrc ../headers\n’.  Then\npatsubst\nis used to turn\neach directory name into a ‘\n-I\n’ flag.  These can be added to the\nvalue of the variable\nCFLAGS\n, which is passed automatically to the C\ncompiler, like this:\noverride CFLAGS += $(patsubst %,-I%,$(subst :, ,$(VPATH)))\nThe effect is to append the text ‘\n-Isrc -I../headers\n’ to the\npreviously given value of\nCFLAGS\n.  The\noverride\ndirective is\nused so that the new value is assigned even if the previous value of\nCFLAGS\nwas specified with a command argument (see\nThe\noverride\nDirective\n).\nNext:\nFunctions for Conditionals\n, Previous:\nFunctions for String Substitution and Analysis\n, Up:\nFunctions for Transforming Text\n[\nContents\n][\nIndex\n]\n8.3 Functions for File Names\nSeveral of the built-in expansion functions relate specifically to\ntaking apart file names or lists of file names.\nEach of the following functions performs a specific transformation on a\nfile name.  The argument of the function is regarded as a series of file\nnames, separated by whitespace.  (Leading and trailing whitespace is\nignored.)  Each file name in the series is transformed in the same way and\nthe results are concatenated with single spaces between them.\n$(dir\nnames\n…)\n¶\nExtracts the directory-part of each file name in\nnames\n.  The\ndirectory-part of the file name is everything up through (and\nincluding) the last slash in it.  If the file name contains no slash,\nthe directory part is the string ‘\n./\n’.  For example,\n$(dir src/foo.c hacks)\nproduces the result ‘\nsrc/ ./\n’.\n$(notdir\nnames\n…)\n¶\nExtracts all but the directory-part of each file name in\nnames\n.\nIf the file name contains no slash, it is left unchanged.  Otherwise,\neverything through the last slash is removed from it.\nA file name that ends with a slash becomes an empty string.  This is\nunfortunate, because it means that the result does not always have the\nsame number of whitespace-separated file names as the argument had;\nbut we do not see any other valid alternative.\nFor example,\n$(notdir src/foo.c hacks)\nproduces the result ‘\nfoo.c hacks\n’.\n$(suffix\nnames\n…)\n¶\nExtracts the suffix of each file name in\nnames\n.  If the file name\ncontains a period, the suffix is everything starting with the last\nperiod.  Otherwise, the suffix is the empty string.  This frequently\nmeans that the result will be empty when\nnames\nis not, and if\nnames\ncontains multiple file names, the result may contain fewer\nfile names.\nFor example,\n$(suffix src/foo.c src-1.0/bar.c hacks)\nproduces the result ‘\n.c .c\n’.\n$(basename\nnames\n…)\n¶\nExtracts all but the suffix of each file name in\nnames\n.  If the\nfile name contains a period, the basename is everything starting up to\n(and not including) the last period.  Periods in the directory part are\nignored.  If there is no period, the basename is the entire file name.\nFor example,\n$(basename src/foo.c src-1.0/bar hacks)\nproduces the result ‘\nsrc/foo src-1.0/bar hacks\n’.\n$(addsuffix\nsuffix\n,\nnames\n…)\n¶\nThe argument\nnames\nis regarded as a series of names, separated\nby whitespace;\nsuffix\nis used as a unit.  The value of\nsuffix\nis appended to the end of each individual name and the\nresulting larger names are concatenated with single spaces between\nthem.  For example,\n$(addsuffix .c,foo bar)\nproduces the result ‘\nfoo.c bar.c\n’.\n$(addprefix\nprefix\n,\nnames\n…)\n¶\nThe argument\nnames\nis regarded as a series of names, separated\nby whitespace;\nprefix\nis used as a unit.  The value of\nprefix\nis prepended to the front of each individual name and the\nresulting larger names are concatenated with single spaces between\nthem.  For example,\n$(addprefix src/,foo bar)\nproduces the result ‘\nsrc/foo src/bar\n’.\n$(join\nlist1\n,\nlist2\n)\n¶\nConcatenates the two arguments word by word: the two first words (one\nfrom each argument) concatenated form the first word of the result, the\ntwo second words form the second word of the result, and so on.  So the\nn\nth word of the result comes from the\nn\nth word of each\nargument.  If one argument has more words that the other, the extra\nwords are copied unchanged into the result.\nFor example, ‘\n$(join a b,.c .o)\n’ produces ‘\na.c b.o\n’.\nWhitespace between the words in the lists is not preserved; it is\nreplaced with a single space.\nThis function can merge the results of the\ndir\nand\nnotdir\nfunctions, to produce the original list of files which\nwas given to those two functions.\n$(wildcard\npattern\n)\n¶\nThe argument\npattern\nis a file name pattern, typically containing\nwildcard characters (as in shell file name patterns).  The result of\nwildcard\nis a space-separated list of the names of existing files\nthat match the pattern.\nSee\nUsing Wildcard Characters in File Names\n.\n$(realpath\nnames\n…)\n¶\nFor each file name in\nnames\nreturn the canonical absolute name.\nA canonical name does not contain any\n.\nor\n..\ncomponents,\nnor any repeated path separators (\n/\n) or symlinks.  In case of a\nfailure the empty string is returned.  Consult the\nrealpath(3)\ndocumentation for a list of possible failure causes.\n$(abspath\nnames\n…)\n¶\nFor each file name in\nnames\nreturn an absolute name that does\nnot contain any\n.\nor\n..\ncomponents, nor any repeated path\nseparators (\n/\n).  Note that, in contrast to\nrealpath\nfunction,\nabspath\ndoes not resolve symlinks and does not require\nthe file names to refer to an existing file or directory.  Use the\nwildcard\nfunction to test for existence.\nNext:\nThe\nlet\nFunction\n, Previous:\nFunctions for File Names\n, Up:\nFunctions for Transforming Text\n[\nContents\n][\nIndex\n]\n8.4 Functions for Conditionals\nThere are four functions that provide conditional expansion.  A key\naspect of these functions is that not all of the arguments are\nexpanded initially.  Only those arguments which need to be expanded,\nwill be expanded.\n$(if\ncondition\n,\nthen-part\n[,\nelse-part\n])\n¶\nThe\nif\nfunction provides support for conditional expansion in a\nfunctional context (as opposed to the GNU\nmake\nmakefile\nconditionals such as\nifeq\n(see\nSyntax of\nConditionals\n)).\nThe first argument,\ncondition\n, first has all preceding and\ntrailing whitespace stripped, then is expanded.  If it expands to any\nnon-empty string, then the condition is considered to be true.  If it\nexpands to an empty string, the condition is considered to be false.\nIf the condition is true then the second argument,\nthen-part\n, is\nevaluated and this is used as the result of the evaluation of the entire\nif\nfunction.\nIf the condition is false then the third argument,\nelse-part\n, is\nevaluated and this is the result of the\nif\nfunction.  If there is\nno third argument, the\nif\nfunction evaluates to nothing (the\nempty string).\nNote that only one of the\nthen-part\nor the\nelse-part\nwill be\nevaluated, never both.  Thus, either can contain side-effects (such as\nshell\nfunction calls, etc.)\n$(or\ncondition1\n[,\ncondition2\n[,\ncondition3\n…]])\n¶\nThe\nor\nfunction provides a “short-circuiting” OR operation.\nEach argument is expanded, in order.  If an argument expands to a\nnon-empty string the processing stops and the result of the expansion\nis that string.  If, after all arguments are expanded, all of them are\nfalse (empty), then the result of the expansion is the empty string.\n$(and\ncondition1\n[,\ncondition2\n[,\ncondition3\n…]])\n¶\nThe\nand\nfunction provides a “short-circuiting” AND operation.\nEach argument is expanded, in order.  If an argument expands to an\nempty string the processing stops and the result of the expansion is\nthe empty string.  If all arguments expand to a non-empty string then\nthe result of the expansion is the expansion of the last argument.\n$(intcmp\nlhs\n,\nrhs\n[,\nlt-part\n[,\neq-part\n[,\ngt-part\n]]])\n¶\nThe\nintcmp\nfunction provides support for numerical comparison of\nintegers.  This function has no counterpart among the GNU\nmake\nmakefile\nconditionals.\nThe left-hand side,\nlhs\n, and right-hand side,\nrhs\n, are expanded\nand parsed as integral numbers in base 10.  Expansion of the remaining\narguments is controlled by how the numerical left-hand side compares to the\nnumerical right-hand side.\nIf there are no further arguments, then the function expands to empty if the\nleft-hand side and right-hand side do not compare equal, or to their numerical\nvalue if they do compare equal.\nElse if the left-hand side is strictly less than the right-hand side, the\nintcmp\nfunction evaluates to the expansion of the third argument,\nlt-part\n.  If both sides compare equal, then the\nintcmp\nfunction\nevaluates to the expansion of the fourth argument,\neq-part\n.  If the\nleft-hand side is strictly greater than the right-hand side, then the\nintcmp\nfunction evaluates to the expansion of the fifth argument,\ngt-part\n.\nIf\ngt-part\nis missing, it defaults to\neq-part\n.  If\neq-part\nis missing, it defaults to the empty string.  Thus both ‘\n$(intcmp\n9,7,hello)\n’ and ‘\n$(intcmp 9,7,hello,world,)\n’ evaluate to the empty\nstring, while ‘\n$(intcmp 9,7,hello,world)\n’ (notice the absence of a comma\nafter\nworld\n) evaluates to ‘\nworld\n’.\nNext:\nThe\nforeach\nFunction\n, Previous:\nFunctions for Conditionals\n, Up:\nFunctions for Transforming Text\n[\nContents\n][\nIndex\n]\n8.5 The\nlet\nFunction\nThe\nlet\nfunction provides a means to limit the scope of a\nvariable.  The assignment of the named variables in a\nlet\nexpression is in effect only within the text provided by the\nlet\nexpression, and this assignment doesn’t impact that named\nvariable in any outer scope.\nAdditionally, the\nlet\nfunction enables list unpacking by\nassigning all unassigned values to the last named variable.\nThe syntax of the\nlet\nfunction is:\n$(let\nvar\n[\nvar\n...],[\nlist\n],\ntext\n)\nThe first two arguments,\nvar\nand\nlist\n, are expanded before\nanything else is done; note that the last argument,\ntext\n, is\nnot\nexpanded at the same time.  Next, each word of the\nexpanded value of\nlist\nis bound to each of the variable names,\nvar\n, in turn, with the final variable name being bound to the\nremainder of the expanded\nlist\n.  In other words, the first word\nof\nlist\nis bound to the first variable\nvar\n, the second\nword to the second variable\nvar\n, and so on.\nIf there are more variable names in\nvar\nthan there are words in\nlist\n, the remaining\nvar\nvariable names are set to the\nempty string.  If there are fewer\nvar\ns than words in\nlist\nthen the last\nvar\nis set to all remaining words in\nlist\n.\nThe variables in\nvar\nare assigned as simply-expanded variables\nduring the execution of\nlet\n.  See\nThe Two Flavors\nof Variables\n.\nAfter all variables are thus bound,\ntext\nis expanded to provide\nthe result of the\nlet\nfunction.\nFor example, this macro reverses the order of the words in the list\nthat it is given as its first argument:\nreverse = $(let first rest,$1,\\\n$(if $(rest),$(call reverse,$(rest)) )$(first))\nall: ; @echo $(call reverse,d c b a)\nwill print\na b c d\n.  When first called,\nlet\nwill expand\n$1\nto\nd c b a\n.  It will then assign\nfirst\nto\nd\nand assign\nrest\nto\nc b a\n.  It will then expand\nthe if-statement, where\n$(rest)\nis not empty so we recursively\ninvoke the\nreverse\nfunction with the value of\nrest\nwhich\nis now\nc b a\n.  The recursive invocation of\nlet\nassigns\nfirst\nto\nc\nand\nrest\nto\nb a\n.  The recursion\ncontinues until\nlet\nis called with just a single value,\na\n.  Here\nfirst\nis\na\nand\nrest\nis empty, so we\ndo not recurse but simply expand\n$(first)\nto\na\nand\nreturn, which adds\nb\n, etc.\nAfter the\nreverse\ncall is complete, the\nfirst\nand\nrest\nvariables are no longer set.  If variables by those names\nexisted beforehand, they are not affected by the expansion of the\nreverse\nmacro.\nNext:\nThe\nfile\nFunction\n, Previous:\nThe\nlet\nFunction\n, Up:\nFunctions for Transforming Text\n[\nContents\n][\nIndex\n]\n8.6 The\nforeach\nFunction\nThe\nforeach\nfunction is similar to the\nlet\nfunction, but very\ndifferent from other functions.  It causes one piece of text to be used\nrepeatedly, each time with a different substitution performed on it.  The\nforeach\nfunction resembles the\nfor\ncommand in the\nshell\nsh\nand the\nforeach\ncommand in the C-shell\ncsh\n.\nThe syntax of the\nforeach\nfunction is:\n$(foreach\nvar\n,\nlist\n,\ntext\n)\nThe first two arguments,\nvar\nand\nlist\n, are expanded before\nanything else is done; note that the last argument,\ntext\n, is\nnot\nexpanded at the same time.  Then for each word of the expanded\nvalue of\nlist\n, the variable named by the expanded value of\nvar\nis set to that word, and\ntext\nis expanded.  Presumably\ntext\ncontains references to that variable, so its expansion will be different\neach time.\nThe result is that\ntext\nis expanded as many times as there are\nwhitespace-separated words in\nlist\n.  The multiple expansions of\ntext\nare concatenated, with spaces between them, to make the result\nof\nforeach\n.\nThis simple example sets the variable ‘\nfiles\n’ to the list of all files\nin the directories in the list ‘\ndirs\n’:\ndirs := a b c d\nfiles := $(foreach dir,$(dirs),$(wildcard $(dir)/*))\nHere\ntext\nis ‘\n$(wildcard $(dir)/*)\n’.  The first repetition\nfinds the value ‘\na\n’ for\ndir\n, so it produces the same result\nas ‘\n$(wildcard a/*)\n’; the second repetition produces the result\nof ‘\n$(wildcard b/*)\n’; and the third, that of ‘\n$(wildcard c/*)\n’.\nThis example has the same result (except for setting ‘\ndirs\n’) as\nthe following example:\nfiles := $(wildcard a/* b/* c/* d/*)\nWhen\ntext\nis complicated, you can improve readability by giving it\na name, with an additional variable:\nfind_files = $(wildcard $(dir)/*)\ndirs := a b c d\nfiles := $(foreach dir,$(dirs),$(find_files))\nHere we use the variable\nfind_files\nthis way.  We use plain ‘\n=\n’\nto define a recursively-expanding variable, so that its value contains an\nactual function call to be re-expanded under the control of\nforeach\n;\na simply-expanded variable would not do, since\nwildcard\nwould be\ncalled only once at the time of defining\nfind_files\n.\nLike the\nlet\nfunction, the\nforeach\nfunction has no permanent\neffect on the variable\nvar\n; its value and flavor after the\nforeach\nfunction call are the same as they were beforehand.  The\nother values which are taken from\nlist\nare in effect only\ntemporarily, during the execution of\nforeach\n.  The variable\nvar\nis a simply-expanded variable during the execution of\nforeach\n.  If\nvar\nwas undefined before the\nforeach\nfunction call, it is undefined after the call.\nSee\nThe Two Flavors of Variables\n.\nYou must take care when using complex variable expressions that result in\nvariable names because many strange things are valid variable names, but\nare probably not what you intended.  For example,\nfiles := $(foreach Esta-escrito-en-espanol!,b c ch,$(find_files))\nmight be useful if the value of\nfind_files\nreferences the variable\nwhose name is ‘\nEsta-escrito-en-espanol!\n’ (es un nombre bastante largo,\nno?), but it is more likely to be a mistake.\nNext:\nThe\ncall\nFunction\n, Previous:\nThe\nforeach\nFunction\n, Up:\nFunctions for Transforming Text\n[\nContents\n][\nIndex\n]\n8.7 The\nfile\nFunction\nThe\nfile\nfunction allows the makefile to write to or read from\na file.  Two modes of writing are supported: overwrite, where the text\nis written to the beginning of the file and any existing content is\nlost, and append, where the text is written to the end of the file,\npreserving the existing content.  In both cases the file is created if\nit does not exist.  It is a fatal error if the file cannot be opened\nfor writing, or if the write operation fails.  The\nfile\nfunction expands to the empty string when writing to a file.\nWhen reading from a file, the\nfile\nfunction expands to the\nverbatim contents of the file, except that the final newline (if there\nis one) will be stripped.  Attempting to read from a non-existent file\nexpands to the empty string.\nThe syntax of the\nfile\nfunction is:\n$(file\nop\nfilename\n[,\ntext\n])\nWhen the\nfile\nfunction is evaluated all its arguments are\nexpanded first, then the file indicated by\nfilename\nwill be\nopened in the mode described by\nop\n.\nThe operator\nop\ncan be\n>\nto indicate the file will be\noverwritten with new content,\n>>\nto indicate the current\ncontents of the file will be appended to, or\n<\nto indicate the\ncontents of the file will be read in.  The\nfilename\nspecifies\nthe file to be written to or read from.  There may optionally be\nwhitespace between the operator and the file name.\nWhen reading files, it is an error to provide a\ntext\nvalue.\nWhen writing files,\ntext\nwill be written to the file.  If\ntext\ndoes not already end in a newline a final newline will be\nwritten (even if\ntext\nis the empty string).  If the\ntext\nargument is not given at all, nothing will be written.\nFor example, the\nfile\nfunction can be useful if your build\nsystem has a limited command line size and your recipe runs a command\nthat can accept arguments from a file as well.  Many commands use the\nconvention that an argument prefixed with an\n@\nspecifies a\nfile containing more arguments.  Then you might write your recipe in\nthis way:\nprogram: $(OBJECTS)\n$(file >$@.in,$^)\n$(CMD) $(CMDFLAGS) @$@.in\n@rm $@.in\nIf the command required each argument to be on a separate line of the\ninput file, you might write your recipe like this:\nprogram: $(OBJECTS)\n$(file >$@.in) $(foreach O,$^,$(file >>$@.in,$O))\n$(CMD) $(CMDFLAGS) @$@.in\n@rm $@.in\nNext:\nThe\nvalue\nFunction\n, Previous:\nThe\nfile\nFunction\n, Up:\nFunctions for Transforming Text\n[\nContents\n][\nIndex\n]\n8.8 The\ncall\nFunction\nThe\ncall\nfunction is unique in that it can be used to create new\nparameterized functions.  You can write a complex expression as the\nvalue of a variable, then use\ncall\nto expand it with different\nvalues.\nThe syntax of the\ncall\nfunction is:\n$(call\nvariable\n,\nparam\n,\nparam\n,…)\nWhen\nmake\nexpands this function, it assigns each\nparam\nto\ntemporary variables\n$(1)\n,\n$(2)\n, etc.  The variable\n$(0)\nwill contain\nvariable\n.  There is no maximum number of\nparameter arguments.  There is no minimum, either, but it doesn’t make\nsense to use\ncall\nwith no parameters.\nThen\nvariable\nis expanded as a\nmake\nvariable in the context\nof these temporary assignments.  Thus, any reference to\n$(1)\nin\nthe value of\nvariable\nwill resolve to the first\nparam\nin the\ninvocation of\ncall\n.\nNote that\nvariable\nis the\nname\nof a variable, not a\nreference\nto that variable.  Therefore you would not normally use\na ‘\n$\n’ or parentheses when writing it.  (You can, however, use a\nvariable reference in the name if you want the name not to be a\nconstant.)\nIf\nvariable\nis the name of a built-in function, the built-in function\nis always invoked (even if a\nmake\nvariable by that name also\nexists).\nThe\ncall\nfunction expands the\nparam\narguments before\nassigning them to temporary variables.  This means that\nvariable\nvalues containing references to built-in functions that have special\nexpansion rules, like\nforeach\nor\nif\n, may not work as you\nexpect.\nSome examples may make this clearer.\nThis macro simply reverses its arguments:\nreverse = $(2) $(1)\nfoo = $(call reverse,a,b)\nHere\nfoo\nwill contain ‘\nb a\n’.\nThis one is slightly more interesting: it defines a macro to search for\nthe first instance of a program in\nPATH\n:\npathsearch = $(firstword $(wildcard $(addsuffix /$(1),$(subst :, ,$(PATH)))))\nLS := $(call pathsearch,ls)\nNow the variable\nLS\ncontains\n/bin/ls\nor similar.\nThe\ncall\nfunction can be nested.  Each recursive invocation gets\nits own local values for\n$(1)\n, etc. that mask the values of\nhigher-level\ncall\n.  For example, here is an implementation of a\nmap\nfunction:\nmap = $(foreach a,$(2),$(call $(1),$(a)))\nNow you can\nmap\na function that normally takes only one argument,\nsuch as\norigin\n, to multiple values in one step:\no = $(call map,origin,o map MAKE)\nand end up with\no\ncontaining something like ‘\nfile file default\n’.\nA final caution: be careful when adding whitespace to the arguments to\ncall\n.  As with other functions, any whitespace contained in the\nsecond and subsequent arguments is kept; this can cause strange\neffects.  It’s generally safest to remove all extraneous whitespace when\nproviding parameters to\ncall\n.\nNext:\nThe\neval\nFunction\n, Previous:\nThe\ncall\nFunction\n, Up:\nFunctions for Transforming Text\n[\nContents\n][\nIndex\n]\n8.9 The\nvalue\nFunction\nThe\nvalue\nfunction provides a way for you to use the value of a\nvariable\nwithout\nhaving it expanded.  Please note that this\ndoes not undo expansions which have already occurred; for example if\nyou create a simply expanded variable its value is expanded during the\ndefinition; in that case the\nvalue\nfunction will return the\nsame result as using the variable directly.\nThe syntax of the\nvalue\nfunction is:\n$(value\nvariable\n)\nNote that\nvariable\nis the\nname\nof a variable, not a\nreference\nto that variable.  Therefore you would not normally\nuse a ‘\n$\n’ or parentheses when writing it.  (You can, however, use\na variable reference in the name if you want the name not to be a\nconstant.)\nThe result of this function is a string containing the value of\nvariable\n, without any expansion occurring.  For example, in this\nmakefile:\nFOO = $PATH\nall:\n@echo $(FOO)\n@echo $(value FOO)\nThe first output line would be\nATH\n, since the “$P” would be\nexpanded as a\nmake\nvariable, while the second output line would\nbe the current value of your\n$PATH\nenvironment variable, since\nthe\nvalue\nfunction avoided the expansion.\nThe\nvalue\nfunction is most often used in conjunction with the\neval\nfunction (see\nThe\neval\nFunction\n).\nNext:\nThe\norigin\nFunction\n, Previous:\nThe\nvalue\nFunction\n, Up:\nFunctions for Transforming Text\n[\nContents\n][\nIndex\n]\n8.10 The\neval\nFunction\nThe\neval\nfunction is very special: it allows you to define new\nmakefile constructs that are not constant; which are the result of\nevaluating other variables and functions.  The argument to the\neval\nfunction is expanded, then the results of that expansion\nare parsed as makefile syntax.  The expanded results can define new\nmake\nvariables, targets, implicit or explicit rules, etc.\nThe result of the\neval\nfunction is always the empty string;\nthus, it can be placed virtually anywhere in a makefile without\ncausing syntax errors.\nIt’s important to realize that the\neval\nargument is expanded\ntwice\n; first by the\neval\nfunction, then the results of\nthat expansion are expanded again when they are parsed as makefile\nsyntax.  This means you may need to provide extra levels of escaping\nfor “$” characters when using\neval\n.  The\nvalue\nfunction (see\nThe\nvalue\nFunction\n) can sometimes be useful in these\nsituations, to circumvent unwanted expansions.\nHere is an example of how\neval\ncan be used; this example\ncombines a number of concepts and other functions.  Although it might\nseem overly complex to use\neval\nin this example, rather than\njust writing out the rules, consider two things: first, the template\ndefinition (in\nPROGRAM_template\n) could need to be much more\ncomplex than it is here; and second, you might put the complex,\n“generic” part of this example into another makefile, then include\nit in all the individual makefiles.  Now your individual makefiles are\nquite straightforward.\nPROGRAMS    = server client\nserver_OBJS = server.o server_priv.o server_access.o\nserver_LIBS = priv protocol\nclient_OBJS = client.o client_api.o client_mem.o\nclient_LIBS = protocol\n# Everything after this is generic\n.PHONY: all\nall: $(PROGRAMS)\ndefine PROGRAM_template =\n$(1): $$($(1)_OBJS) $$($(1)_LIBS:%=-l%)\nALL_OBJS   += $$($(1)_OBJS)\nendef\n$(foreach prog,$(PROGRAMS),$(eval $(call PROGRAM_template,$(prog))))\n$(PROGRAMS):\n$(LINK.o) $^ $(LDLIBS) -o $@\nclean:\nrm -f $(ALL_OBJS) $(PROGRAMS)\nNext:\nThe\nflavor\nFunction\n, Previous:\nThe\neval\nFunction\n, Up:\nFunctions for Transforming Text\n[\nContents\n][\nIndex\n]\n8.11 The\norigin\nFunction\nThe\norigin\nfunction is unlike most other functions in that it does\nnot operate on the values of variables; it tells you something\nabout\na variable.  Specifically, it tells you where it came from.\nThe syntax of the\norigin\nfunction is:\n$(origin\nvariable\n)\nNote that\nvariable\nis the\nname\nof a variable to inquire about,\nnot a\nreference\nto that variable.  Therefore you would not normally\nuse a ‘\n$\n’ or parentheses when writing it.  (You can, however, use a\nvariable reference in the name if you want the name not to be a constant.)\nThe result of this function is a string telling you how the variable\nvariable\nwas defined:\n‘\nundefined\n’\nif\nvariable\nwas never defined.\n‘\ndefault\n’\nif\nvariable\nhas a default definition, as is usual with\nCC\nand so on.  See\nVariables Used by Implicit Rules\n.\nNote that if you have redefined a default variable, the\norigin\nfunction will return the origin of the later definition.\n‘\nenvironment\n’\nif\nvariable\nwas inherited from the environment provided to\nmake\n.\n‘\nenvironment override\n’\nif\nvariable\nwas inherited from the environment provided to\nmake\n, and is overriding a setting for\nvariable\nin the\nmakefile as a result of the ‘\n-e\n’\noption (see\nSummary of Options\n).\n‘\nfile\n’\nif\nvariable\nwas defined in a makefile.\n‘\ncommand line\n’\nif\nvariable\nwas defined on the command line.\n‘\noverride\n’\nif\nvariable\nwas defined with an\noverride\ndirective in a\nmakefile (see\nThe\noverride\nDirective\n).\n‘\nautomatic\n’\nif\nvariable\nis an automatic variable defined for the execution\nof the recipe for each rule (see\nAutomatic Variables\n).\nThis information is primarily useful (other than for your curiosity) to\ndetermine if you want to believe the value of a variable.  For example,\nsuppose you have a makefile\nfoo\nthat includes another makefile\nbar\n.  You want a variable\nbletch\nto be defined in\nbar\nif you run the command ‘\nmake\n-f\nbar\n’\n, even if the environment contains\na definition of\nbletch\n.  However, if\nfoo\ndefined\nbletch\nbefore including\nbar\n, you do not want to override that\ndefinition.  This could be done by using an\noverride\ndirective in\nfoo\n, giving that definition precedence over the later definition in\nbar\n; unfortunately, the\noverride\ndirective would also\noverride any command line definitions.  So,\nbar\ncould\ninclude:\nifdef bletch\nifeq \"$(origin bletch)\" \"environment\"\nbletch = barf, gag, etc.\nendif\nendif\nIf\nbletch\nhas been defined from the environment, this will redefine\nit.\nIf you want to override a previous definition of\nbletch\nif it came\nfrom the environment, even under ‘\n-e\n’, you could instead write:\nifneq \"$(findstring environment,$(origin bletch))\" \"\"\nbletch = barf, gag, etc.\nendif\nHere the redefinition takes place if ‘\n$(origin bletch)\n’ returns either\n‘\nenvironment\n’ or ‘\nenvironment override\n’.\nSee\nFunctions for String Substitution and Analysis\n.\nNext:\nFunctions That Control Make\n, Previous:\nThe\norigin\nFunction\n, Up:\nFunctions for Transforming Text\n[\nContents\n][\nIndex\n]\n8.12 The\nflavor\nFunction\nThe\nflavor\nfunction, like the\norigin\nfunction, does not\noperate on the values of variables but rather it tells you something\nabout\na variable.  Specifically, it tells you the flavor of a\nvariable (see\nThe Two Flavors of Variables\n).\nThe syntax of the\nflavor\nfunction is:\n$(flavor\nvariable\n)\nNote that\nvariable\nis the\nname\nof a variable to inquire about,\nnot a\nreference\nto that variable.  Therefore you would not normally\nuse a ‘\n$\n’ or parentheses when writing it.  (You can, however, use a\nvariable reference in the name if you want the name not to be a constant.)\nThe result of this function is a string that identifies the flavor of the\nvariable\nvariable\n:\n‘\nundefined\n’\nif\nvariable\nwas never defined.\n‘\nrecursive\n’\nif\nvariable\nis a recursively expanded variable.\n‘\nsimple\n’\nif\nvariable\nis a simply expanded variable.\nNext:\nThe\nshell\nFunction\n, Previous:\nThe\nflavor\nFunction\n, Up:\nFunctions for Transforming Text\n[\nContents\n][\nIndex\n]\n8.13 Functions That Control Make\nThese functions control the way make runs.  Generally, they are used to\nprovide information to the user of the makefile or to cause make to stop\nif some sort of environmental error is detected.\n$(error\ntext\n…)\n¶\nGenerates a fatal error where the message is\ntext\n.  Note that\nthe error is generated whenever this function is evaluated.  So, if\nyou put it inside a recipe or on the right side of a recursive\nvariable assignment, it won’t be evaluated until later.  The\ntext\nwill be expanded before the error is generated.\nFor example,\nifdef ERROR1\n$(error error is $(ERROR1))\nendif\nwill generate a fatal error during the read of the makefile if the\nmake\nvariable\nERROR1\nis defined.  Or,\nERR = $(error found an error!)\n.PHONY: err\nerr: ; $(ERR)\nwill generate a fatal error while\nmake\nis running, if the\nerr\ntarget is invoked.\n$(warning\ntext\n…)\n¶\nThis function works similarly to the\nerror\nfunction, above,\nexcept that\nmake\ndoesn’t exit.  Instead,\ntext\nis expanded\nand the resulting message is displayed, but processing of the makefile\ncontinues.\nThe result of the expansion of this function is the empty string.\n$(info\ntext\n…)\n¶\nThis function does nothing more than print its (expanded) argument(s)\nto standard output.  No makefile name or line number is added.  The\nresult of the expansion of this function is the empty string.\nNext:\nThe\nguile\nFunction\n, Previous:\nFunctions That Control Make\n, Up:\nFunctions for Transforming Text\n[\nContents\n][\nIndex\n]\n8.14 The\nshell\nFunction\nThe\nshell\nfunction is unlike any other function other than the\nwildcard\nfunction\n(see\nThe Function\nwildcard\n) in that it\ncommunicates with the world outside of\nmake\n.\nThe\nshell\nfunction provides for\nmake\nthe same facility that\nbackquotes (‘\n`\n’) provide in most shells: it does\ncommand expansion\n.\nThis means that it takes as an argument a shell command and expands to the\noutput of the command.  The only processing\nmake\ndoes on the result is\nto convert each newline (or carriage-return / newline pair) to a single space.\nIf there is a trailing (carriage-return and) newline it will simply be\nremoved.\nThe commands run by calls to the\nshell\nfunction are run when the\nfunction calls are expanded (see\nHow\nmake\nReads\na Makefile\n).  Because this function involves spawning a new shell, you should\ncarefully consider the performance implications of using the\nshell\nfunction within recursively expanded variables vs. simply expanded variables\n(see\nThe Two Flavors of Variables\n).\nAn alternative to the\nshell\nfunction is the ‘\n!=\n’ assignment\noperator; it provides a similar behavior but has subtle differences\n(see\nSetting Variables\n).  The ‘\n!=\n’ assignment operator is\nincluded in newer POSIX standards.\nAfter the\nshell\nfunction or ‘\n!=\n’ assignment operator is\nused, its exit status is placed in the\n.SHELLSTATUS\nvariable.\nHere are some examples of the use of the\nshell\nfunction:\ncontents := $(shell cat foo)\nsets\ncontents\nto the contents of the file\nfoo\n, with a space\n(rather than a newline) separating each line.\nfiles := $(shell echo *.c)\nsets\nfiles\nto the expansion of ‘\n*.c\n’.  Unless\nmake\nis\nusing a very strange shell, this has the same result as\n‘\n$(wildcard *.c)\n’\n(as long as at least one ‘\n.c\n’ file\nexists).\nAll variables that are marked as\nexport\nwill also be passed to the\nshell started by the\nshell\nfunction.  It is possible to create a\nvariable expansion loop: consider this\nmakefile\n:\nexport HI = $(shell echo hi)\nall: ; @echo $$HI\nWhen\nmake\nwants to run the recipe it must add the variable\nHI\nto\nthe environment; to do so it must be expanded.  The value of this variable\nrequires an invocation of the\nshell\nfunction, and to invoke it we must\ncreate its environment.  Since\nHI\nis exported, we need to expand it to\ncreate its environment.  And so on.  In this obscure case\nmake\nwill use\nthe value of the variable from the environment provided to\nmake\n, or\nelse the empty string if there was none, rather than looping or issuing an\nerror.  This is often what you want; for example:\nexport PATH = $(shell echo /usr/local/bin:$$PATH)\nHowever, it would be simpler and more efficient to use a simply-expanded\nvariable here (‘\n:=\n’) in the first place.\nPrevious:\nThe\nshell\nFunction\n, Up:\nFunctions for Transforming Text\n[\nContents\n][\nIndex\n]\n8.15 The\nguile\nFunction\nIf GNU\nmake\nis built with support for GNU Guile as an embedded\nextension language then the\nguile\nfunction will be available.\nThe\nguile\nfunction takes one argument which is first expanded\nby\nmake\nin the normal fashion, then passed to the GNU Guile\nevaluator.  The result of the evaluator is converted into a string and\nused as the expansion of the\nguile\nfunction in the makefile.\nSee\nGNU Guile Integration\nfor details on\nwriting extensions to\nmake\nin Guile.\nYou can determine whether GNU Guile support is available by checking\nthe\n.FEATURES\nvariable for the word\nguile\n.\nNext:\nUsing Implicit Rules\n, Previous:\nFunctions for Transforming Text\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\n9 How to Run\nmake\nA makefile that says how to recompile a program can be used in more\nthan one way.  The simplest use is to recompile every file that is out\nof date.  Usually, makefiles are written so that if you run\nmake\nwith no arguments, it does just that.\nBut you might want to update only some of the files; you might want to use\na different compiler or different compiler options; you might want just to\nfind out which files are out of date without changing them.\nBy giving arguments when you run\nmake\n, you can do any of these\nthings and many others.\nThe exit status of\nmake\nis always one of three values:\n0\nThe exit status is zero if\nmake\nis successful.\n2\nThe exit status is two if\nmake\nencounters any errors.\nIt will print messages describing the particular errors.\n1\nThe exit status is one if you use the ‘\n-q\n’ flag and\nmake\ndetermines that some target is not already up to date.\nSee\nInstead of Executing Recipes\n.\nArguments to Specify the Makefile\nArguments to Specify the Goals\nInstead of Executing Recipes\nAvoiding Recompilation of Some Files\nOverriding Variables\nTesting the Compilation of a Program\nTemporary Files\nSummary of Options\nNext:\nArguments to Specify the Goals\n, Previous:\nHow to Run\nmake\n, Up:\nHow to Run\nmake\n[\nContents\n][\nIndex\n]\n9.1 Arguments to Specify the Makefile\nThe way to specify the name of the makefile is with the ‘\n-f\n’ or\n‘\n--file\n’ option (‘\n--makefile\n’ also works).  For example,\n‘\n-f altmake\n’ says to use the file\naltmake\nas the makefile.\nIf you use the ‘\n-f\n’ flag several times and follow each ‘\n-f\n’\nwith an argument, all the specified files are used jointly as\nmakefiles.\nIf you do not use the ‘\n-f\n’ or ‘\n--file\n’ flag, the default is\nto try\nGNUmakefile\n,\nmakefile\n, and\nMakefile\n, in\nthat order, and use the first of these three which exists or can be made\n(see\nWriting Makefiles\n).\nNext:\nInstead of Executing Recipes\n, Previous:\nArguments to Specify the Makefile\n, Up:\nHow to Run\nmake\n[\nContents\n][\nIndex\n]\n9.2 Arguments to Specify the Goals\nThe\ngoals\nare the targets that\nmake\nshould strive ultimately\nto update.  Other targets are updated as well if they appear as\nprerequisites of goals, or prerequisites of prerequisites of goals, etc.\nBy default, the goal is the first target in the makefile (not counting\ntargets that start with a period).  Therefore, makefiles are usually\nwritten so that the first target is for compiling the entire program or\nprograms they describe.  If the first rule in the makefile has several\ntargets, only the first target in the rule becomes the default goal, not\nthe whole list.  You can manage the selection of the default goal from\nwithin your makefile using the\n.DEFAULT_GOAL\nvariable\n(see\nOther Special Variables\n).\nYou can also specify a different goal or goals with command line\narguments to\nmake\n.  Use the name of the goal as an argument.\nIf you specify several goals,\nmake\nprocesses each of them in\nturn, in the order you name them.\nAny target in the makefile may be specified as a goal (unless it\nstarts with ‘\n-\n’ or contains an ‘\n=\n’, in which case it will be\nparsed as a switch or variable definition, respectively).  Even\ntargets not in the makefile may be specified, if\nmake\ncan find\nimplicit rules that say how to make them.\nMake\nwill set the special variable\nMAKECMDGOALS\nto the\nlist of goals you specified on the command line.  If no goals were given\non the command line, this variable is empty.  Note that this variable\nshould be used only in special circumstances.\nAn example of appropriate use is to avoid including\n.d\nfiles\nduring\nclean\nrules (see\nGenerating Prerequisites Automatically\n), so\nmake\nwon’t create them only to immediately remove them\nagain:\nsources = foo.c bar.c\nifeq (,$(filter clean,$(MAKECMDGOALS))\ninclude $(sources:.c=.d)\nendif\nOne use of specifying a goal is if you want to compile only a part of\nthe program, or only one of several programs.  Specify as a goal each\nfile that you wish to remake.  For example, consider a directory containing\nseveral programs, with a makefile that starts like this:\n.PHONY: all\nall: size nm ld ar as\nIf you are working on the program\nsize\n, you might want to say\n‘\nmake size\n’\nso that only the files of that program are recompiled.\nAnother use of specifying a goal is to make files that are not normally\nmade.  For example, there may be a file of debugging output, or a\nversion of the program that is compiled specially for testing, which has\na rule in the makefile but is not a prerequisite of the default goal.\nAnother use of specifying a goal is to run the recipe associated with\na phony target (see\nPhony Targets\n) or empty target (see\nEmpty Target Files to Record Events\n).  Many makefiles contain\na phony target named\nclean\nwhich deletes everything except source\nfiles.  Naturally, this is done only if you request it explicitly with\n‘\nmake clean\n’\n.  Following is a list of typical phony and empty\ntarget names.  See\nStandard Targets for Users\n, for a detailed list of all the\nstandard target names which GNU software packages use.\nall\n¶\nMake all the top-level targets the makefile knows about.\nclean\n¶\nDelete all files that are normally created by running\nmake\n.\nmostlyclean\n¶\nLike ‘\nclean\n’, but may refrain from deleting a few files that people\nnormally don’t want to recompile.  For example, the ‘\nmostlyclean\n’\ntarget for GCC does not delete\nlibgcc.a\n, because recompiling it\nis rarely necessary and takes a lot of time.\ndistclean\n¶\nrealclean\nclobber\nAny of these targets might be defined to delete\nmore\nfiles than\n‘\nclean\n’ does.  For example, this would delete configuration files\nor links that you would normally create as preparation for compilation,\neven if the makefile itself cannot create these files.\ninstall\n¶\nCopy the executable file into a directory that users typically search\nfor commands; copy any auxiliary files that the executable uses into\nthe directories where it will look for them.\nprint\n¶\nPrint listings of the source files that have changed.\ntar\n¶\nCreate a tar file of the source files.\nshar\n¶\nCreate a shell archive (shar file) of the source files.\ndist\n¶\nCreate a distribution file of the source files.  This might\nbe a tar file, or a shar file, or a compressed version of one of the\nabove, or even more than one of the above.\nTAGS\n¶\nUpdate a tags table for this program.\ncheck\n¶\ntest\nPerform self tests on the program this makefile builds.\nNext:\nAvoiding Recompilation of Some Files\n, Previous:\nArguments to Specify the Goals\n, Up:\nHow to Run\nmake\n[\nContents\n][\nIndex\n]\n9.3 Instead of Executing Recipes\nThe makefile tells\nmake\nhow to tell whether a target is up to date,\nand how to update each target.  But updating the targets is not always\nwhat you want.  Certain options specify other activities for\nmake\n.\n‘\n-n\n’\n¶\n‘\n--just-print\n’\n‘\n--dry-run\n’\n‘\n--recon\n’\n“No-op”.  Causes\nmake\nto print the recipes that are needed to\nmake the targets up to date, but not actually execute them.  Note that\nsome recipes are still executed, even with this flag (see\nHow the\nMAKE\nVariable Works\n).  Also any recipes\nneeded to update included makefiles are still executed\n(see\nHow Makefiles Are Remade\n).\n‘\n-t\n’\n¶\n‘\n--touch\n’\n“Touch”.  Marks targets as up to date without actually changing\nthem.  In other words,\nmake\npretends to update the targets but\ndoes not really change their contents; instead only their modified\ntimes are updated.\n‘\n-q\n’\n¶\n‘\n--question\n’\n“Question”.  Silently check whether the targets are up to date, but\ndo not execute recipes; the exit code shows whether any updates are\nneeded.\n‘\n-W\nfile\n’\n¶\n‘\n--what-if=\nfile\n’\n‘\n--assume-new=\nfile\n’\n‘\n--new-file=\nfile\n’\n“What if”.  Each ‘\n-W\n’ flag is followed by a file name.  The given\nfiles’ modification times are recorded by\nmake\nas being the present\ntime, although the actual modification times remain the same.\nYou can use the ‘\n-W\n’ flag in conjunction with the ‘\n-n\n’ flag\nto see what would happen if you were to modify specific files.\nWith the ‘\n-n\n’ flag,\nmake\nprints the recipe that it would\nnormally execute but usually does not execute it.\nWith the ‘\n-t\n’ flag,\nmake\nignores the recipes in the rules\nand uses (in effect) the command\ntouch\nfor each target that needs to\nbe remade.  The\ntouch\ncommand is also printed, unless ‘\n-s\n’ or\n.SILENT\nis used.  For speed,\nmake\ndoes not actually invoke\nthe program\ntouch\n.  It does the work directly.\nWith the ‘\n-q\n’ flag,\nmake\nprints nothing and executes no\nrecipes, but the exit status code it returns is zero if and only if the\ntargets to be considered are already up to date.  If the exit status is\none, then some updating needs to be done.  If\nmake\nencounters an\nerror, the exit status is two, so you can distinguish an error from a\ntarget that is not up to date.\nIt is an error to use more than one of these three flags in the same\ninvocation of\nmake\n.\nThe ‘\n-n\n’, ‘\n-t\n’, and ‘\n-q\n’ options do not affect recipe\nlines that begin with ‘\n+\n’ characters or contain the strings\n‘\n$(MAKE)\n’ or ‘\n${MAKE}\n’.  Note that only the line containing\nthe ‘\n+\n’ character or the strings ‘\n$(MAKE)\n’ or ‘\n${MAKE}\n’\nis run regardless of these options.  Other lines in the same rule are\nnot run unless they too begin with ‘\n+\n’ or contain ‘\n$(MAKE)\n’ or\n‘\n${MAKE}\n’ (See\nHow the\nMAKE\nVariable Works\n.)\nThe ‘\n-t\n’ flag prevents phony targets (see\nPhony Targets\n) from\nbeing updated, unless there are recipe lines beginning with ‘\n+\n’\nor containing ‘\n$(MAKE)\n’ or ‘\n${MAKE}\n’.\nThe ‘\n-W\n’ flag provides two features:\nIf you also use the ‘\n-n\n’ or ‘\n-q\n’ flag, you can see what\nmake\nwould do if you were to modify some files.\nWithout the ‘\n-n\n’ or ‘\n-q\n’ flag, when\nmake\nis actually\nexecuting recipes, the ‘\n-W\n’ flag can direct\nmake\nto act as\nif some files had been modified, without actually running the recipes\nfor those files.\nNote that the options ‘\n-p\n’ and ‘\n-v\n’ allow you to obtain other\ninformation about\nmake\nor about the makefiles in use\n(see\nSummary of Options\n).\nNext:\nOverriding Variables\n, Previous:\nInstead of Executing Recipes\n, Up:\nHow to Run\nmake\n[\nContents\n][\nIndex\n]\n9.4 Avoiding Recompilation of Some Files\nSometimes you may have changed a source file but you do not want to\nrecompile all the files that depend on it.  For example, suppose you add\na macro or a declaration to a header file that many other files depend\non.  Being conservative,\nmake\nassumes that any change in the\nheader file requires recompilation of all dependent files, but you know\nthat they do not need to be recompiled and you would rather not waste\nthe time waiting for them to compile.\nIf you anticipate the problem before changing the header file, you can\nuse the ‘\n-t\n’ flag.  This flag tells\nmake\nnot to run the\nrecipes in the rules, but rather to mark the target up to date by\nchanging its last-modification date.  You would follow this procedure:\nUse the command ‘\nmake\n’ to recompile the source files that really\nneed recompilation, ensuring that the object files are up-to-date\nbefore you begin.\nMake the changes in the header files.\nUse the command ‘\nmake -t\n’ to mark all the object files as\nup to date.  The next time you run\nmake\n, the changes in the\nheader files will not cause any recompilation.\nIf you have already changed the header file at a time when some files\ndo need recompilation, it is too late to do this.  Instead, you can\nuse the ‘\n-o\nfile\n’\nflag, which marks a specified file as\n“old” (see\nSummary of Options\n).  This means\nthat the file itself will not be remade, and nothing else will be\nremade on its account.  Follow this procedure:\nRecompile the source files that need compilation for reasons independent\nof the particular header file, with ‘\nmake -o\nheaderfile\n’.\nIf several header files are involved, use a separate ‘\n-o\n’ option\nfor each header file.\nTouch all the object files with ‘\nmake -t\n’.\nNext:\nTesting the Compilation of a Program\n, Previous:\nAvoiding Recompilation of Some Files\n, Up:\nHow to Run\nmake\n[\nContents\n][\nIndex\n]\n9.5 Overriding Variables\nAn argument that contains ‘\n=\n’ specifies the value of a variable:\n‘\nv\n=\nx\n’ sets the value of the variable\nv\nto\nx\n.\nIf you specify a value in this way, all ordinary assignments of the same\nvariable in the makefile are ignored; we say they have been\noverridden\nby the command line argument.\nThe most common way to use this facility is to pass extra flags to\ncompilers.  For example, in a properly written makefile, the variable\nCFLAGS\nis included in each recipe that runs the C compiler, so a\nfile\nfoo.c\nwould be compiled something like this:\ncc -c $(CFLAGS) foo.c\nThus, whatever value you set for\nCFLAGS\naffects each compilation\nthat occurs.  The makefile probably specifies the usual value for\nCFLAGS\n, like this:\nCFLAGS=-g\nEach time you run\nmake\n, you can override this value if you\nwish.  For example, if you say ‘\nmake CFLAGS='-g -O'\n’, each C\ncompilation will be done with ‘\ncc -c -g -O\n’.  (This also\nillustrates how you can use quoting in the shell to enclose spaces and\nother special characters in the value of a variable when you override\nit.)\nThe variable\nCFLAGS\nis only one of many standard variables that\nexist just so that you can change them this way.  See\nVariables Used by Implicit Rules\n, for a complete list.\nYou can also program the makefile to look at additional variables of your\nown, giving the user the ability to control other aspects of how the\nmakefile works by changing the variables.\nWhen you override a variable with a command line argument, you can\ndefine either a recursively-expanded variable or a simply-expanded\nvariable.  The examples shown above make a recursively-expanded\nvariable; to make a simply-expanded variable, write ‘\n:=\n’ or\n‘\n::=\n’ instead of ‘\n=\n’.  But, unless you want to include a\nvariable reference or function call in the\nvalue\nthat you\nspecify, it makes no difference which kind of variable you create.\nThere is one way that the makefile can change a variable that you have\noverridden.  This is to use the\noverride\ndirective, which is a line\nthat looks like this: ‘\noverride\nvariable\n=\nvalue\n’\n(see\nThe\noverride\nDirective\n).\nNext:\nTemporary Files\n, Previous:\nOverriding Variables\n, Up:\nHow to Run\nmake\n[\nContents\n][\nIndex\n]\n9.6 Testing the Compilation of a Program\nNormally, when an error happens in executing a shell command,\nmake\ngives up immediately, returning a nonzero status.  No further recipes are\nexecuted for any target.  The error implies that the goal cannot be\ncorrectly remade, and\nmake\nreports this as soon as it knows.\nWhen you are compiling a program that you have just changed, this is not\nwhat you want.  Instead, you would rather that\nmake\ntry compiling\nevery file that can be tried, to show you as many compilation errors\nas possible.\nOn these occasions, you should use the ‘\n-k\n’ or\n‘\n--keep-going\n’ flag.  This tells\nmake\nto continue to\nconsider the other prerequisites of the pending targets, remaking them\nif necessary, before it gives up and returns nonzero status.  For\nexample, after an error in compiling one object file, ‘\nmake -k\n’\nwill continue compiling other object files even though it already\nknows that linking them will be impossible.  In addition to continuing\nafter failed shell commands, ‘\nmake -k\n’ will continue as much as\npossible after discovering that it does not know how to make a target\nor prerequisite file.  This will always cause an error message, but\nwithout ‘\n-k\n’, it is a fatal error (see\nSummary of Options\n).\nThe usual behavior of\nmake\nassumes that your purpose is to get the\ngoals up to date; once\nmake\nlearns that this is impossible, it might\nas well report the failure immediately.  The ‘\n-k\n’ flag says that the\nreal purpose is to test as much as possible of the changes made in the\nprogram, perhaps to find several independent problems so that you can\ncorrect them all before the next attempt to compile.  This is why Emacs’\nM-x compile\ncommand passes the ‘\n-k\n’ flag by default.\nNext:\nSummary of Options\n, Previous:\nTesting the Compilation of a Program\n, Up:\nHow to Run\nmake\n[\nContents\n][\nIndex\n]\n9.7 Temporary Files\nIn some situations,\nmake\nwill need to create its own temporary files.\nThese files must not be disturbed while\nmake\nis running, including all\nrecursively-invoked instances of\nmake\n.\nIf the environment variable\nMAKE_TMPDIR\nis set then all temporary files\ncreated by\nmake\nwill be placed there.\nIf\nMAKE_TMPDIR\nis not set, then the standard location for temporary\nfiles for the current operating system will be used.  For POSIX systems this\nwill be the location set in the\nTMPDIR\nenvironment variable, or else\nthe system’s default location (e.g.,\n/tmp\n) is used.  On Windows,\nfirst\nTMP\nthen\nTEMP\nwill be checked, then\nTMPDIR\n, and\nfinally the system default temporary file location will be used.\nNote that this directory must already exist or\nmake\nwill fail:\nmake\nwill not attempt to create it.\nThese variables\ncannot\nbe set from within a makefile: GNU\nmake\nmust have access to this location before it begins reading the makefiles.\nPrevious:\nTemporary Files\n, Up:\nHow to Run\nmake\n[\nContents\n][\nIndex\n]\n9.8 Summary of Options\nHere is a table of all the options\nmake\nunderstands:\n‘\n-b\n’\n¶\n‘\n-m\n’\nThese options are ignored for compatibility with other versions of\nmake\n.\n‘\n-B\n’\n¶\n‘\n--always-make\n’\nConsider all targets out-of-date.  GNU\nmake\nproceeds to\nconsider targets and their prerequisites using the normal algorithms;\nhowever, all targets so considered are always remade regardless of the\nstatus of their prerequisites.  To avoid infinite recursion, if\nMAKE_RESTARTS\n(see\nOther Special\nVariables\n) is set to a number greater than 0 this option is disabled\nwhen considering whether to remake makefiles (see\nHow Makefiles Are Remade\n).\n‘\n-C\ndir\n’\n¶\n‘\n--directory=\ndir\n’\nChange to directory\ndir\nbefore reading the makefiles.  If multiple\n‘\n-C\n’ options are specified, each is interpreted relative to the\nprevious one: ‘\n-C / -C etc\n’ is equivalent to ‘\n-C /etc\n’.\nThis is typically used with recursive invocations of\nmake\n(see\nRecursive Use of\nmake\n).\n‘\n-d\n’\n¶\nPrint debugging information in addition to normal processing.  The\ndebugging information says which files are being considered for\nremaking, which file-times are being compared and with what results,\nwhich files actually need to be remade, which implicit rules are\nconsidered and which are applied—everything interesting about how\nmake\ndecides what to do.  The\n-d\noption is equivalent to\n‘\n--debug=a\n’ (see below).\n‘\n--debug[=\noptions\n]\n’\n¶\nPrint debugging information in addition to normal processing.  Various\nlevels and types of output can be chosen.  With no arguments, print the\n“basic” level of debugging.  Possible arguments are below; only the\nfirst character is considered, and values must be comma- or\nspace-separated.\na (\nall\n)\nAll types of debugging output are enabled.  This is equivalent to using\n‘\n-d\n’.\nb (\nbasic\n)\nBasic debugging prints each target that was found to be out-of-date, and\nwhether the build was successful or not.\nv (\nverbose\n)\nA level above ‘\nbasic\n’; includes messages about which makefiles were\nparsed, prerequisites that did not need to be rebuilt, etc.  This option\nalso enables ‘\nbasic\n’ messages.\ni (\nimplicit\n)\nPrints messages describing the implicit rule searches for each target.\nThis option also enables ‘\nbasic\n’ messages.\nj (\njobs\n)\nPrints messages giving details on the invocation of specific sub-commands.\nm (\nmakefile\n)\nBy default, the above messages are not enabled while trying to remake\nthe makefiles.  This option enables messages while rebuilding makefiles,\ntoo.  Note that the ‘\nall\n’ option does enable this option.  This\noption also enables ‘\nbasic\n’ messages.\np (\nprint\n)\nPrints the recipe to be executed, even when the recipe is normally\nsilent (due to\n.SILENT\nor ‘\n@\n’).  Also prints the makefile\nname and line number where the recipe was defined.\nw (\nwhy\n)\nExplains why each target must be remade by showing which prerequisites\nare more up to date than the target.\nn (\nnone\n)\nDisable all debugging currently enabled.  If additional debugging\nflags are encountered after this they will still take effect.\n‘\n-e\n’\n¶\n‘\n--environment-overrides\n’\nGive variables taken from the environment precedence\nover variables from makefiles.\nSee\nVariables from the Environment\n.\n‘\n-E\nstring\n’\n¶\n‘\n--eval=\nstring\n’\n¶\nEvaluate\nstring\nas makefile syntax.  This is a command-line\nversion of the\neval\nfunction (see\nThe\neval\nFunction\n).  The\nevaluation is performed after the default rules and variables have\nbeen defined, but before any makefiles are read.\n‘\n-f\nfile\n’\n¶\n‘\n--file=\nfile\n’\n‘\n--makefile=\nfile\n’\nRead the file named\nfile\nas a makefile.\nSee\nWriting Makefiles\n.\n‘\n-h\n’\n¶\n‘\n--help\n’\nRemind you of the options that\nmake\nunderstands and then exit.\n‘\n-i\n’\n¶\n‘\n--ignore-errors\n’\nIgnore all errors in recipes executed to remake files.\nSee\nErrors in Recipes\n.\n‘\n-I\ndir\n’\n¶\n‘\n--include-dir=\ndir\n’\nSpecifies a directory\ndir\nto search for included makefiles.\nSee\nIncluding Other Makefiles\n.  If several ‘\n-I\n’\noptions are used to specify several directories, the directories are\nsearched in the order specified.  If the directory\ndir\nis a\nsingle dash (\n-\n) then any already-specified directories up to\nthat point (including the default directory paths) will be discarded.\nYou can examine the current list of directories to be searched via the\n.INCLUDE_DIRS\nvariable.\n‘\n-j [\njobs\n]\n’\n¶\n‘\n--jobs[=\njobs\n]\n’\nSpecifies the number of recipes (jobs) to run simultaneously.  With no\nargument,\nmake\nruns as many recipes simultaneously as possible.\nIf there is more than one ‘\n-j\n’ option, the last one is effective.\nSee\nParallel Execution\n, for more information on how\nrecipes are run.  Note that this option is ignored on MS-DOS.\n‘\n--jobserver-style=[\nstyle\n]\n’\n¶\nChooses the style of jobserver to use.  This option only has effect if\nparallel builds are enabled (see\nParallel Execution\n).  On POSIX\nsystems\nstyle\ncan be one of\nfifo\n(the default) or\npipe\n.\nOn Windows the only acceptable\nstyle\nis\nsem\n(the default).  This\noption is useful if you need to use an older versions of GNU\nmake\n, or a\ndifferent tool that requires a specific jobserver style.\n‘\n-k\n’\n¶\n‘\n--keep-going\n’\nContinue as much as possible after an error.  While the target that\nfailed, and those that depend on it, cannot be remade, the other\nprerequisites of these targets can be processed all the same.\nSee\nTesting the Compilation of a Program\n.\n‘\n-l [\nload\n]\n’\n¶\n‘\n--load-average[=\nload\n]\n’\n‘\n--max-load[=\nload\n]\n’\nSpecifies that no new recipes should be started if there are other\nrecipes running and the load average is at least\nload\n(a\nfloating-point number).  With no argument, removes a previous load\nlimit.  See\nParallel Execution\n.\n‘\n-L\n’\n¶\n‘\n--check-symlink-times\n’\nOn systems that support symbolic links, this option causes\nmake\nto consider the timestamps on any symbolic links in addition to the\ntimestamp on the file referenced by those links.  When this option is\nprovided, the most recent timestamp among the file and the symbolic\nlinks is taken as the modification time for this target file.\n‘\n-n\n’\n¶\n‘\n--just-print\n’\n‘\n--dry-run\n’\n‘\n--recon\n’\nPrint the recipe that would be executed, but do not execute it (except\nin certain circumstances).\nSee\nInstead of Executing Recipes\n.\n‘\n-o\nfile\n’\n¶\n‘\n--old-file=\nfile\n’\n‘\n--assume-old=\nfile\n’\nDo not remake the file\nfile\neven if it is older than its\nprerequisites, and do not remake anything on account of changes in\nfile\n.  Essentially the file is treated as very old and its rules\nare ignored.  See\nAvoiding Recompilation of\nSome Files\n.\n‘\n-O[\ntype\n]\n’\n¶\n‘\n--output-sync[=\ntype\n]\n’\nEnsure that the complete output from each recipe is printed in one\nuninterrupted sequence.  This option is only useful when using the\n--jobs\noption to run multiple recipes simultaneously\n(see\nParallel Execution\n)  Without this option output\nwill be displayed as it is generated by the recipes.\nWith no type or the type ‘\ntarget\n’, output from the entire recipe\nof each target is grouped together.  With the type ‘\nline\n’, output\nfrom each line in the recipe is grouped together.  With the type\n‘\nrecurse\n’, the output from an entire recursive make is grouped\ntogether.  With the type ‘\nnone\n’, no output synchronization is\nperformed.  See\nOutput During Parallel Execution\n.\n‘\n-p\n’\n¶\n‘\n--print-data-base\n’\nPrint the data base (rules and variable values) that results from\nreading the makefiles; then execute as usual or as otherwise\nspecified.  This also prints the version information given by the\n‘\n-v\n’ switch (see below).  To print the data base without trying\nto remake any files, use ‘\nmake\n-qp\n’\n.  To print the data base\nof predefined rules and variables, use ‘\nmake\n-p\n-f\n/dev/null\n’\n.\nThe data base output contains file name and line number information for\nrecipe and variable definitions, so it can be a useful debugging tool\nin complex environments.\n‘\n-q\n’\n¶\n‘\n--question\n’\n“Question mode”.  Do not run any recipes, or print anything; just\nreturn an exit status that is zero if the specified targets are already\nup to date, one if any remaking is required, or two if an error is\nencountered.  See\nInstead of Executing\nRecipes\n.\n‘\n-r\n’\n¶\n‘\n--no-builtin-rules\n’\nEliminate use of the built-in implicit rules (see\nUsing Implicit Rules\n).  You can still define your own by writing\npattern rules (see\nDefining and Redefining Pattern\nRules\n).  The ‘\n-r\n’ option also clears out the default list of\nsuffixes for suffix rules (see\nOld-Fashioned Suffix\nRules\n).  But you can still define your own suffixes with a rule for\n.SUFFIXES\n, and then define your own suffix rules.  Note that only\nrules\nare affected by the\n-r\noption; default variables\nremain in effect (see\nVariables Used by Implicit\nRules\n); see the ‘\n-R\n’ option below.\n‘\n-R\n’\n¶\n‘\n--no-builtin-variables\n’\nEliminate use of the built-in rule-specific variables (see\nVariables Used by Implicit Rules\n).  You can still define\nyour own, of course.  The ‘\n-R\n’ option also automatically enables\nthe ‘\n-r\n’ option (see above), since it doesn’t make sense to have\nimplicit rules without any definitions for the variables that they use.\n‘\n-s\n’\n¶\n‘\n--silent\n’\n‘\n--quiet\n’\nSilent operation; do not print the recipes as they are executed.\nSee\nRecipe Echoing\n.\n‘\n-S\n’\n¶\n‘\n--no-keep-going\n’\n‘\n--stop\n’\nCancel the effect of the ‘\n-k\n’ option.  This is never necessary\nexcept in a recursive\nmake\nwhere ‘\n-k\n’ might be inherited\nfrom the top-level\nmake\nvia\nMAKEFLAGS\n(see\nRecursive Use of\nmake\n)\nor if you set ‘\n-k\n’ in\nMAKEFLAGS\nin your environment.\n‘\n--shuffle[=\nmode\n]\n’\n¶\nThis option enables a form of fuzz-testing of prerequisite relationships.\nWhen parallelism is enabled (‘\n-j\n’) the order in which targets are\nbuilt becomes less deterministic.  If prerequisites are not fully declared\nin the makefile this can lead to intermittent and hard-to-track-down build\nfailures.\nThe ‘\n--shuffle\n’ option forces\nmake\nto purposefully reorder goals\nand prerequisites so target/prerequisite relationships still hold, but\nordering of prerequisites of a given target are reordered as described below.\nThe order in which prerequisites are listed in automatic variables is not\nchanged by this option.\nThe\n.NOTPARALLEL\npseudo-target disables shuffling for that makefile.\nAlso any prerequisite list which contains\n.WAIT\nwill not be shuffled.\nSee\nDisabling Parallel Execution\n.\nThe ‘\n--shuffle=\n’ option accepts these values:\nrandom\nChoose a random seed for the shuffle.  This is the default if no mode is\nspecified.  The chosen seed is also provided to sub-\nmake\ncommands.  The\nseed is included in error messages so that it can be re-used in future runs to\nreproduce the problem or verify that it has been resolved.\nreverse\nReverse the order of goals and prerequisites, rather than a random shuffle.\nseed\nUse ‘\nrandom\n’ shuffle initialized with the specified seed value.  The\nseed\nis an integer.\nnone\nDisable shuffling.  This negates any previous ‘\n--shuffle\n’ options.\n‘\n-t\n’\n¶\n‘\n--touch\n’\nTouch files (mark them up to date without really changing them)\ninstead of running their recipes.  This is used to pretend that the\nrecipes were done, in order to fool future invocations of\nmake\n.  See\nInstead of Executing Recipes\n.\n‘\n--trace\n’\n¶\nShow tracing information for\nmake\nexecution.  Using\n--trace\nis\nshorthand for\n--debug=print,why\n.\n‘\n-v\n’\n¶\n‘\n--version\n’\nPrint the version of the\nmake\nprogram plus a copyright, a list\nof authors, and a notice that there is no warranty; then exit.\n‘\n-w\n’\n¶\n‘\n--print-directory\n’\nPrint a message containing the working directory both before and after\nexecuting the makefile.  This may be useful for tracking down errors\nfrom complicated nests of recursive\nmake\ncommands.\nSee\nRecursive Use of\nmake\n.  (In practice, you\nrarely need to specify this option since ‘\nmake\n’ does it for you;\nsee\nThe ‘\n--print-directory\n’ Option\n.)\n‘\n--no-print-directory\n’\n¶\nDisable printing of the working directory under\n-w\n.\nThis option is useful when\n-w\nis turned on automatically,\nbut you do not want to see the extra messages.\nSee\nThe ‘\n--print-directory\n’ Option\n.\n‘\n-W\nfile\n’\n¶\n‘\n--what-if=\nfile\n’\n‘\n--new-file=\nfile\n’\n‘\n--assume-new=\nfile\n’\nPretend that the target\nfile\nhas just been modified.  When used\nwith the ‘\n-n\n’ flag, this shows you what would happen if you were\nto modify that file.  Without ‘\n-n\n’, it is almost the same as\nrunning a\ntouch\ncommand on the given file before running\nmake\n, except that the modification time is changed only in the\nimagination of\nmake\n.\nSee\nInstead of Executing Recipes\n.\n‘\n--warn-undefined-variables\n’\n¶\nIssue a warning message whenever\nmake\nsees a reference to an\nundefined variable.  This can be helpful when you are trying to debug\nmakefiles which use variables in complex ways.\nNext:\nUsing\nmake\nto Update Archive Files\n, Previous:\nHow to Run\nmake\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\n10 Using Implicit Rules\nCertain standard ways of remaking target files are used very often.  For\nexample, one customary way to make an object file is from a C source file\nusing the C compiler,\ncc\n.\nImplicit rules\ntell\nmake\nhow to use customary techniques so\nthat you do not have to specify them in detail when you want to use\nthem.  For example, there is an implicit rule for C compilation.  File\nnames determine which implicit rules are run.  For example, C\ncompilation typically takes a\n.c\nfile and makes a\n.o\nfile.\nSo\nmake\napplies the implicit rule for C compilation when it sees\nthis combination of file name endings.\nA chain of implicit rules can apply in sequence; for example,\nmake\nwill remake a\n.o\nfile from a\n.y\nfile by way of a\n.c\nfile.\nThe built-in implicit rules use several variables in their recipes so\nthat, by changing the values of the variables, you can change the way the\nimplicit rule works.  For example, the variable\nCFLAGS\ncontrols the\nflags given to the C compiler by the implicit rule for C compilation.\nYou can define your own implicit rules by writing\npattern rules\n.\nSuffix rules\nare a more limited way to define implicit rules.\nPattern rules are more general and clearer, but suffix rules are\nretained for compatibility.\nUsing Implicit Rules\nCatalogue of Built-In Rules\nVariables Used by Implicit Rules\nChains of Implicit Rules\nDefining and Redefining Pattern Rules\nDefining Last-Resort Default Rules\nOld-Fashioned Suffix Rules\nImplicit Rule Search Algorithm\nNext:\nCatalogue of Built-In Rules\n, Previous:\nUsing Implicit Rules\n, Up:\nUsing Implicit Rules\n[\nContents\n][\nIndex\n]\n10.1 Using Implicit Rules\nTo allow\nmake\nto find a customary method for updating a target\nfile, all you have to do is refrain from specifying recipes yourself.\nEither write a rule with no recipe, or don’t write a rule at all.\nThen\nmake\nwill figure out which implicit rule to use based on\nwhich kind of source file exists or can be made.\nFor example, suppose the makefile looks like this:\nfoo : foo.o bar.o\ncc -o foo foo.o bar.o $(CFLAGS) $(LDFLAGS)\nBecause you mention\nfoo.o\nbut do not give a rule for it,\nmake\nwill automatically look for an implicit rule that tells how to update it.\nThis happens whether or not the file\nfoo.o\ncurrently exists.\nIf an implicit rule is found, it can supply both a recipe and one or\nmore prerequisites (the source files).  You would want to write a rule\nfor\nfoo.o\nwith no recipe if you need to specify additional\nprerequisites, such as header files, that the implicit rule cannot\nsupply.\nEach implicit rule has a target pattern and prerequisite patterns.  There may\nbe many implicit rules with the same target pattern.  For example, numerous\nrules make ‘\n.o\n’ files: one, from a ‘\n.c\n’ file with the C compiler;\nanother, from a ‘\n.p\n’ file with the Pascal compiler; and so on.  The rule\nthat actually applies is the one whose prerequisites exist or can be made.\nSo, if you have a file\nfoo.c\n,\nmake\nwill run the C compiler;\notherwise, if you have a file\nfoo.p\n,\nmake\nwill run the Pascal\ncompiler; and so on.\nOf course, when you write the makefile, you know which implicit rule you\nwant\nmake\nto use, and you know it will choose that one because you\nknow which possible prerequisite files are supposed to exist.\nSee\nCatalogue of Built-In Rules\n,\nfor a catalogue of all the predefined implicit rules.\nAbove, we said an implicit rule applies if the required prerequisites “exist\nor can be made”.  A file “can be made” if it is mentioned explicitly in\nthe makefile as a target or a prerequisite, or if an implicit rule can be\nrecursively found for how to make it.  When an implicit prerequisite is the\nresult of another implicit rule, we say that\nchaining\nis occurring.\nSee\nChains of Implicit Rules\n.\nIn general,\nmake\nsearches for an implicit rule for each target, and\nfor each double-colon rule, that has no recipe.  A file that is mentioned\nonly as a prerequisite is considered a target whose rule specifies nothing,\nso implicit rule search happens for it.  See\nImplicit Rule Search Algorithm\n, for the\ndetails of how the search is done.\nNote that explicit prerequisites do not influence implicit rule search.\nFor example, consider this explicit rule:\nfoo.o: foo.p\nThe prerequisite on\nfoo.p\ndoes not necessarily mean that\nmake\nwill remake\nfoo.o\naccording to the implicit rule to\nmake an object file, a\n.o\nfile, from a Pascal source file, a\n.p\nfile.  For example, if\nfoo.c\nalso exists, the implicit\nrule to make an object file from a C source file is used instead,\nbecause it appears before the Pascal rule in the list of predefined\nimplicit rules (see\nCatalogue of Built-In\nRules\n).\nIf you do not want an implicit rule to be used for a target that has no\nrecipe, you can give that target an empty recipe by writing a semicolon\n(see\nDefining Empty Recipes\n).\nNext:\nVariables Used by Implicit Rules\n, Previous:\nUsing Implicit Rules\n, Up:\nUsing Implicit Rules\n[\nContents\n][\nIndex\n]\n10.2 Catalogue of Built-In Rules\nHere is a catalogue of predefined implicit rules which are always\navailable unless the makefile explicitly overrides or cancels them.\nSee\nCanceling Implicit Rules\n, for information on\ncanceling or overriding an implicit rule.  The ‘\n-r\n’ or\n‘\n--no-builtin-rules\n’ option cancels all predefined rules.\nThis manual only documents the default rules available on POSIX-based\noperating systems.  Other operating systems, such as VMS, Windows,\nOS/2, etc. may have different sets of default rules.  To see the full\nlist of default rules and variables available in your version of GNU\nmake\n, run ‘\nmake -p\n’ in a directory with no makefile.\nNot all of these rules will always be defined, even when the ‘\n-r\n’\noption is not given.  Many of the predefined implicit rules are\nimplemented in\nmake\nas suffix rules, so which ones will be\ndefined depends on the\nsuffix list\n(the list of prerequisites of\nthe special target\n.SUFFIXES\n).  The default suffix list is:\n.out\n,\n.a\n,\n.ln\n,\n.o\n,\n.c\n,\n.cc\n,\n.C\n,\n.cpp\n,\n.p\n,\n.f\n,\n.F\n,\n.m\n,\n.r\n,\n.y\n,\n.l\n,\n.ym\n,\n.lm\n,\n.s\n,\n.S\n,\n.mod\n,\n.sym\n,\n.def\n,\n.h\n,\n.info\n,\n.dvi\n,\n.tex\n,\n.texinfo\n,\n.texi\n,\n.txinfo\n,\n.w\n,\n.ch\n.web\n,\n.sh\n,\n.elc\n,\n.el\n.  All of the implicit rules described below\nwhose prerequisites have one of these suffixes are actually suffix\nrules.  If you modify the suffix list, the only predefined suffix\nrules in effect will be those named by one or two of the suffixes that\nare on the list you specify; rules whose suffixes fail to be on the\nlist are disabled.  See\nOld-Fashioned Suffix Rules\n,\nfor full details on suffix rules.\nCompiling C programs\n¶\nn\n.o\nis made automatically from\nn\n.c\nwith\na recipe of the form ‘\n$(CC) $(CPPFLAGS) $(CFLAGS)\n-c\n’\n.\nCompiling C++ programs\n¶\nn\n.o\nis made automatically from\nn\n.cc\n,\nn\n.cpp\n, or\nn\n.C\nwith a recipe of the form\n‘\n$(CXX) $(CPPFLAGS) $(CXXFLAGS)\n-c\n’\n.  We encourage you to use the\nsuffix ‘\n.cc\n’ or ‘\n.cpp\n’ for C++ source files instead of ‘\n.C\n’ to\nbetter support case-insensitive file systems.\nCompiling Pascal programs\n¶\nn\n.o\nis made automatically from\nn\n.p\nwith the recipe ‘\n$(PC) $(PFLAGS) -c\n’.\nCompiling Fortran and Ratfor programs\n¶\nn\n.o\nis made automatically from\nn\n.r\n,\nn\n.F\nor\nn\n.f\nby running the\nFortran compiler.  The precise recipe used is as follows:\n‘\n.f\n’\n‘\n$(FC) $(FFLAGS) -c\n’.\n‘\n.F\n’\n‘\n$(FC) $(FFLAGS) $(CPPFLAGS) -c\n’.\n‘\n.r\n’\n‘\n$(FC) $(FFLAGS) $(RFLAGS) -c\n’.\nPreprocessing Fortran and Ratfor programs\nn\n.f\nis made automatically from\nn\n.r\nor\nn\n.F\n.  This rule runs just the preprocessor to convert a\nRatfor or preprocessable Fortran program into a strict Fortran\nprogram.  The precise recipe used is as follows:\n‘\n.F\n’\n‘\n$(FC) $(CPPFLAGS) $(FFLAGS) -F\n’.\n‘\n.r\n’\n‘\n$(FC) $(FFLAGS) $(RFLAGS) -F\n’.\nCompiling Modula-2 programs\n¶\nn\n.sym\nis made from\nn\n.def\nwith a recipe of the form\n‘\n$(M2C) $(M2FLAGS) $(DEFFLAGS)\n’\n.\nn\n.o\nis made from\nn\n.mod\n; the form is: ‘\n$(M2C) $(M2FLAGS) $(MODFLAGS)\n’\n.\nAssembling and preprocessing assembler programs\n¶\nn\n.o\nis made automatically from\nn\n.s\nby\nrunning the assembler,\nas\n.  The precise recipe is\n‘\n$(AS) $(ASFLAGS)\n’.\nn\n.s\nis made automatically from\nn\n.S\nby\nrunning the C preprocessor,\ncpp\n.  The precise recipe is\n‘\n$(CPP) $(CPPFLAGS)\n’\n.\nLinking a single object file\n¶\nn\nis made automatically from\nn\n.o\nby running the C\ncompiler to link the program.  The precise recipe used is ‘\n$(CC) $(LDFLAGS)\nn\n.o $(LOADLIBES) $(LDLIBS)\n’\n.\nThis rule does the right thing for a simple program with only one\nsource file.  It will also do the right thing if there are multiple\nobject files (presumably coming from various other source files), one\nof which has a name matching that of the executable file.  Thus,\nx: y.o z.o\nwhen\nx.c\n,\ny.c\nand\nz.c\nall exist will execute:\ncc -c x.c -o x.o\ncc -c y.c -o y.o\ncc -c z.c -o z.o\ncc x.o y.o z.o -o x\nrm -f x.o\nrm -f y.o\nrm -f z.o\nIn more complicated cases, such as when there is no object file whose\nname derives from the executable file name, you must write an explicit\nrecipe for linking.\nEach kind of file automatically made into ‘\n.o\n’ object files will\nbe automatically linked by using the compiler (‘\n$(CC)\n’,\n‘\n$(FC)\n’ or ‘\n$(PC)\n’; the C compiler ‘\n$(CC)\n’ is used to\nassemble ‘\n.s\n’ files) without the ‘\n-c\n’ option.  This could be\ndone by using the ‘\n.o\n’ object files as intermediates, but it is\nfaster to do the compiling and linking in one step, so that’s how it’s\ndone.\nYacc for C programs\n¶\nn\n.c\nis made automatically from\nn\n.y\nby\nrunning Yacc with the recipe ‘\n$(YACC) $(YFLAGS)\n’.\nLex for C programs\n¶\nn\n.c\nis made automatically from\nn\n.l\nby\nrunning Lex.  The actual recipe is ‘\n$(LEX) $(LFLAGS)\n’.\nLex for Ratfor programs\nn\n.r\nis made automatically from\nn\n.l\nby\nrunning Lex.  The actual recipe is ‘\n$(LEX) $(LFLAGS)\n’.\nThe convention of using the same suffix ‘\n.l\n’ for all Lex files\nregardless of whether they produce C code or Ratfor code makes it\nimpossible for\nmake\nto determine automatically which of the two\nlanguages you are using in any particular case.  If\nmake\nis\ncalled upon to remake an object file from a ‘\n.l\n’ file, it must\nguess which compiler to use.  It will guess the C compiler, because\nthat is more common.  If you are using Ratfor, make sure\nmake\nknows this by mentioning\nn\n.r\nin the makefile.  Or, if you\nare using Ratfor exclusively, with no C files, remove ‘\n.c\n’ from\nthe list of implicit rule suffixes with:\n.SUFFIXES:\n.SUFFIXES: .o .r .f .l …\nMaking Lint Libraries from C, Yacc, or Lex programs\n¶\nn\n.ln\nis made from\nn\n.c\nby running\nlint\n.\nThe precise recipe is ‘\n$(LINT) $(LINTFLAGS) $(CPPFLAGS)\n-i\n’\n.\nThe same recipe is used on the C code produced from\nn\n.y\nor\nn\n.l\n.\nTeX and Web\n¶\nn\n.dvi\nis made from\nn\n.tex\nwith the recipe\n‘\n$(TEX)\n’.\nn\n.tex\nis made from\nn\n.web\nwith\n‘\n$(WEAVE)\n’, or from\nn\n.w\n(and from\nn\n.ch\nif\nit exists or can be made) with ‘\n$(CWEAVE)\n’.\nn\n.p\nis\nmade from\nn\n.web\nwith ‘\n$(TANGLE)\n’ and\nn\n.c\nis made from\nn\n.w\n(and from\nn\n.ch\nif it exists\nor can be made) with ‘\n$(CTANGLE)\n’.\nTexinfo and Info\n¶\nn\n.dvi\nis made from\nn\n.texinfo\n,\nn\n.texi\n, or\nn\n.txinfo\n, with the recipe\n‘\n$(TEXI2DVI)\n$(TEXI2DVI_FLAGS)\n’\n.\nn\n.info\nis made from\nn\n.texinfo\n,\nn\n.texi\n, or\nn\n.txinfo\n, with\nthe recipe ‘\n$(MAKEINFO)\n$(MAKEINFO_FLAGS)\n’\n.\nRCS\n¶\nAny file\nn\nis extracted if necessary from an RCS file\nnamed either\nn\n,v\nor\nRCS/\nn\n,v\n.  The precise\nrecipe used is ‘\n$(CO) $(COFLAGS)\n’\n.\nn\nwill not be\nextracted from RCS if it already exists, even if the RCS file is\nnewer.  The rules for RCS are terminal\n(see\nMatch-Anything Pattern Rules\n),\nso RCS files cannot be generated from another source; they must\nactually exist.\nSCCS\n¶\nAny file\nn\nis extracted if necessary from an SCCS file\nnamed either\ns.\nn\nor\nSCCS/s.\nn\n.  The precise\nrecipe used is ‘\n$(GET) $(GFLAGS)\n’\n.  The rules for SCCS are\nterminal (see\nMatch-Anything Pattern Rules\n),\nso SCCS files cannot be generated from another source; they must\nactually exist.\nFor the benefit of SCCS, a file\nn\nis copied from\nn\n.sh\nand made executable (by everyone).  This is for\nshell scripts that are checked into SCCS.  Since RCS preserves the\nexecution permission of a file, you do not need to use this feature\nwith RCS.\nWe recommend that you avoid using of SCCS.  RCS is widely held to be\nsuperior, and is also free.  By choosing free software in place of\ncomparable (or inferior) proprietary software, you support the free\nsoftware movement.\nUsually, you want to change only the variables listed in the table\nabove, which are documented in the following section.\nHowever, the recipes in built-in implicit rules actually use\nvariables such as\nCOMPILE.c\n,\nLINK.p\n, and\nPREPROCESS.S\n, whose values contain the recipes listed above.\nmake\nfollows the convention that the rule to compile a\n.\nx\nsource file uses the variable\nCOMPILE.\nx\n.\nSimilarly, the rule to produce an executable from a\n.\nx\nfile uses\nLINK.\nx\n; and the rule to preprocess a\n.\nx\nfile uses\nPREPROCESS.\nx\n.\nEvery rule that produces an object file uses the variable\nOUTPUT_OPTION\n.\nmake\ndefines this variable either to\ncontain ‘\n-o $@\n’, or to be empty, depending on a compile-time\noption.  You need the ‘\n-o\n’ option to ensure that the output goes\ninto the right file when the source file is in a different directory,\nas when using\nVPATH\n(see\nSearching Directories for Prerequisites\n).  However,\ncompilers on some systems do not accept a ‘\n-o\n’ switch for object\nfiles.  If you use such a system, and use\nVPATH\n, some\ncompilations will put their output in the wrong place.\nA possible workaround for this problem is to give\nOUTPUT_OPTION\nthe value ‘\n; mv $*.o $@\n’\n.\nNext:\nChains of Implicit Rules\n, Previous:\nCatalogue of Built-In Rules\n, Up:\nUsing Implicit Rules\n[\nContents\n][\nIndex\n]\n10.3 Variables Used by Implicit Rules\nThe recipes in built-in implicit rules make liberal use of certain\npredefined variables.  You can alter the values of these variables in\nthe makefile, with arguments to\nmake\n, or in the environment to\nalter how the implicit rules work without redefining the rules\nthemselves.  You can cancel all variables used by implicit rules with\nthe ‘\n-R\n’ or ‘\n--no-builtin-variables\n’ option.\nFor example, the recipe used to compile a C source file actually says\n‘\n$(CC) -c $(CFLAGS) $(CPPFLAGS)\n’.  The default values of the variables\nused are ‘\ncc\n’ and nothing, resulting in the command ‘\ncc -c\n’.  By\nredefining ‘\nCC\n’ to ‘\nncc\n’, you could cause ‘\nncc\n’ to be\nused for all C compilations performed by the implicit rule.  By redefining\n‘\nCFLAGS\n’ to be ‘\n-g\n’, you could pass the ‘\n-g\n’ option to\neach compilation.\nAll\nimplicit rules that do C compilation use\n‘\n$(CC)\n’ to get the program name for the compiler and\nall\ninclude ‘\n$(CFLAGS)\n’ among the arguments given to the compiler.\nThe variables used in implicit rules fall into two classes: those that are\nnames of programs (like\nCC\n) and those that contain arguments for the\nprograms (like\nCFLAGS\n).  (The “name of a program” may also contain\nsome command arguments, but it must start with an actual executable program\nname.)  If a variable value contains more than one argument, separate them\nwith spaces.\nThe following tables describe of some of the more commonly-used predefined\nvariables.  This list is not exhaustive, and the default values shown here may\nnot be what\nmake\nselects for your environment.  To see the\ncomplete list of predefined variables for your instance of GNU\nmake\nyou\ncan run ‘\nmake -p\n’ in a directory with no makefiles.\nHere is a table of some of the more common variables used as names of\nprograms in built-in rules:\nAR\n¶\nArchive-maintaining program; default ‘\nar\n’.\nAS\n¶\nProgram for compiling assembly files; default ‘\nas\n’.\nCC\n¶\nProgram for compiling C programs; default ‘\ncc\n’.\nCXX\n¶\nProgram for compiling C++ programs; default ‘\ng++\n’.\nCPP\n¶\nProgram for running the C preprocessor, with results to standard output;\ndefault ‘\n$(CC) -E\n’.\nFC\n¶\nProgram for compiling or preprocessing Fortran and Ratfor programs;\ndefault ‘\nf77\n’.\nM2C\n¶\nProgram to use to compile Modula-2 source code; default ‘\nm2c\n’.\nPC\n¶\nProgram for compiling Pascal programs; default ‘\npc\n’.\nCO\n¶\nProgram for extracting a file from RCS; default ‘\nco\n’.\nGET\n¶\nProgram for extracting a file from SCCS; default ‘\nget\n’.\nLEX\n¶\nProgram to use to turn Lex grammars into source code; default ‘\nlex\n’.\nYACC\n¶\nProgram to use to turn Yacc grammars into source code; default ‘\nyacc\n’.\nLINT\n¶\nProgram to use to run lint on source code; default ‘\nlint\n’.\nMAKEINFO\n¶\nProgram to convert a Texinfo source file into an Info file; default\n‘\nmakeinfo\n’.\nTEX\n¶\nProgram to make TeX\nDVI\nfiles from TeX source;\ndefault ‘\ntex\n’.\nTEXI2DVI\n¶\nProgram to make TeX\nDVI\nfiles from Texinfo source;\ndefault ‘\ntexi2dvi\n’.\nWEAVE\n¶\nProgram to translate Web into TeX; default ‘\nweave\n’.\nCWEAVE\n¶\nProgram to translate C Web into TeX; default ‘\ncweave\n’.\nTANGLE\n¶\nProgram to translate Web into Pascal; default ‘\ntangle\n’.\nCTANGLE\n¶\nProgram to translate C Web into C; default ‘\nctangle\n’.\nRM\n¶\nCommand to remove a file; default ‘\nrm -f\n’.\nHere is a table of variables whose values are additional arguments for the\nprograms above.  The default values for all of these is the empty\nstring, unless otherwise noted.\nARFLAGS\n¶\nFlags to give the archive-maintaining program; default ‘\nrv\n’.\nASFLAGS\n¶\nExtra flags to give to the assembler (when explicitly\ninvoked on a ‘\n.s\n’ or ‘\n.S\n’ file).\nCFLAGS\n¶\nExtra flags to give to the C compiler.\nCXXFLAGS\n¶\nExtra flags to give to the C++ compiler.\nCOFLAGS\n¶\nExtra flags to give to the RCS\nco\nprogram.\nCPPFLAGS\n¶\nExtra flags to give to the C preprocessor and programs\nthat use it (the C and Fortran compilers).\nFFLAGS\n¶\nExtra flags to give to the Fortran compiler.\nGFLAGS\n¶\nExtra flags to give to the SCCS\nget\nprogram.\nLDFLAGS\n¶\nExtra flags to give to compilers when they are supposed to invoke the linker,\n‘\nld\n’, such as\n-L\n.  Libraries (\n-lfoo\n) should be\nadded to the\nLDLIBS\nvariable instead.\nLDLIBS\n¶\nLibrary flags or names given to compilers when they are supposed to\ninvoke the linker, ‘\nld\n’.\nLOADLIBES\nis a deprecated (but\nstill supported) alternative to\nLDLIBS\n.  Non-library linker\nflags, such as\n-L\n, should go in the\nLDFLAGS\nvariable.\nLFLAGS\n¶\nExtra flags to give to Lex.\nYFLAGS\n¶\nExtra flags to give to Yacc.\nPFLAGS\n¶\nExtra flags to give to the Pascal compiler.\nRFLAGS\n¶\nExtra flags to give to the Fortran compiler for Ratfor programs.\nLINTFLAGS\n¶\nExtra flags to give to lint.\nNext:\nDefining and Redefining Pattern Rules\n, Previous:\nVariables Used by Implicit Rules\n, Up:\nUsing Implicit Rules\n[\nContents\n][\nIndex\n]\n10.4 Chains of Implicit Rules\nSometimes a file can be made by a sequence of implicit rules.  For example,\na file\nn\n.o\ncould be made from\nn\n.y\nby running\nfirst Yacc and then\ncc\n.  Such a sequence is called a\nchain\n.\nIf the file\nn\n.c\nexists, or is mentioned in the makefile, no\nspecial searching is required:\nmake\nfinds that the object file can\nbe made by C compilation from\nn\n.c\n; later on, when considering\nhow to make\nn\n.c\n, the rule for running Yacc is\nused.  Ultimately both\nn\n.c\nand\nn\n.o\nare\nupdated.\nHowever, even if\nn\n.c\ndoes not exist and is not mentioned,\nmake\nknows how to envision it as the missing link between\nn\n.o\nand\nn\n.y\n!  In this case,\nn\n.c\nis\ncalled an\nintermediate file\n.  Once\nmake\nhas decided to use the\nintermediate file, it is entered in the data base as if it had been\nmentioned in the makefile, along with the implicit rule that says how to\ncreate it.\nIntermediate files are remade using their rules just like all other\nfiles.  But intermediate files are treated differently in two ways.\nThe first difference is what happens if the intermediate file does not\nexist.  If an ordinary file\nb\ndoes not exist, and\nmake\nconsiders a target that depends on\nb\n, it invariably creates\nb\nand then updates the target from\nb\n.  But if\nb\nis\nan intermediate file, then\nmake\ncan leave well enough alone:\nit won’t create\nb\nunless one of its prerequisites is out of\ndate.  This means the target depending on\nb\nwon’t be rebuilt\neither, unless there is some other reason to update that target: for\nexample the target doesn’t exist or a different prerequisite is newer\nthan the target.\nThe second difference is that if\nmake\ndoes\ncreate\nb\nin\norder to update something else, it deletes\nb\nlater on after it is no\nlonger needed.  Therefore, an intermediate file which did not exist before\nmake\nalso does not exist after\nmake\n.\nmake\nreports the\ndeletion to you by printing a ‘\nrm\n’ command showing which file it is\ndeleting.\nYou can explicitly mark a file as intermediate by listing it as a prerequisite\nof the special target\n.INTERMEDIATE\n.  This takes effect even if the\nfile is mentioned explicitly in some other way.\nA file cannot be intermediate if it is mentioned in the makefile as a target\nor prerequisite, so one way to avoid the deletion of intermediate files is by\nadding it as a prerequisite to some target.  However, doing so can cause make\nto do extra work when searching pattern rules (see\nImplicit Rule Search Algorithm\n).\nAs an alternative, listing a file as a prerequisite of the special target\n.NOTINTERMEDIATE\nforces it to not be considered intermediate (just as\nany other mention of the file will do).  Also, listing the target pattern of a\npattern rule as a prerequisite of\n.NOTINTERMEDIATE\nensures that no\ntargets generated using that pattern rule are considered intermediate.\nYou can disable intermediate files completely in your makefile by\nproviding\n.NOTINTERMEDIATE\nas a target with no prerequisites:\nin that case it applies to every file in the makefile.\nIf you do not want\nmake\nto create a file merely because it does\nnot already exist, but you also do not want\nmake\nto\nautomatically delete the file, you can mark it as a\nsecondary\nfile.  To do this, list it as a prerequisite of the special target\n.SECONDARY\n.  Marking a file as secondary also marks it as\nintermediate.\nA chain can involve more than two implicit rules.  For example, it is\npossible to make a file\nfoo\nfrom\nRCS/foo.y,v\nby running RCS,\nYacc and\ncc\n.  Then both\nfoo.y\nand\nfoo.c\nare\nintermediate files that are deleted at the end.\nNo single implicit rule can appear more than once in a chain.  This means\nthat\nmake\nwill not even consider such a ridiculous thing as making\nfoo\nfrom\nfoo.o.o\nby running the linker twice.  This\nconstraint has the added benefit of preventing any infinite loop in the\nsearch for an implicit rule chain.\nThere are some special implicit rules to optimize certain cases that would\notherwise be handled by rule chains.  For example, making\nfoo\nfrom\nfoo.c\ncould be handled by compiling and linking with separate\nchained rules, using\nfoo.o\nas an intermediate file.  But what\nactually happens is that a special rule for this case does the compilation\nand linking with a single\ncc\ncommand.  The optimized rule is used in\npreference to the step-by-step chain because it comes earlier in the\nordering of rules.\nFinally, for performance reasons\nmake\nwill not consider non-terminal\nmatch-anything rules (i.e., ‘\n%:\n’) when searching for a rule to\nbuild a prerequisite of an implicit rule (see\nMatch-Anything Pattern Rules\n).\nNext:\nDefining Last-Resort Default Rules\n, Previous:\nChains of Implicit Rules\n, Up:\nUsing Implicit Rules\n[\nContents\n][\nIndex\n]\n10.5 Defining and Redefining Pattern Rules\nYou define an implicit rule by writing a\npattern rule\n.  A pattern\nrule looks like an ordinary rule, except that its target contains the\ncharacter ‘\n%\n’ (exactly one of them).  The target is considered a\npattern for matching file names; the ‘\n%\n’ can match any nonempty\nsubstring, while other characters match only themselves.  The prerequisites\nlikewise use ‘\n%\n’ to show how their names relate to the target name.\nThus, a pattern rule ‘\n%.o : %.c\n’ says how to make any file\nstem\n.o\nfrom another file\nstem\n.c\n.\nNote that expansion using ‘\n%\n’ in pattern rules occurs\nafter\nany variable or function expansions, which take place\nwhen the makefile is read.  See\nHow to Use\nVariables\n, and\nFunctions for Transforming Text\n.\nIntroduction to Pattern Rules\nPattern Rule Examples\nAutomatic Variables\nHow Patterns Match\nMatch-Anything Pattern Rules\nCanceling Implicit Rules\nNext:\nPattern Rule Examples\n, Previous:\nDefining and Redefining Pattern Rules\n, Up:\nDefining and Redefining Pattern Rules\n[\nContents\n][\nIndex\n]\n10.5.1 Introduction to Pattern Rules\nA pattern rule contains the character ‘\n%\n’ (exactly one of them)\nin the target; otherwise, it looks exactly like an ordinary rule.  The\ntarget is a pattern for matching file names; the ‘\n%\n’ matches any\nnonempty substring, while other characters match only themselves.\nFor example, ‘\n%.c\n’ as a pattern matches any file name that ends in\n‘\n.c\n’.  ‘\ns.%.c\n’ as a pattern matches any file name that starts\nwith ‘\ns.\n’, ends in ‘\n.c\n’ and is at least five characters long.\n(There must be at least one character to match the ‘\n%\n’.)  The substring\nthat the ‘\n%\n’ matches is called the\nstem\n.\n‘\n%\n’ in a prerequisite of a pattern rule stands for the same stem\nthat was matched by the ‘\n%\n’ in the target.  In order for the\npattern rule to apply, its target pattern must match the file name\nunder consideration and all of its prerequisites (after pattern\nsubstitution) must name files that exist or can be made.  These files\nbecome prerequisites of the target.\nThus, a rule of the form\n%.o : %.c ;\nrecipe\n…\nspecifies how to make a file\nn\n.o\n, with another file\nn\n.c\nas its prerequisite, provided that\nn\n.c\nexists or can be made.\nThere may also be prerequisites that do not use ‘\n%\n’; such a prerequisite\nattaches to every file made by this pattern rule.  These unvarying\nprerequisites are useful occasionally.\nA pattern rule need not have any prerequisites that contain ‘\n%\n’, or\nin fact any prerequisites at all.  Such a rule is effectively a general\nwildcard.  It provides a way to make any file that matches the target\npattern.  See\nDefining Last-Resort Default Rules\n.\nMore than one pattern rule may match a target.  In this case\nmake\nwill choose the “best fit” rule.  See\nHow Patterns Match\n.\nPattern rules may have more than one target; however, every target must\ncontain a\n%\ncharacter.  Multiple target patterns in pattern rules are\nalways treated as grouped targets (see\nMultiple Targets\nin a Rule\n) regardless of whether they use the\n:\nor\n&:\nseparator.\nThere is one exception: if a pattern target is out of date or does\nnot exist and the makefile does not need to build it, then it will not cause\nthe other targets to be considered out of date.  Note that this historical\nexception will be removed in future versions of GNU\nmake\nand should not\nbe relied on.  If this situation is detected\nmake\nwill generate a\nwarning\npattern recipe did not update peer target\n; however,\nmake\ncannot detect all such situations.  Please be sure that your recipe updates\nall\nthe target patterns when it runs.\nNext:\nAutomatic Variables\n, Previous:\nIntroduction to Pattern Rules\n, Up:\nDefining and Redefining Pattern Rules\n[\nContents\n][\nIndex\n]\n10.5.2 Pattern Rule Examples\nHere are some examples of pattern rules actually predefined in\nmake\n.  First, the rule that compiles ‘\n.c\n’ files into ‘\n.o\n’\nfiles:\n%.o : %.c\n$(CC) -c $(CFLAGS) $(CPPFLAGS) $< -o $@\ndefines a rule that can make any file\nx\n.o\nfrom\nx\n.c\n.  The recipe uses the automatic variables ‘\n$@\n’ and\n‘\n$<\n’ to substitute the names of the target file and the source file\nin each case where the rule applies (see\nAutomatic Variables\n).\nHere is a second built-in rule:\n% :: RCS/%,v\n$(CO) $(COFLAGS) $<\ndefines a rule that can make any file\nx\nwhatsoever from a\ncorresponding file\nx\n,v\nin the sub-directory\nRCS\n.  Since\nthe target is ‘\n%\n’, this rule will apply to any file whatever, provided\nthe appropriate prerequisite file exists.  The double colon makes the rule\nterminal\n, which means that its prerequisite may not be an intermediate\nfile (see\nMatch-Anything Pattern Rules\n).\nThis pattern rule has two targets:\n%.tab.c %.tab.h: %.y\nbison -d $<\nThis tells\nmake\nthat the recipe ‘\nbison -d\nx\n.y\n’ will\nmake both\nx\n.tab.c\nand\nx\n.tab.h\n.  If the file\nfoo\ndepends on the files\nparse.tab.o\nand\nscan.o\nand the file\nscan.o\ndepends on the file\nparse.tab.h\n,\nwhen\nparse.y\nis changed, the recipe ‘\nbison -d parse.y\n’\nwill be executed only once, and the prerequisites of both\nparse.tab.o\nand\nscan.o\nwill be satisfied.  (Presumably\nthe file\nparse.tab.o\nwill be recompiled from\nparse.tab.c\nand the file\nscan.o\nfrom\nscan.c\n, while\nfoo\nis\nlinked from\nparse.tab.o\n,\nscan.o\n, and its other\nprerequisites, and it will execute happily ever after.)\nNext:\nHow Patterns Match\n, Previous:\nPattern Rule Examples\n, Up:\nDefining and Redefining Pattern Rules\n[\nContents\n][\nIndex\n]\n10.5.3 Automatic Variables\nSuppose you are writing a pattern rule to compile a ‘\n.c\n’ file into a\n‘\n.o\n’ file: how do you write the ‘\ncc\n’ command so that it operates\non the right source file name?  You cannot write the name in the recipe,\nbecause the name is different each time the implicit rule is applied.\nWhat you do is use a special feature of\nmake\n, the\nautomatic\nvariables\n.  These variables have values computed afresh for each rule that\nis executed, based on the target and prerequisites of the rule.  In this\nexample, you would use ‘\n$@\n’ for the object file name and ‘\n$<\n’\nfor the source file name.\nIt’s very important that you recognize the limited scope in which\nautomatic variable values are available: they only have values within\nthe recipe.  In particular, you cannot use them anywhere\nwithin the target list of a rule; they have no value there and will\nexpand to the empty string.  Also, they cannot be accessed directly\nwithin the prerequisite list of a rule.  A common mistake is\nattempting to use\n$@\nwithin the prerequisites list; this will\nnot work.  However, there is a special feature of GNU\nmake\n,\nsecondary expansion (see\nSecondary Expansion\n), which will allow\nautomatic variable values to be used in prerequisite lists.\nHere is a table of automatic variables:\n$@\nThe file name of the target of the rule.  If the target is an archive\nmember, then ‘\n$@\n’ is the name of the archive file.  In a pattern\nrule that has multiple targets (see\nIntroduction to\nPattern Rules\n), ‘\n$@\n’ is the name of whichever target caused the\nrule’s recipe to be run.\n$%\nThe target member name, when the target is an archive member.\nSee\nUsing\nmake\nto Update Archive Files\n.  For example, if the target is\nfoo.a(bar.o)\nthen\n‘\n$%\n’ is\nbar.o\nand ‘\n$@\n’ is\nfoo.a\n.  ‘\n$%\n’ is\nempty when the target is not an archive member.\n$<\nThe name of the first prerequisite.  If the target got its recipe from\nan implicit rule, this will be the first prerequisite added by the\nimplicit rule (see\nUsing Implicit Rules\n).\n$?\nThe names of all the prerequisites that are newer than the target, with\nspaces between them.  If the target does not exist, all prerequisites\nwill be included.  For prerequisites which are archive members, only the\nnamed member is used (see\nUsing\nmake\nto Update Archive Files\n).\n‘\n$?\n’ is useful even in explicit rules when you wish to operate on only\nthe prerequisites that have changed.  For example, suppose that an archive\nnamed\nlib\nis supposed to contain copies of several object files.\nThis rule copies just the changed object files into the archive:\nlib: foo.o bar.o lose.o win.o\nar r lib $?\n$^\nThe names of all the prerequisites, with spaces between them.  For\nprerequisites which are archive members, only the named member is used\n(see\nUsing\nmake\nto Update Archive Files\n).  A target has only one prerequisite on each other file\nit depends on, no matter how many times each file is listed as a\nprerequisite.  So if you list a prerequisite more than once for a target,\nthe value of\n$^\ncontains just one copy of the name.  This list\ndoes\nnot\ncontain any of the order-only prerequisites; for those\nsee the ‘\n$|\n’ variable, below.\n$+\nThis is like ‘\n$^\n’, but prerequisites listed more than once are\nduplicated in the order they were listed in the makefile.  This is\nprimarily useful for use in linking commands where it is meaningful to\nrepeat library file names in a particular order.\n$|\nThe names of all the order-only prerequisites, with spaces between\nthem.\n$*\nThe stem with which an implicit rule matches (see\nHow\nPatterns Match\n).  If the target is\ndir/a.foo.b\nand the target\npattern is\na.%.b\nthen the stem is\ndir/foo\n.  The stem is\nuseful for constructing names of related files.\nIn a static pattern rule, the stem is part of the file name that matched\nthe ‘\n%\n’ in the target pattern.\nIn an explicit rule, there is no stem; so ‘\n$*\n’ cannot be determined\nin that way.  Instead, if the target name ends with a recognized suffix\n(see\nOld-Fashioned Suffix Rules\n), ‘\n$*\n’ is set to\nthe target name minus the suffix.  For example, if the target name is\n‘\nfoo.c\n’, then ‘\n$*\n’ is set to ‘\nfoo\n’, since ‘\n.c\n’ is a\nsuffix.  GNU\nmake\ndoes this bizarre thing only for compatibility\nwith other implementations of\nmake\n.  You should generally avoid\nusing ‘\n$*\n’ except in implicit rules or static pattern rules.\nIf the target name in an explicit rule does not end with a recognized\nsuffix, ‘\n$*\n’ is set to the empty string for that rule.\nOf the variables listed above, four have values that are single file\nnames, and three have values that are lists of file names.  These\nseven have variants that get just the file’s directory name or just\nthe file name within the directory.  The variant variables’ names are\nformed by appending ‘\nD\n’ or ‘\nF\n’, respectively.  The functions\ndir\nand\nnotdir\ncan be used to obtain a similar effect\n(see\nFunctions for File Names\n).  Note,\nhowever, that the ‘\nD\n’ variants all omit the trailing slash which\nalways appears in the output of the\ndir\nfunction.  Here is a\ntable of the variants:\n‘\n$(@D)\n’\nThe directory part of the file name of the target, with the trailing\nslash removed.  If the value of ‘\n$@\n’ is\ndir/foo.o\nthen\n‘\n$(@D)\n’ is\ndir\n.  This value is\n.\nif ‘\n$@\n’ does\nnot contain a slash.\n‘\n$(@F)\n’\nThe file-within-directory part of the file name of the target.  If the\nvalue of ‘\n$@\n’ is\ndir/foo.o\nthen ‘\n$(@F)\n’ is\nfoo.o\n.  ‘\n$(@F)\n’ is equivalent to ‘\n$(notdir $@)\n’.\n‘\n$(*D)\n’\n‘\n$(*F)\n’\nThe directory part and the file-within-directory\npart of the stem;\ndir\nand\nfoo\nin this example.\n‘\n$(%D)\n’\n‘\n$(%F)\n’\nThe directory part and the file-within-directory part of the target\narchive member name.  This makes sense only for archive member targets\nof the form\narchive\n(\nmember\n)\nand is useful only when\nmember\nmay contain a directory name.  (See\nArchive Members as Targets\n.)\n‘\n$(<D)\n’\n‘\n$(<F)\n’\nThe directory part and the file-within-directory\npart of the first prerequisite.\n‘\n$(^D)\n’\n‘\n$(^F)\n’\nLists of the directory parts and the file-within-directory\nparts of all prerequisites.\n‘\n$(+D)\n’\n‘\n$(+F)\n’\nLists of the directory parts and the file-within-directory\nparts of all prerequisites, including multiple instances of duplicated\nprerequisites.\n‘\n$(?D)\n’\n‘\n$(?F)\n’\nLists of the directory parts and the file-within-directory parts of\nall prerequisites that are newer than the target.\nNote that we use a special stylistic convention when we talk about these\nautomatic variables; we write “the value of ‘\n$<\n’”, rather than\n“the variable\n<\n”\nas we would write for ordinary variables\nsuch as\nobjects\nand\nCFLAGS\n.  We think this convention\nlooks more natural in this special case.  Please do not assume it has a\ndeep significance; ‘\n$<\n’ refers to the variable named\n<\njust\nas ‘\n$(CFLAGS)\n’ refers to the variable named\nCFLAGS\n.\nYou could just as well use ‘\n$(<)\n’ in place of ‘\n$<\n’.\nNext:\nMatch-Anything Pattern Rules\n, Previous:\nAutomatic Variables\n, Up:\nDefining and Redefining Pattern Rules\n[\nContents\n][\nIndex\n]\n10.5.4 How Patterns Match\nA target pattern is composed of a ‘\n%\n’ between a prefix and a suffix,\neither or both of which may be empty.  The pattern matches a file name only\nif the file name starts with the prefix and ends with the suffix, without\noverlap.  The text between the prefix and the suffix is called the\nstem\n.  Thus, when the pattern ‘\n%.o\n’ matches the file name\ntest.o\n, the stem is ‘\ntest\n’.  The pattern rule prerequisites are\nturned into actual file names by substituting the stem for the character\n‘\n%\n’.  Thus, if in the same example one of the prerequisites is written\nas ‘\n%.c\n’, it expands to ‘\ntest.c\n’.\nWhen the target pattern does not contain a slash (and it usually does\nnot), directory names in the file names are removed from the file name\nbefore it is compared with the target prefix and suffix.  After the\ncomparison of the file name to the target pattern, the directory\nnames, along with the slash that ends them, are added on to the\nprerequisite file names generated from the pattern rule’s prerequisite\npatterns and the file name.  The directories are ignored only for the\npurpose of finding an implicit rule to use, not in the application of\nthat rule.  Thus, ‘\ne%t\n’ matches the file name\nsrc/eat\n,\nwith ‘\nsrc/a\n’ as the stem.  When prerequisites are turned into file\nnames, the directories from the stem are added at the front, while the\nrest of the stem is substituted for the ‘\n%\n’.  The stem\n‘\nsrc/a\n’ with a prerequisite pattern ‘\nc%r\n’ gives the file name\nsrc/car\n.\nA pattern rule can be used to build a given file only if there is a\ntarget pattern that matches the file name,\nand\nall\nprerequisites in that rule either exist or can be built.  The rules\nyou write take precedence over those that are built in. Note however,\nthat a rule which can be satisfied without chaining other implicit\nrules (for example, one which has no prerequisites or its\nprerequisites already exist or are mentioned) always takes priority\nover a rule with prerequisites that must be made by chaining other\nimplicit rules.\nIt is possible that more than one pattern rule will meet these\ncriteria.  In that case,\nmake\nwill choose the rule with the\nshortest stem (that is, the pattern that matches most specifically).\nIf more than one pattern rule has the shortest stem,\nmake\nwill\nchoose the first one found in the makefile.\nThis algorithm results in more specific rules being preferred over\nmore generic ones; for example:\n%.o: %.c\n$(CC) -c $(CFLAGS) $(CPPFLAGS) $< -o $@\n%.o : %.f\n$(COMPILE.F) $(OUTPUT_OPTION) $<\nlib/%.o: lib/%.c\n$(CC) -fPIC -c $(CFLAGS) $(CPPFLAGS) $< -o $@\nGiven these rules and asked to build\nbar.o\nwhere both\nbar.c\nand\nbar.f\nexist,\nmake\nwill choose the first\nrule and compile\nbar.c\ninto\nbar.o\n.  In the same\nsituation where\nbar.c\ndoes not exist, then\nmake\nwill\nchoose the second rule and compile\nbar.f\ninto\nbar.o\n.\nIf\nmake\nis asked to build\nlib/bar.o\nand both\nlib/bar.c\nand\nlib/bar.f\nexist, then the third rule will\nbe chosen since the stem for this rule (‘\nbar\n’) is shorter than\nthe stem for the first rule (‘\nlib/bar\n’).  If\nlib/bar.c\ndoes not exist then the third rule is not eligible and the second rule\nwill be used, even though the stem is longer.\nNext:\nCanceling Implicit Rules\n, Previous:\nHow Patterns Match\n, Up:\nDefining and Redefining Pattern Rules\n[\nContents\n][\nIndex\n]\n10.5.5 Match-Anything Pattern Rules\nWhen a pattern rule’s target is just ‘\n%\n’, it matches any file name\nwhatever.  We call these rules\nmatch-anything\nrules.  They are very\nuseful, but it can take a lot of time for\nmake\nto think about them,\nbecause it must consider every such rule for each file name listed either\nas a target or as a prerequisite.\nSuppose the makefile mentions\nfoo.c\n.  For this target,\nmake\nwould have to consider making it by linking an object file\nfoo.c.o\n,\nor by C compilation-and-linking in one step from\nfoo.c.c\n, or by\nPascal compilation-and-linking from\nfoo.c.p\n, and many other\npossibilities.\nWe know these possibilities are ridiculous since\nfoo.c\nis a C source\nfile, not an executable.  If\nmake\ndid consider these possibilities,\nit would ultimately reject them, because files such as\nfoo.c.o\nand\nfoo.c.p\nwould not exist.  But these possibilities are so\nnumerous that\nmake\nwould run very slowly if it had to consider\nthem.\nTo gain speed, we have put various constraints on the way\nmake\nconsiders match-anything rules.  There are two different constraints that\ncan be applied, and each time you define a match-anything rule you must\nchoose one or the other for that rule.\nOne choice is to mark the match-anything rule as\nterminal\nby defining\nit with a double colon.  When a rule is terminal, it does not apply unless\nits prerequisites actually exist.  Prerequisites that could be made with\nother implicit rules are not good enough.  In other words, no further\nchaining is allowed beyond a terminal rule.\nFor example, the built-in implicit rules for extracting sources from RCS\nand SCCS files are terminal; as a result, if the file\nfoo.c,v\ndoes\nnot exist,\nmake\nwill not even consider trying to make it as an\nintermediate file from\nfoo.c,v.o\nor from\nRCS/SCCS/s.foo.c,v\n.\nRCS and SCCS files are generally ultimate source files, which should not be\nremade from any other files; therefore,\nmake\ncan save time by not\nlooking for ways to remake them.\nIf you do not mark the match-anything rule as terminal, then it is\nnon-terminal.  A non-terminal match-anything rule cannot apply to a\nprerequisite of an implicit rule, or to a file name that indicates a\nspecific type of data.  A file name indicates a specific type of data\nif some non-match-anything implicit rule target matches it.\nFor example, the file name\nfoo.c\nmatches the target for the pattern\nrule ‘\n%.c : %.y\n’ (the rule to run Yacc).  Regardless of whether this\nrule is actually applicable (which happens only if there is a file\nfoo.y\n), the fact that its target matches is enough to prevent\nconsideration of any non-terminal match-anything rules for the file\nfoo.c\n.  Thus,\nmake\nwill not even consider trying to make\nfoo.c\nas an executable file from\nfoo.c.o\n,\nfoo.c.c\n,\nfoo.c.p\n, etc.\nThe motivation for this constraint is that non-terminal match-anything\nrules are used for making files containing specific types of data (such as\nexecutable files) and a file name with a recognized suffix indicates some\nother specific type of data (such as a C source file).\nSpecial built-in dummy pattern rules are provided solely to recognize\ncertain file names so that non-terminal match-anything rules will not be\nconsidered.  These dummy rules have no prerequisites and no recipes, and\nthey are ignored for all other purposes.  For example, the built-in\nimplicit rule\n%.p :\nexists to make sure that Pascal source files such as\nfoo.p\nmatch a\nspecific target pattern and thereby prevent time from being wasted looking\nfor\nfoo.p.o\nor\nfoo.p.c\n.\nDummy pattern rules such as the one for ‘\n%.p\n’ are made for every\nsuffix listed as valid for use in suffix rules (see\nOld-Fashioned Suffix Rules\n).\nPrevious:\nMatch-Anything Pattern Rules\n, Up:\nDefining and Redefining Pattern Rules\n[\nContents\n][\nIndex\n]\n10.5.6 Canceling Implicit Rules\nYou can override a built-in implicit rule (or one you have defined\nyourself) by defining a new pattern rule with the same target and\nprerequisites, but a different recipe.  When the new rule is defined, the\nbuilt-in one is replaced.  The new rule’s position in the sequence of\nimplicit rules is determined by where you write the new rule.\nYou can cancel a built-in implicit rule by defining a pattern rule with the\nsame target and prerequisites, but no recipe.  For example, the following\nwould cancel the rule that runs the assembler:\n%.o : %.s\nNext:\nOld-Fashioned Suffix Rules\n, Previous:\nDefining and Redefining Pattern Rules\n, Up:\nUsing Implicit Rules\n[\nContents\n][\nIndex\n]\n10.6 Defining Last-Resort Default Rules\nYou can define a last-resort implicit rule by writing a terminal\nmatch-anything pattern rule with no prerequisites (see\nMatch-Anything Pattern Rules\n).  This is just like any other pattern rule; the only thing\nspecial about it is that it will match any target.  So such a rule’s\nrecipe is used for all targets and prerequisites that have no recipe\nof their own and for which no other implicit rule applies.\nFor example, when testing a makefile, you might not care if the source\nfiles contain real data, only that they exist.  Then you might do this:\n%::\ntouch $@\nto cause all the source files needed (as prerequisites) to be created\nautomatically.\nYou can instead define a recipe to be used for targets for which there\nare no rules at all, even ones which don’t specify recipes.  You do\nthis by writing a rule for the target\n.DEFAULT\n.  Such a rule’s\nrecipe is used for all prerequisites which do not appear as targets in\nany explicit rule, and for which no implicit rule applies.  Naturally,\nthere is no\n.DEFAULT\nrule unless you write one.\nIf you use\n.DEFAULT\nwith no recipe or prerequisites:\n.DEFAULT:\nthe recipe previously stored for\n.DEFAULT\nis cleared.  Then\nmake\nacts as if you had never defined\n.DEFAULT\nat all.\nIf you do not want a target to get the recipe from a match-anything\npattern rule or\n.DEFAULT\n, but you also do not want any recipe\nto be run for the target, you can give it an empty recipe\n(see\nDefining Empty Recipes\n).\nYou can use a last-resort rule to override part of another makefile.\nSee\nOverriding Part of Another Makefile\n.\nNext:\nImplicit Rule Search Algorithm\n, Previous:\nDefining Last-Resort Default Rules\n, Up:\nUsing Implicit Rules\n[\nContents\n][\nIndex\n]\n10.7 Old-Fashioned Suffix Rules\nSuffix rules\nare the old-fashioned way of defining implicit rules for\nmake\n.  Suffix rules are obsolete because pattern rules are more\ngeneral and clearer.  They are supported in GNU\nmake\nfor\ncompatibility with old makefiles.  They come in two kinds:\ndouble-suffix\nand\nsingle-suffix\n.\nA double-suffix rule is defined by a pair of suffixes: the target\nsuffix and the source suffix.  It matches any file whose name ends\nwith the target suffix.  The corresponding implicit prerequisite is\nmade by replacing the target suffix with the source suffix in the file\nname.  A two-suffix rule ‘\n.c.o\n’ (whose target and source suffixes\nare ‘\n.o\n’ and ‘\n.c\n’) is equivalent to the pattern rule\n‘\n%.o : %.c\n’.\nA single-suffix rule is defined by a single suffix, which is the source\nsuffix.  It matches any file name, and the corresponding implicit\nprerequisite name is made by appending the source suffix.  A single-suffix\nrule whose source suffix is ‘\n.c\n’ is equivalent to the pattern rule\n‘\n% : %.c\n’.\nSuffix rule definitions are recognized by comparing each rule’s target\nagainst a defined list of known suffixes.  When\nmake\nsees a rule\nwhose target is a known suffix, this rule is considered a single-suffix\nrule.  When\nmake\nsees a rule whose target is two known suffixes\nconcatenated, this rule is taken as a double-suffix rule.\nFor example, ‘\n.c\n’ and ‘\n.o\n’ are both on the default list of\nknown suffixes.  Therefore, if you define a rule whose target is\n‘\n.c.o\n’,\nmake\ntakes it to be a double-suffix rule with source\nsuffix ‘\n.c\n’ and target suffix ‘\n.o\n’.  Here is the old-fashioned\nway to define the rule for compiling a C source file:\n.c.o:\n$(CC) -c $(CFLAGS) $(CPPFLAGS) -o $@ $<\nSuffix rules cannot have any prerequisites of their own.  If they have any,\nthey are treated as normal files with funny names, not as suffix rules.\nThus, the rule:\n.c.o: foo.h\n$(CC) -c $(CFLAGS) $(CPPFLAGS) -o $@ $<\ntells how to make the file\n.c.o\nfrom the prerequisite file\nfoo.h\n, and is not at all like the pattern rule:\n%.o: %.c foo.h\n$(CC) -c $(CFLAGS) $(CPPFLAGS) -o $@ $<\nwhich tells how to make ‘\n.o\n’ files from ‘\n.c\n’ files, and makes all\n‘\n.o\n’ files using this pattern rule also depend on\nfoo.h\n.\nSuffix rules with no recipe are also meaningless.  They do not remove\nprevious rules as do pattern rules with no recipe (see\nCanceling Implicit Rules\n).  They simply enter the suffix or\npair of suffixes concatenated as a target in the data base.\nThe known suffixes are simply the names of the prerequisites of the special\ntarget\n.SUFFIXES\n.  You can add your own suffixes by writing a rule\nfor\n.SUFFIXES\nthat adds more prerequisites, as in:\n.SUFFIXES: .hack .win\nwhich adds ‘\n.hack\n’ and ‘\n.win\n’ to the end of the list of suffixes.\nIf you wish to eliminate the default known suffixes instead of just adding\nto them, write a rule for\n.SUFFIXES\nwith no prerequisites.  By\nspecial dispensation, this eliminates all existing prerequisites of\n.SUFFIXES\n.  You can then write another rule to add the suffixes you\nwant.  For example,\n.SUFFIXES:            #\nDelete the default suffixes\n.SUFFIXES: .c .o .h   #\nDefine our suffix list\nThe ‘\n-r\n’ or ‘\n--no-builtin-rules\n’ flag causes the default\nlist of suffixes to be empty.\nThe variable\nSUFFIXES\nis defined to the default list of suffixes\nbefore\nmake\nreads any makefiles.  You can change the list of suffixes\nwith a rule for the special target\n.SUFFIXES\n, but that does not alter\nthis variable.\nPrevious:\nOld-Fashioned Suffix Rules\n, Up:\nUsing Implicit Rules\n[\nContents\n][\nIndex\n]\n10.8 Implicit Rule Search Algorithm\nHere is the procedure\nmake\nuses for searching for an implicit rule\nfor a target\nt\n.  This procedure is followed for each double-colon\nrule with no recipe, for each target of ordinary rules none of which have\na recipe, and for each prerequisite that is not the target of any rule.  It\nis also followed recursively for prerequisites that come from implicit\nrules, in the search for a chain of rules.\nSuffix rules are not mentioned in this algorithm because suffix rules are\nconverted to equivalent pattern rules once the makefiles have been read in.\nFor an archive member target of the form\n‘\narchive\n(\nmember\n)\n’, the following algorithm is run\ntwice, first using the entire target name\nt\n, and second using\n‘\n(\nmember\n)\n’ as the target\nt\nif the first run found no\nrule.\nSplit\nt\ninto a directory part, called\nd\n, and the rest,\ncalled\nn\n.  For example, if\nt\nis ‘\nsrc/foo.o\n’, then\nd\nis ‘\nsrc/\n’ and\nn\nis ‘\nfoo.o\n’.\nMake a list of all the pattern rules one of whose targets matches\nt\nor\nn\n.  If the target pattern contains a slash, it is\nmatched against\nt\n; otherwise, against\nn\n.\nIf any rule in that list is\nnot\na match-anything rule, or if\nt\nis a prerequisite of an implicit rule, then remove all\nnon-terminal match-anything rules from the list.\nRemove from the list all rules with no recipe.\nFor each pattern rule in the list:\nFind the stem\ns\n, which is the nonempty part of\nt\nor\nn\nmatched by the ‘\n%\n’ in the target pattern.\nCompute the prerequisite names by substituting\ns\nfor ‘\n%\n’; if\nthe target pattern does not contain a slash, append\nd\nto\nthe front of each prerequisite name.\nTest whether all the prerequisites exist or ought to exist.  (If a\nfile name is mentioned in the makefile as a target or as an explicit\nprerequisite of target T, then we say it ought to exist.)\nIf all prerequisites exist or ought to exist, or there are no prerequisites,\nthen this rule applies.\nIf no pattern rule has been found so far, try harder.\nFor each pattern rule in the list:\nIf the rule is terminal, ignore it and go on to the next rule.\nCompute the prerequisite names as before.\nTest whether all the prerequisites exist or ought to exist.\nFor each prerequisite that does not exist, follow this algorithm\nrecursively to see if the prerequisite can be made by an implicit\nrule.\nIf all prerequisites exist, ought to exist, or can be\nmade by implicit rules, then this rule applies.\nIf no pattern rule has been found then try step 5 and step 6 again with a\nmodified definition of “ought to exist”: if a filename is mentioned as a\ntarget or as an explicit prerequisite of\nany\ntarget, then it ought to\nexist.  This check is only present for backward-compatibility with older\nversions of GNU Make: we don’t recommend relying on it.\nIf no implicit rule applies, the rule for\n.DEFAULT\n, if any,\napplies.  In that case, give\nt\nthe same recipe that\n.DEFAULT\nhas.  Otherwise, there is no recipe for\nt\n.\nOnce a rule that applies has been found, for each target pattern of\nthe rule other than the one that matched\nt\nor\nn\n, the\n‘\n%\n’ in the pattern is replaced with\ns\nand the resultant\nfile name is stored until the recipe to remake the target file\nt\nis executed.  After the recipe is executed, each of these stored file\nnames are entered into the data base and marked as having been updated\nand having the same update status as the file\nt\n.\nWhen the recipe of a pattern rule is executed for\nt\n, the\nautomatic variables are set corresponding to the target and\nprerequisites.  See\nAutomatic Variables\n.\nNext:\nExtending GNU\nmake\n, Previous:\nUsing Implicit Rules\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\n11 Using\nmake\nto Update Archive Files\nArchive files\nare files containing named sub-files called\nmembers\n; they are maintained with the program\nar\nand their\nmain use is as subroutine libraries for linking.\nArchive Members as Targets\nImplicit Rule for Archive Member Targets\nDangers When Using Archives\nSuffix Rules for Archive Files\nNext:\nImplicit Rule for Archive Member Targets\n, Previous:\nUsing\nmake\nto Update Archive Files\n, Up:\nUsing\nmake\nto Update Archive Files\n[\nContents\n][\nIndex\n]\n11.1 Archive Members as Targets\nAn individual member of an archive file can be used as a target or\nprerequisite in\nmake\n.  You specify the member named\nmember\nin\narchive file\narchive\nas follows:\narchive\n(\nmember\n)\nThis construct is available only in targets and prerequisites, not in\nrecipes!  Most programs that you might use in recipes do not support\nthis syntax and cannot act directly on archive members.  Only\nar\nand other programs specifically designed to operate on\narchives can do so.  Therefore, valid recipes to update an archive\nmember target probably must use\nar\n.  For example, this rule\nsays to create a member\nhack.o\nin archive\nfoolib\nby\ncopying the file\nhack.o\n:\nfoolib(hack.o) : hack.o\nar cr foolib hack.o\nIn fact, nearly all archive member targets are updated in just this way\nand there is an implicit rule to do it for you.\nPlease note:\nThe\n‘\nc\n’ flag to\nar\nis required if the archive file does not\nalready exist.\nTo specify several members in the same archive, you can write all the\nmember names together between the parentheses.  For example:\nfoolib(hack.o kludge.o)\nis equivalent to:\nfoolib(hack.o) foolib(kludge.o)\nYou can also use shell-style wildcards in an archive member reference.\nSee\nUsing Wildcard Characters in File Names\n.  For\nexample, ‘\nfoolib(*.o)\n’\nexpands to all existing members of the\nfoolib\narchive whose names end in ‘\n.o\n’; perhaps\n‘\nfoolib(hack.o)\nfoolib(kludge.o)\n’.\nNext:\nDangers When Using Archives\n, Previous:\nArchive Members as Targets\n, Up:\nUsing\nmake\nto Update Archive Files\n[\nContents\n][\nIndex\n]\n11.2 Implicit Rule for Archive Member Targets\nRecall that a target that looks like\na\n(\nm\n)\nstands for the\nmember named\nm\nin the archive file\na\n.\nWhen\nmake\nlooks for an implicit rule for such a target, as a special\nfeature it considers implicit rules that match\n(\nm\n)\n, as well as\nthose that match the actual target\na\n(\nm\n)\n.\nThis causes one special rule whose target is\n(%)\nto match.  This\nrule updates the target\na\n(\nm\n)\nby copying the file\nm\ninto the archive.  For example, it will update the archive member target\nfoo.a(bar.o)\nby copying the\nfile\nbar.o\ninto the\narchive\nfoo.a\nas a\nmember\nnamed\nbar.o\n.\nWhen this rule is chained with others, the result is very powerful.\nThus, ‘\nmake \"foo.a(bar.o)\"\n’ (the quotes are needed to protect the\n‘\n(\n’ and ‘\n)\n’ from being interpreted specially by the shell) in\nthe presence of a file\nbar.c\nis enough to cause the following\nrecipe to be run, even without a makefile:\ncc -c bar.c -o bar.o\nar r foo.a bar.o\nrm -f bar.o\nHere\nmake\nhas envisioned the file\nbar.o\nas an intermediate\nfile.  See\nChains of Implicit Rules\n.\nImplicit rules such as this one are written using the automatic variable\n‘\n$%\n’.  See\nAutomatic Variables\n.\nAn archive member name in an archive cannot contain a directory name, but\nit may be useful in a makefile to pretend that it does.  If you write an\narchive member target\nfoo.a(dir/file.o)\n,\nmake\nwill perform\nautomatic updating with this recipe:\nar r foo.a dir/file.o\nwhich has the effect of copying the file\ndir/file.o\ninto a member\nnamed\nfile.o\n.  In connection with such usage, the automatic variables\n%D\nand\n%F\nmay be useful.\nUpdating Archive Symbol Directories\nPrevious:\nImplicit Rule for Archive Member Targets\n, Up:\nImplicit Rule for Archive Member Targets\n[\nContents\n][\nIndex\n]\n11.2.1 Updating Archive Symbol Directories\nAn archive file that is used as a library usually contains a special member\nnamed\n__.SYMDEF\nthat contains a directory of the external symbol\nnames defined by all the other members.  After you update any other\nmembers, you need to update\n__.SYMDEF\nso that it will summarize the\nother members properly.  This is done by running the\nranlib\nprogram:\nranlib\narchivefile\nNormally you would put this command in the rule for the archive file,\nand make all the members of the archive file prerequisites of that rule.\nFor example,\nlibfoo.a: libfoo.a(x.o y.o …)\nranlib libfoo.a\nThe effect of this is to update archive members\nx.o\n,\ny.o\n,\netc., and then update the symbol directory member\n__.SYMDEF\nby\nrunning\nranlib\n.  The rules for updating the members are not shown\nhere; most likely you can omit them and use the implicit rule which copies\nfiles into the archive, as described in the preceding section.\nThis is not necessary when using the GNU\nar\nprogram, which\nupdates the\n__.SYMDEF\nmember automatically.\nNext:\nSuffix Rules for Archive Files\n, Previous:\nImplicit Rule for Archive Member Targets\n, Up:\nUsing\nmake\nto Update Archive Files\n[\nContents\n][\nIndex\n]\n11.3 Dangers When Using Archives\nThe built-in rules for updating archives are incompatible with parallel\nbuilds.  These rules (required by the POSIX standard) add each object file\ninto the archive as it’s compiled.  When parallel builds are enabled this\nallows multiple\nar\ncommands to be updating the same archive\nsimultaneously, which is not supported.\nIf you want to use parallel builds with archives you can override the default\nrules by adding these lines to your makefile:\n(%) : % ;\n%.a : ; $(AR) $(ARFLAGS) $@ $?\nThe first line changes the rule that updates an individual object in the\narchive to do nothing, and the second line changes the default rule for\nbuilding an archive to update all the outdated objects (\n$?\n) in one\ncommand.\nOf course you will still need to declare the prerequisites of your library\nusing the archive syntax:\nlibfoo.a: libfoo.a(x.o y.o …)\nIf you prefer to write an explicit rule you can use:\nlibfoo.a: libfoo.a(x.o y.o …)\n$(AR) $(ARFLAGS) $@ $?\nPrevious:\nDangers When Using Archives\n, Up:\nUsing\nmake\nto Update Archive Files\n[\nContents\n][\nIndex\n]\n11.4 Suffix Rules for Archive Files\nYou can write a special kind of suffix rule for dealing with archive\nfiles.  See\nOld-Fashioned Suffix Rules\n, for a full explanation of suffix rules.\nArchive suffix rules are obsolete in GNU\nmake\n, because pattern\nrules for archives are a more general mechanism (see\nImplicit Rule for Archive Member Targets\n).  But they are retained for compatibility with other\nmake\ns.\nTo write a suffix rule for archives, you simply write a suffix rule\nusing the target suffix ‘\n.a\n’ (the usual suffix for archive files).\nFor example, here is the old-fashioned suffix rule to update a library\narchive from C source files:\n.c.a:\n$(CC) $(CFLAGS) $(CPPFLAGS) -c $< -o $*.o\n$(AR) r $@ $*.o\n$(RM) $*.o\nThis works just as if you had written the pattern rule:\n(%.o): %.c\n$(CC) $(CFLAGS) $(CPPFLAGS) -c $< -o $*.o\n$(AR) r $@ $*.o\n$(RM) $*.o\nIn fact, this is just what\nmake\ndoes when it sees a suffix rule\nwith ‘\n.a\n’ as the target suffix.  Any double-suffix rule\n‘\n.\nx\n.a\n’\nis converted to a pattern rule with the target\npattern ‘\n(%.o)\n’ and a prerequisite pattern of ‘\n%.\nx\n’.\nSince you might want to use ‘\n.a\n’ as the suffix for some other kind\nof file,\nmake\nalso converts archive suffix rules to pattern rules\nin the normal way (see\nOld-Fashioned Suffix Rules\n).  Thus a double-suffix rule\n‘\n.\nx\n.a\n’\nproduces two pattern rules: ‘\n(%.o):\n%.\nx\n’ and ‘\n%.a\n: %.\nx\n’.\nNext:\nIntegrating GNU\nmake\n, Previous:\nUsing\nmake\nto Update Archive Files\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\n12 Extending GNU\nmake\nGNU\nmake\nprovides many advanced capabilities, including many\nuseful functions.  However, it does not contain a complete programming\nlanguage and so it has limitations.  Sometimes these limitations can be\novercome through use of the\nshell\nfunction to invoke a separate\nprogram, although this can be inefficient.\nIn cases where the built-in capabilities of GNU\nmake\nare\ninsufficient to your requirements there are two options for extending\nmake\n.  On systems where it’s provided, you can utilize GNU\nGuile as an embedded scripting language (see\nGNU\nGuile Integration\n).  On systems which support dynamically loadable\nobjects, you can write your own extension in any language (which can\nbe compiled into such an object) and load it to provide extended\ncapabilities (see\nThe\nload\nDirective\n).\nGNU Guile Integration\nLoading Dynamic Objects\nNext:\nLoading Dynamic Objects\n, Previous:\nExtending GNU\nmake\n, Up:\nExtending GNU\nmake\n[\nContents\n][\nIndex\n]\n12.1 GNU Guile Integration\nGNU\nmake\nmay be built with support for GNU Guile as an embedded\nextension language.  Guile implements the Scheme language.  A review\nof GNU Guile and the Scheme language and its features is beyond the\nscope of this manual: see the documentation for GNU Guile and Scheme.\nYou can determine if\nmake\ncontains support for Guile by\nexamining the\n.FEATURES\nvariable; it will contain the word\nguile\nif Guile support is available.\nThe Guile integration provides one new\nmake\nfunction:\nguile\n.\nThe\nguile\nfunction takes one argument which is first expanded\nby\nmake\nin the normal fashion, then passed to the GNU Guile\nevaluator.  The result of the evaluator is converted into a string and\nused as the expansion of the\nguile\nfunction in the makefile.\nIn addition, GNU\nmake\nexposes Guile procedures for use in Guile\nscripts.\nConversion of Guile Types\nInterfaces from Guile to\nmake\nExample Using Guile in\nmake\nNext:\nInterfaces from Guile to\nmake\n, Previous:\nGNU Guile Integration\n, Up:\nGNU Guile Integration\n[\nContents\n][\nIndex\n]\n12.1.1 Conversion of Guile Types\nThere is only one “data type” in\nmake\n: a string.  GNU Guile,\non the other hand, provides a rich variety of different data types.\nAn important aspect of the interface between\nmake\nand GNU Guile\nis the conversion of Guile data types into\nmake\nstrings.\nThis conversion is relevant in two places: when a makefile invokes the\nguile\nfunction to evaluate a Guile expression, the result of\nthat evaluation must be converted into a make string so it can be\nfurther evaluated by\nmake\n.  And secondly, when a Guile script\ninvokes one of the procedures exported by\nmake\nthe argument\nprovided to the procedure must be converted into a string.\nThe conversion of Guile types into\nmake\nstrings is as below:\n#f\nFalse is converted into the empty string: in\nmake\nconditionals\nthe empty string is considered false.\n#t\nTrue is converted to the string ‘\n#t\n’: in\nmake\nconditionals\nany non-empty string is considered true.\nsymbol\nnumber\nA symbol or number is converted into the string representation of that\nsymbol or number.\ncharacter\nA printable character is converted to the same character.\nstring\nA string containing only printable characters is converted to the same\nstring.\nlist\nA list is converted recursively according to the above rules.  This\nimplies that any structured list will be flattened (that is, a result\nof ‘\n'(a b (c d) e)\n’ will be converted to the\nmake\nstring\n‘\na b c d e\n’).\nother\nAny other Guile type results in an error.  In future versions of\nmake\n, other Guile types may be converted.\nThe translation of ‘\n#f\n’ (to the empty string) and ‘\n#t\n’ (to\nthe non-empty string ‘\n#t\n’) is designed to allow you to use Guile\nboolean results directly as\nmake\nboolean conditions.  For\nexample:\n$(if $(guile (access? \"myfile\" R_OK)),$(info myfile exists))\nAs a consequence of these conversion rules you must consider the\nresult of your Guile script, as that result will be converted into a\nstring and parsed by\nmake\n.  If there is no natural result for\nthe script (that is, the script exists solely for its side-effects),\nyou should add ‘\n#f\n’ as the final expression in order to avoid\nsyntax errors in your makefile.\nNext:\nExample Using Guile in\nmake\n, Previous:\nConversion of Guile Types\n, Up:\nGNU Guile Integration\n[\nContents\n][\nIndex\n]\n12.1.2 Interfaces from Guile to\nmake\nIn addition to the\nguile\nfunction available in makefiles,\nmake\nexposes some procedures for use in your Guile scripts.  At\nstartup\nmake\ncreates a new Guile module,\ngnu make\n, and\nexports these procedures as public interfaces from that module:\ngmk-expand\n¶\nThis procedure takes a single argument which is converted into a\nstring.  The string is expanded by\nmake\nusing normal\nmake\nexpansion rules.  The result of the expansion is converted\ninto a Guile string and provided as the result of the procedure.\ngmk-eval\n¶\nThis procedure takes a single argument which is converted into a\nstring.  The string is evaluated by\nmake\nas if it were a\nmakefile.  This is the same capability available via the\neval\nfunction (see\nThe\neval\nFunction\n).  The result of the\ngmk-eval\nprocedure is always the empty string.\nNote that\ngmk-eval\nis not quite the same as using\ngmk-expand\nwith the\neval\nfunction: in the latter case\nthe evaluated string will be expanded\ntwice\n; first by\ngmk-expand\n, then again by the\neval\nfunction.\nPrevious:\nInterfaces from Guile to\nmake\n, Up:\nGNU Guile Integration\n[\nContents\n][\nIndex\n]\n12.1.3 Example Using Guile in\nmake\nHere is a very simple example using GNU Guile to manage writing to a\nfile.  These Guile procedures simply open a file, allow writing to the\nfile (one string per line), and close the file.  Note that because we\ncannot store complex values such as Guile ports in\nmake\nvariables, we’ll keep the port as a global variable in the Guile\ninterpreter.\nYou can create Guile functions easily using\ndefine\n/\nendef\nto create a Guile script, then use the\nguile\nfunction to\ninternalize it:\ndefine GUILEIO\n;; A simple Guile IO library for GNU Make\n(define MKPORT #f)\n(define (mkopen name mode)\n(set! MKPORT (open-file name mode))\n#f)\n(define (mkwrite s)\n(display s MKPORT)\n(newline MKPORT)\n#f)\n(define (mkclose)\n(close-port MKPORT)\n#f)\n#f\nendef\n# Internalize the Guile IO functions\n$(guile $(GUILEIO))\nIf you have a significant amount of Guile support code, you might\nconsider keeping it in a different file (e.g.,\nguileio.scm\n) and\nthen loading it in your makefile using the\nguile\nfunction:\n$(guile (load \"guileio.scm\"))\nAn advantage to this method is that when editing\nguileio.scm\n,\nyour editor will understand that this file contains Scheme syntax\nrather than makefile syntax.\nNow you can use these Guile functions to create files.  Suppose you\nneed to operate on a very large list, which cannot fit on the command\nline, but the utility you’re using accepts the list as input as well:\nprog: $(PREREQS)\n@$(guile (mkopen \"tmp.out\" \"w\")) \\\n$(foreach X,$^,$(guile (mkwrite \"$(X)\"))) \\\n$(guile (mkclose))\n$(LINK) < tmp.out\nA more comprehensive suite of file manipulation procedures is possible\nof course.  You could, for example, maintain multiple output files at\nthe same time by choosing a symbol for each one and using it as the\nkey to a hash table, where the value is a port, then returning the\nsymbol to be stored in a\nmake\nvariable.\nPrevious:\nGNU Guile Integration\n, Up:\nExtending GNU\nmake\n[\nContents\n][\nIndex\n]\n12.2 Loading Dynamic Objects\nWarning:\nThe\nload\ndirective and extension capability is considered a\n“technology preview” in this release of GNU Make.  We encourage you\nto experiment with this feature and we appreciate any feedback on it.\nHowever we cannot guarantee to maintain backward-compatibility in the\nnext release.  Consider using GNU Guile instead for extending GNU Make\n(see\nThe\nguile\nFunction\n).\nMany operating systems provide a facility for dynamically loading\ncompiled objects.  If your system provides this facility, GNU\nmake\ncan make use of it to load dynamic objects at runtime,\nproviding new capabilities which may then be invoked by your makefile.\nThe\nload\ndirective is used to load a dynamic object.  Once the\nobject is loaded, a “setup” function will be invoked to allow the\nobject to initialize itself and register new facilities with GNU\nmake\n.  A dynamic object might include new\nmake\nfunctions,\nfor example, and the “setup” function would register them with GNU\nmake\n’s function handling system.\nThe\nload\nDirective\nHow Loaded Objects Are Remade\nLoaded Object Interface\nExample Loaded Object\nNext:\nHow Loaded Objects Are Remade\n, Previous:\nLoading Dynamic Objects\n, Up:\nLoading Dynamic Objects\n[\nContents\n][\nIndex\n]\n12.2.1 The\nload\nDirective\nObjects are loaded into GNU\nmake\nby placing the\nload\ndirective into your makefile.  The syntax of the\nload\ndirective\nis as follows:\nload\nobject-file\n…\nor:\nload\nobject-file\n(\nsymbol-name\n) …\nThe file\nobject-file\nis dynamically loaded by GNU\nmake\n.\nIf\nobject-file\ndoes not include a directory path then it is\nfirst looked for in the current directory.  If it is not found there,\nor a directory path is included, then system-specific paths will be\nsearched.  If the load fails for any reason,\nmake\nwill print a\nmessage and exit.\nIf the load succeeds\nmake\nwill invoke an initializing function.\nIf\nsymbol-name\nis provided, it will be used as the name of the\ninitializing function.\nIf no\nsymbol-name\nis provided, the initializing function name is\ncreated by taking the base file name of\nobject-file\n, up to the\nfirst character which is not a valid symbol name character\n(alphanumerics and underscores are valid symbol name characters).  To\nthis prefix will be appended the suffix\n_gmk_setup\n.\nMore than one object file may be loaded with a single\nload\ndirective, and both forms of\nload\narguments may be used in the\nsame directive.\nThe initializing function will be provided the file name and line\nnumber of the invocation of the\nload\noperation.  It should\nreturn a value of type\nint\n, which must be\n0\non failure\nand non-\n0\non success.  If the return value is\n-1\n, then\nGNU Make will\nnot\nattempt to rebuild the object file\n(see\nHow Loaded Objects Are Remade\n).\nFor example:\nload ../mk_funcs.so\nwill load the dynamic object\n../mk_funcs.so\n.  After the object\nis loaded,\nmake\nwill invoke the function (assumed to be defined\nby the shared object)\nmk_funcs_gmk_setup\n.\nOn the other hand:\nload ../mk_funcs.so(init_mk_func)\nwill load the dynamic object\n../mk_funcs.so\n.  After the object\nis loaded,\nmake\nwill invoke the function\ninit_mk_func\n.\nRegardless of how many times an object file appears in a\nload\ndirective, it will only be loaded (and its setup function will only\nbe invoked) once.\nAfter an object has been successfully loaded, its file name is\nappended to the\n.LOADED\nvariable.\nIf you would prefer that failure to load a dynamic object not be\nreported as an error, you can use the\n-load\ndirective instead\nof\nload\n.  GNU\nmake\nwill not fail and no message will be\ngenerated if an object fails to load.  The failed object is not added\nto the\n.LOADED\nvariable, which can then be consulted to\ndetermine if the load was successful.\nNext:\nLoaded Object Interface\n, Previous:\nThe\nload\nDirective\n, Up:\nLoading Dynamic Objects\n[\nContents\n][\nIndex\n]\n12.2.2 How Loaded Objects Are Remade\nLoaded objects undergo the same re-make procedure as makefiles\n(see\nHow Makefiles Are Remade\n).  If any\nloaded object is recreated, then\nmake\nwill start from scratch\nand re-read all the makefiles, and reload the object files again.  It\nis not necessary for the loaded object to do anything special to\nsupport this.\nIt’s up to the makefile author to provide the rules needed for\nrebuilding the loaded object.\nNext:\nExample Loaded Object\n, Previous:\nHow Loaded Objects Are Remade\n, Up:\nLoading Dynamic Objects\n[\nContents\n][\nIndex\n]\n12.2.3 Loaded Object Interface\nWarning:\nFor this feature to be useful your extensions will need to invoke\nvarious functions internal to GNU\nmake\n.  The programming\ninterfaces provided in this release should not be considered stable:\nfunctions may be added, removed, or change calling signatures or\nimplementations in future versions of GNU\nmake\n.\nTo be useful, loaded objects must be able to interact with GNU\nmake\n.  This interaction includes both interfaces the loaded\nobject provides to makefiles and also interfaces\nmake\nprovides\nto the loaded object to manipulate\nmake\n’s operation.\nThe interface between loaded objects and\nmake\nis defined by the\ngnumake.h\nC header file.  All loaded objects written in C\nshould include this header file.  Any loaded object not written in C\nwill need to implement the interface defined in this header file.\nTypically, a loaded object will register one or more new GNU\nmake\nfunctions using the\ngmk_add_function\nroutine from\nwithin its setup function.  The implementations of these\nmake\nfunctions may make use of the\ngmk_expand\nand\ngmk_eval\nroutines to perform their tasks, then optionally return a string as\nthe result of the function expansion.\nLoaded Object Licensing\nEvery dynamic extension should define the global symbol\nplugin_is_GPL_compatible\nto assert that it has been licensed\nunder a GPL-compatible license.  If this symbol does not exist,\nmake\nemits a fatal error and exits when it tries to load your\nextension.\nThe declared type of the symbol should be\nint\n. It does not need\nto be in any allocated section, though.  The code merely asserts that\nthe symbol exists in the global scope. Something like this is enough:\nint plugin_is_GPL_compatible;\nData Structures\ngmk_floc\nThis structure represents a filename/location pair.  It is provided\nwhen defining items, so GNU\nmake\ncan inform the user later\nwhere the definition occurred if necessary.\nRegistering Functions\nThere is currently one way for makefiles to invoke operations provided\nby the loaded object: through the\nmake\nfunction call\ninterface.  A loaded object can register one or more new functions\nwhich may then be invoked from within the makefile in the same way as\nany other function.\nUse\ngmk_add_function\nto create a new\nmake\nfunction.  Its\narguments are as follows:\nname\nThe function name.  This is what the makefile should use to invoke the\nfunction.  The name must be between 1 and 255 characters long and it\nmay only contain alphanumeric, period (‘\n.\n’), dash (‘\n-\n’), and\nunderscore (‘\n_\n’) characters.  It may not begin with a period.\nfunc_ptr\nA pointer to a function that\nmake\nwill invoke when it expands\nthe function in a makefile.  This function must be defined by the\nloaded object.\nmin_args\nThe minimum number of arguments the function will accept.  Must be\nbetween 0 and 255.  GNU\nmake\nwill check this and fail before\ninvoking\nfunc_ptr\nif the function was invoked with too few\narguments.\nmax_args\nThe maximum number of arguments the function will accept.  Must be\nbetween 0 and 255.  GNU\nmake\nwill check this and fail before\ninvoking\nfunc_ptr\nif the function was invoked with too many\narguments.  If the value is 0, then any number of arguments is\naccepted.  If the value is greater than 0, then it must be greater\nthan or equal to\nmin_args\n.\nflags\nFlags that specify how this function will operate; the desired flags\nshould be OR’d together.  If the\nGMK_FUNC_NOEXPAND\nflag is\ngiven then the function arguments will not be expanded before the\nfunction is called; otherwise they will be expanded first.\nRegistered Function Interface\nA function registered with\nmake\nmust match the\ngmk_func_ptr\ntype.  It will be invoked with three parameters:\nname\n(the name of the function),\nargc\n(the number of\narguments to the function), and\nargv\n(an array of pointers to\narguments to the function).  The last pointer (that is,\nargv[argc]\n) will be null (\n0\n).\nThe return value of the function is the result of expanding the\nfunction.  If the function expands to nothing the return value may be\nnull.  Otherwise, it must be a pointer to a string created with\ngmk_alloc\n.  Once the function returns,\nmake\nowns this\nstring and will free it when appropriate; it cannot be accessed by the\nloaded object.\nGNU\nmake\nFacilities\nThere are some facilities exported by GNU\nmake\nfor use by\nloaded objects.  Typically these would be run from within the\nsetup function and/or the functions registered via\ngmk_add_function\n, to retrieve or modify the data\nmake\nworks with.\ngmk_expand\n¶\nThis function takes a string and expands it using\nmake\nexpansion rules.  The result of the expansion is returned in a\nnil-terminated string buffer.  The caller is responsible for calling\ngmk_free\nwith a pointer to the returned buffer when done.\ngmk_eval\n¶\nThis function takes a buffer and evaluates it as a segment of makefile\nsyntax.  This function can be used to define new variables, new rules,\netc.  It is equivalent to using the\neval\nmake\nfunction.\nNote that there is a difference between\ngmk_eval\nand calling\ngmk_expand\nwith a string using the\neval\nfunction: in\nthe latter case the string will be expanded\ntwice\n; once by\ngmk_expand\nand then again by the\neval\nfunction.  Using\ngmk_eval\nthe buffer is only expanded once, at most (as it’s\nread by the\nmake\nparser).\nMemory Management\nSome systems allow for different memory management schemes.  Thus you\nshould never pass memory that you’ve allocated directly to any\nmake\nfunction, nor should you attempt to directly free any\nmemory returned to you by any\nmake\nfunction.  Instead, use the\ngmk_alloc\nand\ngmk_free\nfunctions.\nIn particular, the string returned to\nmake\nby a function\nregistered using\ngmk_add_function\nmust\nbe allocated\nusing\ngmk_alloc\n, and the string returned from the\nmake\ngmk_expand\nfunction\nmust\nbe freed (when no longer\nneeded) using\ngmk_free\n.\ngmk_alloc\n¶\nReturn a pointer to a newly-allocated buffer.  This function will\nalways return a valid pointer; if not enough memory is available\nmake\nwill exit.\ngmk_alloc\ndoes not initialize allocated memory.\ngmk_free\n¶\nFree a buffer returned to you by\nmake\n.  Once the\ngmk_free\nfunction returns the string will no longer be valid.\nIf NULL is passed to\ngmk_free\n, no operation is performed.\nPrevious:\nLoaded Object Interface\n, Up:\nLoading Dynamic Objects\n[\nContents\n][\nIndex\n]\n12.2.4 Example Loaded Object\nLet’s suppose we wanted to write a new GNU\nmake\nfunction that\nwould create a temporary file and return its name.  We would like our\nfunction to take a prefix as an argument.  First we can write the\nfunction in a file\nmk_temp.c\n:\n#include <stdlib.h>\n#include <stdio.h>\n#include <string.h>\n#include <unistd.h>\n#include <errno.h>\n#include <gnumake.h>\nint plugin_is_GPL_compatible;\nchar *\ngen_tmpfile(const char *nm, int argc, char **argv)\n{\nint fd;\n/* Compute the size of the filename and allocate space for it.  */\nint len = strlen (argv[0]) + 6 + 1;\nchar *buf = gmk_alloc (len);\nstrcpy (buf, argv[0]);\nstrcat (buf, \"XXXXXX\");\nfd = mkstemp(buf);\nif (fd >= 0)\n{\n/* Don't leak the file descriptor.  */\nclose (fd);\nreturn buf;\n}\n/* Failure.  */\nfprintf (stderr, \"mkstemp(%s) failed: %s\\n\", buf, strerror (errno));\ngmk_free (buf);\nreturn NULL;\n}\nint\nmk_temp_gmk_setup (const gmk_floc *floc)\n{\nprintf (\"mk_temp plugin loaded from %s:%lu\\n\", floc->filenm, floc->lineno);\n/* Register the function with make name \"mk-temp\".  */\ngmk_add_function (\"mk-temp\", gen_tmpfile, 1, 1, 1);\nreturn 1;\n}\nNext, we will write a\nMakefile\nthat can build this shared object, load\nit, and use it:\nall:\n@echo Temporary file: $(mk-temp tmpfile.)\nload mk_temp.so\nmk_temp.so: mk_temp.c\n$(CC) -shared -fPIC -o $@ $<\nOn MS-Windows, due to peculiarities of how shared objects are\nproduced, the compiler needs to scan the\nimport library\nproduced\nwhen building\nmake\n, typically called\nlibgnumake-\nversion\n.dll.a\n, where\nversion\nis the\nversion of the load object API.  So the recipe to produce a shared\nobject will look on Windows like this (assuming the API version is 1):\nmk_temp.dll: mk_temp.c\n$(CC) -shared -o $@ $< -lgnumake-1\nNow when you run\nmake\nyou’ll see something like:\n$ make\nmk_temp plugin loaded from Makefile:4\ncc -shared -fPIC -o mk_temp.so mk_temp.c\nTemporary filename: tmpfile.A7JEwd\nNext:\nFeatures of GNU\nmake\n, Previous:\nExtending GNU\nmake\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\n13 Integrating GNU\nmake\nGNU\nmake\nis often one component in a larger system of tools,\nincluding integrated development environments, compiler toolchains,\nand others.  The role of\nmake\nis to start commands and\ndetermine whether they succeeded or not: no special integration is\nneeded to accomplish that.  However, sometimes it is convenient to\nbind\nmake\nmore tightly with other parts of the system, both\nhigher-level (tools that invoke\nmake\n) and lower-level (tools\nthat\nmake\ninvokes).\nSharing Job Slots with GNU\nmake\nSynchronized Terminal Output\nNext:\nSynchronized Terminal Output\n, Previous:\nIntegrating GNU\nmake\n, Up:\nIntegrating GNU\nmake\n[\nContents\n][\nIndex\n]\n13.1 Sharing Job Slots with GNU\nmake\nGNU\nmake\nhas the ability to run multiple recipes in parallel\n(see\nParallel Execution\n) and to cap the total number of\nparallel jobs even across recursive invocations of\nmake\n(see\nCommunicating Options to a\nSub-\nmake\n).  Tools that\nmake\ninvokes which are also able\nto run multiple operations in parallel, either using multiple threads\nor multiple processes, can be enhanced to participate in GNU\nmake\n’s job management facility to ensure that the total number\nof active threads/processes running on the system does not exceed the\nmaximum number of slots provided to GNU\nmake\n.\nGNU\nmake\nuses a method called the “jobserver” to control the\nnumber of active jobs across recursive invocations.  The actual\nimplementation of the jobserver varies across different operating\nsystems, but some fundamental aspects are always true.\nFirst,\nmake\nwill provide information necessary for accessing the\njobserver through the environment to its children, in the\nMAKEFLAGS\nenvironment variable.  Tools which want to participate in the jobserver\nprotocol will need to parse this environment variable and find the word\nstarting with\n--jobserver-auth=\n.  The value of this option will\ndescribe how to communicate with the jobserver.  The interpretation of this\nvalue is described in the sections below.\nBe aware that the\nMAKEFLAGS\nvariable may contain multiple instances of\nthe\n--jobserver-auth=\noption.  Only the\nlast\ninstance is\nrelevant.\nSecond, every command\nmake\nstarts has one implicit job slot\nreserved for it before it starts.  Any tool which wants to participate\nin the jobserver protocol should assume it can always run one job\nwithout having to contact the jobserver at all.\nFinally, it’s critical that tools that participate in the jobserver\nprotocol return the exact number of slots they obtained from the\njobserver back to the jobserver before they exit, even under error\nconditions.  Remember that the implicit job slot should\nnot\nbe returned to the jobserver!  Returning too few slots means that\nthose slots will be lost for the rest of the build process; returning\ntoo many slots means that extra slots will be available.  The\ntop-level\nmake\ncommand will print an error message at the end\nof the build if it detects an incorrect number of slots available in\nthe jobserver.\nAs an example, suppose you are implementing a linker which provides\nfor multithreaded operation.  You would like to enhance the linker so\nthat if it is invoked by GNU\nmake\nit can participate in the\njobserver protocol to control how many threads are used during link.\nFirst you will need to modify the linker to determine if the\nMAKEFLAGS\nenvironment variable is set.  Next you will need to\nparse the value of that variable to determine if the jobserver is\navailable, and how to access it.  If it is available then you can\naccess it to obtain job slots controlling how much parallelism your\ntool can use.  Once done your tool must return those job slots back to\nthe jobserver.\nPOSIX Jobserver Interaction\nWindows Jobserver Interaction\nNext:\nWindows Jobserver Interaction\n, Previous:\nSharing Job Slots with GNU\nmake\n, Up:\nSharing Job Slots with GNU\nmake\n[\nContents\n][\nIndex\n]\n13.1.1 POSIX Jobserver Interaction\nOn POSIX systems the jobserver is implemented in one of two ways: on systems\nthat support it, GNU\nmake\nwill create a named pipe and use that for the\njobserver.  In this case the auth option will have the form\n--jobserver-auth=fifo:PATH\nwhere ‘\nPATH\n’ is the pathname of the\nnamed pipe.  To access the jobserver you should open the named pipe path and\nread/write to it as described below.\nIf the system doesn’t support named pipes, or if the user provided the\n--jobserver-style\noption and specified ‘\npipe\n’, then the jobserver\nwill be implemented as a simple UNIX pipe.  In this case the auth option will\nhave the form\n--jobserver-auth=R,W\nwhere ‘\nR\n’ and ‘\nW\n’ are\nnon-negative integers representing file descriptors: ‘\nR\n’ is the read file\ndescriptor and ‘\nW\n’ is the write file descriptor.  If either or both of\nthese file descriptors are negative, it means the jobserver is disabled for\nthis process.\nWhen using a simple pipe, only command lines that\nmake\nunderstands to\nbe recursive invocations of\nmake\n(see\nHow the\nMAKE\nVariable Works\n) will have access to the jobserver.  When writing\nmakefiles you must be sure to mark the command as recursive (most commonly by\nprefixing the command line with the\n+\nindicator (see\nRecursive Use of\nmake\n).  Note that the read side of the jobserver\npipe is set to “blocking” mode.  This should not be changed.\nIn both implementations of the jobserver, the pipe will be pre-loaded with one\nsingle-character token for each available job.  To obtain an extra slot you\nmust read a single character from the jobserver; to release a slot you must\nwrite a single character back into the jobserver.\nIt’s important that when you release the job slot, you write back the same\ncharacter you read.  Don’t assume that all tokens are the same character;\ndifferent characters may have different meanings to GNU\nmake\n.  The\norder is not important, since\nmake\nhas no idea in what order jobs will\ncomplete anyway.\nThere are various error conditions you must consider to ensure your\nimplementation is robust:\nIf you have a command-line argument controlling the parallel operation of your\ntool, consider whether your tool should detect situations where both the\njobserver and the command-line argument are specified, and how it should\nreact.\nIf your tool does not recognize the format of the\n--jobserver-auth\nstring, it should assume the jobserver is using a different style and it\ncannot connect.\nIf your tool determines that the\n--jobserver-auth\noption references a\nsimple pipe but that the file descriptors specified are closed, this means\nthat the calling\nmake\nprocess did not think that your tool was a\nrecursive\nmake\ninvocation (e.g., the command line was not prefixed with\na\n+\ncharacter).  You should notify your users of this situation.\nYour tool should be sure to write back the tokens it read, even under error\nconditions.  This includes not only errors in your tool but also outside\ninfluences such as interrupts (\nSIGINT\n), etc.  You may want to install\nsignal handlers to manage this write-back.\nYour tool may also examine the first word of the\nMAKEFLAGS\nvariable and\nlook for the character\nn\n.  If this character is present then\nmake\nwas invoked with the ‘\n-n\n’ option and your tool may want to\nstop without performing any operations.\nPrevious:\nPOSIX Jobserver Interaction\n, Up:\nSharing Job Slots with GNU\nmake\n[\nContents\n][\nIndex\n]\n13.1.2 Windows Jobserver Interaction\nOn Windows systems the jobserver is implemented as a named semaphore.\nThe semaphore will be set with an initial count equal to the number of\navailable slots; to obtain a slot you must wait on the semaphore (with\nor without a timeout).  To release a slot, release the semaphore.\nTo access the semaphore you must parse the\nMAKEFLAGS\nvariable and\nlook for the argument string\n--jobserver-auth=NAME\nwhere\n‘\nNAME\n’ is the name of the named semaphore.  Use this name with\nOpenSemaphore\nto create a handle to the semaphore.\nThe only valid style for\n--jobserver-style\nis ‘\nsem\n’.\nThere are various error conditions you must consider to ensure your\nimplementation is robust:\nUsually you will have a command-line argument controlling the parallel\noperation of your tool.  Consider whether your tool should detect\nsituations where both the jobserver and the command-line argument are\nspecified, and how it should react.\nYour tool should be sure to release the semaphore for the tokens it\nread, even under error conditions.  This includes not only errors in\nyour tool but also outside influences such as interrupts\n(\nSIGINT\n), etc.  You may want to install signal handlers to\nmanage this write-back.\nPrevious:\nSharing Job Slots with GNU\nmake\n, Up:\nIntegrating GNU\nmake\n[\nContents\n][\nIndex\n]\n13.2 Synchronized Terminal Output\nNormally GNU\nmake\nwill invoke all commands with access to the\nsame standard and error outputs that\nmake\nitself was started\nwith.  A number of tools will detect whether the output is a terminal\nor not-a-terminal, and use this information to change the output\nstyle.  For example if the output goes to a terminal the tool may add\ncontrol characters that set color, or even change the location of the\ncursor.  If the output is not going to a terminal then these special\ncontrol characters are not emitted so that they don’t corrupt log\nfiles, etc.\nThe\n--output-sync\n(see\nOutput During\nParallel Execution\n) option will defeat the terminal detection.  When\noutput synchronization is enabled GNU\nmake\narranges for all\ncommand output to be written to a file, so that its output can be\nwritten as a block without interference from other commands.  This\nmeans that all tools invoked by\nmake\nwill believe that their\noutput is not going to be displayed on a terminal, even when it will\nbe (because\nmake\nwill display it there after the command is\ncompleted).\nIn order to facilitate tools which would like to determine whether or\nnot their output will be displayed on a terminal, GNU\nmake\nwill\nset the\nMAKE_TERMOUT\nand\nMAKE_TERMERR\nenvironment\nvariables before invoking any commands.  Tools which would like to\ndetermine whether standard or error output (respectively) will be\ndisplayed on a terminal can check these environment variables to\ndetermine if they exist and contain a non-empty value.  If so the tool\ncan assume that the output will (eventually) be displayed on a\nterminal.  If the variables are not set or have an empty value, then\nthe tool should fall back to its normal methods of detecting whether\noutput is going to a terminal or not.\nThe content of the variables can be parsed to determine the type of\nterminal which will be used to display the output.\nSimilarly, environments which invoke\nmake\nand would like to\ncapture the output and eventually display it on a terminal (or some\ndisplay which can interpret terminal control characters) can set these\nvariables before invoking\nmake\n.  GNU\nmake\nwill not\nmodify these environment variables if they already exist when it\nstarts.\nNext:\nIncompatibilities and Missing Features\n, Previous:\nIntegrating GNU\nmake\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\n14 Features of GNU\nmake\nHere is a summary of the features of GNU\nmake\n, for comparison\nwith and credit to other versions of\nmake\n.  We consider the\nfeatures of\nmake\nin 4.2 BSD systems as a baseline.  If you are\nconcerned with writing portable makefiles, you should not use the\nfeatures of\nmake\nlisted here, nor the ones in\nIncompatibilities and Missing Features\n.\nMany features come from the version of\nmake\nin System V.\nThe\nVPATH\nvariable and its special meaning.\nSee\nSearching Directories for Prerequisites\n.\nThis feature exists in System V\nmake\n, but is undocumented.\nIt is documented in 4.3 BSD\nmake\n(which says it mimics System V’s\nVPATH\nfeature).\nIncluded makefiles.  See\nIncluding Other Makefiles\n.\nAllowing multiple files to be included with a single directive is a GNU\nextension.\nVariables are read from and communicated via the environment.\nSee\nVariables from the Environment\n.\nOptions passed through the variable\nMAKEFLAGS\nto recursive\ninvocations of\nmake\n.\nSee\nCommunicating Options to a Sub-\nmake\n.\nThe automatic variable\n$%\nis set to the member name\nin an archive reference.  See\nAutomatic Variables\n.\nThe automatic variables\n$@\n,\n$*\n,\n$<\n,\n$%\n,\nand\n$?\nhave corresponding forms like\n$(@F)\nand\n$(@D)\n.  We have generalized this to\n$^\nas an obvious\nextension.  See\nAutomatic Variables\n.\nSubstitution variable references.\nSee\nBasics of Variable References\n.\nThe command line options ‘\n-b\n’ and ‘\n-m\n’, accepted and\nignored.  In System V\nmake\n, these options actually do something.\nExecution of recursive commands to run\nmake\nvia the variable\nMAKE\neven if ‘\n-n\n’, ‘\n-q\n’ or ‘\n-t\n’ is specified.\nSee\nRecursive Use of\nmake\n.\nSupport for suffix ‘\n.a\n’ in suffix rules.  See\nSuffix Rules for Archive Files\n.  This feature is obsolete in GNU\nmake\n, because the\ngeneral feature of rule chaining (see\nChains of\nImplicit Rules\n) allows one pattern rule for installing members in an\narchive (see\nImplicit Rule for Archive Member Targets\n) to be sufficient.\nThe arrangement of lines and backslash/newline combinations in\nrecipes is retained when the recipes are printed, so they appear as\nthey do in the makefile, except for the stripping of initial\nwhitespace.\nThe following features were inspired by various other versions of\nmake\n.  In some cases it is unclear exactly which versions inspired\nwhich others.\nPattern rules using ‘\n%\n’.\nThis has been implemented in several versions of\nmake\n.\nWe’re not sure who invented it first, but it’s been spread around a bit.\nSee\nDefining and Redefining Pattern Rules\n.\nRule chaining and implicit intermediate files.\nThis was implemented by Stu Feldman in his version of\nmake\nfor AT&T Eighth Edition Research Unix, and later by Andrew Hume of\nAT&T Bell Labs in his\nmk\nprogram (where he terms it\n“transitive closure”).  We do not really know if\nwe got this from either of them or thought it up ourselves at the\nsame time.  See\nChains of Implicit Rules\n.\nThe automatic variable\n$^\ncontaining a list of all prerequisites\nof the current target.  We did not invent this, but we have no idea who\ndid.  See\nAutomatic Variables\n.  The automatic variable\n$+\nis a simple extension of\n$^\n.\nThe “what if” flag (‘\n-W\n’ in GNU\nmake\n) was (as far as we know)\ninvented by Andrew Hume in\nmk\n.\nSee\nInstead of Executing Recipes\n.\nThe concept of doing several things at once (parallelism) exists in\nmany incarnations of\nmake\nand similar programs, though not in the\nSystem V or BSD implementations.  See\nRecipe Execution\n.\nA number of different build tools that support parallelism also\nsupport collecting output and displaying as a single block.\nSee\nOutput During Parallel Execution\n.\nModified variable references using pattern substitution come from\nSunOS 4.  See\nBasics of Variable References\n.\nThis functionality was provided in GNU\nmake\nby the\npatsubst\nfunction before the alternate syntax was implemented\nfor compatibility with SunOS 4.  It is not altogether clear who\ninspired whom, since GNU\nmake\nhad\npatsubst\nbefore SunOS\n4 was released.\nThe special significance of ‘\n+\n’ characters preceding recipe lines\n(see\nInstead of Executing Recipes\n) is\nmandated by\nIEEE Standard 1003.2-1992\n(POSIX.2).\nThe ‘\n+=\n’ syntax to append to the value of a variable comes from SunOS\n4\nmake\n.  See\nAppending More Text to Variables\n.\nThe syntax ‘\narchive\n(\nmem1\nmem2\n…)\n’\nto list\nmultiple members in a single archive file comes from SunOS 4\nmake\n.\nSee\nArchive Members as Targets\n.\nThe\n-include\ndirective to include makefiles with no error for a\nnonexistent file comes from SunOS 4\nmake\n.  (But note that SunOS 4\nmake\ndoes not allow multiple makefiles to be specified in one\n-include\ndirective.)  The same feature appears with the name\nsinclude\nin SGI\nmake\nand perhaps others.\nThe\n!=\nshell assignment operator exists in many BSD of\nmake\nand is purposefully implemented here to behave identically\nto those implementations.\nVarious build management tools are implemented using scripting\nlanguages such as Perl or Python and thus provide a natural embedded\nscripting language, similar to GNU\nmake\n’s integration of GNU\nGuile.\nThe remaining features are inventions new in GNU\nmake\n:\nUse the ‘\n-v\n’ or ‘\n--version\n’ option to print version and\ncopyright information.\nUse the ‘\n-h\n’ or ‘\n--help\n’ option to summarize the options to\nmake\n.\nSimply-expanded variables.  See\nThe Two Flavors of Variables\n.\nPass command line variable assignments automatically through the\nvariable\nMAKE\nto recursive\nmake\ninvocations.\nSee\nRecursive Use of\nmake\n.\nUse the ‘\n-C\n’ or ‘\n--directory\n’ command option to change\ndirectory.  See\nSummary of Options\n.\nMake verbatim variable definitions with\ndefine\n.\nSee\nDefining Multi-Line Variables\n.\nDeclare phony targets with the special target\n.PHONY\n.\nAndrew Hume of AT&T Bell Labs implemented a similar feature with a\ndifferent syntax in his\nmk\nprogram.  This seems to be a case of\nparallel discovery.  See\nPhony Targets\n.\nManipulate text by calling functions.\nSee\nFunctions for Transforming Text\n.\nUse the ‘\n-o\n’ or ‘\n--old-file\n’\noption to pretend a file’s modification-time is old.\nSee\nAvoiding Recompilation of Some Files\n.\nConditional execution.\nThis feature has been implemented numerous times in various versions\nof\nmake\n; it seems a natural extension derived from the features\nof the C preprocessor and similar macro languages and is not a\nrevolutionary concept.  See\nConditional Parts of Makefiles\n.\nSpecify a search path for included makefiles.\nSee\nIncluding Other Makefiles\n.\nSpecify extra makefiles to read with an environment variable.\nSee\nThe Variable\nMAKEFILES\n.\nStrip leading sequences of ‘\n./\n’ from file names, so that\n./\nfile\nand\nfile\nare considered to be the\nsame file.\nUse a special search method for library prerequisites written in the\nform ‘\n-l\nname\n’.\nSee\nDirectory Search for Link Libraries\n.\nAllow suffixes for suffix rules\n(see\nOld-Fashioned Suffix Rules\n) to contain any\ncharacters.  In other versions of\nmake\n, they must begin with\n‘\n.\n’ and not contain any ‘\n/\n’ characters.\nKeep track of the current level of\nmake\nrecursion using the\nvariable\nMAKELEVEL\n.  See\nRecursive Use of\nmake\n.\nProvide any goals given on the command line in the variable\nMAKECMDGOALS\n.  See\nArguments to Specify the Goals\n.\nSpecify static pattern rules.  See\nStatic Pattern Rules\n.\nProvide selective\nvpath\nsearch.\nSee\nSearching Directories for Prerequisites\n.\nProvide computed variable references.\nSee\nBasics of Variable References\n.\nUpdate makefiles.  See\nHow Makefiles Are Remade\n.\nSystem V\nmake\nhas a very, very limited form of this\nfunctionality in that it will check out SCCS files for makefiles.\nVarious new built-in implicit rules.\nSee\nCatalogue of Built-In Rules\n.\nLoad dynamic objects which can modify the behavior of\nmake\n.\nSee\nLoading Dynamic Objects\n.\nNext:\nMakefile Conventions\n, Previous:\nFeatures of GNU\nmake\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\n15 Incompatibilities and Missing Features\nThe\nmake\nprograms in various other systems support a few features\nthat are not implemented in GNU\nmake\n.  The POSIX.2 standard\n(\nIEEE Standard 1003.2-1992\n) which specifies\nmake\ndoes not\nrequire any of these features.\nA target of the form ‘\nfile\n((\nentry\n))\n’ stands for a member\nof archive file\nfile\n.  The member is chosen, not by name, but by\nbeing an object file which defines the linker symbol\nentry\n.\nThis feature was not put into GNU\nmake\nbecause of the\nnon-modularity of putting knowledge into\nmake\nof the internal\nformat of archive file symbol tables.\nSee\nUpdating Archive Symbol Directories\n.\nSuffixes (used in suffix rules) that end with the character ‘\n~\n’\nhave a special meaning to System V\nmake\n;\nthey refer to the SCCS file that corresponds\nto the file one would get without the ‘\n~\n’.  For example, the\nsuffix rule ‘\n.c~.o\n’ would make the file\nn\n.o\nfrom\nthe SCCS file\ns.\nn\n.c\n.  For complete coverage, a whole\nseries of such suffix rules is required.\nSee\nOld-Fashioned Suffix Rules\n.\nIn GNU\nmake\n, this entire series of cases is handled by two\npattern rules for extraction from SCCS, in combination with the\ngeneral feature of rule chaining.\nSee\nChains of Implicit Rules\n.\nIn System V and 4.3 BSD\nmake\n, files found by\nVPATH\nsearch (see\nSearching Directories for\nPrerequisites\n) have their names changed inside recipes.  We feel it\nis much cleaner to always use automatic variables and thus make this\nfeature unnecessary.\nIn some Unix\nmake\ns, the automatic variable\n$*\nappearing in\nthe prerequisites of a rule has the amazingly strange “feature” of\nexpanding to the full name of the\ntarget of that rule\n.  We cannot\nimagine what went on in the minds of Unix\nmake\ndevelopers to do\nthis; it is utterly inconsistent with the normal definition of\n$*\n.\nIn some Unix\nmake\ns, implicit rule search (see\nUsing Implicit Rules\n) is apparently done for\nall\ntargets, not just those without recipes.  This means you can\ndo:\nfoo.o:\ncc -c foo.c\nand Unix\nmake\nwill intuit that\nfoo.o\ndepends on\nfoo.c\n.\nWe feel that such usage is broken.  The prerequisite properties of\nmake\nare well-defined (for GNU\nmake\n, at least),\nand doing such a thing simply does not fit the model.\nGNU\nmake\ndoes not include any built-in implicit rules for\ncompiling or preprocessing EFL programs.  If we hear of anyone who is\nusing EFL, we will gladly add them.\nIt appears that in SVR4\nmake\n, a suffix rule can be specified\nwith no recipe, and it is treated as if it had an empty recipe\n(see\nUsing Empty Recipes\n).  For example:\n.c.a:\nwill override the built-in\n.c.a\nsuffix rule.\nWe feel that it is cleaner for a rule without a recipe to always simply\nadd to the prerequisite list for the target.  The above example can be\neasily rewritten to get the desired behavior in GNU\nmake\n:\n.c.a: ;\nSome versions of\nmake\ninvoke the shell with the ‘\n-e\n’ flag,\nexcept under ‘\n-k\n’ (see\nTesting the Compilation of a\nProgram\n).  The ‘\n-e\n’ flag tells the shell to exit as soon as any\nprogram it runs returns a nonzero status.  We feel it is cleaner to\nwrite each line of the recipe to stand on its own and not require this\nspecial treatment.\nNext:\nQuick Reference\n, Previous:\nIncompatibilities and Missing Features\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\n16 Makefile Conventions\nThis\ndescribes conventions for writing the Makefiles for GNU programs.\nUsing Automake will help you write a Makefile that follows these\nconventions.  For more information on portable Makefiles, see\nPOSIX\nand\nPortable Make Programming\nin\nAutoconf\n.\nGeneral Conventions for Makefiles\nUtilities in Makefiles\nVariables for Specifying Commands\nDESTDIR\n: Support for Staged Installs\nVariables for Installation Directories\nStandard Targets for Users\nInstall Command Categories\nNext:\nUtilities in Makefiles\n, Up:\nMakefile Conventions\n[\nContents\n][\nIndex\n]\n16.1 General Conventions for Makefiles\nEvery Makefile should contain this line:\nSHELL = /bin/sh\nto avoid trouble on systems where the\nSHELL\nvariable might be\ninherited from the environment.  (This is never a problem with GNU\nmake\n.)\nDifferent\nmake\nprograms have incompatible suffix lists and\nimplicit rules, and this sometimes creates confusion or misbehavior.  So\nit is a good idea to set the suffix list explicitly using only the\nsuffixes you need in the particular Makefile, like this:\n.SUFFIXES:\n.SUFFIXES: .c .o\nThe first line clears out the suffix list, the second introduces all\nsuffixes which may be subject to implicit rules in this Makefile.\nDon’t assume that\n.\nis in the path for command execution.  When\nyou need to run programs that are a part of your package during the\nmake, please make sure that it uses\n./\nif the program is built as\npart of the make or\n$(srcdir)/\nif the file is an unchanging part\nof the source code.  Without one of these prefixes, the current search\npath is used.\nThe distinction between\n./\n(the\nbuild directory\n) and\n$(srcdir)/\n(the\nsource directory\n) is important because\nusers can build in a separate directory using the ‘\n--srcdir\n’ option\nto\nconfigure\n.  A rule of the form:\nfoo.1 : foo.man sedscript\nsed -f sedscript foo.man > foo.1\nwill fail when the build directory is not the source directory, because\nfoo.man\nand\nsedscript\nare in the source directory.\nWhen using GNU\nmake\n, relying on ‘\nVPATH\n’ to find the source\nfile will work in the case where there is a single dependency file,\nsince the\nmake\nautomatic variable ‘\n$<\n’ will represent the\nsource file wherever it is.  (Many versions of\nmake\nset ‘\n$<\n’\nonly in implicit rules.)  A Makefile target like\nfoo.o : bar.c\n$(CC) -I. -I$(srcdir) $(CFLAGS) -c bar.c -o foo.o\nshould instead be written as\nfoo.o : bar.c\n$(CC) -I. -I$(srcdir) $(CFLAGS) -c $< -o $@\nin order to allow ‘\nVPATH\n’ to work correctly.  When the target has\nmultiple dependencies, using an explicit ‘\n$(srcdir)\n’ is the easiest\nway to make the rule work well.  For example, the target above for\nfoo.1\nis best written as:\nfoo.1 : foo.man sedscript\nsed -f $(srcdir)/sedscript $(srcdir)/foo.man > $@\nGNU distributions usually contain some files which are not source\nfiles—for example, Info files, and the output from Autoconf, Automake,\nBison or Flex.  Since these files normally appear in the source\ndirectory, they should always appear in the source directory, not in the\nbuild directory.  So Makefile rules to update them should put the\nupdated files in the source directory.\nHowever, if a file does not appear in the distribution, then the\nMakefile should not put it in the source directory, because building a\nprogram in ordinary circumstances should not modify the source directory\nin any way.\nTry to make the build and installation targets, at least (and all their\nsubtargets) work correctly with a parallel\nmake\n.\nNext:\nVariables for Specifying Commands\n, Previous:\nGeneral Conventions for Makefiles\n, Up:\nMakefile Conventions\n[\nContents\n][\nIndex\n]\n16.2 Utilities in Makefiles\nWrite the Makefile commands (and any shell scripts, such as\nconfigure\n) to run under\nsh\n(both the traditional Bourne\nshell and the\nPOSIX\nshell), not\ncsh\n.  Don’t use any\nspecial features of\nksh\nor\nbash\n, or\nPOSIX\nfeatures\nnot widely supported in traditional Bourne\nsh\n.\nThe\nconfigure\nscript and the Makefile rules for building and\ninstallation should not use any utilities directly except these:\nawk cat cmp cp diff echo expr false grep install-info ln ls\nmkdir mv printf pwd rm rmdir sed sleep sort tar test touch tr true\nCompression programs such as\ngzip\ncan be used in the\ndist\nrule.\nGenerally, stick to the widely-supported (usually\nPOSIX\n-specified) options and features of these programs.  For\nexample, don’t use ‘\nmkdir -p\n’, convenient as it may be, because a\nfew systems don’t support it at all and with others, it is not safe\nfor parallel execution.  For a list of known incompatibilities, see\nPortable Shell Programming\nin\nAutoconf\n.\nIt is a good idea to avoid creating symbolic links in makefiles, since a\nfew file systems don’t support them.\nThe Makefile rules for building and installation can also use compilers\nand related programs, but should do so via\nmake\nvariables so that the\nuser can substitute alternatives.  Here are some of the programs we\nmean:\nar bison cc flex install ld ldconfig lex\nmake makeinfo ranlib texi2dvi yacc\nUse the following\nmake\nvariables to run those programs:\n$(AR) $(BISON) $(CC) $(FLEX) $(INSTALL) $(LD) $(LDCONFIG) $(LEX)\n$(MAKE) $(MAKEINFO) $(RANLIB) $(TEXI2DVI) $(YACC)\nWhen you use\nranlib\nor\nldconfig\n, you should make sure\nnothing bad happens if the system does not have the program in question.\nArrange to ignore an error from that command, and print a message before\nthe command to tell the user that failure of this command does not mean\na problem.  (The Autoconf ‘\nAC_PROG_RANLIB\n’ macro can help with\nthis.)\nIf you use symbolic links, you should implement a fallback for systems\nthat don’t have symbolic links.\nAdditional utilities that can be used via Make variables are:\nchgrp chmod chown mknod\nIt is ok to use other utilities in Makefile portions (or scripts)\nintended only for particular systems where you know those utilities\nexist.\nNext:\nDESTDIR\n: Support for Staged Installs\n, Previous:\nUtilities in Makefiles\n, Up:\nMakefile Conventions\n[\nContents\n][\nIndex\n]\n16.3 Variables for Specifying Commands\nMakefiles should provide variables for overriding certain commands, options,\nand so on.\nIn particular, you should run most utility programs via variables.\nThus, if you use Bison, have a variable named\nBISON\nwhose default\nvalue is set with ‘\nBISON = bison\n’, and refer to it with\n$(BISON)\nwhenever you need to use Bison.\nFile management utilities such as\nln\n,\nrm\n,\nmv\n, and\nso on, need not be referred to through variables in this way, since users\ndon’t need to replace them with other programs.\nEach program-name variable should come with an options variable that is\nused to supply options to the program.  Append ‘\nFLAGS\n’ to the\nprogram-name variable name to get the options variable name—for\nexample,\nBISONFLAGS\n.  (The names\nCFLAGS\nfor the C\ncompiler,\nYFLAGS\nfor yacc, and\nLFLAGS\nfor lex, are\nexceptions to this rule, but we keep them because they are standard.)\nUse\nCPPFLAGS\nin any compilation command that runs the\npreprocessor, and use\nLDFLAGS\nin any compilation command that\ndoes linking as well as in any direct use of\nld\n.\nIf there are C compiler options that\nmust\nbe used for proper\ncompilation of certain files, do not include them in\nCFLAGS\n.\nUsers expect to be able to specify\nCFLAGS\nfreely themselves.\nInstead, arrange to pass the necessary options to the C compiler\nindependently of\nCFLAGS\n, by writing them explicitly in the\ncompilation commands or by defining an implicit rule, like this:\nCFLAGS = -g\nALL_CFLAGS = -I. $(CFLAGS)\n.c.o:\n$(CC) -c $(CPPFLAGS) $(ALL_CFLAGS) $<\nDo include the ‘\n-g\n’ option in\nCFLAGS\n, because that is not\nrequired\nfor proper compilation.  You can consider it a default\nthat is only recommended.  If the package is set up so that it is\ncompiled with GCC by default, then you might as well include ‘\n-O\n’\nin the default value of\nCFLAGS\nas well.\nPut\nCFLAGS\nlast in the compilation command, after other variables\ncontaining compiler options, so the user can use\nCFLAGS\nto\noverride the others.\nCFLAGS\nshould be used in every invocation of the C compiler,\nboth those which do compilation and those which do linking.\nEvery Makefile should define the variable\nINSTALL\n, which is the\nbasic command for installing a file into the system.\nEvery Makefile should also define the variables\nINSTALL_PROGRAM\nand\nINSTALL_DATA\n.  (The default for\nINSTALL_PROGRAM\nshould\nbe\n$(INSTALL)\n; the default for\nINSTALL_DATA\nshould be\n${INSTALL} -m 644\n.)  Then it should use those variables as the\ncommands for actual installation, for executables and non-executables\nrespectively.  Minimal use of these variables is as follows:\n$(INSTALL_PROGRAM) foo $(bindir)/foo\n$(INSTALL_DATA) libfoo.a $(libdir)/libfoo.a\nHowever, it is preferable to support a\nDESTDIR\nprefix on the\ntarget files, as explained in the next section.\nIt is acceptable, but not required, to install multiple files in one\ncommand, with the final argument being a directory, as in:\n$(INSTALL_PROGRAM) foo bar baz $(bindir)\nNext:\nVariables for Installation Directories\n, Previous:\nVariables for Specifying Commands\n, Up:\nMakefile Conventions\n[\nContents\n][\nIndex\n]\n16.4\nDESTDIR\n: Support for Staged Installs\nDESTDIR\nis a variable prepended to each installed target file,\nlike this:\n$(INSTALL_PROGRAM) foo $(DESTDIR)$(bindir)/foo\n$(INSTALL_DATA) libfoo.a $(DESTDIR)$(libdir)/libfoo.a\nThe\nDESTDIR\nvariable is specified by the user on the\nmake\ncommand line as an absolute file name.  For example:\nmake DESTDIR=/tmp/stage install\nDESTDIR\nshould be supported only in the\ninstall*\nand\nuninstall*\ntargets, as those are the only targets where it is\nuseful.\nIf your installation step would normally install\n/usr/local/bin/foo\nand\n/usr/local/lib/libfoo.a\n, then an\ninstallation invoked as in the example above would install\n/tmp/stage/usr/local/bin/foo\nand\n/tmp/stage/usr/local/lib/libfoo.a\ninstead.\nPrepending the variable\nDESTDIR\nto each target in this way\nprovides for\nstaged installs\n, where the installed files are not\nplaced directly into their expected location but are instead copied\ninto a temporary location (\nDESTDIR\n).  However, installed files\nmaintain their relative directory structure and any embedded file names\nwill not be modified.\nYou should not set the value of\nDESTDIR\nin your\nMakefile\nat all; then the files are installed into their expected locations by\ndefault.  Also, specifying\nDESTDIR\nshould not change the\noperation of the software in any way, so its value should not be\nincluded in any file contents.\nDESTDIR\nsupport is commonly used in package creation.  It is\nalso helpful to users who want to understand what a given package will\ninstall where, and to allow users who don’t normally have permissions\nto install into protected areas to build and install before gaining\nthose permissions.  Finally, it can be useful with tools such as\nstow\n, where code is installed in one place but made to appear\nto be installed somewhere else using symbolic links or special mount\noperations.  So, we strongly recommend GNU packages support\nDESTDIR\n, though it is not an absolute requirement.\nNext:\nStandard Targets for Users\n, Previous:\nDESTDIR\n: Support for Staged Installs\n, Up:\nMakefile Conventions\n[\nContents\n][\nIndex\n]\n16.5 Variables for Installation Directories\nInstallation directories should always be named by variables, so it is\neasy to install in a nonstandard place.  The standard names for these\nvariables and the values they should have in GNU packages are\ndescribed below.  They are based on a standard file system layout;\nvariants of it are used in GNU/Linux and other modern operating\nsystems.\nInstallers are expected to override these values when calling\nmake\n(e.g.,\nmake prefix=/usr install\n) or\nconfigure\n(e.g.,\nconfigure --prefix=/usr\n).  GNU\npackages should not try to guess which value should be appropriate for\nthese variables on the system they are being installed onto: use the\ndefault settings specified here so that all GNU packages behave\nidentically, allowing the installer to achieve any desired layout.\nAll installation directories, and their parent directories, should be\ncreated (if necessary) before they are installed into.\nThese first two variables set the root for the installation.  All the\nother installation directories should be subdirectories of one of\nthese two, and nothing should be directly installed into these two\ndirectories.\nprefix\n¶\nA prefix used in constructing the default values of the variables listed\nbelow.  The default value of\nprefix\nshould be\n/usr/local\n.\nWhen building the complete GNU system, the prefix will be empty and\n/usr\nwill be a symbolic link to\n/\n.\n(If you are using Autoconf, write it as ‘\n@prefix@\n’.)\nRunning ‘\nmake install\n’ with a different value of\nprefix\nfrom\nthe one used to build the program should\nnot\nrecompile the\nprogram.\nexec_prefix\n¶\nA prefix used in constructing the default values of some of the\nvariables listed below.  The default value of\nexec_prefix\nshould\nbe\n$(prefix)\n.\n(If you are using Autoconf, write it as ‘\n@exec_prefix@\n’.)\nGenerally,\n$(exec_prefix)\nis used for directories that contain\nmachine-specific files (such as executables and subroutine libraries),\nwhile\n$(prefix)\nis used directly for other directories.\nRunning ‘\nmake install\n’ with a different value of\nexec_prefix\nfrom the one used to build the program should\nnot\nrecompile the\nprogram.\nExecutable programs are installed in one of the following directories.\nbindir\n¶\nThe directory for installing executable programs that users can run.\nThis should normally be\n/usr/local/bin\n, but write it as\n$(exec_prefix)/bin\n.\n(If you are using Autoconf, write it as ‘\n@bindir@\n’.)\nsbindir\n¶\nThe directory for installing executable programs that can be run from\nthe shell, but are only generally useful to system administrators.  This\nshould normally be\n/usr/local/sbin\n, but write it as\n$(exec_prefix)/sbin\n.\n(If you are using Autoconf, write it as ‘\n@sbindir@\n’.)\nlibexecdir\n¶\nThe directory for installing executable programs to be run by other\nprograms rather than by users.  This directory should normally be\n/usr/local/libexec\n, but write it as\n$(exec_prefix)/libexec\n.\n(If you are using Autoconf, write it as ‘\n@libexecdir@\n’.)\nThe definition of ‘\nlibexecdir\n’ is the same for all packages, so\nyou should install your data in a subdirectory thereof.  Most packages\ninstall their data under\n$(libexecdir)/\npackage-name\n/\n,\npossibly within additional subdirectories thereof, such as\n$(libexecdir)/\npackage-name\n/\nmachine\n/\nversion\n.\nData files used by the program during its execution are divided into\ncategories in two ways.\nSome files are normally modified by programs; others are never normally\nmodified (though users may edit some of these).\nSome files are architecture-independent and can be shared by all\nmachines at a site; some are architecture-dependent and can be shared\nonly by machines of the same kind and operating system; others may never\nbe shared between two machines.\nThis makes for six different possibilities.  However, we want to\ndiscourage the use of architecture-dependent files, aside from object\nfiles and libraries.  It is much cleaner to make other data files\narchitecture-independent, and it is generally not hard.\nHere are the variables Makefiles should use to specify directories\nto put these various kinds of files in:\n‘\ndatarootdir\n’\nThe root of the directory tree for read-only architecture-independent\ndata files.  This should normally be\n/usr/local/share\n, but\nwrite it as\n$(prefix)/share\n.  (If you are using Autoconf, write\nit as ‘\n@datarootdir@\n’.)  ‘\ndatadir\n’’s default value is\nbased on this variable; so are ‘\ninfodir\n’, ‘\nmandir\n’, and\nothers.\n‘\ndatadir\n’\nThe directory for installing idiosyncratic read-only\narchitecture-independent data files for this program.  This is usually\nthe same place as ‘\ndatarootdir\n’, but we use the two separate\nvariables so that you can move these program-specific files without\naltering the location for Info files, man pages, etc.\nThis should normally be\n/usr/local/share\n, but write it as\n$(datarootdir)\n.  (If you are using Autoconf, write it as\n‘\n@datadir@\n’.)\nThe definition of ‘\ndatadir\n’ is the same for all packages, so you\nshould install your data in a subdirectory thereof.  Most packages\ninstall their data under\n$(datadir)/\npackage-name\n/\n.\n‘\nsysconfdir\n’\nThe directory for installing read-only data files that pertain to a\nsingle machine–that is to say, files for configuring a host.  Mailer\nand network configuration files,\n/etc/passwd\n, and so forth belong\nhere.  All the files in this directory should be ordinary ASCII text\nfiles.  This directory should normally be\n/usr/local/etc\n, but\nwrite it as\n$(prefix)/etc\n.\n(If you are using Autoconf, write it as ‘\n@sysconfdir@\n’.)\nDo not install executables here in this directory (they probably belong\nin\n$(libexecdir)\nor\n$(sbindir)\n).  Also do not install\nfiles that are modified in the normal course of their use (programs\nwhose purpose is to change the configuration of the system excluded).\nThose probably belong in\n$(localstatedir)\n.\n‘\nsharedstatedir\n’\nThe directory for installing architecture-independent data files which\nthe programs modify while they run.  This should normally be\n/usr/local/com\n, but write it as\n$(prefix)/com\n.\n(If you are using Autoconf, write it as ‘\n@sharedstatedir@\n’.)\n‘\nlocalstatedir\n’\nThe directory for installing data files which the programs modify while\nthey run, and that pertain to one specific machine.  Users should never\nneed to modify files in this directory to configure the package’s\noperation; put such configuration information in separate files that go\nin\n$(datadir)\nor\n$(sysconfdir)\n.\n$(localstatedir)\nshould normally be\n/usr/local/var\n, but write it as\n$(prefix)/var\n.\n(If you are using Autoconf, write it as ‘\n@localstatedir@\n’.)\n‘\nrunstatedir\n’\nThe directory for installing data files which the programs modify\nwhile they run, that pertain to one specific machine, and which need\nnot persist longer than the execution of the program—which is\ngenerally long-lived, for example, until the next reboot.  PID files\nfor system daemons are a typical use.  In addition, this directory\nshould not be cleaned except perhaps at reboot, while the general\n/tmp\n(\nTMPDIR\n) may be cleaned arbitrarily.  This should\nnormally be\n/var/run\n, but write it as\n$(localstatedir)/run\n.  Having it as a separate variable allows\nthe use of\n/run\nif desired, for example.  (If you are using\nAutoconf 2.70 or later, write it as ‘\n@runstatedir@\n’.)\nThese variables specify the directory for installing certain specific\ntypes of files, if your program has them.  Every GNU package should\nhave Info files, so every program needs ‘\ninfodir\n’, but not all\nneed ‘\nlibdir\n’ or ‘\nlispdir\n’.\n‘\nincludedir\n’\nThe directory for installing header files to be included by user\nprograms with the C ‘\n#include\n’ preprocessor directive.  This\nshould normally be\n/usr/local/include\n, but write it as\n$(prefix)/include\n.\n(If you are using Autoconf, write it as ‘\n@includedir@\n’.)\nMost compilers other than GCC do not look for header files in directory\n/usr/local/include\n.  So installing the header files this way is\nonly useful with GCC.  Sometimes this is not a problem because some\nlibraries are only really intended to work with GCC.  But some libraries\nare intended to work with other compilers.  They should install their\nheader files in two places, one specified by\nincludedir\nand one\nspecified by\noldincludedir\n.\n‘\noldincludedir\n’\nThe directory for installing ‘\n#include\n’ header files for use with\ncompilers other than GCC.  This should normally be\n/usr/include\n.\n(If you are using Autoconf, you can write it as ‘\n@oldincludedir@\n’.)\nThe Makefile commands should check whether the value of\noldincludedir\nis empty.  If it is, they should not try to use\nit; they should cancel the second installation of the header files.\nA package should not replace an existing header in this directory unless\nthe header came from the same package.  Thus, if your Foo package\nprovides a header file\nfoo.h\n, then it should install the header\nfile in the\noldincludedir\ndirectory if either (1) there is no\nfoo.h\nthere or (2) the\nfoo.h\nthat exists came from the Foo\npackage.\nTo tell whether\nfoo.h\ncame from the Foo package, put a magic\nstring in the file—part of a comment—and\ngrep\nfor that string.\n‘\ndocdir\n’\nThe directory for installing documentation files (other than Info) for\nthis package.  By default, it should be\n/usr/local/share/doc/\nyourpkg\n, but it should be written as\n$(datarootdir)/doc/\nyourpkg\n.  (If you are using Autoconf,\nwrite it as ‘\n@docdir@\n’.)  The\nyourpkg\nsubdirectory, which\nmay include a version number, prevents collisions among files with\ncommon names, such as\nREADME\n.\n‘\ninfodir\n’\nThe directory for installing the Info files for this package.  By\ndefault, it should be\n/usr/local/share/info\n, but it should be\nwritten as\n$(datarootdir)/info\n.  (If you are using Autoconf,\nwrite it as ‘\n@infodir@\n’.)\ninfodir\nis separate from\ndocdir\nfor compatibility with existing practice.\n‘\nhtmldir\n’\n‘\ndvidir\n’\n‘\npdfdir\n’\n‘\npsdir\n’\nDirectories for installing documentation files in the particular\nformat.  They should all be set to\n$(docdir)\nby default.  (If\nyou are using Autoconf, write them as ‘\n@htmldir@\n’,\n‘\n@dvidir@\n’, etc.)  Packages which supply several translations\nof their documentation should install them in\n‘\n$(htmldir)/\n’\nll\n, ‘\n$(pdfdir)/\n’\nll\n, etc. where\nll\nis a locale abbreviation such as ‘\nen\n’ or ‘\npt_BR\n’.\n‘\nlibdir\n’\nThe directory for object files and libraries of object code.  Do not\ninstall executables here, they probably ought to go in\n$(libexecdir)\ninstead.  The value of\nlibdir\nshould normally be\n/usr/local/lib\n, but write it as\n$(exec_prefix)/lib\n.\n(If you are using Autoconf, write it as ‘\n@libdir@\n’.)\n‘\nlispdir\n’\nThe directory for installing any Emacs Lisp files in this package.  By\ndefault, it should be\n/usr/local/share/emacs/site-lisp\n, but it\nshould be written as\n$(datarootdir)/emacs/site-lisp\n.\nIf you are using Autoconf, write the default as ‘\n@lispdir@\n’.\nIn order to make ‘\n@lispdir@\n’ work, you need the following lines\nin your\nconfigure.ac\nfile:\nlispdir='${datarootdir}/emacs/site-lisp'\nAC_SUBST(lispdir)\n‘\nlocaledir\n’\nThe directory for installing locale-specific message catalogs for this\npackage.  By default, it should be\n/usr/local/share/locale\n, but\nit should be written as\n$(datarootdir)/locale\n.  (If you are\nusing Autoconf, write it as ‘\n@localedir@\n’.)  This directory\nusually has a subdirectory per locale.\nUnix-style man pages are installed in one of the following:\n‘\nmandir\n’\nThe top-level directory for installing the man pages (if any) for this\npackage.  It will normally be\n/usr/local/share/man\n, but you\nshould write it as\n$(datarootdir)/man\n.  (If you are using\nAutoconf, write it as ‘\n@mandir@\n’.)\n‘\nman1dir\n’\nThe directory for installing section 1 man pages.  Write it as\n$(mandir)/man1\n.\n‘\nman2dir\n’\nThe directory for installing section 2 man pages.  Write it as\n$(mandir)/man2\n‘\n…\n’\nDon’t make the primary documentation for any GNU software be a\nman page.  Write a manual in Texinfo instead.  Man pages are just for\nthe sake of people running GNU software on Unix, which is a secondary\napplication only.\n‘\nmanext\n’\nThe file name extension for the installed man page.  This should contain\na period followed by the appropriate digit; it should normally be ‘\n.1\n’.\n‘\nman1ext\n’\nThe file name extension for installed section 1 man pages.\n‘\nman2ext\n’\nThe file name extension for installed section 2 man pages.\n‘\n…\n’\nUse these names instead of ‘\nmanext\n’ if the package needs to install man\npages in more than one section of the manual.\nAnd finally, you should set the following variable:\n‘\nsrcdir\n’\nThe directory for the sources being compiled.  The value of this\nvariable is normally inserted by the\nconfigure\nshell script.\n(If you are using Autoconf, use ‘\nsrcdir = @srcdir@\n’.)\nFor example:\n# Common prefix for installation directories.\n# NOTE: This directory must exist when you start the install.\nprefix = /usr/local\ndatarootdir = $(prefix)/share\ndatadir = $(datarootdir)\nexec_prefix = $(prefix)\n# Where to put the executable for the command 'gcc'.\nbindir = $(exec_prefix)/bin\n# Where to put the directories used by the compiler.\nlibexecdir = $(exec_prefix)/libexec\n# Where to put the Info files.\ninfodir = $(datarootdir)/info\nIf your program installs a large number of files into one of the\nstandard user-specified directories, it might be useful to group them\ninto a subdirectory particular to that program.  If you do this, you\nshould write the\ninstall\nrule to create these subdirectories.\nDo not expect the user to include the subdirectory name in the value of\nany of the variables listed above.  The idea of having a uniform set of\nvariable names for installation directories is to enable the user to\nspecify the exact same values for several different GNU packages.  In\norder for this to be useful, all the packages must be designed so that\nthey will work sensibly when the user does so.\nAt times, not all of these variables may be implemented in the current\nrelease of Autoconf and/or Automake; but as of Autoconf 2.60, we\nbelieve all of them are.  When any are missing, the descriptions here\nserve as specifications for what Autoconf will implement.  As a\nprogrammer, you can either use a development version of Autoconf or\navoid using these variables until a stable release is made which\nsupports them.\nNext:\nInstall Command Categories\n, Previous:\nVariables for Installation Directories\n, Up:\nMakefile Conventions\n[\nContents\n][\nIndex\n]\n16.6 Standard Targets for Users\nAll GNU programs should have the following targets in their Makefiles:\n‘\nall\n’\nCompile the entire program.  This should be the default target.  This\ntarget need not rebuild any documentation files; Info files should\nnormally be included in the distribution, and DVI (and other\ndocumentation format) files should be made only when explicitly asked\nfor.\nBy default, the Make rules should compile and link with ‘\n-g\n’, so\nthat executable programs have debugging symbols.  Otherwise, you are\nessentially helpless in the face of a crash, and it is often far from\neasy to reproduce with a fresh build.\n‘\ninstall\n’\nCompile the program and copy the executables, libraries, and so on to\nthe file names where they should reside for actual use.  If there is a\nsimple test to verify that a program is properly installed, this target\nshould run that test.\nDo not strip executables when installing them.  This helps eventual\ndebugging that may be needed later, and nowadays disk space is cheap\nand dynamic loaders typically ensure debug sections are not loaded during\nnormal execution.  Users that need stripped binaries may invoke the\ninstall-strip\ntarget to do that.\nIf possible, write the\ninstall\ntarget rule so that it does not\nmodify anything in the directory where the program was built, provided\n‘\nmake all\n’ has just been done.  This is convenient for building the\nprogram under one user name and installing it under another.\nThe commands should create all the directories in which files are to be\ninstalled, if they don’t already exist.  This includes the directories\nspecified as the values of the variables\nprefix\nand\nexec_prefix\n, as well as all subdirectories that are needed.\nOne way to do this is by means of an\ninstalldirs\ntarget\nas described below.\nUse ‘\n-\n’ before any command for installing a man page, so that\nmake\nwill ignore any errors.  This is in case there are systems\nthat don’t have the Unix man page documentation system installed.\nThe way to install Info files is to copy them into\n$(infodir)\nwith\n$(INSTALL_DATA)\n(see\nVariables for Specifying Commands\n), and then run\nthe\ninstall-info\nprogram if it is present.\ninstall-info\nis a program that edits the Info\ndir\nfile to add or update the\nmenu entry for the given Info file; it is part of the Texinfo package.\nHere is a sample rule to install an Info file that also tries to\nhandle some additional situations, such as\ninstall-info\nnot\nbeing present.\ndo-install-info: foo.info installdirs\n$(NORMAL_INSTALL)\n# Prefer an info file in . to one in srcdir.\nif test -f foo.info; then d=.; \\\nelse d=\"$(srcdir)\"; fi; \\\n$(INSTALL_DATA) $$d/foo.info \\\n\"$(DESTDIR)$(infodir)/foo.info\"\n# Run install-info only if it exists.\n# Use 'if' instead of just prepending '-' to the\n# line so we notice real errors from install-info.\n# Use '$(SHELL) -c' because some shells do not\n# fail gracefully when there is an unknown command.\n$(POST_INSTALL)\nif $(SHELL) -c 'install-info --version' \\\n>/dev/null 2>&1; then \\\ninstall-info --dir-file=\"$(DESTDIR)$(infodir)/dir\" \\\n\"$(DESTDIR)$(infodir)/foo.info\"; \\\nelse true; fi\nWhen writing the\ninstall\ntarget, you must classify all the\ncommands into three categories: normal ones,\npre-installation\ncommands and\npost-installation\ncommands.  See\nInstall Command Categories\n.\n‘\ninstall-html\n’\n‘\ninstall-dvi\n’\n‘\ninstall-pdf\n’\n‘\ninstall-ps\n’\nThese targets install documentation in formats other than Info;\nthey’re intended to be called explicitly by the person installing the\npackage, if that format is desired.  GNU prefers Info files, so these\nmust be installed by the\ninstall\ntarget.\nWhen you have many documentation files to install, we recommend that\nyou avoid collisions and clutter by arranging for these targets to\ninstall in subdirectories of the appropriate installation directory,\nsuch as\nhtmldir\n.  As one example, if your package has multiple\nmanuals, and you wish to install HTML documentation with many files\n(such as the “split” mode output by\nmakeinfo --html\n), you’ll\ncertainly want to use subdirectories, or two nodes with the same name\nin different manuals will overwrite each other.\nPlease make these\ninstall-\nformat\ntargets invoke the\ncommands for the\nformat\ntarget, for example, by making\nformat\na dependency.\n‘\nuninstall\n’\nDelete all the installed files—the copies that the ‘\ninstall\n’\nand ‘\ninstall-*\n’ targets create.\nThis rule should not modify the directories where compilation is done,\nonly the directories where files are installed.\nThe uninstallation commands are divided into three categories, just like\nthe installation commands.  See\nInstall Command Categories\n.\n‘\ninstall-strip\n’\nLike\ninstall\n, but strip the executable files while installing\nthem.  In simple cases, this target can use the\ninstall\ntarget in\na simple way:\ninstall-strip:\n$(MAKE) INSTALL_PROGRAM='$(INSTALL_PROGRAM) -s' \\\ninstall\nBut if the package installs scripts as well as real executables, the\ninstall-strip\ntarget can’t just refer to the\ninstall\ntarget; it has to strip the executables but not the scripts.\ninstall-strip\nshould not strip the executables in the build\ndirectory which are being copied for installation.  It should only strip\nthe copies that are installed.\nNormally we do not recommend stripping an executable unless you are sure\nthe program has no bugs.  However, it can be reasonable to install a\nstripped executable for actual execution while saving the unstripped\nexecutable elsewhere in case there is a bug.\n‘\nclean\n’\nDelete all files in the current directory that are normally created by\nbuilding the program.  Also delete files in other directories if they\nare created by this makefile.  However, don’t delete the files that\nrecord the configuration.  Also preserve files that could be made by\nbuilding, but normally aren’t because the distribution comes with\nthem.  There is no need to delete parent directories that were created\nwith ‘\nmkdir -p\n’, since they could have existed anyway.\nDelete\n.dvi\nfiles here if they are not part of the distribution.\n‘\ndistclean\n’\nDelete all files in the current directory (or created by this\nmakefile) that are created by configuring or building the program.  If\nyou have unpacked the source and built the program without creating\nany other files, ‘\nmake distclean\n’ should leave only the files\nthat were in the distribution.  However, there is no need to delete\nparent directories that were created with ‘\nmkdir -p\n’, since they\ncould have existed anyway.\n‘\nmostlyclean\n’\nLike ‘\nclean\n’, but may refrain from deleting a few files that people\nnormally don’t want to recompile.  For example, the ‘\nmostlyclean\n’\ntarget for GCC does not delete\nlibgcc.a\n, because recompiling it\nis rarely necessary and takes a lot of time.\n‘\nmaintainer-clean\n’\nDelete almost everything that can be reconstructed with this Makefile.\nThis typically includes everything deleted by\ndistclean\n, plus\nmore: C source files produced by Bison, tags tables, Info files, and\nso on.\nThe reason we say “almost everything” is that running the command\n‘\nmake maintainer-clean\n’ should not delete\nconfigure\neven\nif\nconfigure\ncan be remade using a rule in the Makefile.  More\ngenerally, ‘\nmake maintainer-clean\n’ should not delete anything\nthat needs to exist in order to run\nconfigure\nand then begin to\nbuild the program.  Also, there is no need to delete parent\ndirectories that were created with ‘\nmkdir -p\n’, since they could\nhave existed anyway.  These are the only exceptions;\nmaintainer-clean\nshould delete everything else that can be\nrebuilt.\nThe ‘\nmaintainer-clean\n’ target is intended to be used by a maintainer of\nthe package, not by ordinary users.  You may need special tools to\nreconstruct some of the files that ‘\nmake maintainer-clean\n’ deletes.\nSince these files are normally included in the distribution, we don’t\ntake care to make them easy to reconstruct.  If you find you need to\nunpack the full distribution again, don’t blame us.\nTo help make users aware of this, the commands for the special\nmaintainer-clean\ntarget should start with these two:\n@echo 'This command is intended for maintainers to use; it'\n@echo 'deletes files that may need special tools to rebuild.'\n‘\nTAGS\n’\nUpdate a tags table for this program.\n‘\ninfo\n’\nGenerate any Info files needed.  The best way to write the rules is as\nfollows:\ninfo: foo.info\nfoo.info: foo.texi chap1.texi chap2.texi\n$(MAKEINFO) $(srcdir)/foo.texi\nYou must define the variable\nMAKEINFO\nin the Makefile.  It should\nrun the\nmakeinfo\nprogram, which is part of the Texinfo\ndistribution.\nNormally a GNU distribution comes with Info files, and that means the\nInfo files are present in the source directory.  Therefore, the Make\nrule for an info file should update it in the source directory.  When\nusers build the package, ordinarily Make will not update the Info files\nbecause they will already be up to date.\n‘\ndvi\n’\n‘\nhtml\n’\n‘\npdf\n’\n‘\nps\n’\nGenerate documentation files in the given format.  These targets\nshould always exist, but any or all can be a no-op if the given output\nformat cannot be generated.  These targets should not be dependencies\nof the\nall\ntarget; the user must manually invoke them.\nHere’s an example rule for generating DVI files from Texinfo:\ndvi: foo.dvi\nfoo.dvi: foo.texi chap1.texi chap2.texi\n$(TEXI2DVI) $(srcdir)/foo.texi\nYou must define the variable\nTEXI2DVI\nin the Makefile.  It\nshould run the program\ntexi2dvi\n, which is part of the Texinfo\ndistribution.  (\ntexi2dvi\nuses TeX to do the real work of\nformatting. TeX is not distributed with Texinfo.)  Alternatively,\nwrite only the dependencies, and allow GNU\nmake\nto provide the\ncommand.\nHere’s another example, this one for generating HTML from Texinfo:\nhtml: foo.html\nfoo.html: foo.texi chap1.texi chap2.texi\n$(TEXI2HTML) $(srcdir)/foo.texi\nAgain, you would define the variable\nTEXI2HTML\nin the Makefile;\nfor example, it might run\nmakeinfo --no-split --html\n(\nmakeinfo\nis part of the Texinfo distribution).\n‘\ndist\n’\nCreate a distribution tar file for this program.  The tar file should be\nset up so that the file names in the tar file start with a subdirectory\nname which is the name of the package it is a distribution for.  This\nname can include the version number.\nFor example, the distribution tar file of GCC version 1.40 unpacks into\na subdirectory named\ngcc-1.40\n.\nThe easiest way to do this is to create a subdirectory appropriately\nnamed, use\nln\nor\ncp\nto install the proper files in it, and\nthen\ntar\nthat subdirectory.\nCompress the tar file with\ngzip\n.  For example, the actual\ndistribution file for GCC version 1.40 is called\ngcc-1.40.tar.gz\n.\nIt is ok to support other free compression formats as well.\nThe\ndist\ntarget should explicitly depend on all non-source files\nthat are in the distribution, to make sure they are up to date in the\ndistribution.\nSee\nMaking Releases\nin\nGNU Coding Standards\n.\n‘\ncheck\n’\nPerform self-tests (if any).  The user must build the program before\nrunning the tests, but need not install the program; you should write\nthe self-tests so that they work when the program is built but not\ninstalled.\nThe following targets are suggested as conventional names, for programs\nin which they are useful.\ninstallcheck\nPerform installation tests (if any).  The user must build and install\nthe program before running the tests.  You should not assume that\n$(bindir)\nis in the search path.\ninstalldirs\nIt’s useful to add a target named ‘\ninstalldirs\n’ to create the\ndirectories where files are installed, and their parent directories.\nThere is a script called\nmkinstalldirs\nwhich is convenient for\nthis; you can find it in the Gnulib package.\nYou can use a rule like this:\n# Make sure all installation directories (e.g. $(bindir))\n# actually exist by making them if necessary.\ninstalldirs: mkinstalldirs\n$(srcdir)/mkinstalldirs $(bindir) $(datadir) \\\n$(libdir) $(infodir) \\\n$(mandir)\nor, if you wish to support\nDESTDIR\n(strongly encouraged),\n# Make sure all installation directories (e.g. $(bindir))\n# actually exist by making them if necessary.\ninstalldirs: mkinstalldirs\n$(srcdir)/mkinstalldirs \\\n$(DESTDIR)$(bindir) $(DESTDIR)$(datadir) \\\n$(DESTDIR)$(libdir) $(DESTDIR)$(infodir) \\\n$(DESTDIR)$(mandir)\nThis rule should not modify the directories where compilation is done.\nIt should do nothing but create installation directories.\nPrevious:\nStandard Targets for Users\n, Up:\nMakefile Conventions\n[\nContents\n][\nIndex\n]\n16.7 Install Command Categories\nWhen writing the\ninstall\ntarget, you must classify all the\ncommands into three categories: normal ones,\npre-installation\ncommands and\npost-installation\ncommands.\nNormal commands move files into their proper places, and set their\nmodes.  They may not alter any files except the ones that come entirely\nfrom the package they belong to.\nPre-installation and post-installation commands may alter other files;\nin particular, they can edit global configuration files or data bases.\nPre-installation commands are typically executed before the normal\ncommands, and post-installation commands are typically run after the\nnormal commands.\nThe most common use for a post-installation command is to run\ninstall-info\n.  This cannot be done with a normal command, since\nit alters a file (the Info directory) which does not come entirely and\nsolely from the package being installed.  It is a post-installation\ncommand because it needs to be done after the normal command which\ninstalls the package’s Info files.\nMost programs don’t need any pre-installation commands, but we have the\nfeature just in case it is needed.\nTo classify the commands in the\ninstall\nrule into these three\ncategories, insert\ncategory lines\namong them.  A category line\nspecifies the category for the commands that follow.\nA category line consists of a tab and a reference to a special Make\nvariable, plus an optional comment at the end.  There are three\nvariables you can use, one for each category; the variable name\nspecifies the category.  Category lines are no-ops in ordinary execution\nbecause these three Make variables are normally undefined (and you\nshould not\ndefine them in the makefile).\nHere are the three possible category lines, each with a comment that\nexplains what it means:\n$(PRE_INSTALL)     #\nPre-install commands follow.\n$(POST_INSTALL)    #\nPost-install commands follow.\n$(NORMAL_INSTALL)  #\nNormal commands follow.\nIf you don’t use a category line at the beginning of the\ninstall\nrule, all the commands are classified as normal until the first category\nline.  If you don’t use any category lines, all the commands are\nclassified as normal.\nThese are the category lines for\nuninstall\n:\n$(PRE_UNINSTALL)     #\nPre-uninstall commands follow.\n$(POST_UNINSTALL)    #\nPost-uninstall commands follow.\n$(NORMAL_UNINSTALL)  #\nNormal commands follow.\nTypically, a pre-uninstall command would be used for deleting entries\nfrom the Info directory.\nIf the\ninstall\nor\nuninstall\ntarget has any dependencies\nwhich act as subroutines of installation, then you should start\neach\ndependency’s commands with a category line, and start the\nmain target’s commands with a category line also.  This way, you can\nensure that each command is placed in the right category regardless of\nwhich of the dependencies actually run.\nPre-installation and post-installation commands should not run any\nprograms except for these:\n[ basename bash cat chgrp chmod chown cmp cp dd diff echo\nexpand expr false find getopt grep gunzip gzip\nhostname install install-info kill ldconfig ln ls md5sum\nmkdir mkfifo mknod mv printenv pwd rm rmdir sed sort tee\ntest touch true uname xargs yes\nThe reason for distinguishing the commands in this way is for the sake\nof making binary packages.  Typically a binary package contains all the\nexecutables and other files that need to be installed, and has its own\nmethod of installing them—so it does not need to run the normal\ninstallation commands.  But installing the binary package does need to\nexecute the pre-installation and post-installation commands.\nPrograms to build binary packages work by extracting the\npre-installation and post-installation commands.  Here is one way of\nextracting the pre-installation commands (the\n-s\noption to\nmake\nis needed to silence messages about entering\nsubdirectories):\nmake -s -n install -o all \\\nPRE_INSTALL=pre-install \\\nPOST_INSTALL=post-install \\\nNORMAL_INSTALL=normal-install \\\n| gawk -f pre-install.awk\nwhere the file\npre-install.awk\ncould contain this:\n$0 ~ /^(normal-install|post-install)[ \\t]*$/ {on = 0}\non {print $0}\n$0 ~ /^pre-install[ \\t]*$/ {on = 1}\nNext:\nErrors Generated by Make\n, Previous:\nMakefile Conventions\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\nAppendix A Quick Reference\nThis appendix summarizes the directives, text manipulation functions,\nand special variables which GNU\nmake\nunderstands.\nSee\nSpecial Built-in Target Names\n,\nCatalogue of Built-In Rules\n,\nand\nSummary of Options\n,\nfor other summaries.\nHere is a summary of the directives GNU\nmake\nrecognizes:\ndefine\nvariable\ndefine\nvariable\n=\ndefine\nvariable\n:=\ndefine\nvariable\n::=\ndefine\nvariable\n:::=\ndefine\nvariable\n+=\ndefine\nvariable\n?=\nendef\nDefine multi-line variables.\nSee\nDefining Multi-Line Variables\n.\nundefine\nvariable\nUndefining variables.\nSee\nUndefining Variables\n.\nifdef\nvariable\nifndef\nvariable\nifeq (\na\n,\nb\n)\nifeq \"\na\n\" \"\nb\n\"\nifeq '\na\n' '\nb\n'\nifneq (\na\n,\nb\n)\nifneq \"\na\n\" \"\nb\n\"\nifneq '\na\n' '\nb\n'\nelse\nendif\nConditionally evaluate part of the makefile.\nSee\nConditional Parts of Makefiles\n.\ninclude\nfile\n-include\nfile\nsinclude\nfile\nInclude another makefile.\nSee\nIncluding Other Makefiles\n.\noverride\nvariable-assignment\nDefine a variable, overriding any previous definition, even one from\nthe command line.\nSee\nThe\noverride\nDirective\n.\nexport\nTell\nmake\nto export all variables to child processes by default.\nSee\nCommunicating Variables to a Sub-\nmake\n.\nexport\nvariable\nexport\nvariable-assignment\nunexport\nvariable\nTell\nmake\nwhether or not to export a particular variable to child\nprocesses.\nSee\nCommunicating Variables to a Sub-\nmake\n.\nprivate\nvariable-assignment\nDo not allow this variable assignment to be inherited by prerequisites.\nSee\nSuppressing Inheritance\n.\nvpath\npattern\npath\nSpecify a search path for files matching a ‘\n%\n’ pattern.\nSee\nThe\nvpath\nDirective\n.\nvpath\npattern\nRemove all search paths previously specified for\npattern\n.\nvpath\nRemove all search paths previously specified in any\nvpath\ndirective.\nHere is a summary of the built-in functions (see\nFunctions for Transforming Text\n):\n$(subst\nfrom\n,\nto\n,\ntext\n)\nReplace\nfrom\nwith\nto\nin\ntext\n.\nSee\nFunctions for String Substitution and Analysis\n.\n$(patsubst\npattern\n,\nreplacement\n,\ntext\n)\nReplace words matching\npattern\nwith\nreplacement\nin\ntext\n.\nSee\nFunctions for String Substitution and Analysis\n.\n$(strip\nstring\n)\nRemove excess whitespace characters from\nstring\n.\nSee\nFunctions for String Substitution and Analysis\n.\n$(findstring\nfind\n,\ntext\n)\nLocate\nfind\nin\ntext\n.\nSee\nFunctions for String Substitution and Analysis\n.\n$(filter\npattern\n…,\ntext\n)\nSelect words in\ntext\nthat match one of the\npattern\nwords.\nSee\nFunctions for String Substitution and Analysis\n.\n$(filter-out\npattern\n…,\ntext\n)\nSelect words in\ntext\nthat\ndo not\nmatch any of the\npattern\nwords.\nSee\nFunctions for String Substitution and Analysis\n.\n$(sort\nlist\n)\nSort the words in\nlist\nlexicographically, removing duplicates.\nSee\nFunctions for String Substitution and Analysis\n.\n$(word\nn\n,\ntext\n)\nExtract the\nn\nth word (one-origin) of\ntext\n.\nSee\nFunctions for String Substitution and Analysis\n.\n$(words\ntext\n)\nCount the number of words in\ntext\n.\nSee\nFunctions for String Substitution and Analysis\n.\n$(wordlist\ns\n,\ne\n,\ntext\n)\nReturns the list of words in\ntext\nfrom\ns\nto\ne\n.\nSee\nFunctions for String Substitution and Analysis\n.\n$(firstword\nnames\n…)\nExtract the first word of\nnames\n.\nSee\nFunctions for String Substitution and Analysis\n.\n$(lastword\nnames\n…)\nExtract the last word of\nnames\n.\nSee\nFunctions for String Substitution and Analysis\n.\n$(dir\nnames\n…)\nExtract the directory part of each file name.\nSee\nFunctions for File Names\n.\n$(notdir\nnames\n…)\nExtract the non-directory part of each file name.\nSee\nFunctions for File Names\n.\n$(suffix\nnames\n…)\nExtract the suffix (the last ‘\n.\n’ and following characters) of each file name.\nSee\nFunctions for File Names\n.\n$(basename\nnames\n…)\nExtract the base name (name without suffix) of each file name.\nSee\nFunctions for File Names\n.\n$(addsuffix\nsuffix\n,\nnames\n…)\nAppend\nsuffix\nto each word in\nnames\n.\nSee\nFunctions for File Names\n.\n$(addprefix\nprefix\n,\nnames\n…)\nPrepend\nprefix\nto each word in\nnames\n.\nSee\nFunctions for File Names\n.\n$(join\nlist1\n,\nlist2\n)\nJoin two parallel lists of words.\nSee\nFunctions for File Names\n.\n$(wildcard\npattern\n…)\nFind file names matching a shell file name pattern (\nnot\na\n‘\n%\n’ pattern).\nSee\nThe Function\nwildcard\n.\n$(realpath\nnames\n…)\nFor each file name in\nnames\n, expand to an absolute name that\ndoes not contain any\n.\n,\n..\n, nor symlinks.\nSee\nFunctions for File Names\n.\n$(abspath\nnames\n…)\nFor each file name in\nnames\n, expand to an absolute name that\ndoes not contain any\n.\nor\n..\ncomponents, but preserves\nsymlinks.\nSee\nFunctions for File Names\n.\n$(error\ntext\n…)\nWhen this function is evaluated,\nmake\ngenerates a fatal error\nwith the message\ntext\n.\nSee\nFunctions That Control Make\n.\n$(warning\ntext\n…)\nWhen this function is evaluated,\nmake\ngenerates a warning with\nthe message\ntext\n.\nSee\nFunctions That Control Make\n.\n$(shell\ncommand\n)\nExecute a shell command and return its output.\nSee\nThe\nshell\nFunction\n.\n$(origin\nvariable\n)\nReturn a string describing how the\nmake\nvariable\nvariable\nwas\ndefined.\nSee\nThe\norigin\nFunction\n.\n$(flavor\nvariable\n)\nReturn a string describing the flavor of the\nmake\nvariable\nvariable\n.\nSee\nThe\nflavor\nFunction\n.\n$(let\nvar\n[\nvar\n...],\nwords\n,\ntext\n)\nEvaluate\ntext\nwith the\nvar\ns bound to the words in\nwords\n.\nSee\nThe\nlet\nFunction\n.\n$(foreach\nvar\n,\nwords\n,\ntext\n)\nEvaluate\ntext\nwith\nvar\nbound to each word in\nwords\n,\nand concatenate the results.\nSee\nThe\nforeach\nFunction\n.\n$(if\ncondition\n,\nthen-part\n[,\nelse-part\n])\nEvaluate the condition\ncondition\n; if it’s non-empty substitute\nthe expansion of the\nthen-part\notherwise substitute the\nexpansion of the\nelse-part\n.\nSee\nFunctions for Conditionals\n.\n$(or\ncondition1\n[,\ncondition2\n[,\ncondition3\n…]])\nEvaluate each condition\nconditionN\none at a time; substitute the\nfirst non-empty expansion.  If all expansions are empty, substitute\nthe empty string.\nSee\nFunctions for Conditionals\n.\n$(and\ncondition1\n[,\ncondition2\n[,\ncondition3\n…]])\nEvaluate each condition\nconditionN\none at a time; if any\nexpansion results in the empty string substitute the empty string.  If\nall expansions result in a non-empty string, substitute the expansion\nof the last\ncondition\n.\nSee\nFunctions for Conditionals\n.\n$(intcmp\nlhs\n,\nrhs\n[,\nlt-part\n[,\neq-part\n[,\ngt-part\n]]])\nCompare\nlhs\nand\nrhs\nnumerically; substitute the expansion of\nlt-part\n,\neq-part\n, or\ngt-part\ndepending on whether the\nleft-hand side is less-than, equal-to, or greater-than the right-hand\nside, respectively.\nSee\nFunctions for Conditionals\n.\n$(call\nvar\n,\nparam\n,…)\nEvaluate the variable\nvar\nreplacing any references to\n$(1)\n,\n$(2)\nwith the first, second, etc.\nparam\nvalues.\nSee\nThe\ncall\nFunction\n.\n$(eval\ntext\n)\nEvaluate\ntext\nthen read the results as makefile commands.\nExpands to the empty string.\nSee\nThe\neval\nFunction\n.\n$(file\nop\nfilename\n,\ntext\n)\nExpand the arguments, then open the file\nfilename\nusing mode\nop\nand write\ntext\nto that file.\nSee\nThe\nfile\nFunction\n.\n$(value\nvar\n)\nEvaluates to the contents of the variable\nvar\n, with no expansion\nperformed on it.\nSee\nThe\nvalue\nFunction\n.\nHere is a summary of the automatic variables.\nSee\nAutomatic Variables\n,\nfor full information.\n$@\nThe file name of the target.\n$%\nThe target member name, when the target is an archive member.\n$<\nThe name of the first prerequisite.\n$?\nThe names of all the prerequisites that are\nnewer than the target, with spaces between them.\nFor prerequisites which are archive members, only\nthe named member is used (see\nUsing\nmake\nto Update Archive Files\n).\n$^\n$+\nThe names of all the prerequisites, with spaces between them.  For\nprerequisites which are archive members, only the named member is used\n(see\nUsing\nmake\nto Update Archive Files\n).  The value of\n$^\nomits duplicate\nprerequisites, while\n$+\nretains them and preserves their order.\n$*\nThe stem with which an implicit rule matches\n(see\nHow Patterns Match\n).\n$(@D)\n$(@F)\nThe directory part and the file-within-directory part of\n$@\n.\n$(*D)\n$(*F)\nThe directory part and the file-within-directory part of\n$*\n.\n$(%D)\n$(%F)\nThe directory part and the file-within-directory part of\n$%\n.\n$(<D)\n$(<F)\nThe directory part and the file-within-directory part of\n$<\n.\n$(^D)\n$(^F)\nThe directory part and the file-within-directory part of\n$^\n.\n$(+D)\n$(+F)\nThe directory part and the file-within-directory part of\n$+\n.\n$(?D)\n$(?F)\nThe directory part and the file-within-directory part of\n$?\n.\nThese variables are used specially by GNU\nmake\n:\nMAKEFILES\nMakefiles to be read on every invocation of\nmake\n.\nSee\nThe Variable\nMAKEFILES\n.\nVPATH\nDirectory search path for files not found in the current directory.\nSee\nVPATH\nSearch Path for All Prerequisites\n.\nSHELL\nThe name of the system default command interpreter, usually\n/bin/sh\n.\nYou can set\nSHELL\nin the makefile to change the shell used to run\nrecipes.  See\nRecipe Execution\n.  The\nSHELL\nvariable is handled specially when importing from and exporting to the\nenvironment.  See\nChoosing the Shell\n.\nMAKESHELL\nOn MS-DOS only, the name of the command interpreter that is to be used\nby\nmake\n.  This value takes precedence over the value of\nSHELL\n.  See\nMAKESHELL variable\n.\nMAKE\nThe name with which\nmake\nwas invoked.  Using this variable in\nrecipes has special meaning.  See\nHow the\nMAKE\nVariable Works\n.\nMAKE_VERSION\nThe built-in variable ‘\nMAKE_VERSION\n’ expands to the version\nnumber of the GNU\nmake\nprogram.\nMAKE_HOST\nThe built-in variable ‘\nMAKE_HOST\n’ expands to a string\nrepresenting the host that GNU\nmake\nwas built to run on.\nMAKELEVEL\nThe number of levels of recursion (sub-\nmake\ns).\nSee\nCommunicating Variables to a Sub-\nmake\n.\nMAKEFLAGS\nThe flags given to\nmake\n.  You can set this in the environment or\na makefile to set flags.\nSee\nCommunicating Options to a Sub-\nmake\n.\nIt is\nnever\nappropriate to use\nMAKEFLAGS\ndirectly in a\nrecipe line: its contents may not be quoted correctly for use in the\nshell.  Always allow recursive\nmake\n’s to obtain these values\nthrough the environment from its parent.\nGNUMAKEFLAGS\nOther flags parsed by\nmake\n.  You can set this in the environment or\na makefile to set\nmake\ncommand-line flags.  GNU\nmake\nnever sets this variable itself.  This variable is only needed if\nyou’d like to set GNU\nmake\n-specific flags in a POSIX-compliant\nmakefile.  This variable will be seen by GNU\nmake\nand ignored\nby other\nmake\nimplementations.  It’s not needed if you only use\nGNU\nmake\n; just use\nMAKEFLAGS\ndirectly.\nSee\nCommunicating Options to a Sub-\nmake\n.\nMAKECMDGOALS\nThe targets given to\nmake\non the command line.  Setting this\nvariable has no effect on the operation of\nmake\n.\nSee\nArguments to Specify the Goals\n.\nCURDIR\nSet to the absolute pathname of the current working directory (after\nall\n-C\noptions are processed, if any).  Setting this variable\nhas no effect on the operation of\nmake\n.\nSee\nRecursive Use of\nmake\n.\nSUFFIXES\nThe default list of suffixes before\nmake\nreads any makefiles.\n.LIBPATTERNS\nDefines the naming of the libraries\nmake\nsearches for, and their\norder.\nSee\nDirectory Search for Link Libraries\n.\nNext:\nComplex Makefile Example\n, Previous:\nQuick Reference\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\nAppendix B Errors Generated by Make\nHere is a list of the more common errors you might see generated by\nmake\n, and some information about what they mean and how to fix\nthem.\nSometimes\nmake\nerrors are not fatal, especially in the presence\nof a\n-\nprefix on a recipe line, or the\n-k\ncommand line\noption.  Errors that are fatal are prefixed with the string\n***\n.\nError messages are all either prefixed with the name of the program\n(usually ‘\nmake\n’), or, if the error is found in a makefile, the name\nof the file and line number containing the problem.\nIn the table below, these common prefixes are left off.\n‘\n[\nfoo\n] Error\nNN\n’\n‘\n[\nfoo\n]\nsignal description\n’\nThese errors are not really\nmake\nerrors at all.  They mean that a\nprogram that\nmake\ninvoked as part of a recipe returned a\nnon-0 error code (‘\nError\nNN\n’), which\nmake\ninterprets\nas failure, or it exited in some other abnormal fashion (with a\nsignal of some type).  See\nErrors in Recipes\n.\nIf no\n***\nis attached to the message, then the sub-process failed\nbut the rule in the makefile was prefixed with the\n-\nspecial\ncharacter, so\nmake\nignored the error.\n‘\nmissing separator.  Stop.\n’\n‘\nmissing separator (did you mean TAB instead of 8 spaces?).  Stop.\n’\nThis means that\nmake\ncould not understand much of anything\nabout the makefile line it just read.  GNU\nmake\nlooks for\nvarious separators (\n:\n,\n=\n, recipe prefix characters,\netc.) to indicate what kind of line it’s parsing.  This message means\nit couldn’t find a valid one.\nOne of the most common reasons for this message is that you (or\nperhaps your oh-so-helpful editor, as is the case with many MS-Windows\neditors) have attempted to indent your recipe lines with spaces\ninstead of a tab character.  In this case,\nmake\nwill use the\nsecond form of the error above.  Remember that every line in the\nrecipe must begin with a tab character (unless you set\n.RECIPEPREFIX\n; see\nOther Special Variables\n).  Eight spaces do not\ncount.  See\nRule Syntax\n.\n‘\nrecipe commences before first target.  Stop.\n’\n‘\nmissing rule before recipe.  Stop.\n’\nThis means the first thing in the makefile seems to be part of a\nrecipe: it begins with a recipe prefix character and doesn’t appear to\nbe a legal\nmake\ndirective (such as a variable assignment).\nRecipes must always be associated with a target.\nThe second form is generated if the line has a semicolon as the first\nnon-whitespace character;\nmake\ninterprets this to mean you left\nout the \"target: prerequisite\" section of a rule.  See\nRule Syntax\n.\n‘\nNo rule to make target `\nxxx\n'.\n’\n‘\nNo rule to make target `\nxxx\n', needed by `\nyyy\n'.\n’\nThis means that\nmake\ndecided it needed to build a target, but\nthen couldn’t find any instructions in the makefile on how to do that,\neither explicit or implicit (including in the default rules database).\nIf you want that file to be built, you will need to add a rule to your\nmakefile describing how that target can be built.  Other possible\nsources of this problem are typos in the makefile (if that file name is\nwrong) or a corrupted source tree (if that file is not supposed to be\nbuilt, but rather only a prerequisite).\n‘\nNo targets specified and no makefile found.  Stop.\n’\n‘\nNo targets.  Stop.\n’\nThe former means that you didn’t provide any targets to be built on the\ncommand line, and\nmake\ncouldn’t find any makefiles to read in.\nThe latter means that some makefile was found, but it didn’t contain any\ndefault goal and none was given on the command line.  GNU\nmake\nhas nothing to do in these situations.\nSee\nArguments to Specify the Makefile\n.\n‘\nMakefile `\nxxx\n' was not found.\n’\n‘\nIncluded makefile `\nxxx\n' was not found.\n’\nA makefile specified on the command line (first form) or included\n(second form) was not found.\n‘\nwarning: overriding recipe for target `\nxxx\n'\n’\n‘\nwarning: ignoring old recipe for target `\nxxx\n'\n’\nGNU\nmake\nallows only one recipe to be specified per target\n(except for double-colon rules).  If you give a recipe for a target\nwhich already has been defined to have one, this warning is issued and\nthe second recipe will overwrite the first.  See\nMultiple Rules for One Target\n.\n‘\nCircular\nxxx\n<-\nyyy\ndependency dropped.\n’\nThis means that\nmake\ndetected a loop in the dependency graph:\nafter tracing the prerequisite\nyyy\nof target\nxxx\n, and its\nprerequisites, etc., one of them depended on\nxxx\nagain.\n‘\nRecursive variable `\nxxx\n' references itself (eventually).  Stop.\n’\nThis means you’ve defined a normal (recursive)\nmake\nvariable\nxxx\nthat, when it’s expanded, will refer to itself (\nxxx\n).\nThis is not allowed; either use simply-expanded variables (‘\n:=\n’\nor ‘\n::=\n’) or use the append operator (‘\n+=\n’).  See\nHow to Use Variables\n.\n‘\nUnterminated variable reference.  Stop.\n’\nThis means you forgot to provide the proper closing parenthesis\nor brace in your variable or function reference.\n‘\ninsufficient arguments to function `\nxxx\n'.  Stop.\n’\nThis means you haven’t provided the requisite number of arguments for\nthis function.  See the documentation of the function for a description\nof its arguments.  See\nFunctions for Transforming Text\n.\n‘\nmissing target pattern.  Stop.\n’\n‘\nmultiple target patterns.  Stop.\n’\n‘\ntarget pattern contains no `%'.  Stop.\n’\n‘\nmixed implicit and static pattern rules.  Stop.\n’\nThese errors are generated for malformed static pattern rules\n(see\nSyntax of Static Pattern Rules\n).  The first\nmeans the target-pattern part of the rule is empty; the second means\nthere are multiple pattern characters (\n%\n) in the target-pattern\npart; the third means there are no pattern characters in the\ntarget-pattern part; and the fourth means that all three parts of the\nstatic pattern rule contain pattern characters (\n%\n)–the first\npart should not contain pattern characters.\nIf you see these errors and you aren’t trying to create a static\npattern rule, check the value of any variables in your target and\nprerequisite lists to be sure they do not contain colons.\n‘\nwarning: -jN forced in submake: disabling jobserver mode.\n’\nThis warning and the next are generated if\nmake\ndetects error\nconditions related to parallel processing on systems where\nsub-\nmake\ns can communicate (see\nCommunicating Options to a Sub-\nmake\n).  This warning is\ngenerated if a recursive invocation of a\nmake\nprocess is forced\nto have ‘\n-j\nN\n’ in its argument list (where\nN\nis greater\nthan one).  This could happen, for example, if you set the\nMAKE\nenvironment variable to ‘\nmake -j2\n’.  In this case, the\nsub-\nmake\ndoesn’t communicate with other\nmake\nprocesses and\nwill simply pretend it has two jobs of its own.\n‘\nwarning: jobserver unavailable: using -j1.  Add `+' to parent make rule.\n’\nIn order for\nmake\nprocesses to communicate, the parent will pass\ninformation to the child.  Since this could result in problems if the\nchild process isn’t actually a\nmake\n, the parent will only do this\nif it thinks the child is a\nmake\n.  The parent uses the normal\nalgorithms to determine this (see\nHow the\nMAKE\nVariable Works\n).  If the makefile is constructed such that the parent\ndoesn’t know the child is a\nmake\nprocess, then the child will\nreceive only part of the information necessary.  In this case, the child\nwill generate this warning message and proceed with its build in a\nsequential manner.\n‘\nwarning: ignoring prerequisites on suffix rule definition\n’\nAccording to POSIX, a suffix rule cannot contain prerequisites.  If a rule\nthat could be a suffix rule has prerequisites it is interpreted as a simple\nexplicit rule, with an odd target name.  This requirement is obeyed when\nPOSIX-conforming mode is enabled (the\n.POSIX\ntarget is defined).  In\nversions of GNU\nmake\nprior to 4.3, no warning was emitted and a\nsuffix rule was created, however all prerequisites were ignored and were not\npart of the suffix rule.  Starting with GNU\nmake\n4.3 the behavior is\nthe same, and in addition this warning is generated.  In a future version\nthe POSIX-conforming behavior will be the only behavior: no rule with a\nprerequisite can be suffix rule and this warning will be removed.\nNext:\nGNU Free Documentation License\n, Previous:\nErrors Generated by Make\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\nAppendix C Complex Makefile Example\nHere is the makefile for the GNU\ntar\nprogram.  This is a\nmoderately complex makefile.  The first line uses a\n#!\nsetting\nto allow the makefile to be executed directly.\nBecause it is the first target, the default goal is ‘\nall\n’.  An\ninteresting feature of this makefile is that\ntestpad.h\nis a\nsource file automatically created by the\ntestpad\nprogram,\nitself compiled from\ntestpad.c\n.\nIf you type ‘\nmake\n’ or ‘\nmake all\n’, then\nmake\ncreates\nthe\ntar\nexecutable, the\nrmt\ndaemon that provides\nremote tape access, and the\ntar.info\nInfo file.\nIf you type ‘\nmake install\n’, then\nmake\nnot only creates\ntar\n,\nrmt\n, and\ntar.info\n, but also installs\nthem.\nIf you type ‘\nmake clean\n’, then\nmake\nremoves the ‘\n.o\n’\nfiles, and the\ntar\n,\nrmt\n,\ntestpad\n,\ntestpad.h\n, and\ncore\nfiles.\nIf you type ‘\nmake distclean\n’, then\nmake\nnot only removes\nthe same files as does ‘\nmake clean\n’ but also the\nTAGS\n,\nMakefile\n, and\nconfig.status\nfiles.\n(Although it is not evident, this makefile (and\nconfig.status\n) is generated by the user with the\nconfigure\nprogram, which is provided in the\ntar\ndistribution, but is not shown here.)\nIf you type ‘\nmake realclean\n’, then\nmake\nremoves the same\nfiles as does ‘\nmake distclean\n’ and also removes the Info files\ngenerated from\ntar.texinfo\n.\nIn addition, there are targets\nshar\nand\ndist\nthat create\ndistribution kits.\n#!/usr/bin/make -f\n# Generated automatically from Makefile.in by configure.\n# Un*x Makefile for GNU tar program.\n# Copyright (C) 1991 Free Software Foundation, Inc.\n# This program is free software; you can redistribute\n# it and/or modify it under the terms of the GNU\n# General Public License …\n…\n…\nSHELL = /bin/sh\n#### Start of system configuration section. ####\nsrcdir = .\n# If you use gcc, you should either run the\n# fixincludes script that comes with it or else use\n# gcc with the -traditional option.  Otherwise ioctl\n# calls will be compiled incorrectly on some systems.\nCC = gcc -O\nYACC = bison -y\nINSTALL = /usr/local/bin/install -c\nINSTALLDATA = /usr/local/bin/install -c -m 644\n# Things you might add to DEFS:\n# -DSTDC_HEADERS        If you have ANSI C headers and\n#                       libraries.\n# -DPOSIX               If you have POSIX.1 headers and\n#                       libraries.\n# -DBSD42               If you have sys/dir.h (unless\n#                       you use -DPOSIX), sys/file.h,\n#                       and st_blocks in `struct stat'.\n# -DUSG                 If you have System V/ANSI C\n#                       string and memory functions\n#                       and headers, sys/sysmacros.h,\n#                       fcntl.h, getcwd, no valloc,\n#                       and ndir.h (unless\n#                       you use -DDIRENT).\n# -DNO_MEMORY_H         If USG or STDC_HEADERS but do not\n#                       include memory.h.\n# -DDIRENT              If USG and you have dirent.h\n#                       instead of ndir.h.\n# -DSIGTYPE=int         If your signal handlers\n#                       return int, not void.\n# -DNO_MTIO             If you lack sys/mtio.h\n#                       (magtape ioctls).\n# -DNO_REMOTE           If you do not have a remote shell\n#                       or rexec.\n# -DUSE_REXEC           To use rexec for remote tape\n#                       operations instead of\n#                       forking rsh or remsh.\n# -DVPRINTF_MISSING     If you lack vprintf function\n#                       (but have _doprnt).\n# -DDOPRNT_MISSING      If you lack _doprnt function.\n#                       Also need to define\n#                       -DVPRINTF_MISSING.\n# -DFTIME_MISSING       If you lack ftime system call.\n# -DSTRSTR_MISSING      If you lack strstr function.\n# -DVALLOC_MISSING      If you lack valloc function.\n# -DMKDIR_MISSING       If you lack mkdir and\n#                       rmdir system calls.\n# -DRENAME_MISSING      If you lack rename system call.\n# -DFTRUNCATE_MISSING   If you lack ftruncate\n#                       system call.\n# -DV7                  On Version 7 Unix (not\n#                       tested in a long time).\n# -DEMUL_OPEN3          If you lack a 3-argument version\n#                       of open, and want to emulate it\n#                       with system calls you do have.\n# -DNO_OPEN3            If you lack the 3-argument open\n#                       and want to disable the tar -k\n#                       option instead of emulating open.\n# -DXENIX               If you have sys/inode.h\n#                       and need it 94 to be included.\nDEFS =  -DSIGTYPE=int -DDIRENT -DSTRSTR_MISSING \\\n-DVPRINTF_MISSING -DBSD42\n# Set this to rtapelib.o unless you defined NO_REMOTE,\n# in which case make it empty.\nRTAPELIB = rtapelib.o\nLIBS =\nDEF_AR_FILE = /dev/rmt8\nDEFBLOCKING = 20\nCDEBUG = -g\nCFLAGS = $(CDEBUG) -I. -I$(srcdir) $(DEFS) \\\n-DDEF_AR_FILE=\\\"$(DEF_AR_FILE)\\\" \\\n-DDEFBLOCKING=$(DEFBLOCKING)\nLDFLAGS = -g\nprefix = /usr/local\n# Prefix for each installed program,\n# normally empty or `g'.\nbinprefix =\n# The directory to install tar in.\nbindir = $(prefix)/bin\n# The directory to install the info files in.\ninfodir = $(prefix)/info\n#### End of system configuration section. ####\nSRCS_C  = tar.c create.c extract.c buffer.c   \\\ngetoldopt.c update.c gnu.c mangle.c \\\nversion.c list.c names.c diffarch.c \\\nport.c wildmat.c getopt.c getopt1.c \\\nregex.c\nSRCS_Y  = getdate.y\nSRCS    = $(SRCS_C) $(SRCS_Y)\nOBJS    = $(SRCS_C:.c=.o) $(SRCS_Y:.y=.o) $(RTAPELIB)\nAUX =   README COPYING ChangeLog Makefile.in  \\\nmakefile.pc configure configure.in \\\ntar.texinfo tar.info* texinfo.tex \\\ntar.h port.h open3.h getopt.h regex.h \\\nrmt.h rmt.c rtapelib.c alloca.c \\\nmsd_dir.h msd_dir.c tcexparg.c \\\nlevel-0 level-1 backup-specs testpad.c\n.PHONY: all\nall:    tar rmt tar.info\ntar:    $(OBJS)\n$(CC) $(LDFLAGS) -o $@ $(OBJS) $(LIBS)\nrmt:    rmt.c\n$(CC) $(CFLAGS) $(LDFLAGS) -o $@ rmt.c\ntar.info: tar.texinfo\nmakeinfo tar.texinfo\n.PHONY: install\ninstall: all\n$(INSTALL) tar $(bindir)/$(binprefix)tar\n-test ! -f rmt || $(INSTALL) rmt /etc/rmt\n$(INSTALLDATA) $(srcdir)/tar.info* $(infodir)\n$(OBJS): tar.h port.h testpad.h\nregex.o buffer.o tar.o: regex.h\n# getdate.y has 8 shift/reduce conflicts.\ntestpad.h: testpad\n./testpad\ntestpad: testpad.o\n$(CC) -o $@ testpad.o\nTAGS:   $(SRCS)\netags $(SRCS)\n.PHONY: clean\nclean:\nrm -f *.o tar rmt testpad testpad.h core\n.PHONY: distclean\ndistclean: clean\nrm -f TAGS Makefile config.status\n.PHONY: realclean\nrealclean: distclean\nrm -f tar.info*\n.PHONY: shar\nshar: $(SRCS) $(AUX)\nshar $(SRCS) $(AUX) | compress \\\n> tar-`sed -e '/version_string/!d' \\\n-e 's/[^0-9.]*\\([0-9.]*\\).*/\\1/' \\\n-e q\nversion.c`.shar.Z\n.PHONY: dist\ndist: $(SRCS) $(AUX)\necho tar-`sed \\\n-e '/version_string/!d' \\\n-e 's/[^0-9.]*\\([0-9.]*\\).*/\\1/' \\\n-e q\nversion.c` > .fname\n-rm -rf `cat .fname`\nmkdir `cat .fname`\nln $(SRCS) $(AUX) `cat .fname`\ntar chZf `cat .fname`.tar.Z `cat .fname`\n-rm -rf `cat .fname` .fname\ntar.zoo: $(SRCS) $(AUX)\n-rm -rf tmp.dir\n-mkdir tmp.dir\n-rm tar.zoo\nfor X in $(SRCS) $(AUX) ; do \\\necho $$X ; \\\nsed 's/$$/^M/' $$X \\\n> tmp.dir/$$X ; done\ncd tmp.dir ; zoo aM ../tar.zoo *\n-rm -rf tmp.dir\nNext:\nIndex of Concepts\n, Previous:\nComplex Makefile Example\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\nAppendix D GNU Free Documentation License\nVersion 1.3, 3 November 2008\nCopyright © 2000, 2001, 2002, 2007, 2008 Free Software Foundation, Inc.\nhttps://fsf.org/\nEveryone is permitted to copy and distribute verbatim copies\nof this license document, but changing it is not allowed.\nPREAMBLE\nThe purpose of this License is to make a manual, textbook, or other\nfunctional and useful document\nfree\nin the sense of freedom: to\nassure everyone the effective freedom to copy and redistribute it,\nwith or without modifying it, either commercially or noncommercially.\nSecondarily, this License preserves for the author and publisher a way\nto get credit for their work, while not being considered responsible\nfor modifications made by others.\nThis License is a kind of “copyleft”, which means that derivative\nworks of the document must themselves be free in the same sense.  It\ncomplements the GNU General Public License, which is a copyleft\nlicense designed for free software.\nWe have designed this License in order to use it for manuals for free\nsoftware, because free software needs free documentation: a free\nprogram should come with manuals providing the same freedoms that the\nsoftware does.  But this License is not limited to software manuals;\nit can be used for any textual work, regardless of subject matter or\nwhether it is published as a printed book.  We recommend this License\nprincipally for works whose purpose is instruction or reference.\nAPPLICABILITY AND DEFINITIONS\nThis License applies to any manual or other work, in any medium, that\ncontains a notice placed by the copyright holder saying it can be\ndistributed under the terms of this License.  Such a notice grants a\nworld-wide, royalty-free license, unlimited in duration, to use that\nwork under the conditions stated herein.  The “Document”, below,\nrefers to any such manual or work.  Any member of the public is a\nlicensee, and is addressed as “you”.  You accept the license if you\ncopy, modify or distribute the work in a way requiring permission\nunder copyright law.\nA “Modified Version” of the Document means any work containing the\nDocument or a portion of it, either copied verbatim, or with\nmodifications and/or translated into another language.\nA “Secondary Section” is a named appendix or a front-matter section\nof the Document that deals exclusively with the relationship of the\npublishers or authors of the Document to the Document’s overall\nsubject (or to related matters) and contains nothing that could fall\ndirectly within that overall subject.  (Thus, if the Document is in\npart a textbook of mathematics, a Secondary Section may not explain\nany mathematics.)  The relationship could be a matter of historical\nconnection with the subject or with related matters, or of legal,\ncommercial, philosophical, ethical or political position regarding\nthem.\nThe “Invariant Sections” are certain Secondary Sections whose titles\nare designated, as being those of Invariant Sections, in the notice\nthat says that the Document is released under this License.  If a\nsection does not fit the above definition of Secondary then it is not\nallowed to be designated as Invariant.  The Document may contain zero\nInvariant Sections.  If the Document does not identify any Invariant\nSections then there are none.\nThe “Cover Texts” are certain short passages of text that are listed,\nas Front-Cover Texts or Back-Cover Texts, in the notice that says that\nthe Document is released under this License.  A Front-Cover Text may\nbe at most 5 words, and a Back-Cover Text may be at most 25 words.\nA “Transparent” copy of the Document means a machine-readable copy,\nrepresented in a format whose specification is available to the\ngeneral public, that is suitable for revising the document\nstraightforwardly with generic text editors or (for images composed of\npixels) generic paint programs or (for drawings) some widely available\ndrawing editor, and that is suitable for input to text formatters or\nfor automatic translation to a variety of formats suitable for input\nto text formatters.  A copy made in an otherwise Transparent file\nformat whose markup, or absence of markup, has been arranged to thwart\nor discourage subsequent modification by readers is not Transparent.\nAn image format is not Transparent if used for any substantial amount\nof text.  A copy that is not “Transparent” is called “Opaque”.\nExamples of suitable formats for Transparent copies include plain\nASCII without markup, Texinfo input format, LaTeX input\nformat, SGML or XML using a publicly available\nDTD, and standard-conforming simple HTML,\nPostScript or PDF designed for human modification.  Examples\nof transparent image formats include PNG, XCF and\nJPG.  Opaque formats include proprietary formats that can be\nread and edited only by proprietary word processors, SGML or\nXML for which the DTD and/or processing tools are\nnot generally available, and the machine-generated HTML,\nPostScript or PDF produced by some word processors for\noutput purposes only.\nThe “Title Page” means, for a printed book, the title page itself,\nplus such following pages as are needed to hold, legibly, the material\nthis License requires to appear in the title page.  For works in\nformats which do not have any title page as such, “Title Page” means\nthe text near the most prominent appearance of the work’s title,\npreceding the beginning of the body of the text.\nThe “publisher” means any person or entity that distributes copies\nof the Document to the public.\nA section “Entitled XYZ” means a named subunit of the Document whose\ntitle either is precisely XYZ or contains XYZ in parentheses following\ntext that translates XYZ in another language.  (Here XYZ stands for a\nspecific section name mentioned below, such as “Acknowledgements”,\n“Dedications”, “Endorsements”, or “History”.)  To “Preserve the Title”\nof such a section when you modify the Document means that it remains a\nsection “Entitled XYZ” according to this definition.\nThe Document may include Warranty Disclaimers next to the notice which\nstates that this License applies to the Document.  These Warranty\nDisclaimers are considered to be included by reference in this\nLicense, but only as regards disclaiming warranties: any other\nimplication that these Warranty Disclaimers may have is void and has\nno effect on the meaning of this License.\nVERBATIM COPYING\nYou may copy and distribute the Document in any medium, either\ncommercially or noncommercially, provided that this License, the\ncopyright notices, and the license notice saying this License applies\nto the Document are reproduced in all copies, and that you add no other\nconditions whatsoever to those of this License.  You may not use\ntechnical measures to obstruct or control the reading or further\ncopying of the copies you make or distribute.  However, you may accept\ncompensation in exchange for copies.  If you distribute a large enough\nnumber of copies you must also follow the conditions in section 3.\nYou may also lend copies, under the same conditions stated above, and\nyou may publicly display copies.\nCOPYING IN QUANTITY\nIf you publish printed copies (or copies in media that commonly have\nprinted covers) of the Document, numbering more than 100, and the\nDocument’s license notice requires Cover Texts, you must enclose the\ncopies in covers that carry, clearly and legibly, all these Cover\nTexts: Front-Cover Texts on the front cover, and Back-Cover Texts on\nthe back cover.  Both covers must also clearly and legibly identify\nyou as the publisher of these copies.  The front cover must present\nthe full title with all words of the title equally prominent and\nvisible.  You may add other material on the covers in addition.\nCopying with changes limited to the covers, as long as they preserve\nthe title of the Document and satisfy these conditions, can be treated\nas verbatim copying in other respects.\nIf the required texts for either cover are too voluminous to fit\nlegibly, you should put the first ones listed (as many as fit\nreasonably) on the actual cover, and continue the rest onto adjacent\npages.\nIf you publish or distribute Opaque copies of the Document numbering\nmore than 100, you must either include a machine-readable Transparent\ncopy along with each Opaque copy, or state in or with each Opaque copy\na computer-network location from which the general network-using\npublic has access to download using public-standard network protocols\na complete Transparent copy of the Document, free of added material.\nIf you use the latter option, you must take reasonably prudent steps,\nwhen you begin distribution of Opaque copies in quantity, to ensure\nthat this Transparent copy will remain thus accessible at the stated\nlocation until at least one year after the last time you distribute an\nOpaque copy (directly or through your agents or retailers) of that\nedition to the public.\nIt is requested, but not required, that you contact the authors of the\nDocument well before redistributing any large number of copies, to give\nthem a chance to provide you with an updated version of the Document.\nMODIFICATIONS\nYou may copy and distribute a Modified Version of the Document under\nthe conditions of sections 2 and 3 above, provided that you release\nthe Modified Version under precisely this License, with the Modified\nVersion filling the role of the Document, thus licensing distribution\nand modification of the Modified Version to whoever possesses a copy\nof it.  In addition, you must do these things in the Modified Version:\nUse in the Title Page (and on the covers, if any) a title distinct\nfrom that of the Document, and from those of previous versions\n(which should, if there were any, be listed in the History section\nof the Document).  You may use the same title as a previous version\nif the original publisher of that version gives permission.\nList on the Title Page, as authors, one or more persons or entities\nresponsible for authorship of the modifications in the Modified\nVersion, together with at least five of the principal authors of the\nDocument (all of its principal authors, if it has fewer than five),\nunless they release you from this requirement.\nState on the Title page the name of the publisher of the\nModified Version, as the publisher.\nPreserve all the copyright notices of the Document.\nAdd an appropriate copyright notice for your modifications\nadjacent to the other copyright notices.\nInclude, immediately after the copyright notices, a license notice\ngiving the public permission to use the Modified Version under the\nterms of this License, in the form shown in the Addendum below.\nPreserve in that license notice the full lists of Invariant Sections\nand required Cover Texts given in the Document’s license notice.\nInclude an unaltered copy of this License.\nPreserve the section Entitled “History”, Preserve its Title, and add\nto it an item stating at least the title, year, new authors, and\npublisher of the Modified Version as given on the Title Page.  If\nthere is no section Entitled “History” in the Document, create one\nstating the title, year, authors, and publisher of the Document as\ngiven on its Title Page, then add an item describing the Modified\nVersion as stated in the previous sentence.\nPreserve the network location, if any, given in the Document for\npublic access to a Transparent copy of the Document, and likewise\nthe network locations given in the Document for previous versions\nit was based on.  These may be placed in the “History” section.\nYou may omit a network location for a work that was published at\nleast four years before the Document itself, or if the original\npublisher of the version it refers to gives permission.\nFor any section Entitled “Acknowledgements” or “Dedications”, Preserve\nthe Title of the section, and preserve in the section all the\nsubstance and tone of each of the contributor acknowledgements and/or\ndedications given therein.\nPreserve all the Invariant Sections of the Document,\nunaltered in their text and in their titles.  Section numbers\nor the equivalent are not considered part of the section titles.\nDelete any section Entitled “Endorsements”.  Such a section\nmay not be included in the Modified Version.\nDo not retitle any existing section to be Entitled “Endorsements” or\nto conflict in title with any Invariant Section.\nPreserve any Warranty Disclaimers.\nIf the Modified Version includes new front-matter sections or\nappendices that qualify as Secondary Sections and contain no material\ncopied from the Document, you may at your option designate some or all\nof these sections as invariant.  To do this, add their titles to the\nlist of Invariant Sections in the Modified Version’s license notice.\nThese titles must be distinct from any other section titles.\nYou may add a section Entitled “Endorsements”, provided it contains\nnothing but endorsements of your Modified Version by various\nparties—for example, statements of peer review or that the text has\nbeen approved by an organization as the authoritative definition of a\nstandard.\nYou may add a passage of up to five words as a Front-Cover Text, and a\npassage of up to 25 words as a Back-Cover Text, to the end of the list\nof Cover Texts in the Modified Version.  Only one passage of\nFront-Cover Text and one of Back-Cover Text may be added by (or\nthrough arrangements made by) any one entity.  If the Document already\nincludes a cover text for the same cover, previously added by you or\nby arrangement made by the same entity you are acting on behalf of,\nyou may not add another; but you may replace the old one, on explicit\npermission from the previous publisher that added the old one.\nThe author(s) and publisher(s) of the Document do not by this License\ngive permission to use their names for publicity for or to assert or\nimply endorsement of any Modified Version.\nCOMBINING DOCUMENTS\nYou may combine the Document with other documents released under this\nLicense, under the terms defined in section 4 above for modified\nversions, provided that you include in the combination all of the\nInvariant Sections of all of the original documents, unmodified, and\nlist them all as Invariant Sections of your combined work in its\nlicense notice, and that you preserve all their Warranty Disclaimers.\nThe combined work need only contain one copy of this License, and\nmultiple identical Invariant Sections may be replaced with a single\ncopy.  If there are multiple Invariant Sections with the same name but\ndifferent contents, make the title of each such section unique by\nadding at the end of it, in parentheses, the name of the original\nauthor or publisher of that section if known, or else a unique number.\nMake the same adjustment to the section titles in the list of\nInvariant Sections in the license notice of the combined work.\nIn the combination, you must combine any sections Entitled “History”\nin the various original documents, forming one section Entitled\n“History”; likewise combine any sections Entitled “Acknowledgements”,\nand any sections Entitled “Dedications”.  You must delete all\nsections Entitled “Endorsements.”\nCOLLECTIONS OF DOCUMENTS\nYou may make a collection consisting of the Document and other documents\nreleased under this License, and replace the individual copies of this\nLicense in the various documents with a single copy that is included in\nthe collection, provided that you follow the rules of this License for\nverbatim copying of each of the documents in all other respects.\nYou may extract a single document from such a collection, and distribute\nit individually under this License, provided you insert a copy of this\nLicense into the extracted document, and follow this License in all\nother respects regarding verbatim copying of that document.\nAGGREGATION WITH INDEPENDENT WORKS\nA compilation of the Document or its derivatives with other separate\nand independent documents or works, in or on a volume of a storage or\ndistribution medium, is called an “aggregate” if the copyright\nresulting from the compilation is not used to limit the legal rights\nof the compilation’s users beyond what the individual works permit.\nWhen the Document is included in an aggregate, this License does not\napply to the other works in the aggregate which are not themselves\nderivative works of the Document.\nIf the Cover Text requirement of section 3 is applicable to these\ncopies of the Document, then if the Document is less than one half of\nthe entire aggregate, the Document’s Cover Texts may be placed on\ncovers that bracket the Document within the aggregate, or the\nelectronic equivalent of covers if the Document is in electronic form.\nOtherwise they must appear on printed covers that bracket the whole\naggregate.\nTRANSLATION\nTranslation is considered a kind of modification, so you may\ndistribute translations of the Document under the terms of section 4.\nReplacing Invariant Sections with translations requires special\npermission from their copyright holders, but you may include\ntranslations of some or all Invariant Sections in addition to the\noriginal versions of these Invariant Sections.  You may include a\ntranslation of this License, and all the license notices in the\nDocument, and any Warranty Disclaimers, provided that you also include\nthe original English version of this License and the original versions\nof those notices and disclaimers.  In case of a disagreement between\nthe translation and the original version of this License or a notice\nor disclaimer, the original version will prevail.\nIf a section in the Document is Entitled “Acknowledgements”,\n“Dedications”, or “History”, the requirement (section 4) to Preserve\nits Title (section 1) will typically require changing the actual\ntitle.\nTERMINATION\nYou may not copy, modify, sublicense, or distribute the Document\nexcept as expressly provided under this License.  Any attempt\notherwise to copy, modify, sublicense, or distribute it is void, and\nwill automatically terminate your rights under this License.\nHowever, if you cease all violation of this License, then your license\nfrom a particular copyright holder is reinstated (a) provisionally,\nunless and until the copyright holder explicitly and finally\nterminates your license, and (b) permanently, if the copyright holder\nfails to notify you of the violation by some reasonable means prior to\n60 days after the cessation.\nMoreover, your license from a particular copyright holder is\nreinstated permanently if the copyright holder notifies you of the\nviolation by some reasonable means, this is the first time you have\nreceived notice of violation of this License (for any work) from that\ncopyright holder, and you cure the violation prior to 30 days after\nyour receipt of the notice.\nTermination of your rights under this section does not terminate the\nlicenses of parties who have received copies or rights from you under\nthis License.  If your rights have been terminated and not permanently\nreinstated, receipt of a copy of some or all of the same material does\nnot give you any rights to use it.\nFUTURE REVISIONS OF THIS LICENSE\nThe Free Software Foundation may publish new, revised versions\nof the GNU Free Documentation License from time to time.  Such new\nversions will be similar in spirit to the present version, but may\ndiffer in detail to address new problems or concerns.  See\nhttps://www.gnu.org/licenses/\n.\nEach version of the License is given a distinguishing version number.\nIf the Document specifies that a particular numbered version of this\nLicense “or any later version” applies to it, you have the option of\nfollowing the terms and conditions either of that specified version or\nof any later version that has been published (not as a draft) by the\nFree Software Foundation.  If the Document does not specify a version\nnumber of this License, you may choose any version ever published (not\nas a draft) by the Free Software Foundation.  If the Document\nspecifies that a proxy can decide which future versions of this\nLicense can be used, that proxy’s public statement of acceptance of a\nversion permanently authorizes you to choose that version for the\nDocument.\nRELICENSING\n“Massive Multiauthor Collaboration Site” (or “MMC Site”) means any\nWorld Wide Web server that publishes copyrightable works and also\nprovides prominent facilities for anybody to edit those works.  A\npublic wiki that anybody can edit is an example of such a server.  A\n“Massive Multiauthor Collaboration” (or “MMC”) contained in the\nsite means any set of copyrightable works thus published on the MMC\nsite.\n“CC-BY-SA” means the Creative Commons Attribution-Share Alike 3.0\nlicense published by Creative Commons Corporation, a not-for-profit\ncorporation with a principal place of business in San Francisco,\nCalifornia, as well as future copyleft versions of that license\npublished by that same organization.\n“Incorporate” means to publish or republish a Document, in whole or\nin part, as part of another Document.\nAn MMC is “eligible for relicensing” if it is licensed under this\nLicense, and if all works that were first published under this License\nsomewhere other than this MMC, and subsequently incorporated in whole\nor in part into the MMC, (1) had no cover texts or invariant sections,\nand (2) were thus incorporated prior to November 1, 2008.\nThe operator of an MMC Site may republish an MMC contained in the site\nunder CC-BY-SA on the same site at any time before August 1, 2009,\nprovided the MMC is eligible for relicensing.\nADDENDUM: How to use this License for your documents\nTo use this License in a document you have written, include a copy of\nthe License in the document and put the following copyright and\nlicense notices just after the title page:\nCopyright (C)\nyear\nyour name\n.\nPermission is granted to copy, distribute and/or modify this document\nunder the terms of the GNU Free Documentation License, Version 1.3\nor any later version published by the Free Software Foundation;\nwith no Invariant Sections, no Front-Cover Texts, and no Back-Cover\nTexts.  A copy of the license is included in the section entitled ``GNU\nFree Documentation License''.\nIf you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,\nreplace the “with…Texts.” line with this:\nwith the Invariant Sections being\nlist their titles\n, with\nthe Front-Cover Texts being\nlist\n, and with the Back-Cover Texts\nbeing\nlist\n.\nIf you have Invariant Sections without Cover Texts, or some other\ncombination of the three, merge those two alternatives to suit the\nsituation.\nIf your document contains nontrivial examples of program code, we\nrecommend releasing these examples in parallel under your choice of\nfree software license, such as the GNU General Public License,\nto permit their use in free software.\nNext:\nIndex of Functions, Variables, & Directives\n, Previous:\nGNU Free Documentation License\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\nIndex of Concepts\nJump to:\n!\n#\n$\n%\n*\n+\n,\n-\n.\n:\n=\n?\n@\n[\n\\\n_\n~\nA\nB\nC\nD\nE\nF\nG\nH\nI\nJ\nK\nL\nM\nN\nO\nP\nQ\nR\nS\nT\nU\nV\nW\nY\nIndex Entry\nSection\n!\n!=\n:\nSetting\n!=, expansion\n:\nReading Makefiles\n#\n#\n(comments), in makefile\n:\nMakefile Contents\n#\n(comments), in recipes\n:\nRecipe Syntax\n#include\n:\nAutomatic Prerequisites\n$\n$\n, in function call\n:\nSyntax of Functions\n$\n, in rules\n:\nRule Syntax\n$\n, in variable name\n:\nComputed Names\n$\n, in variable reference\n:\nReference\n%\n%\n, in pattern rules\n:\nPattern Intro\n%\n, quoting in\npatsubst\n:\nText Functions\n%\n, quoting in static pattern\n:\nStatic Usage\n%\n, quoting in\nvpath\n:\nSelective Search\n%\n, quoting with\n\\\n(backslash)\n:\nSelective Search\n%\n, quoting with\n\\\n(backslash)\n:\nStatic Usage\n%\n, quoting with\n\\\n(backslash)\n:\nText Functions\n*\n*\n(wildcard character)\n:\nWildcards\n+\n+, and\ndefine\n:\nCanned Recipes\n+, and recipe execution\n:\nInstead of Execution\n+, and recipes\n:\nMAKE Variable\n+=\n:\nAppending\n+=, expansion\n:\nReading Makefiles\n+=, expansion\n:\nReading Makefiles\n,\n,v\n(RCS file extension)\n:\nCatalogue of Rules\n-\n-\n(in recipes)\n:\nErrors\n-, and\ndefine\n:\nCanned Recipes\n--always-make\n:\nOptions Summary\n--assume-new\n:\nInstead of Execution\n--assume-new\n:\nOptions Summary\n--assume-new\n, and recursion\n:\nOptions/Recursion\n--assume-old\n:\nAvoiding Compilation\n--assume-old\n:\nOptions Summary\n--assume-old\n, and recursion\n:\nOptions/Recursion\n--check-symlink-times\n:\nOptions Summary\n--debug\n:\nOptions Summary\n--directory\n:\nRecursion\n--directory\n:\nOptions Summary\n--directory\n, and\n--print-directory\n:\n-w Option\n--directory\n, and recursion\n:\nOptions/Recursion\n--dry-run\n:\nEchoing\n--dry-run\n:\nInstead of Execution\n--dry-run\n:\nOptions Summary\n--environment-overrides\n:\nOptions Summary\n--eval\n:\nOptions Summary\n--file\n:\nMakefile Names\n--file\n:\nMakefile Arguments\n--file\n:\nOptions Summary\n--file\n, and recursion\n:\nOptions/Recursion\n--help\n:\nOptions Summary\n--ignore-errors\n:\nErrors\n--ignore-errors\n:\nOptions Summary\n--include-dir\n:\nInclude\n--include-dir\n:\nOptions Summary\n--jobs\n:\nParallel\n--jobs\n:\nOptions Summary\n--jobs\n, and recursion\n:\nOptions/Recursion\n--jobserver-auth\n:\nJob Slots\n--jobserver-style\n:\nOptions Summary\n--jobserver-style\n:\nPOSIX Jobserver\n--jobserver-style\nfor Windows\n:\nWindows Jobserver\n--just-print\n:\nEchoing\n--just-print\n:\nInstead of Execution\n--just-print\n:\nOptions Summary\n--keep-going\n:\nErrors\n--keep-going\n:\nTesting\n--keep-going\n:\nOptions Summary\n--load-average\n:\nParallel\n--load-average\n:\nOptions Summary\n--makefile\n:\nMakefile Names\n--makefile\n:\nMakefile Arguments\n--makefile\n:\nOptions Summary\n--max-load\n:\nParallel\n--max-load\n:\nOptions Summary\n--new-file\n:\nInstead of Execution\n--new-file\n:\nOptions Summary\n--new-file\n, and recursion\n:\nOptions/Recursion\n--no-builtin-rules\n:\nOptions Summary\n--no-builtin-variables\n:\nOptions Summary\n--no-keep-going\n:\nOptions Summary\n--no-print-directory\n:\n-w Option\n--no-print-directory\n:\nOptions Summary\n--old-file\n:\nAvoiding Compilation\n--old-file\n:\nOptions Summary\n--old-file\n, and recursion\n:\nOptions/Recursion\n--output-sync\n:\nParallel Output\n--output-sync\n:\nOptions Summary\n--print-data-base\n:\nOptions Summary\n--print-directory\n:\nOptions Summary\n--print-directory\n, and\n--directory\n:\n-w Option\n--print-directory\n, and recursion\n:\n-w Option\n--print-directory\n, disabling\n:\n-w Option\n--question\n:\nInstead of Execution\n--question\n:\nOptions Summary\n--quiet\n:\nEchoing\n--quiet\n:\nOptions Summary\n--recon\n:\nEchoing\n--recon\n:\nInstead of Execution\n--recon\n:\nOptions Summary\n--shuffle\n:\nOptions Summary\n--silent\n:\nEchoing\n--silent\n:\nOptions Summary\n--stop\n:\nOptions Summary\n--touch\n:\nInstead of Execution\n--touch\n:\nOptions Summary\n--touch\n, and recursion\n:\nMAKE Variable\n--trace\n:\nOptions Summary\n--version\n:\nOptions Summary\n--warn-undefined-variables\n:\nOptions Summary\n--what-if\n:\nInstead of Execution\n--what-if\n:\nOptions Summary\n-b\n:\nOptions Summary\n-B\n:\nOptions Summary\n-C\n:\nRecursion\n-C\n:\nOptions Summary\n-C\n, and\n-w\n:\n-w Option\n-C\n, and recursion\n:\nOptions/Recursion\n-d\n:\nOptions Summary\n-e\n:\nOptions Summary\n-E\n:\nOptions Summary\n-e\n(shell flag)\n:\nAutomatic Prerequisites\n-f\n:\nMakefile Names\n-f\n:\nMakefile Arguments\n-f\n:\nOptions Summary\n-f\n, and recursion\n:\nOptions/Recursion\n-h\n:\nOptions Summary\n-I\n:\nInclude\n-i\n:\nErrors\n-i\n:\nOptions Summary\n-I\n:\nOptions Summary\n-j\n:\nParallel\n-j\n:\nOptions Summary\n-j\n, and archive update\n:\nArchive Pitfalls\n-j\n, and recursion\n:\nOptions/Recursion\n-k\n:\nErrors\n-k\n:\nTesting\n-k\n:\nOptions Summary\n-l\n:\nOptions Summary\n-L\n:\nOptions Summary\n-l\n(library search)\n:\nLibraries/Search\n-l\n(load average)\n:\nParallel\n-m\n:\nOptions Summary\n-M\n(to compiler)\n:\nAutomatic Prerequisites\n-MM\n(to GNU compiler)\n:\nAutomatic Prerequisites\n-n\n:\nEchoing\n-n\n:\nInstead of Execution\n-n\n:\nOptions Summary\n-O\n:\nParallel Output\n-o\n:\nAvoiding Compilation\n-o\n:\nOptions Summary\n-O\n:\nOptions Summary\n-o\n, and recursion\n:\nOptions/Recursion\n-p\n:\nOptions Summary\n-q\n:\nInstead of Execution\n-q\n:\nOptions Summary\n-r\n:\nOptions Summary\n-R\n:\nOptions Summary\n-s\n:\nEchoing\n-s\n:\nOptions Summary\n-S\n:\nOptions Summary\n-t\n:\nInstead of Execution\n-t\n:\nOptions Summary\n-t\n, and recursion\n:\nMAKE Variable\n-v\n:\nOptions Summary\n-W\n:\nInstead of Execution\n-w\n:\nOptions Summary\n-W\n:\nOptions Summary\n-w\n, and\n-C\n:\n-w Option\n-W\n, and recursion\n:\nOptions/Recursion\n-w\n, and recursion\n:\n-w Option\n-w\n, disabling\n:\n-w Option\n.\n.a\n(archives)\n:\nArchive Suffix Rules\n.c\n:\nCatalogue of Rules\n.C\n:\nCatalogue of Rules\n.cc\n:\nCatalogue of Rules\n.ch\n:\nCatalogue of Rules\n.cpp\n:\nCatalogue of Rules\n.d\n:\nAutomatic Prerequisites\n.def\n:\nCatalogue of Rules\n.dvi\n:\nCatalogue of Rules\n.f\n:\nCatalogue of Rules\n.F\n:\nCatalogue of Rules\n.info\n:\nCatalogue of Rules\n.l\n:\nCatalogue of Rules\n.LIBPATTERNS\n, and link libraries\n:\nLibraries/Search\n.ln\n:\nCatalogue of Rules\n.mod\n:\nCatalogue of Rules\n.NOTPARALLEL special target\n:\nParallel Disable\n.o\n:\nCatalogue of Rules\n.o\n:\nCatalogue of Rules\n.ONESHELL\n, use of\n:\nOne Shell\n.p\n:\nCatalogue of Rules\n.r\n:\nCatalogue of Rules\n.s\n:\nCatalogue of Rules\n.S\n:\nCatalogue of Rules\n.sh\n:\nCatalogue of Rules\n.SHELLFLAGS\n, value of\n:\nChoosing the Shell\n.sym\n:\nCatalogue of Rules\n.tex\n:\nCatalogue of Rules\n.texi\n:\nCatalogue of Rules\n.texinfo\n:\nCatalogue of Rules\n.txinfo\n:\nCatalogue of Rules\n.w\n:\nCatalogue of Rules\n.WAIT special target\n:\nParallel Disable\n.web\n:\nCatalogue of Rules\n.y\n:\nCatalogue of Rules\n:\n::\nrules (double-colon)\n:\nDouble-Colon\n:::=\n:\nImmediate Assignment\n:::=\n:\nSetting\n::=\n:\nSimple Assignment\n::=\n:\nSetting\n:=\n:\nSimple Assignment\n:=\n:\nSetting\n=\n=\n:\nRecursive Assignment\n=\n:\nSetting\n=, expansion\n:\nReading Makefiles\n?\n?\n(wildcard character)\n:\nWildcards\n?=\n:\nConditional Assignment\n?=\n:\nSetting\n?=, expansion\n:\nReading Makefiles\n@\n@\n(in recipes)\n:\nEchoing\n@, and\ndefine\n:\nCanned Recipes\n[\n[…]\n(wildcard characters)\n:\nWildcards\n\\\n\\\n(backslash), for continuation lines\n:\nSimple Makefile\n\\\n(backslash), in recipes\n:\nSplitting Recipe Lines\n\\\n(backslash), to quote\n%\n:\nSelective Search\n\\\n(backslash), to quote\n%\n:\nStatic Usage\n\\\n(backslash), to quote\n%\n:\nText Functions\n_\n__.SYMDEF\n:\nArchive Symbols\n~\n~\n(tilde)\n:\nWildcards\nA\nabspath\n:\nFile Name Functions\nalgorithm for directory search\n:\nSearch Algorithm\nall\n(standard target)\n:\nGoals\nappending to variables\n:\nAppending\nar\n:\nImplicit Variables\narchive\n:\nArchives\narchive member targets\n:\nArchive Members\narchive symbol directory updating\n:\nArchive Symbols\narchive, and\n-j\n:\nArchive Pitfalls\narchive, and parallel execution\n:\nArchive Pitfalls\narchive, suffix rule for\n:\nArchive Suffix Rules\nArg list too long\n:\nOptions/Recursion\narguments of functions\n:\nSyntax of Functions\nas\n:\nCatalogue of Rules\nas\n:\nImplicit Variables\nassembly, rule to compile\n:\nCatalogue of Rules\nautomatic generation of prerequisites\n:\nInclude\nautomatic generation of prerequisites\n:\nAutomatic Prerequisites\nautomatic variables\n:\nAutomatic Variables\nautomatic variables in prerequisites\n:\nAutomatic Variables\nB\nbackquotes\n:\nShell Function\nbackslash (\n\\\n), for continuation lines\n:\nSimple Makefile\nbackslash (\n\\\n), in recipes\n:\nSplitting Recipe Lines\nbackslash (\n\\\n), to quote\n%\n:\nSelective Search\nbackslash (\n\\\n), to quote\n%\n:\nStatic Usage\nbackslash (\n\\\n), to quote\n%\n:\nText Functions\nbackslash (\n\\\n), to quote newlines\n:\nSplitting Lines\nbackslashes in pathnames and wildcard expansion\n:\nWildcard Pitfall\nbasename\n:\nFile Name Functions\nbinary packages\n:\nInstall Command Categories\nbroken pipe\n:\nParallel Input\nbugs, reporting\n:\nBugs\nbuilt-in special targets\n:\nSpecial Targets\nC\nC++, rule to compile\n:\nCatalogue of Rules\nC, rule to compile\n:\nCatalogue of Rules\ncanned recipes\n:\nCanned Recipes\ncc\n:\nCatalogue of Rules\ncc\n:\nImplicit Variables\ncd\n(shell command)\n:\nExecution\ncd\n(shell command)\n:\nMAKE Variable\nchains of rules\n:\nChained Rules\ncheck\n(standard target)\n:\nGoals\nclean\n(standard target)\n:\nGoals\nclean\ntarget\n:\nSimple Makefile\nclean\ntarget\n:\nCleanup\ncleaning up\n:\nCleanup\nclobber\n(standard target)\n:\nGoals\nco\n:\nCatalogue of Rules\nco\n:\nImplicit Variables\ncombining rules by prerequisite\n:\nCombine By Prerequisite\ncommand expansion\n:\nShell Function\ncommand line variable definitions, and recursion\n:\nOptions/Recursion\ncommand line variables\n:\nOverriding\ncommands, sequences of\n:\nCanned Recipes\ncomments, in makefile\n:\nMakefile Contents\ncomments, in recipes\n:\nRecipe Syntax\ncompatibility\n:\nFeatures\ncompatibility in exporting\n:\nVariables/Recursion\ncompilation, testing\n:\nTesting\ncomputed variable name\n:\nComputed Names\nconditional expansion\n:\nConditional Functions\nconditional variable assignment\n:\nConditional Assignment\nconditionals\n:\nConditionals\ncontinuation lines\n:\nSimple Makefile\ncontrolling make\n:\nMake Control Functions\nconventions for makefiles\n:\nMakefile Conventions\nconvert guile types\n:\nGuile Types\nctangle\n:\nCatalogue of Rules\nctangle\n:\nImplicit Variables\ncweave\n:\nCatalogue of Rules\ncweave\n:\nImplicit Variables\nD\ndata base of\nmake\nrules\n:\nOptions Summary\ndeducing recipes (implicit rules)\n:\nmake Deduces\ndefault directories for included makefiles\n:\nInclude\ndefault goal\n:\nHow Make Works\ndefault goal\n:\nRules\ndefault makefile name\n:\nMakefile Names\ndefault rules, last-resort\n:\nLast Resort\ndefine, expansion\n:\nReading Makefiles\ndefining variables verbatim\n:\nMulti-Line\ndeletion of target files\n:\nErrors\ndeletion of target files\n:\nInterrupts\ndirective\n:\nMakefile Contents\ndirectories, creating installation\n:\nDirectory Variables\ndirectories, printing them\n:\n-w Option\ndirectories, updating archive symbol\n:\nArchive Symbols\ndirectory part\n:\nFile Name Functions\ndirectory search (\nVPATH\n)\n:\nDirectory Search\ndirectory search (\nVPATH\n), and implicit rules\n:\nImplicit/Search\ndirectory search (\nVPATH\n), and link libraries\n:\nLibraries/Search\ndirectory search (\nVPATH\n), and recipes\n:\nRecipes/Search\ndirectory search algorithm\n:\nSearch Algorithm\ndirectory search, traditional (GPATH)\n:\nSearch Algorithm\ndisabling parallel execution\n:\nParallel Disable\ndist\n(standard target)\n:\nGoals\ndistclean\n(standard target)\n:\nGoals\ndollar sign (\n$\n), in function call\n:\nSyntax of Functions\ndollar sign (\n$\n), in rules\n:\nRule Syntax\ndollar sign (\n$\n), in variable name\n:\nComputed Names\ndollar sign (\n$\n), in variable reference\n:\nReference\nDOS, choosing a shell in\n:\nChoosing the Shell\ndouble-colon rules\n:\nDouble-Colon\nduplicate words, removing\n:\nText Functions\nE\nE2BIG\n:\nOptions/Recursion\nechoing of recipes\n:\nEchoing\neditor\n:\nIntroduction\nEmacs (\nM-x compile\n)\n:\nErrors\nempty recipes\n:\nEmpty Recipes\nempty targets\n:\nEmpty Targets\nenvironment\n:\nEnvironment\nenvironment, and recursion\n:\nVariables/Recursion\nenvironment,\nSHELL\nin\n:\nChoosing the Shell\nerror, stopping on\n:\nMake Control Functions\nerrors (in recipes)\n:\nErrors\nerrors with wildcards\n:\nWildcard Pitfall\nevaluating makefile syntax\n:\nEval Function\nexample of loaded objects\n:\nLoaded Object Example\nexample using Guile\n:\nGuile Example\nexecution, in parallel\n:\nParallel\nexecution, instead of\n:\nInstead of Execution\nexecution, of recipes\n:\nExecution\nexit status (errors)\n:\nErrors\nexit status of make\n:\nRunning\nexpansion, secondary\n:\nSecondary Expansion\nexplicit rule, definition of\n:\nMakefile Contents\nexplicit rule, expansion\n:\nReading Makefiles\nexplicit rules, secondary expansion of\n:\nSecondary Expansion\nexporting variables\n:\nVariables/Recursion\nextensions, Guile\n:\nGuile Integration\nextensions, load directive\n:\nload Directive\nextensions, loading\n:\nLoading Objects\nF\nf77\n:\nCatalogue of Rules\nf77\n:\nImplicit Variables\nFDL, GNU Free Documentation License\n:\nGNU Free Documentation License\nfeatures of GNU\nmake\n:\nFeatures\nfeatures, missing\n:\nMissing\nfile name functions\n:\nFile Name Functions\nfile name of makefile\n:\nMakefile Names\nfile name of makefile, how to specify\n:\nMakefile Names\nfile name prefix, adding\n:\nFile Name Functions\nfile name suffix\n:\nFile Name Functions\nfile name suffix, adding\n:\nFile Name Functions\nfile name with wildcards\n:\nWildcards\nfile name, abspath of\n:\nFile Name Functions\nfile name, basename of\n:\nFile Name Functions\nfile name, directory part\n:\nFile Name Functions\nfile name, nondirectory part\n:\nFile Name Functions\nfile name, realpath of\n:\nFile Name Functions\nfile, reading from\n:\nFile Function\nfile, writing to\n:\nFile Function\nfiles, assuming new\n:\nInstead of Execution\nfiles, assuming old\n:\nAvoiding Compilation\nfiles, avoiding recompilation of\n:\nAvoiding Compilation\nfiles, intermediate\n:\nChained Rules\nfiltering out words\n:\nText Functions\nfiltering words\n:\nText Functions\nfinding strings\n:\nText Functions\nflags\n:\nOptions Summary\nflags for compilers\n:\nImplicit Variables\nflavor of variable\n:\nFlavor Function\nflavors of variables\n:\nFlavors\nFORCE\n:\nForce Targets\nforce targets\n:\nForce Targets\nFortran, rule to compile\n:\nCatalogue of Rules\nfunction arguments, special characters in\n:\nSyntax of Functions\nfunctions\n:\nFunctions\nfunctions, for controlling make\n:\nMake Control Functions\nfunctions, for file names\n:\nFile Name Functions\nfunctions, for text\n:\nText Functions\nfunctions, syntax of\n:\nSyntax of Functions\nfunctions, user defined\n:\nCall Function\nG\ng++\n:\nCatalogue of Rules\ng++\n:\nImplicit Variables\ngcc\n:\nCatalogue of Rules\ngenerating prerequisites automatically\n:\nInclude\ngenerating prerequisites automatically\n:\nAutomatic Prerequisites\nget\n:\nCatalogue of Rules\nget\n:\nImplicit Variables\nglobbing (wildcards)\n:\nWildcards\ngoal\n:\nHow Make Works\ngoal, default\n:\nHow Make Works\ngoal, default\n:\nRules\ngoal, how to specify\n:\nGoals\ngrouped targets\n:\nMultiple Targets\nGuile\n:\nGuile Function\nGuile\n:\nGuile Integration\nGuile example\n:\nGuile Example\nguile, conversion of types\n:\nGuile Types\nH\nhome directory\n:\nWildcards\nI\nIEEE Standard 1003.2\n:\nOverview\nifdef, expansion\n:\nReading Makefiles\nifeq, expansion\n:\nReading Makefiles\nifndef, expansion\n:\nReading Makefiles\nifneq, expansion\n:\nReading Makefiles\nimmediate variable assignment\n:\nImmediate Assignment\nimplicit rule\n:\nImplicit Rules\nimplicit rule, and directory search\n:\nImplicit/Search\nimplicit rule, and\nVPATH\n:\nImplicit/Search\nimplicit rule, definition of\n:\nMakefile Contents\nimplicit rule, expansion\n:\nReading Makefiles\nimplicit rule, how to use\n:\nUsing Implicit\nimplicit rule, introduction to\n:\nmake Deduces\nimplicit rule, predefined\n:\nCatalogue of Rules\nimplicit rule, search algorithm\n:\nImplicit Rule Search\nimplicit rules, secondary expansion of\n:\nSecondary Expansion\nincluded makefiles, default directories\n:\nInclude\nincluding (\nMAKEFILES\nvariable)\n:\nMAKEFILES Variable\nincluding (\nMAKEFILE_LIST\nvariable)\n:\nSpecial Variables\nincluding other makefiles\n:\nInclude\nincompatibilities\n:\nMissing\nindependent targets\n:\nMultiple Targets\nInfo, rule to format\n:\nCatalogue of Rules\ninheritance, suppressing\n:\nSuppressing Inheritance\ninput during parallel execution\n:\nParallel Input\ninstall\n(standard target)\n:\nGoals\ninstallation directories, creating\n:\nDirectory Variables\ninstallations, staged\n:\nDESTDIR\ninterface for loaded objects\n:\nLoaded Object API\nintermediate files\n:\nChained Rules\nintermediate files, preserving\n:\nChained Rules\nintermediate targets, explicit\n:\nSpecial Targets\ninterrupt\n:\nInterrupts\nJ\njob slots\n:\nParallel\njob slots, and recursion\n:\nOptions/Recursion\njob slots, sharing\n:\nJob Slots\njobs, limiting based on load\n:\nParallel\njobserver\n:\nJob Slots\njobserver on POSIX\n:\nPOSIX Jobserver\njobserver on Windows\n:\nWindows Jobserver\njoining lists of words\n:\nFile Name Functions\nK\nkilling (interruption)\n:\nInterrupts\nL\nlast-resort default rules\n:\nLast Resort\nld\n:\nCatalogue of Rules\nlex\n:\nCatalogue of Rules\nlex\n:\nImplicit Variables\nLex, rule to run\n:\nCatalogue of Rules\nlibraries for linking, directory search\n:\nLibraries/Search\nlibrary archive, suffix rule for\n:\nArchive Suffix Rules\nlimiting jobs based on load\n:\nParallel\nlink libraries, and directory search\n:\nLibraries/Search\nlink libraries, patterns matching\n:\nLibraries/Search\nlinking, predefined rule for\n:\nCatalogue of Rules\nlint\n:\nCatalogue of Rules\nlint\n:\nImplicit Variables\nlint\n, rule to run\n:\nCatalogue of Rules\nlist of all prerequisites\n:\nAutomatic Variables\nlist of changed prerequisites\n:\nAutomatic Variables\nload average\n:\nParallel\nload directive\n:\nload Directive\nloaded object API\n:\nLoaded Object API\nloaded object example\n:\nLoaded Object Example\nloaded object licensing\n:\nLoaded Object API\nloaded objects\n:\nLoading Objects\nloaded objects, remaking of\n:\nRemaking Loaded Objects\nlong lines, splitting\n:\nSplitting Lines\nloops in variable expansion\n:\nRecursive Assignment\nlpr\n(shell command)\n:\nWildcard Examples\nlpr\n(shell command)\n:\nEmpty Targets\nM\nm2c\n:\nCatalogue of Rules\nm2c\n:\nImplicit Variables\nmacro\n:\nUsing Variables\nmake depend\n:\nAutomatic Prerequisites\nmake extensions\n:\nExtending make\nmake integration\n:\nIntegrating make\nmake interface to guile\n:\nGuile Interface\nmake procedures in guile\n:\nGuile Interface\nmakefile\n:\nIntroduction\nmakefile name\n:\nMakefile Names\nmakefile name, how to specify\n:\nMakefile Names\nmakefile rule parts\n:\nRule Introduction\nmakefile syntax, evaluating\n:\nEval Function\nmakefile, and\nMAKEFILES\nvariable\n:\nMAKEFILES Variable\nmakefile, conventions for\n:\nMakefile Conventions\nmakefile, how\nmake\nprocesses\n:\nHow Make Works\nmakefile, how to write\n:\nMakefiles\nmakefile, including\n:\nInclude\nmakefile, overriding\n:\nOverriding Makefiles\nmakefile, reading\n:\nReading Makefiles\nmakefile, remaking of\n:\nRemaking Makefiles\nmakefile, simple\n:\nSimple Makefile\nmakefiles, and\nMAKEFILE_LIST\nvariable\n:\nSpecial Variables\nmakefiles, and special variables\n:\nSpecial Variables\nmakefiles, parsing\n:\nParsing Makefiles\nmakeinfo\n:\nCatalogue of Rules\nmakeinfo\n:\nImplicit Variables\nMAKE_TMPDIR\n:\nTemporary Files\nmatch-anything rule\n:\nMatch-Anything Rules\nmatch-anything rule, used to override\n:\nOverriding Makefiles\nmissing features\n:\nMissing\nmistakes with wildcards\n:\nWildcard Pitfall\nmodified variable reference\n:\nSubstitution Refs\nModula-2, rule to compile\n:\nCatalogue of Rules\nmostlyclean\n(standard target)\n:\nGoals\nmulti-line variable definition\n:\nMulti-Line\nmultiple rules for one target\n:\nMultiple Rules\nmultiple rules for one target (\n::\n)\n:\nDouble-Colon\nmultiple targets\n:\nMultiple Targets\nmultiple targets, in pattern rule\n:\nPattern Intro\nN\nname of makefile\n:\nMakefile Names\nname of makefile, how to specify\n:\nMakefile Names\nnested variable reference\n:\nComputed Names\nnewline, quoting, in makefile\n:\nSimple Makefile\nnewline, quoting, in recipes\n:\nSplitting Recipe Lines\nnondirectory part\n:\nFile Name Functions\nnormal prerequisites\n:\nPrerequisite Types\nnot intermediate targets, explicit\n:\nSpecial Targets\nO\nobj\n:\nVariables Simplify\nOBJ\n:\nVariables Simplify\nobjects\n:\nVariables Simplify\nOBJECTS\n:\nVariables Simplify\nobjects, loaded\n:\nLoading Objects\nobjs\n:\nVariables Simplify\nOBJS\n:\nVariables Simplify\nold-fashioned suffix rules\n:\nSuffix Rules\noptions\n:\nOptions Summary\noptions, and recursion\n:\nOptions/Recursion\noptions, setting from environment\n:\nOptions/Recursion\noptions, setting in makefiles\n:\nOptions/Recursion\norder of pattern rules\n:\nPattern Match\norder-only prerequisites\n:\nPrerequisite Types\norigin of variable\n:\nOrigin Function\noutput during parallel execution\n:\nParallel Output\noutput during parallel execution\n:\nOptions Summary\noverriding makefiles\n:\nOverriding Makefiles\noverriding variables with arguments\n:\nOverriding\noverriding with\noverride\n:\nOverride Directive\nP\nparallel execution\n:\nParallel\nparallel execution, and archive update\n:\nArchive Pitfalls\nparallel execution, disabling\n:\nParallel Disable\nparallel execution, input during\n:\nParallel Input\nparallel execution, output during\n:\nParallel Output\nparallel execution, output during\n:\nOptions Summary\nparallel execution, overriding\n:\nSpecial Targets\nparallel output to terminal\n:\nTerminal Output\nparsing makefiles\n:\nParsing Makefiles\nparts of makefile rule\n:\nRule Introduction\nPascal, rule to compile\n:\nCatalogue of Rules\npattern rule\n:\nPattern Intro\npattern rule, expansion\n:\nReading Makefiles\npattern rules, order of\n:\nPattern Match\npattern rules, static (not implicit)\n:\nStatic Pattern\npattern rules, static, syntax of\n:\nStatic Usage\npattern-specific variables\n:\nPattern-specific\npc\n:\nCatalogue of Rules\npc\n:\nImplicit Variables\nphony targets\n:\nPhony Targets\nphony targets and recipe execution\n:\nInstead of Execution\npitfalls of wildcards\n:\nWildcard Pitfall\nplugin_is_GPL_compatible\n:\nLoaded Object API\nportability\n:\nFeatures\nPOSIX\n:\nOverview\nPOSIX\n:\nOptions/Recursion\nPOSIX-conforming mode, setting\n:\nSpecial Targets\npost-installation commands\n:\nInstall Command Categories\npre-installation commands\n:\nInstall Command Categories\nprecious targets\n:\nSpecial Targets\npredefined rules and variables, printing\n:\nOptions Summary\nprefix, adding\n:\nFile Name Functions\nprerequisite\n:\nRules\nprerequisite pattern, implicit\n:\nPattern Intro\nprerequisite pattern, static (not implicit)\n:\nStatic Usage\nprerequisite types\n:\nPrerequisite Types\nprerequisite, expansion\n:\nReading Makefiles\nprerequisites\n:\nRule Syntax\nprerequisites, and automatic variables\n:\nAutomatic Variables\nprerequisites, automatic generation\n:\nInclude\nprerequisites, automatic generation\n:\nAutomatic Prerequisites\nprerequisites, introduction to\n:\nRule Introduction\nprerequisites, list of all\n:\nAutomatic Variables\nprerequisites, list of changed\n:\nAutomatic Variables\nprerequisites, normal\n:\nPrerequisite Types\nprerequisites, order-only\n:\nPrerequisite Types\nprerequisites, varying (static pattern)\n:\nStatic Pattern\npreserving intermediate files\n:\nChained Rules\npreserving with\n.PRECIOUS\n:\nSpecial Targets\npreserving with\n.SECONDARY\n:\nSpecial Targets\nprint\n(standard target)\n:\nGoals\nprint\ntarget\n:\nWildcard Examples\nprint\ntarget\n:\nEmpty Targets\nprinting directories\n:\n-w Option\nprinting messages\n:\nMake Control Functions\nprinting of recipes\n:\nEchoing\nprinting user warnings\n:\nMake Control Functions\nproblems and bugs, reporting\n:\nBugs\nproblems with wildcards\n:\nWildcard Pitfall\nprocessing a makefile\n:\nHow Make Works\nQ\nquestion mode\n:\nInstead of Execution\nquoting\n%\n, in\npatsubst\n:\nText Functions\nquoting\n%\n, in static pattern\n:\nStatic Usage\nquoting\n%\n, in\nvpath\n:\nSelective Search\nquoting newline, in makefile\n:\nSimple Makefile\nquoting newline, in recipes\n:\nSplitting Recipe Lines\nR\nRatfor, rule to compile\n:\nCatalogue of Rules\nRCS, rule to extract from\n:\nCatalogue of Rules\nreading from a file\n:\nFile Function\nreading makefiles\n:\nReading Makefiles\nREADME\n:\nMakefile Names\nrealclean\n(standard target)\n:\nGoals\nrealpath\n:\nFile Name Functions\nrecipe\n:\nSimple Makefile\nrecipe execution, single invocation\n:\nSpecial Targets\nrecipe lines, single shell\n:\nOne Shell\nrecipe syntax\n:\nRecipe Syntax\nrecipe, execution\n:\nExecution\nrecipes\n:\nRule Syntax\nrecipes\n:\nRecipes\nrecipes setting shell variables\n:\nExecution\nrecipes, and directory search\n:\nRecipes/Search\nrecipes, backslash (\n\\\n) in\n:\nSplitting Recipe Lines\nrecipes, canned\n:\nCanned Recipes\nrecipes, comments in\n:\nRecipe Syntax\nrecipes, echoing\n:\nEchoing\nrecipes, empty\n:\nEmpty Recipes\nrecipes, errors in\n:\nErrors\nrecipes, execution in parallel\n:\nParallel\nrecipes, how to write\n:\nRecipes\nrecipes, instead of executing\n:\nInstead of Execution\nrecipes, introduction to\n:\nRule Introduction\nrecipes, quoting newlines in\n:\nSplitting Recipe Lines\nrecipes, splitting\n:\nSplitting Recipe Lines\nrecipes, using variables in\n:\nVariables in Recipes\nrecompilation\n:\nIntroduction\nrecompilation, avoiding\n:\nAvoiding Compilation\nrecording events with empty targets\n:\nEmpty Targets\nrecursion\n:\nRecursion\nrecursion, and\n-C\n:\nOptions/Recursion\nrecursion, and\n-f\n:\nOptions/Recursion\nrecursion, and\n-j\n:\nOptions/Recursion\nrecursion, and\n-o\n:\nOptions/Recursion\nrecursion, and\n-t\n:\nMAKE Variable\nrecursion, and\n-W\n:\nOptions/Recursion\nrecursion, and\n-w\n:\n-w Option\nrecursion, and command line variable definitions\n:\nOptions/Recursion\nrecursion, and environment\n:\nVariables/Recursion\nrecursion, and\nMAKE\nvariable\n:\nMAKE Variable\nrecursion, and\nMAKEFILES\nvariable\n:\nMAKEFILES Variable\nrecursion, and options\n:\nOptions/Recursion\nrecursion, and printing directories\n:\n-w Option\nrecursion, and variables\n:\nVariables/Recursion\nrecursion, level of\n:\nVariables/Recursion\nrecursive variable expansion\n:\nUsing Variables\nrecursive variable expansion\n:\nFlavors\nrecursively expanded variables\n:\nFlavors\nreference to variables\n:\nReference\nreference to variables\n:\nAdvanced\nrelinking\n:\nHow Make Works\nremaking loaded objects\n:\nRemaking Loaded Objects\nremaking makefiles\n:\nRemaking Makefiles\nremoval of target files\n:\nErrors\nremoval of target files\n:\nInterrupts\nremoving duplicate words\n:\nText Functions\nremoving targets on failure\n:\nSpecial Targets\nremoving whitespace from split lines\n:\nSplitting Lines\nremoving, to clean up\n:\nCleanup\nreporting bugs\n:\nBugs\nrm\n:\nImplicit Variables\nrm\n(shell command)\n:\nSimple Makefile\nrm\n(shell command)\n:\nWildcard Examples\nrm\n(shell command)\n:\nPhony Targets\nrm\n(shell command)\n:\nErrors\nrule prerequisites\n:\nRule Syntax\nrule syntax\n:\nRule Syntax\nrule targets\n:\nRule Syntax\nrule, double-colon (\n::\n)\n:\nDouble-Colon\nrule, explicit, definition of\n:\nMakefile Contents\nrule, how to write\n:\nRules\nrule, implicit\n:\nImplicit Rules\nrule, implicit, and directory search\n:\nImplicit/Search\nrule, implicit, and\nVPATH\n:\nImplicit/Search\nrule, implicit, chains of\n:\nChained Rules\nrule, implicit, definition of\n:\nMakefile Contents\nrule, implicit, how to use\n:\nUsing Implicit\nrule, implicit, introduction to\n:\nmake Deduces\nrule, implicit, predefined\n:\nCatalogue of Rules\nrule, introduction to\n:\nRule Introduction\nrule, multiple for one target\n:\nMultiple Rules\nrule, no recipe or prerequisites\n:\nForce Targets\nrule, pattern\n:\nPattern Intro\nrule, static pattern\n:\nStatic Pattern\nrule, static pattern versus implicit\n:\nStatic versus Implicit\nrule, with multiple targets\n:\nMultiple Targets\nrules, and\n$\n:\nRule Syntax\nS\ns.\n(SCCS file prefix)\n:\nCatalogue of Rules\nSCCS, rule to extract from\n:\nCatalogue of Rules\nsearch algorithm, implicit rule\n:\nImplicit Rule Search\nsearch path for prerequisites (\nVPATH\n)\n:\nDirectory Search\nsearch path for prerequisites (\nVPATH\n), and implicit rules\n:\nImplicit/Search\nsearch path for prerequisites (\nVPATH\n), and link libraries\n:\nLibraries/Search\nsearching for strings\n:\nText Functions\nsecondary expansion\n:\nSecondary Expansion\nsecondary expansion and explicit rules\n:\nSecondary Expansion\nsecondary expansion and implicit rules\n:\nSecondary Expansion\nsecondary expansion and static pattern rules\n:\nSecondary Expansion\nsecondary files\n:\nChained Rules\nsecondary targets\n:\nSpecial Targets\nsed\n(shell command)\n:\nAutomatic Prerequisites\nselecting a word\n:\nText Functions\nselecting word lists\n:\nText Functions\nsequences of commands\n:\nCanned Recipes\nsetting options from environment\n:\nOptions/Recursion\nsetting options in makefiles\n:\nOptions/Recursion\nsetting variables\n:\nSetting\nseveral rules for one target\n:\nMultiple Rules\nseveral targets in a rule\n:\nMultiple Targets\nshar\n(standard target)\n:\nGoals\nshell command, function for\n:\nShell Function\nshell file name pattern (in\ninclude\n)\n:\nInclude\nshell variables, setting in recipes\n:\nExecution\nshell wildcards (in\ninclude\n)\n:\nInclude\nshell, choosing the\n:\nChoosing the Shell\nSHELL, exported value\n:\nVariables/Recursion\nSHELL, import from environment\n:\nEnvironment\nshell, in DOS and Windows\n:\nChoosing the Shell\nSHELL\n, MS-DOS specifics\n:\nChoosing the Shell\nSHELL\n, value of\n:\nChoosing the Shell\nsignal\n:\nInterrupts\nsilent operation\n:\nEchoing\nsimple makefile\n:\nSimple Makefile\nsimple variable expansion\n:\nUsing Variables\nsimplifying with variables\n:\nVariables Simplify\nsimply expanded variables\n:\nSimple Assignment\nsorting words\n:\nText Functions\nspaces, in variable values\n:\nSimple Assignment\nspaces, stripping\n:\nText Functions\nspecial characters in function arguments\n:\nSyntax of Functions\nspecial targets\n:\nSpecial Targets\nspecial variables\n:\nSpecial Variables\nspecifying makefile name\n:\nMakefile Names\nsplitting long lines\n:\nSplitting Lines\nsplitting recipes\n:\nSplitting Recipe Lines\nstaged installs\n:\nDESTDIR\nstandard input\n:\nParallel Input\nstandards conformance\n:\nOverview\nstandards for makefiles\n:\nMakefile Conventions\nstatic pattern rule\n:\nStatic Pattern\nstatic pattern rule, syntax of\n:\nStatic Usage\nstatic pattern rule, versus implicit\n:\nStatic versus Implicit\nstatic pattern rules, secondary expansion of\n:\nSecondary Expansion\nstem\n:\nStatic Usage\nstem\n:\nPattern Match\nstem, shortest\n:\nPattern Match\nstem, variable for\n:\nAutomatic Variables\nstopping make\n:\nMake Control Functions\nstrings, searching for\n:\nText Functions\nstripping whitespace\n:\nText Functions\nsub-\nmake\n:\nVariables/Recursion\nsubdirectories, recursion for\n:\nRecursion\nsubstitution variable reference\n:\nSubstitution Refs\nsuffix rule\n:\nSuffix Rules\nsuffix rule, for archive\n:\nArchive Suffix Rules\nsuffix, adding\n:\nFile Name Functions\nsuffix, function to find\n:\nFile Name Functions\nsuffix, substituting in variables\n:\nSubstitution Refs\nsuppressing inheritance\n:\nSuppressing Inheritance\nswitches\n:\nOptions Summary\nsymbol directories, updating archive\n:\nArchive Symbols\nsyntax of recipe\n:\nRecipe Syntax\nsyntax of rules\n:\nRule Syntax\nT\ntab character (in commands)\n:\nRule Syntax\ntabs in rules\n:\nRule Introduction\nTAGS\n(standard target)\n:\nGoals\ntangle\n:\nCatalogue of Rules\ntangle\n:\nImplicit Variables\ntar\n(standard target)\n:\nGoals\ntarget\n:\nRules\ntarget pattern, implicit\n:\nPattern Intro\ntarget pattern, static (not implicit)\n:\nStatic Usage\ntarget, deleting on error\n:\nErrors\ntarget, deleting on interrupt\n:\nInterrupts\ntarget, expansion\n:\nReading Makefiles\ntarget, multiple in pattern rule\n:\nPattern Intro\ntarget, multiple rules for one\n:\nMultiple Rules\ntarget, touching\n:\nInstead of Execution\ntarget-specific variables\n:\nTarget-specific\ntargets\n:\nRule Syntax\ntargets without a file\n:\nPhony Targets\ntargets, built-in special\n:\nSpecial Targets\ntargets, empty\n:\nEmpty Targets\ntargets, force\n:\nForce Targets\ntargets, grouped\n:\nMultiple Targets\ntargets, independent\n:\nMultiple Targets\ntargets, introduction to\n:\nRule Introduction\ntargets, multiple\n:\nMultiple Targets\ntargets, phony\n:\nPhony Targets\nTEMP\n:\nTemporary Files\ntemporary files\n:\nTemporary Files\nterminal rule\n:\nMatch-Anything Rules\nterminal, output to\n:\nTerminal Output\ntest\n(standard target)\n:\nGoals\ntesting compilation\n:\nTesting\ntex\n:\nCatalogue of Rules\ntex\n:\nImplicit Variables\nTeX, rule to run\n:\nCatalogue of Rules\ntexi2dvi\n:\nCatalogue of Rules\ntexi2dvi\n:\nImplicit Variables\nTexinfo, rule to format\n:\nCatalogue of Rules\ntilde (\n~\n)\n:\nWildcards\nTMP\n:\nTemporary Files\nTMPDIR\n:\nTemporary Files\ntools, sharing job slots\n:\nJob Slots\ntouch\n(shell command)\n:\nWildcard Examples\ntouch\n(shell command)\n:\nEmpty Targets\ntouching files\n:\nInstead of Execution\ntraditional directory search (GPATH)\n:\nSearch Algorithm\ntypes of prerequisites\n:\nPrerequisite Types\ntypes, conversion of\n:\nGuile Types\nU\nundefined variables, warning message\n:\nOptions Summary\nundefining variable\n:\nUndefine Directive\nupdating archive symbol directories\n:\nArchive Symbols\nupdating loaded objects\n:\nRemaking Loaded Objects\nupdating makefiles\n:\nRemaking Makefiles\nuser defined functions\n:\nCall Function\nV\nvalue\n:\nUsing Variables\nvalue, how a variable gets it\n:\nValues\nvariable\n:\nUsing Variables\nvariable definition\n:\nMakefile Contents\nvariable references in recipes\n:\nVariables in Recipes\nvariables\n:\nVariables Simplify\nvariables, ‘\n$\n’ in name\n:\nComputed Names\nvariables, and implicit rule\n:\nAutomatic Variables\nvariables, appending to\n:\nAppending\nvariables, automatic\n:\nAutomatic Variables\nvariables, command line\n:\nOverriding\nvariables, command line, and recursion\n:\nOptions/Recursion\nvariables, computed names\n:\nComputed Names\nvariables, conditional assignment\n:\nConditional Assignment\nvariables, defining verbatim\n:\nMulti-Line\nvariables, environment\n:\nVariables/Recursion\nvariables, environment\n:\nEnvironment\nvariables, exporting\n:\nVariables/Recursion\nvariables, flavor of\n:\nFlavor Function\nvariables, flavors\n:\nFlavors\nvariables, how they get their values\n:\nValues\nvariables, how to reference\n:\nReference\nvariables, immediate assignment\n:\nImmediate Assignment\nvariables, local\n:\nLet Function\nvariables, loops in expansion\n:\nRecursive Assignment\nvariables, modified reference\n:\nSubstitution Refs\nvariables, multi-line\n:\nMulti-Line\nvariables, nested references\n:\nComputed Names\nvariables, origin of\n:\nOrigin Function\nvariables, overriding\n:\nOverride Directive\nvariables, overriding with arguments\n:\nOverriding\nvariables, pattern-specific\n:\nPattern-specific\nvariables, recursively expanded\n:\nFlavors\nvariables, setting\n:\nSetting\nvariables, simply expanded\n:\nSimple Assignment\nvariables, spaces in values\n:\nSimple Assignment\nvariables, substituting suffix in\n:\nSubstitution Refs\nvariables, substitution reference\n:\nSubstitution Refs\nvariables, target-specific\n:\nTarget-specific\nvariables, unexpanded value\n:\nValue Function\nvariables, warning for undefined\n:\nOptions Summary\nvarying prerequisites\n:\nStatic Pattern\nverbatim variable definition\n:\nMulti-Line\nvpath\n:\nDirectory Search\nVPATH\n, and implicit rules\n:\nImplicit/Search\nVPATH\n, and link libraries\n:\nLibraries/Search\nW\nwarnings, printing\n:\nMake Control Functions\nweave\n:\nCatalogue of Rules\nweave\n:\nImplicit Variables\nWeb, rule to run\n:\nCatalogue of Rules\nwhat if\n:\nInstead of Execution\nwhitespace, avoiding on line split\n:\nSplitting Lines\nwhitespace, in variable values\n:\nSimple Assignment\nwhitespace, stripping\n:\nText Functions\nwildcard\n:\nWildcards\nwildcard pitfalls\n:\nWildcard Pitfall\nwildcard, function\n:\nFile Name Functions\nwildcard, in archive member\n:\nArchive Members\nwildcard, in\ninclude\n:\nInclude\nwildcards and MS-DOS/MS-Windows backslashes\n:\nWildcard Pitfall\nWindows, choosing a shell in\n:\nChoosing the Shell\nword, selecting a\n:\nText Functions\nwords, extracting first\n:\nText Functions\nwords, extracting last\n:\nText Functions\nwords, filtering\n:\nText Functions\nwords, filtering out\n:\nText Functions\nwords, finding number\n:\nText Functions\nwords, iterating over\n:\nForeach Function\nwords, joining lists\n:\nFile Name Functions\nwords, removing duplicates\n:\nText Functions\nwords, selecting lists of\n:\nText Functions\nwriting recipes\n:\nRecipes\nwriting rules\n:\nRules\nwriting to a file\n:\nFile Function\nY\nyacc\n:\nCatalogue of Rules\nyacc\n:\nImplicit Variables\nyacc\n:\nCanned Recipes\nYacc, rule to run\n:\nCatalogue of Rules\nJump to:\n!\n#\n$\n%\n*\n+\n,\n-\n.\n:\n=\n?\n@\n[\n\\\n_\n~\nA\nB\nC\nD\nE\nF\nG\nH\nI\nJ\nK\nL\nM\nN\nO\nP\nQ\nR\nS\nT\nU\nV\nW\nY\nPrevious:\nIndex of Concepts\n, Up:\nGNU\nmake\n[\nContents\n][\nIndex\n]\nIndex of Functions, Variables, & Directives\nJump to:\n$\n%\n*\n+\n-\n.\n/\n<\n?\n@\n^\n|\nA\nB\nC\nD\nE\nF\nG\nI\nJ\nL\nM\nN\nO\nP\nR\nS\nT\nU\nV\nW\nY\nIndex Entry\nSection\n$\n$%\n:\nAutomatic Variables\n$(%D)\n:\nAutomatic Variables\n$(%F)\n:\nAutomatic Variables\n$(*D)\n:\nAutomatic Variables\n$(*F)\n:\nAutomatic Variables\n$(+D)\n:\nAutomatic Variables\n$(+F)\n:\nAutomatic Variables\n$(<D)\n:\nAutomatic Variables\n$(<F)\n:\nAutomatic Variables\n$(?D)\n:\nAutomatic Variables\n$(?F)\n:\nAutomatic Variables\n$(@D)\n:\nAutomatic Variables\n$(@F)\n:\nAutomatic Variables\n$(^D)\n:\nAutomatic Variables\n$(^F)\n:\nAutomatic Variables\n$*\n:\nAutomatic Variables\n$*\n, and static pattern\n:\nStatic Usage\n$+\n:\nAutomatic Variables\n$<\n:\nAutomatic Variables\n$?\n:\nAutomatic Variables\n$@\n:\nAutomatic Variables\n$^\n:\nAutomatic Variables\n$|\n:\nAutomatic Variables\n%\n%\n(automatic variable)\n:\nAutomatic Variables\n%D\n(automatic variable)\n:\nAutomatic Variables\n%F\n(automatic variable)\n:\nAutomatic Variables\n*\n*\n(automatic variable)\n:\nAutomatic Variables\n*\n(automatic variable), unsupported bizarre usage\n:\nMissing\n*D\n(automatic variable)\n:\nAutomatic Variables\n*F\n(automatic variable)\n:\nAutomatic Variables\n+\n+\n(automatic variable)\n:\nAutomatic Variables\n+D\n(automatic variable)\n:\nAutomatic Variables\n+F\n(automatic variable)\n:\nAutomatic Variables\n-\n-load\n:\nload Directive\n.\n.DEFAULT\n:\nSpecial Targets\n.DEFAULT\n:\nLast Resort\n.DEFAULT\n, and empty recipes\n:\nEmpty Recipes\n.DEFAULT_GOAL\n(define default goal)\n:\nSpecial Variables\n.DELETE_ON_ERROR\n:\nSpecial Targets\n.DELETE_ON_ERROR\n:\nErrors\n.EXPORT_ALL_VARIABLES\n:\nSpecial Targets\n.EXPORT_ALL_VARIABLES\n:\nVariables/Recursion\n.EXTRA_PREREQS\n(prerequisites not added to automatic variables)\n:\nSpecial Variables\n.FEATURES\n(list of supported features)\n:\nSpecial Variables\n.IGNORE\n:\nSpecial Targets\n.IGNORE\n:\nErrors\n.INCLUDE_DIRS\n(list of include directories)\n:\nSpecial Variables\n.INTERMEDIATE\n:\nSpecial Targets\n.LIBPATTERNS\n:\nLibraries/Search\n.LOADED\n:\nload Directive\n.LOW_RESOLUTION_TIME\n:\nSpecial Targets\n.NOTINTERMEDIATE\n:\nSpecial Targets\n.NOTPARALLEL\n:\nSpecial Targets\n.NOTPARALLEL\n:\nParallel Disable\n.ONESHELL\n:\nSpecial Targets\n.ONESHELL\n:\nOne Shell\n.PHONY\n:\nPhony Targets\n.PHONY\n:\nSpecial Targets\n.POSIX\n:\nSpecial Targets\n.POSIX\n:\nOptions/Recursion\n.PRECIOUS\n:\nSpecial Targets\n.PRECIOUS\n:\nInterrupts\n.RECIPEPREFIX\n(change the recipe prefix character)\n:\nSpecial Variables\n.SECONDARY\n:\nSpecial Targets\n.SECONDEXPANSION\n:\nSecondary Expansion\n.SECONDEXPANSION\n:\nSpecial Targets\n.SHELLFLAGS\n:\nChoosing the Shell\n.SHELLFLAGS\n:\nChoosing the Shell\n.SHELLSTATUS\n:\nShell Function\n.SILENT\n:\nSpecial Targets\n.SILENT\n:\nEchoing\n.SUFFIXES\n:\nSpecial Targets\n.SUFFIXES\n:\nSuffix Rules\n.VARIABLES\n(list of variables)\n:\nSpecial Variables\n.WAIT\n:\nParallel Disable\n/\n/usr/gnu/include\n:\nInclude\n/usr/include\n:\nInclude\n/usr/local/include\n:\nInclude\n<\n<\n(automatic variable)\n:\nAutomatic Variables\n<D\n(automatic variable)\n:\nAutomatic Variables\n<F\n(automatic variable)\n:\nAutomatic Variables\n?\n?\n(automatic variable)\n:\nAutomatic Variables\n?D\n(automatic variable)\n:\nAutomatic Variables\n?F\n(automatic variable)\n:\nAutomatic Variables\n@\n@\n(automatic variable)\n:\nAutomatic Variables\n@D\n(automatic variable)\n:\nAutomatic Variables\n@F\n(automatic variable)\n:\nAutomatic Variables\n^\n^\n(automatic variable)\n:\nAutomatic Variables\n^D\n(automatic variable)\n:\nAutomatic Variables\n^F\n(automatic variable)\n:\nAutomatic Variables\n|\n|\n(automatic variable)\n:\nAutomatic Variables\nA\nabspath\n:\nFile Name Functions\naddprefix\n:\nFile Name Functions\naddsuffix\n:\nFile Name Functions\nand\n:\nConditional Functions\nAR\n:\nImplicit Variables\nARFLAGS\n:\nImplicit Variables\nAS\n:\nImplicit Variables\nASFLAGS\n:\nImplicit Variables\nB\nbasename\n:\nFile Name Functions\nbindir\n:\nDirectory Variables\nC\ncall\n:\nCall Function\nCC\n:\nImplicit Variables\nCFLAGS\n:\nImplicit Variables\nCO\n:\nImplicit Variables\nCOFLAGS\n:\nImplicit Variables\nCOMSPEC\n:\nChoosing the Shell\nCPP\n:\nImplicit Variables\nCPPFLAGS\n:\nImplicit Variables\nCTANGLE\n:\nImplicit Variables\nCURDIR\n:\nRecursion\nCWEAVE\n:\nImplicit Variables\nCXX\n:\nImplicit Variables\nCXXFLAGS\n:\nImplicit Variables\nD\ndefine\n:\nMulti-Line\nDESTDIR\n:\nDESTDIR\ndir\n:\nFile Name Functions\nE\nelse\n:\nConditional Syntax\nendef\n:\nMulti-Line\nendif\n:\nConditional Syntax\nerror\n:\nMake Control Functions\neval\n:\nEval Function\nexec_prefix\n:\nDirectory Variables\nexport\n:\nVariables/Recursion\nF\nFC\n:\nImplicit Variables\nFFLAGS\n:\nImplicit Variables\nfile\n:\nFile Function\nfilter\n:\nText Functions\nfilter-out\n:\nText Functions\nfindstring\n:\nText Functions\nfirstword\n:\nText Functions\nflavor\n:\nFlavor Function\nforeach\n:\nForeach Function\nG\nGET\n:\nImplicit Variables\nGFLAGS\n:\nImplicit Variables\ngmk-eval\n:\nGuile Interface\ngmk-expand\n:\nGuile Interface\ngmk_add_function\n:\nLoaded Object API\ngmk_alloc\n:\nLoaded Object API\ngmk_eval\n:\nLoaded Object API\ngmk_expand\n:\nLoaded Object API\ngmk_free\n:\nLoaded Object API\ngmk_func_ptr\n:\nLoaded Object API\nGNUmakefile\n:\nMakefile Names\nGPATH\n:\nSearch Algorithm\nguile\n:\nGuile Function\nI\nif\n:\nConditional Functions\nif\n:\nConditional Functions\nifdef\n:\nConditional Syntax\nifeq\n:\nConditional Syntax\nifndef\n:\nConditional Syntax\nifneq\n:\nConditional Syntax\ninclude\n:\nInclude\ninfo\n:\nMake Control Functions\nintcmp\n:\nConditional Functions\nJ\njoin\n:\nFile Name Functions\nL\nlastword\n:\nText Functions\nLDFLAGS\n:\nImplicit Variables\nLDLIBS\n:\nImplicit Variables\nlet\n:\nLet Function\nLEX\n:\nImplicit Variables\nLFLAGS\n:\nImplicit Variables\nlibexecdir\n:\nDirectory Variables\nLINT\n:\nImplicit Variables\nLINTFLAGS\n:\nImplicit Variables\nload\n:\nload Directive\nLOADLIBES\n:\nImplicit Variables\nM\nM2C\n:\nImplicit Variables\nMAKE\n:\nMAKE Variable\nMAKE\n:\nSimple Assignment\nMAKECMDGOALS\n:\nGoals\nMakefile\n:\nMakefile Names\nmakefile\n:\nMakefile Names\nMAKEFILES\n:\nMAKEFILES Variable\nMAKEFILES\n:\nVariables/Recursion\nMAKEFILE_LIST\n(list of parsed makefiles)\n:\nSpecial Variables\nMAKEFLAGS\n:\nOptions/Recursion\nMAKEINFO\n:\nImplicit Variables\nMAKELEVEL\n:\nVariables/Recursion\nMAKELEVEL\n:\nSimple Assignment\nMAKEOVERRIDES\n:\nOptions/Recursion\nMAKESHELL\n(MS-DOS alternative to\nSHELL\n)\n:\nChoosing the Shell\nMAKE_HOST\n:\nQuick Reference\nMAKE_RESTARTS\n(number of times\nmake\nhas restarted)\n:\nSpecial Variables\nMAKE_TERMERR\n(whether stderr is a terminal)\n:\nSpecial Variables\nMAKE_TERMOUT\n(whether stdout is a terminal)\n:\nSpecial Variables\nMAKE_VERSION\n:\nQuick Reference\nMFLAGS\n:\nOptions/Recursion\nN\nnotdir\n:\nFile Name Functions\nO\nor\n:\nConditional Functions\norigin\n:\nOrigin Function\nOUTPUT_OPTION\n:\nCatalogue of Rules\noverride\n:\nOverride Directive\nP\npatsubst\n:\nSubstitution Refs\npatsubst\n:\nText Functions\nPC\n:\nImplicit Variables\nPFLAGS\n:\nImplicit Variables\nprefix\n:\nDirectory Variables\nprivate\n:\nSuppressing Inheritance\nR\nrealpath\n:\nFile Name Functions\nRFLAGS\n:\nImplicit Variables\nRM\n:\nImplicit Variables\nS\nsbindir\n:\nDirectory Variables\nSHELL\n:\nChoosing the Shell\nSHELL\n:\nChoosing the Shell\nshell\n:\nShell Function\nSHELL\n(recipe execution)\n:\nExecution\nsort\n:\nText Functions\nstrip\n:\nText Functions\nsubst\n:\nMultiple Targets\nsubst\n:\nText Functions\nsuffix\n:\nFile Name Functions\nSUFFIXES\n:\nSuffix Rules\nT\nTANGLE\n:\nImplicit Variables\nTEX\n:\nImplicit Variables\nTEXI2DVI\n:\nImplicit Variables\nU\nundefine\n:\nUndefine Directive\nunexport\n:\nVariables/Recursion\nV\nvalue\n:\nValue Function\nVPATH\n:\nDirectory Search\nVPATH\n:\nGeneral Search\nvpath\n:\nDirectory Search\nvpath\n:\nSelective Search\nW\nwarning\n:\nMake Control Functions\nWEAVE\n:\nImplicit Variables\nwildcard\n:\nWildcard Function\nwildcard\n:\nFile Name Functions\nword\n:\nText Functions\nwordlist\n:\nText Functions\nwords\n:\nText Functions\nY\nYACC\n:\nImplicit Variables\nYFLAGS\n:\nImplicit Variables\nJump to:\n$\n%\n*\n+\n-\n.\n/\n<\n?\n@\n^\n|\nA\nB\nC\nD\nE\nF\nG\nI\nJ\nL\nM\nN\nO\nP\nR\nS\nT\nU\nV\nW\nY\nFootnotes\n(1)\nGNU Make compiled for MS-DOS and MS-Windows behaves as if\nprefix\nhas been defined to be the root of the DJGPP tree hierarchy.\n(2)\nSome older versions of GNU\nmake\ndid not sort the\nresults of wildcard expansion.\n(3)\nOn\nMS-DOS, the value of current working directory is\nglobal\n, so\nchanging it\nwill\naffect the following recipe lines on those\nsystems.", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://www.gnu.org/software/make/manual/make.html"}}
