{"text": "Bash - ArchWiki\nHome\nPackages\nForums\nWiki\nGitLab\nSecurity\nAUR\nDownload\nJump to content\nArchWiki\nSearch\nSearch\nBash\n8 languages\nDeutsch\nEspañol\nFrançais\nMagyar\n日本語\nРусский\nУкраїнська\n中文（简体）\nFrom ArchWiki\nRelated articles\n/Functions\n/Prompt customization\nCommand-line shell\nEnvironment variables\nFortune\nPkgfile\nReadline\nBash\n(\nB\nourne-\nA\ngain\nSH\nell) is a\ncommand-line shell\n/programming language by the\nGNU Project\n. Its name alludes to its predecessor, the long-deprecated\nBourne shell\n. Bash can be run on most\nUnix-like\noperating systems, including\nGNU/Linux\n.\nBash\nis the default command-line shell on\nArch Linux\n.\nInvocation\nBash behaviour can be altered depending on how it is invoked. Some descriptions of different modes follow.\nIf Bash is spawned by\nlogin\nin a TTY, by an\nSSH\ndaemon, or similar means, it is considered a\nlogin shell\n. This mode can also be engaged using the\n-l\n/\n--login\ncommand line option.\nBash is considered an\ninteractive shell\nwhen its standard input, output and error are connected to a terminal (for example, when run in a terminal emulator), and it is not started with the\n-c\noption or\nnon-option\narguments (for example,\nbash\nscript\n). All interactive shells source\n/etc/bash.bashrc\nand\n~/.bashrc\n, while interactive\nlogin\nshells also source\n/etc/profile\nand\n~/.bash_profile\n.\nNote\nIn Arch\n/bin/sh\n(which used to be the Bourne shell executable) is symlinked to\nbash\n. If Bash is invoked with the name\nsh\n, it tries to mimic the startup behavior of historical versions of\nsh\n, including POSIX compatibility.\nConfiguration files\nBash will attempt to execute a set of startup files depending on how it was invoked. See the\nBash Startup Files\nsection of the GNU Bash manual for a complete description.\nFile\nDescription\nLogin shells\n(see note)\nInteractive,\nnon-login\nshells\n/etc/profile\nSources\napplication settings in\n/etc/profile.d/*.sh\nand\n/etc/bash.bashrc\n.\nYes\nNo\n~/.bash_profile\nPer-user, after\n/etc/profile\n. If this file does not exist,\n~/.bash_login\nand\n~/.profile\nare checked in that order. The skeleton file\n/etc/skel/.bash_profile\nalso sources\n~/.bashrc\n.\nYes\nNo\n~/.bash_logout\nPer-user, after exit of a login shell.\nYes\nNo\n/etc/bash.bash_logout\nDepends on the\n-DSYS_BASH_LOGOUT=\"/etc/bash.bash_logout\"\ncompilation flag. After exit of a login shell.\nYes\nNo\n/etc/bash.bashrc\nDepends on the\n-DSYS_BASHRC=\"/etc/bash.bashrc\"\ncompilation flag. Sources\n/usr/share/bash-completion/bash_completion\n.\nNo\nYes\n~/.bashrc\nPer-user, after\n/etc/bash.bashrc\n.\nNo\nYes\nNote\nLogin shells can be non-interactive when called with the\n--login\nargument.\nWhile interactive,\nnon-login\nshells do\nnot\nsource\n~/.bash_profile\n, they still inherit the environment from their parent process (which may be a login shell). See\nGregsWiki:ProcessManagement#On processes, environments and inheritance\nfor details.\nShell and environment variables\nThe behavior of Bash and programs run by it can be influenced by a number of environment variables.\nEnvironment variables\nare used to store useful values such as command search directories, or which browser to use. When a new shell or script is launched it inherits its parent's variables, thus starting with an internal set of shell variables\n[1]\n.\nThese shell variables in Bash can be exported in order to become environment variables:\nVARIABLE=content\nexport VARIABLE\nor with a shortcut\nexport VARIABLE=content\nEnvironment variables are conventionally placed in\n~/.profile\nor\n/etc/profile\nso that other Bourne-compatible shells can use them.\nSee\nEnvironment variables\nfor more general information.\nCommand line\nBash command line is managed by the separate library called\nReadline\n. Readline provides\nemacs\nand\nvi\nstyles of shortcuts for interacting with the command line, i.e. moving back and forth on the word basis, deleting words etc. It is also Readline's responsibility to manage\nhistory\nof input commands. Last, but not least, it allows you to create\nmacros\n.\nTab completion\nTab completion\nis the option to auto-complete typed commands by pressing\nTab\n(enabled by default).\nSingle-tab\nIt may require up to three tab-presses to show all possible completions for a command. To reduce the needed number of tab-presses, see\nReadline#Faster completion\n.\nCommon programs and options\nBy default, Bash only tab-completes commands, filenames, and variables.  The package\nbash-completion\nextends this by adding more specialized tab completions for common commands and their options, which can be enabled by sourcing\n/usr/share/bash-completion/bash_completion\n(which has been already sourced in Arch's\n/etc/bash.bashrc\n). With\nbash-completion\n, normal completions (such as\nls file.*\nTab\nTab\n) will behave differently; however, they can be re-enabled with\ncompopt -o bashdefault\nprogram\n(see\n[2]\nand\n[3]\nfor more detail).\nCustomize per-command\nNote\nUsing the\ncomplete\nbuiltin may cause conflicts with\nbash-completion\n.\nBy default, Bash only tab-completes file names following a command. You can change it to complete command names using\ncomplete -c\n:\n~/.bashrc\ncomplete -c man which\nor complete command names and file names with\n-cf\n:\ncomplete -cf sudo\nSee\nbash(1) § Programmable Completion\nfor more completion options.\nHistory\nHistory completion\nYou can bind the up and down arrow keys to search through Bash's history (see:\nReadline#History\nand\nReadline Init File Syntax\n):\n~/.bashrc\nbind '\"\\e[A\": history-search-backward'\nbind '\"\\e[B\": history-search-forward'\nor to affect all readline programs:\n~/.inputrc\n\"\\e[A\": history-search-backward\n\"\\e[B\": history-search-forward\nHistory customization\nThe\nHISTCONTROL\nvariable can prevent certain commands from being logged to the history.\nTo stop logging of consecutive identical commands:\n~/.bashrc\nexport HISTCONTROL=ignoredups\nTo remove all but the last identical command:\n~/.bashrc\nexport HISTCONTROL=erasedups\nTo avoid saving commands that start with a space:\n~/.bashrc\nexport HISTCONTROL=ignorespace\nTo avoid saving consecutive identical commands, and commands that start with a space:\n~/.bashrc\nexport HISTCONTROL=ignoreboth\nTo remove all but the last identical command, and commands that start with a space:\n~/.bashrc\nexport HISTCONTROL=\"erasedups:ignorespace\"\nSee\nbash(1) § HISTCONTROL\nfor details.\nDisable history\nTo disable the bash history only temporarily:\n$ set +o history\nThe commands entered now are not logged to the\n$HISTFILE\n.\nFor example, now you can hash passwords with\nprintf secret | sha256sum\n, or hide GPG usage like\ngpg -eaF secret-pubkey.asc\nand your secret is not written to disk.\nTo enable history:\n$ set -o history\nTo disable all bash history:\n~/.bashrc or /etc/profile\nexport HISTSIZE=0\n... and just to make sure, destroy your old histfile forever:\n$ wipe -i -l2 -x4 -p4 \"$HISTFILE\"\n$ ln -sv /dev/null \"$HISTFILE\"\nMimic Zsh run-help ability\nZsh\ncan invoke the manual for the command preceding the cursor by pressing\nAlt+h\n.\nA similar behaviour is obtained in Bash using this\nReadline\nbind:\n~/.bashrc\nrun-help() { help \"$READLINE_LINE\" 2>/dev/null || man \"$READLINE_LINE\"; }\nbind -m vi-insert -x '\"\\eh\": run-help'\nbind -m emacs -x     '\"\\eh\": run-help'\nThis assumes are you using the (default) Emacs\nediting mode\n.\nShare bash history across machines\natuin\nreplaces your existing shell history with an SQLite database, and records additional context for your commands. Additionally, it provides optional and fully encrypted synchronization of your history between machines, via an Atuin server.\nEnable bash history timestamps (\nexport HISTTIMEFORMAT=\"%F %T \"\n) before syncing.\nAtuin\nworks well with tools like\nblesh-git\nAUR\nand\ncmd-wrapped\nto provide an enhanced terminal experience across machines.\nAliases\nalias\nis a command, which enables a replacement of a word with another string. It is often used for abbreviating a system command, or for adding default arguments to a regularly used command.\nPersonal aliases can be stored in\n~/.bashrc\nor any separate file\nsourced\nfrom\n~/.bashrc\n. System-wide aliases (which affect all users) belong in\n/etc/bash.bashrc\n. See\n[4]\nfor example aliases.\nFor functions, see\nBash/Functions\n.\nTips and tricks\nPrompt customization\nSee\nBash/Prompt customization\n.\nSyntax highlighting and autosuggestions\nble.sh\n(Bash Line Editor), packed as\nblesh-git\nAUR\n, is a command line editor written in pure Bash, which is an alternative to GNU Readline. It has many enhanced features like syntax highlighting, autosuggestions, menu-completion, abbreviations,\nVim\nediting mode, and hook functions. Other interesting features include status line, history share, right prompt, transient prompt, and xterm title.\nAfter installing it,\nsource\nit in an interactive session.\n~/.bashrc\nsource /usr/share/blesh/ble.sh\nConfigurations are explained in depth in the\n~/.blerc\nfile and at the\nwiki\n. The stable\nblesh\nAUR\npackage is also available.\nCommand not found\npkgfile\nincludes a \"command not found\" hook that will automatically search the official repositories, when entering an unrecognized command.\nYou need to\nsource\nthe hook to enable it, for example:\n~/.bashrc\nsource /usr/share/doc/pkgfile/command-not-found.bash\nThen attempting to run an unavailable command will show the following info:\n$ abiword\nabiword may be found in the following packages:\nextra/abiword 3.0.1-2\t/usr/bin/abiword\nNote\nThe pkgfile database may need to be updated before this will work.  See\npkgfile#Installation\nfor details.\nDisable Ctrl+z in terminal\nYou can disable the\nCtrl+z\nfeature (pauses/closes your application) by wrapping your command like this:\n#!/bin/bash\ntrap \"\" 20\nadom\nNow, when you accidentally press\nCtrl+z\nin\nadom\nAUR\ninstead of\nShift+z\n, nothing will happen because\nCtrl+z\nwill be ignored.\nClear the screen after logging out\nTo clear the screen after logging out on a virtual terminal:\n~/.bash_logout\nclear\nreset\nAuto \"cd\" when entering just a path\nBash can automatically prepend\ncd\nwhen entering just a path in the shell. For example:\n$ /etc\nbash: /etc: Is a directory\nBut after adding one line into\n.bashrc\nfile:\n~/.bashrc\n...\nshopt -s autocd\n...\nYou get:\n[user@host ~]$ /etc\ncd /etc\n[user@host etc]$\nAutojump\nautojump-git\nAUR\nis a python script which allows navigating the file system by searching for strings in a database with the user's most-visited paths.\nzoxide\nis an alternative which has additional features and performance improvements compared to the original\nautojump\nand can serve as a drop-in replacement for autojump.\nPrevent overwrite of files\nFor the current session, to disallow existing regular files to be overwritten by redirection of shell output:\n$ set -o noclobber\nThis is identical to\nset -C\n.\nTo make the changes persistent for your user:\n~/.bashrc\n...\nset -o noclobber\nTo manually overwrite a file while\nnoclobber\nis set:\n$ echo \"output\" >| file.txt\nUse directory stack to navigate\npushd\nand\npopd\ncan be used to push or pop directories to a stack while switching to them. This can be useful for \"replaying\" your navigation history.\n[user@host ~] pushd /tmp/dir1\n[user@host /tmp/dir1] pushd /var/lib\n[user@host /var/lib] popd\n[user@host /tmp/dir1] popd\n[user@host ~]\nSee\nbash(1) § DIRSTACK\n.\nTroubleshooting\nLine wrap on window resize\nWhen resizing a\nterminal emulator\n, Bash may not receive the resize signal. This will cause typed text to not wrap correctly and overlap the prompt. The\ncheckwinsize\nshell option checks the window size after each command and, if necessary, updates the values of\nLINES\nand\nCOLUMNS\n.\n~/.bashrc\nshopt -s checkwinsize\nShell exits even if ignoreeof set\nIf you have set the\nignoreeof\noption and you find that repeatedly hitting\nctrl-d\ncauses the shell to exit, it is because this option only allows 10 consecutive invocations of this keybinding (or 10 consecutive EOF characters, to be precise), before exiting the shell.\nTo allow higher values, you have to use the IGNOREEOF variable.\nFor example:\nexport IGNOREEOF=100\nChecking errors by analyzing scripts\nThe package\nshellcheck\nanalyzes bash (and other shell) scripts, prints possible errors, and suggests better coding.\nThere is also the web site\nshellcheck.net\nof the same purpose, based on this program.\nSee also\nBash Reference Manual\n, or\n/usr/share/doc/bash/bashref.html\nReadline Init File Syntax\nThe Bourne-Again Shell\n- The third chapter of\nThe Architecture of Open Source Applications\nPS1 generator\n- generate your .bashrc/PS1 bash prompt using an intuitive UI\nEven more useful .bashrc commands\nTutorials\nGreg's Wiki\nGregsWiki:BashGuide\nGregsWiki:BashFAQ\nQuote Tutorial\nCommunity\nAn active and friendly IRC channel for Bash\nExamples\nHow to change the title of an xterm\nRetrieved from \"\nhttps://wiki.archlinux.org/index.php?title=Bash&oldid=849347\n\"\nCategories\n:\nCommand-line shells\nGNU\nSearch\nSearch\nBash\nAdd topic", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://wiki.archlinux.org/title/Bash"}}
{"text": "Zsh - ArchWiki\nHome\nPackages\nForums\nWiki\nGitLab\nSecurity\nAUR\nDownload\nJump to content\nArchWiki\nSearch\nSearch\nZsh\n7 languages\nDeutsch\nEspañol\nMagyar\n日本語\nPortuguês\nРусский\n中文（简体）\nFrom ArchWiki\nZsh\nis a powerful\nshell\nthat operates as both an interactive shell and as a scripting language interpreter. While being compatible with the POSIX sh (not by default, only if issuing\nemulate sh\n), it offers advantages such as improved\ntab completion\nand\nglobbing\n.\nThe\nZsh FAQ\noffers more reasons to use Zsh.\nInstallation\nBefore starting, users may want to see what shell is currently being used:\n$ echo $SHELL\nInstall\nthe\nzsh\npackage. For additional completion definitions, install the\nzsh-completions\npackage as well.\nInitial configuration\nMake sure that Zsh has been installed correctly by running the following in a terminal:\n$ zsh\nYou should now see\nzsh-newuser-install\n, which will walk you through some basic configuration. If you want to skip this, press\nq\n. If you did not see it, you can invoke it manually with:\n$ autoload -Uz zsh-newuser-install\n$ zsh-newuser-install -f\nNote\nMake sure your terminal's size is at least 72×15 otherwise\nzsh-newuser-install\nwill not run.\nMaking Zsh your default shell\nChange your shell to\n/usr/bin/zsh\n. See\nCommand-line shell#Changing your default shell\n.\nTip\nIf replacing\nbash\n, users may want to move some code from\n~/.bashrc\nto\n~/.zshrc\n(e.g. the prompt and the\naliases\n) and from\n~/.bash_profile\nto\n~/.zprofile\n(e.g.\nthe code that starts the X Window System\n).\nStartup/Shutdown files\nTip\nSee\nA User's Guide to the Z-Shell\nfor explanation on interactive and login shells, and what to put in your startup files.\nNote\nIf\n$ZDOTDIR\nis not set,\n$HOME\nis used instead.\nIf option\nRCS\nis unset in any of the files, no configuration files will be read after that file.\nIf option\nGLOBAL_RCS\nis unset in any of the files, no global configuration files (\n/etc/zsh/*\n) will be read after that file.\nWhen starting, Zsh will read commands from the following files in this order by default, provided they exist.\n/etc/zsh/zshenv\nUsed for setting\nenvironment variables\nfor all users; it should not contain commands that produce output or assume the shell is attached to a TTY. When this file exists it will\nalways\nbe read, this cannot be overridden.\n$ZDOTDIR/.zshenv\nUsed for setting user's environment variables; it should not contain commands that produce output or assume the shell is attached to a TTY. When this file exists it will\nalways\nbe read.\n/etc/zsh/zprofile\nUsed for executing commands at start for all users, will be read when starting as a\nlogin shell\n. Please note that on Arch Linux, by default it contains\none line\nwhich sources\n/etc/profile\n. See warning below before wanting to remove that!\n/etc/profile\nThis file should be sourced by all POSIX sh-compatible shells upon login: it sets up\n$PATH\nand other environment variables and application-specific (\n/etc/profile.d/*.sh\n) settings upon login.\n$ZDOTDIR/.zprofile\nUsed for executing user's commands at start, will be read when starting as a\nlogin shell\n. Typically used to autostart graphical sessions and to set session-wide environment variables.\n/etc/zsh/zshrc\nUsed for setting interactive shell configuration and executing commands for all users, will be read when starting as an\ninteractive shell\n.\n$ZDOTDIR/.zshrc\nUsed for setting user's interactive shell configuration and executing commands, will be read when starting as an\ninteractive shell\n.\n/etc/zsh/zlogin\nUsed for executing commands for all users at ending of initial progress, will be read when starting as a\nlogin shell\n.\n$ZDOTDIR/.zlogin\nUsed for executing user's commands at ending of initial progress, will be read when starting as a\nlogin shell\n. Typically used to autostart command line utilities. Should not be used to autostart graphical sessions, as at this point the session might contain configuration meant only for an interactive shell.\n$ZDOTDIR/.zlogout\nUsed for executing commands when a\nlogin shell\nexits\n.\n/etc/zsh/zlogout\nUsed for executing commands for all users when a\nlogin shell\nexits\n.\nSee\nthe graphic representation\n.\nNote\n$HOME/.profile\nis not a part of the Zsh startup files and\nis not sourced\nby Zsh unless Zsh is invoked as\nsh\nor\nksh\nand started as a login shell. For more details about the sh and\nksh\ncompatibility modes refer to\nzsh(1) § COMPATIBILITY\n.\nWarning\nDo not remove the default\none line\nin\n/etc/zsh/zprofile\n, otherwise it will break the integrity of other packages which provide some scripts in\n/etc/profile.d/\n.\nConfigure Zsh\nAlthough Zsh is usable out of the box, it is almost certainly not set up the way most users would like to use it. But due to the sheer amount of customization available in Zsh, configuring Zsh can be a daunting and time-consuming experience. For automatic configuration, see\n#Third-party extensions\n.\nSimple .zshrc\nIncluded below is a sample configuration file. It provides a decent set of default options as well as giving examples of many ways that Zsh can be customized. In order to use this configuration save it as a file named\n.zshrc\n.\nTip\nApply the changes without needing to logout and then back in by running\nsource ~/.zshrc\n.\nHere is a simple\n.zshrc\n:\n~/.zshrc\nautoload -Uz compinit promptinit\ncompinit\npromptinit\n# This will set the default prompt to the walters theme\nprompt walters\nSee\n#Prompt themes\nfor more details about the prompt theme system.\nConfiguring $PATH\nZsh ties the\nPATH\nvariable to a\npath\narray. This allows you to manipulate\nPATH\nby simply modifying the\npath\narray. See\nA User's Guide to the Z-Shell\nfor details.\nTo add\n~/.local/bin/\nto the\nPATH\n:\n~/.zshenv\ntypeset -U path PATH\npath=(~/.local/bin $path)\nexport PATH\nCommand completion\nPerhaps the most compelling feature of Zsh is its advanced autocompletion abilities. At the very least, enable autocompletion in\n.zshrc\n. To enable autocompletion, add the following to your\n~/.zshrc\n:\n~/.zshrc\nautoload -Uz compinit\ncompinit\nThe above configuration includes ssh/scp/sftp hostnames completion but in order for this feature to work, users must not enable ssh's hostname hashing (i.e. option\nHashKnownHosts\nin ssh client configuration).\nFor autocompletion with an arrow-key driven interface, add the following to:\n~/.zshrc\nzstyle ':completion:*' menu select\nTo activate the menu, press\nTab\ntwice.\nFor enabling autocompletion of privileged environments in privileged commands (e.g. if you complete a command starting with\nsudo\n, completion scripts will also try to determine your completions with sudo), include:\n~/.zshrc\nzstyle ':completion::complete:*' gain-privileges 1\nWarning\nThis will let Zsh completion scripts run commands with sudo privileges. You should not enable this if you use untrusted autocompletion scripts.\nNote\nThis special kind of context-aware completion is only available for a small number of commands.\nCustom completion\nYou can write custom completions on your own. Should you do so, you can refer to the\nzshcompsys(1)\nman page.\nNote that the official documentation can be hard to read. You can consider trying the simpler\nzsh-completion-howto\ntutorial for an easy start.\nKey bindings\nZsh does not use\nreadline\n, instead it uses its own and more powerful Zsh Line Editor (ZLE). It does not read\n/etc/inputrc\nor\n~/.inputrc\n. Read\nA closer look at the zsh line editor and creating custom widgets\nfor an introduction to ZLE configuration.\nZLE has an\nEmacs\nmode and a\nvi\nmode. If one of the\nVISUAL\nor\nEDITOR\nenvironment variables\ncontain the string\nvi\nthen vi mode will be used; otherwise, it will default to Emacs mode. Set the mode explicitly with\nbindkey -e\nor\nbindkey -v\nrespectively for Emacs mode or vi mode. The delay of pressing Esc key in vi mode is 0.4s by default, and you can make it shorter (0.05s) with\nexport KEYTIMEOUT=5\n.\nKey bindings are assigned by mapping an escape sequence matching a keypress to a ZLE widget. The available widgets, with descriptions of their actions and their default keybindings, are listed in\nzshzle(1) § STANDARD WIDGETS\nand\nzshcontrib(1) § ZLE FUNCTIONS\n.\nThe recommended way to set key bindings in Zsh is by using string capabilities from\nterminfo(5)\n. For example\n[1]\n[2]\n:\n~/.zshrc\n# create a zkbd compatible hash;\n# to add other keys to this hash, see: man 5 terminfo\ntypeset -g -A key\nkey[Home]=\"${terminfo[khome]}\"\nkey[End]=\"${terminfo[kend]}\"\nkey[Insert]=\"${terminfo[kich1]}\"\nkey[Backspace]=\"${terminfo[kbs]}\"\nkey[Delete]=\"${terminfo[kdch1]}\"\nkey[Up]=\"${terminfo[kcuu1]}\"\nkey[Down]=\"${terminfo[kcud1]}\"\nkey[Left]=\"${terminfo[kcub1]}\"\nkey[Right]=\"${terminfo[kcuf1]}\"\nkey[PageUp]=\"${terminfo[kpp]}\"\nkey[PageDown]=\"${terminfo[knp]}\"\nkey[Shift-Tab]=\"${terminfo[kcbt]}\"\n# setup key accordingly\n[[ -n \"${key[Home]}\"      ]] && bindkey -- \"${key[Home]}\"       beginning-of-line\n[[ -n \"${key[End]}\"       ]] && bindkey -- \"${key[End]}\"        end-of-line\n[[ -n \"${key[Insert]}\"    ]] && bindkey -- \"${key[Insert]}\"     overwrite-mode\n[[ -n \"${key[Backspace]}\" ]] && bindkey -- \"${key[Backspace]}\"  backward-delete-char\n[[ -n \"${key[Delete]}\"    ]] && bindkey -- \"${key[Delete]}\"     delete-char\n[[ -n \"${key[Up]}\"        ]] && bindkey -- \"${key[Up]}\"         up-line-or-history\n[[ -n \"${key[Down]}\"      ]] && bindkey -- \"${key[Down]}\"       down-line-or-history\n[[ -n \"${key[Left]}\"      ]] && bindkey -- \"${key[Left]}\"       backward-char\n[[ -n \"${key[Right]}\"     ]] && bindkey -- \"${key[Right]}\"      forward-char\n[[ -n \"${key[PageUp]}\"    ]] && bindkey -- \"${key[PageUp]}\"     beginning-of-buffer-or-history\n[[ -n \"${key[PageDown]}\"  ]] && bindkey -- \"${key[PageDown]}\"   end-of-buffer-or-history\n[[ -n \"${key[Shift-Tab]}\" ]] && bindkey -- \"${key[Shift-Tab]}\"  reverse-menu-complete\n# Finally, make sure the terminal is in application mode, when zle is\n# active. Only then are the values from $terminfo valid.\nif (( ${+terminfo[smkx]} && ${+terminfo[rmkx]} )); then\nautoload -Uz add-zle-hook-widget\nfunction zle_application_mode_start { echoti smkx }\nfunction zle_application_mode_stop { echoti rmkx }\nadd-zle-hook-widget -Uz zle-line-init zle_application_mode_start\nadd-zle-hook-widget -Uz zle-line-finish zle_application_mode_stop\nfi\nHistory search\nYou need to set up the\nkey\narray and make sure that ZLE enters application mode to use the following instructions; see\n#Key bindings\n.\nTo enable history search add these lines to\n.zshrc\nfile:\n~/.zshrc\nautoload -Uz up-line-or-beginning-search down-line-or-beginning-search\nzle -N up-line-or-beginning-search\nzle -N down-line-or-beginning-search\n[[ -n \"${key[Up]}\"   ]] && bindkey -- \"${key[Up]}\"   up-line-or-beginning-search\n[[ -n \"${key[Down]}\" ]] && bindkey -- \"${key[Down]}\" down-line-or-beginning-search\nBy doing this, only the past commands matching the current line up to the current cursor position will be shown when\nUp\nor\nDown\nkeys are pressed.\nShift, Alt, Ctrl and Meta modifiers\nxterm-compatible terminals can use extended key-definitions from\nuser_caps(5)\n. Those are combinations of\nShift\n,\nAlt\n,\nCtrl\nand\nMeta\ntogether with\nUp\n,\nDown\n,\nLeft\n,\nRight\n,\nPageUp\n,\nPageDown\n,\nHome\n,\nEnd\nor\nDel\n. Refer to the\nzkbd source\nfor a list of recommended names for the modifier keys and key combinations.\nFor example, for\nCtrl+Left\nto move to the beginning of the previous word and\nCtrl+Right\nto move to the beginning of the next word:\n~/.zshrc\nkey[Control-Left]=\"${terminfo[kLFT5]}\"\nkey[Control-Right]=\"${terminfo[kRIT5]}\"\n[[ -n \"${key[Control-Left]}\"  ]] && bindkey -- \"${key[Control-Left]}\"  backward-word\n[[ -n \"${key[Control-Right]}\" ]] && bindkey -- \"${key[Control-Right]}\" forward-word\nPrompts\nZsh offers the options of using a prompt theme or, for users who are dissatisfied with the themes (or want to expand their usefulness), the possibility to build a custom prompt.\nPrompt themes\nPrompt themes are a quick and easy way to set up a colored prompt in Zsh. See\nzshcontrib(1) § PROMPT THEMES\nfor information about prompt themes and how to write your own theme.\nTo use a theme, make sure that prompt theme system is set to autoload in\n.zshrc\n. This can be done by adding these lines to:\n~/.zshrc\nautoload -Uz promptinit\npromptinit\nAvailable prompt themes are listed by running the command:\n$ prompt -l\nFor example, to use the\nwalters\ntheme, enter:\n$ prompt walters\nTo preview all available themes, use this command:\n$ prompt -p\nManually installing prompt themes\nIt is possible to install themes manually, without external configuration manager tools. For a local installation, first create a folder and add it to the\nfpath\narray, eg:\n$ mkdir ~/.zprompts\n$ fpath=(\"$HOME/.zprompts\" \"$fpath[@]\")\nNow create a symbolic link of your theme file in this folder:\n$ ln -s mytheme.zsh ~/.zprompts/prompt_mytheme_setup\nIf instead you wish to install a theme globally, do:\n# ln -s mytheme.zsh /usr/share/zsh/functions/Prompts/prompt_mytheme_setup\nNow you should be able to activate it using:\n$ prompt mytheme\nIf everything works, you can edit your\n.zshrc\naccordingly.\nAdding prompt themes without a separate file for each one\nIn addition to adding a prompt theme through its own file, it is possible to add themes from within another file (like your\n.zshrc\n), eg:\n~/.zshrc\n# Load promptinit\nautoload -Uz promptinit && promptinit\n# Define the theme\nprompt_mytheme_setup() {\nPS1=\"%~%# \"\n}\n# Add the theme to promptsys\nprompt_themes+=( mytheme )\n# Load the theme\nprompt mytheme\nCustomized prompt\nAdditionally to a primary left-sided prompt\nPS1\n(\nPROMPT\n,\nprompt\n) that is common to all shells, Zsh also supports a right-sided prompt\nRPS1\n(\nRPROMPT\n). These two variables are the ones you will want to set to a custom value.\nOther special purpose prompts, such as\nPS2\n(\nPROMPT2\n),\nPS3\n(\nPROMPT3\n),\nPS4\n(\nPROMPT4\n),\nRPS1\n(\nRPROMPT\n),\nRPS2\n(\nRPROMPT2\n) and\nSPROMPT\n, are explained in\nzshparam(1) § PARAMETERS USED BY THE SHELL\n.\nAll prompts can be customized with prompt escapes. The available prompt escapes are listed in\nzshmisc(1) § EXPANSION OF PROMPT SEQUENCES\n.\nColors\nZsh sets colors differently than\nBash\n; You do not need to use profuse ANSI escape sequences or terminal capabilities from\nterminfo(5)\n. Zsh provides convenient prompt escapes to set the foreground color, background color and other visual effects; see\nzshmisc(1) § Visual effects\nfor a list of them and their descriptions.\nColors\ncan be specified using a decimal integer, the name of one of the eight most widely-supported colors or as a # followed by an RGB triplet in hexadecimal format. See the description of fg=colour in\nzshzle(1) § CHARACTER HIGHLIGHTING\nfor more details.\nMost terminals support the following colors by name:\nName\nNumber\nblack\n0\nred\n1\ngreen\n2\nyellow\n3\nblue\n4\nmagenta\n5\ncyan\n6\nwhite\n7\nColor numbers 0–255 for terminal emulators compatible with xterm 256 colors can be found in the\nxterm-256color chart\n.\nWith a correctly set TERM environment variable, the terminal's supported maximum number of colors can be found from the\nterminfo(5)\ndatabase using\nechoti colors\n. In the case of\n24-bit colors\n, also check the COLORTERM environment variable with\nprint $COLORTERM\n. If it returns\n24bit\nor\ntruecolor\nthen your terminal supports 16777216 (2\n24\n) colors even if terminfo shows a smaller number.\nNote\nThe colors 0–15 may differ between terminal emulators and their used color schemes.\nMany terminal emulators display bold with a brighter color.\nTip\nPrompt escapes can be tested with command\nprint -P\n\"prompt escapes\"\n, for example:\n$ print -P '%B%F{red}co%F{green}lo%F{blue}rs%f%b'\nIf you use 24-bit colors, you might want to load the\nzsh/nearcolor\nmodule in terminals that do not support them. E.g.:\n[[ \"$COLORTERM\" == (24bit|truecolor) || \"${terminfo[colors]}\" -eq '16777216' ]] || zmodload zsh/nearcolor\nSee\nzshmodules(1) § THE ZSH/NEARCOLOR MODULE\nfor details about the\nzsh/nearcolor\nmodule.\nExample\nAn example of a simple colorless prompt:\nPROMPT='%n@%m %~ %# '\nHow it will be displayed:\nusername@host ~ %\nThis is an example of a two-sided prompt with color:\nPROMPT='%F{green}%n%f@%F{magenta}%m%f %F{blue}%B%~%b%f %# '\nRPROMPT='[%F{yellow}%?%f]'\nAnd here is how it will be displayed:\nusername\n@\nhost\n~\n%\n[\n0\n]\nTo use colors from the 16-255 range and 24-bit true color, you can use the number from 0 to 255 assigned to the wanted color and its hexadecimal color code, respectively:\nPROMPT='%F{2}%n%f@%F{5}%m%f %F{4}%B%~%b%f %# '\nRPROMPT='[%F{3}%?%f]'\nPROMPT='%F{#c0c0c0}%n%f@%F{#008000}%m%f %F{#800080}%B%~%b%f %# '\nRPROMPT='[%F{#0000ff}%?%f]'\nSample .zshrc files\nTo get the same setup as the\nmonthly ISO releases\n(which use Zsh by default), install\ngrml-zsh-config\n. It includes the many tweaks and advanced optimizations from\ngrml\n.\nhttps://github.com/MrElendig/dotfiles-alice/blob/master/.zshrc\n- basic setup, with dynamic prompt and window title/hardinfo.\nSee\ndotfiles#User repositories\nfor more.\nTips and tricks\nAutostart X at login\nSee\nxinit#Autostart X at login\n.\nRestore terminal settings after a program exits abnormally\nMany programs change the terminal state, and often do not restore terminal settings on exiting abnormally (e.g. when crashing or encountering SIGINT).\nThis can typically be solved by executing\nreset(1)\n:\n$ reset\nThe following sections describe ways to avoid the need to manually reset the terminal.\nThe ttyctl command\nThe\nttyctl\ncommand can be used to \"freeze/unfreeze\" the terminal. To freeze the interactive shell on launch, use the following:\n~/.zshrc\nttyctl -f\nResetting the terminal with escape sequences\nAlternate linedrawing character set\ncan screw up the terminal in a way which ttyctl cannot prevent.\nA simple solution is to output the escape sequences that reset the terminal from the\nprecmd\nhook function, so that they are executed every time before the prompt is drawn. For example, using\nthe escape sequence\n\\e[0m\\e(B\\e)0\\017\\e[?5l\\e7\\e[0;0r\\e8\n:\n~/.zshrc\nautoload -Uz add-zsh-hook\nfunction reset_broken_terminal () {\nprintf '%b' '\\e[0m\\e(B\\e)0\\017\\e[?5l\\e7\\e[0;0r\\e8'\n}\nadd-zsh-hook -Uz precmd reset_broken_terminal\nTo test if it works, run:\n$ print '\\e(0\\e)B'\nRemembering recent directories\nDirstack\nZsh can be configured to remember the DIRSTACKSIZE last visited folders. This can then be used to\ncd\nthem very quickly. You need to add some lines to your configuration file:\n~/.zshrc\nautoload -Uz add-zsh-hook\nDIRSTACKFILE=\"${XDG_CACHE_HOME:-$HOME/.cache}/zsh/dirs\"\nif [[ -f \"$DIRSTACKFILE\" ]] && (( ${#dirstack} == 0 )); then\ndirstack=(\"${(@f)\"$(< \"$DIRSTACKFILE\")\"}\")\n[[ -d \"${dirstack[1]}\" ]] && cd -- \"${dirstack[1]}\"\nfi\nchpwd_dirstack() {\nprint -l -- \"$PWD\" \"${(u)dirstack[@]}\" > \"$DIRSTACKFILE\"\n}\nadd-zsh-hook -Uz chpwd chpwd_dirstack\nDIRSTACKSIZE='20'\nsetopt AUTO_PUSHD PUSHD_SILENT PUSHD_TO_HOME\n## Remove duplicate entries\nsetopt PUSHD_IGNORE_DUPS\n## This reverts the +/- operators.\nsetopt PUSHD_MINUS\nNow use\n$ dirs -v\nto print the dirstack. Use\ncd -<NUM>\nto go back to a visited folder. Use autocompletion after the dash. This proves very handy if using the autocompletion menu.\nNote\nThis will not work if you have more than one\nzsh\nsession open, and attempt to\ncd\n, due to a conflict in both sessions writing to the same file.\nYou might need to create\n$HOME/.cache/zsh\ndirectory not to get\nno such file or directory\nerror.\ncdr\ncdr allows you to change the working directory to a previous working directory from a list maintained automatically. It stores all entries in files that are maintained across sessions and (by default) between terminal emulators in the current session.\nSee\nzshcontrib(1) § REMEMBERING RECENT DIRECTORIES\nfor setup instructions.\nzoxide\nzoxide\nis a smarter\ncd\ncommand that lets you navigate anywhere in just a few keystrokes. It remembers your frequently used directories and uses a scoring mechanism to guess where you want to go.\nHelp command\nUnlike\nBash\n, Zsh does not enable a built in\nhelp\ncommand, instead it provides\nrun-help\n. By default\nrun-help\nis an alias to\nman\n, it can be either executed manually by prepending it to a command or it can be invoked for the currently typed command with the keyboard shortcuts\nAlt+h\nor\nEsc\nh\n.\nSince by default it is just an alias to\nman\n, it will only work on external commands. To improve its functionality, so that it works on shell builtins and other shell features, you need to use the\nrun-help\nfunction. See\nzshcontrib(1)\nfor more information on the\nrun-help\nand its assistant functions.\nFirst load the\nrun-help\nfunction and then remove the existing\nrun-help\nalias. For convenience\nhelp\ncan be aliased to\nrun-help\n. For example, add following to your\nzshrc\n:\nautoload -Uz run-help\n(( ${+aliases[run-help]} )) && unalias run-help\nalias help=run-help\nAssistant functions have to be enabled separately:\nautoload -Uz run-help-git run-help-ip run-help-openssl run-help-p4 run-help-sudo run-help-svk run-help-svn\nFor example,\nrun-help git commit\ncommand will now open the\nman page\ngit-commit(1)\ninstead of\ngit(1)\n.\nPersistent rehash\nTypically, compinit will not automatically find new executables in the\n$PATH\n. For example, after you install a new package, the files in\n/usr/bin/\nwould not be immediately or automatically included in the completion. Thus, to have these new executables included, one would run:\n$ rehash\nThis 'rehash' can be set to happen automatically.\n[3]\nSimply include the following in your\nzshrc\n:\n~/.zshrc\nzstyle ':completion:*' rehash true\nOn-demand rehash\nAs above, however\npacman\ncan be configured with\nhooks\nto automatically request a\nrehash\n, which does not incur the performance penalty of constant rehashing as above. To enable this, create the\n/etc/pacman.d/hooks\ndirectory, and a\n/var/cache/zsh\ndirectory, then create a hook file:\n/etc/pacman.d/hooks/zsh-rehash.hook\n[Trigger]\nOperation = Install\nOperation = Upgrade\nOperation = Remove\nType = Path\nTarget = usr/bin/*\n[Action]\nDepends = zsh\nWhen = PostTransaction\nExec = /usr/bin/install -Dm644 /dev/null /var/cache/zsh/pacman\nThis keeps the modification date of the file\n/var/cache/zsh/pacman\nconsistent with the last time a package was installed, upgraded or removed. Then,\nzsh\nmust be coaxed into rehashing its own command cache when it goes out of date, by adding to your\n~/.zshrc\n:\n~/.zshrc\nzshcache_time=\"$(date +%s%N)\"\nautoload -Uz add-zsh-hook\nrehash_precmd() {\nif [[ -a /var/cache/zsh/pacman ]]; then\nlocal paccache_time=\"$(date -r /var/cache/zsh/pacman +%s%N)\"\nif (( zshcache_time < paccache_time )); then\nrehash\nzshcache_time=\"$paccache_time\"\nfi\nfi\n}\nadd-zsh-hook -Uz precmd rehash_precmd\nIf the\nprecmd\nhook is triggered before\n/var/cache/zsh/pacman\nis updated, completion may not work until a new prompt is initiated. Running an empty command, e.g. pressing\nenter\n, should be sufficient.\nAlternative on-demand rehash using SIGUSR1\nAs above, however the hook file looks like this:\n/etc/pacman.d/hooks/zsh-rehash.hook\n[Trigger]\nOperation = Install\nOperation = Upgrade\nOperation = Remove\nType = Path\nTarget = usr/bin/*\n[Action]\nDepends = zsh\nDepends = procps-ng\nWhen = PostTransaction\nExec = /usr/bin/pkill zsh --signal=USR1\nWarning\nThis sends SIGUSR1 to all running\nzsh\ninstances. Note that the default behavior for SIGUSR1 is terminate so when you first configure this all running\nzsh\ninstances of all users (including login shells) will terminate if they have not sourced the trap below.\n~/.zshrc\nTRAPUSR1() { rehash }\nThe\nfunction trap\nabove can be replaced with a\nlist trap\ntrap 'rehash' USR1\n. See\nzshmisc(1) § Trap Functions\nfor differences between types of traps.\nThis method will instantly\nrehash\nall\nzsh\ninstances, removing the need to press enter to trigger\nprecmd\n.\nBind key to ncurses application\nBind a ncurses application to a keystroke, but it will not accept interaction. Use\nBUFFER\nvariable to make it work. The following example lets users open\nncmpcpp\nusing\nAlt+\\\n:\n~/.zshrc\nncmpcppShow() {\nBUFFER=\"ncmpcpp\"\nzle accept-line\n}\nzle -N ncmpcppShow\nbindkey '^[\\' ncmpcppShow\nAn alternate method, that will keep everything you entered in the line before calling application:\n~/.zshrc\nncmpcppShow() {\nncmpcpp <$TTY\nzle redisplay\n}\nzle -N ncmpcppShow\nbindkey '^[\\' ncmpcppShow\nFile manager key binds\nKey binds like those used in graphic file managers may come handy. The first comes back in directory history (\nAlt+Left\n), the second let the user go to the parent directory (\nAlt+Up\n). They also display the directory content.\n~/.zshrc\ncdUndoKey() {\npopd\nzle       reset-prompt\nprint\nls\nzle       reset-prompt\n}\ncdParentKey() {\npushd ..\nzle      reset-prompt\nprint\nls\nzle       reset-prompt\n}\nzle -N                 cdParentKey\nzle -N                 cdUndoKey\nbindkey '^[[1;3A'      cdParentKey\nbindkey '^[[1;3D'      cdUndoKey\nxterm title\nIf your terminal emulator supports it, you can set its title from Zsh. This allows dynamically changing the title to display relevant information about the shell state, for example showing the user name and current directory or the currently executing command.\nThe xterm title is set with the\nxterm control sequence operating system command\n\\e]2;\n\\a\nor\n\\e]2;\n\\e\\\\\n. For example:\n$ print -n '\\e]2;My xterm title\\a'\nwill set the title to\nMy xterm title\nA simple way to have a dynamic title is to set the title in the\nprecmd\nand\npreexec\nhook functions. See\nzshmisc(1) § Hook Functions\nfor a list of available hook functions and their descriptions.\nBy using\nprint -P\nyou can additionally take advantage of Zsh's prompt escapes.\nTip\nTitle printing can be split up in multiple commands as long as they are sequential.\nGNU Screen\nsends the xterm title to the hardstatus (\n%h\n). If you want to use Screen's\nstring escapes\n(e.g. for colors) you should set the hardstatus with the\n\\e_\n\\e\\\\\nescape sequence. Otherwise, if string escapes are used in\n\\e]2;\n\\a\n, the terminal emulator will get a garbled title due to it being incapable of interpreting Screen's string escapes.\nNote\nDo not use the\n-P\noption of\nprint\nwhen printing variables to prevent them from being parsed as prompt escapes.\nUse the\nq\nparameter expansion flag\nwhen printing variables to prevent them from being parsed as escape sequences.\n~/.zshrc\nautoload -Uz add-zsh-hook\nfunction xterm_title_precmd () {\nprint -Pn -- '\\e]2;%n@%m %~\\a'\n[[ \"$TERM\" == 'screen'* ]] && print -Pn -- '\\e_\\005{2}%n\\005{-}@\\005{5}%m\\005{-} \\005{+b 4}%~\\005{-}\\e\\\\'\n}\nfunction xterm_title_preexec () {\nprint -Pn -- '\\e]2;%n@%m %~ %# ' && print -n -- \"${(q)1}\\a\"\n[[ \"$TERM\" == 'screen'* ]] && { print -Pn -- '\\e_\\005{2}%n\\005{-}@\\005{5}%m\\005{-} \\005{+b 4}%~\\005{-} %# ' && print -n -- \"${(q)1}\\e\\\\\"; }\n}\nif [[ \"$TERM\" == (Eterm*|alacritty*|aterm*|foot*|gnome*|konsole*|kterm*|putty*|rxvt*|screen*|wezterm*|tmux*|xterm*) ]]; then\nadd-zsh-hook -Uz precmd xterm_title_precmd\nadd-zsh-hook -Uz preexec xterm_title_preexec\nfi\nTerminal emulator tab title\nSome terminal emulators and multiplexers support setting the title of the tab. The escape sequences depend on the terminal:\nTerminal\nEscape sequences\nDescription\nGNU Screen\n\\ek\n\\e\\\\\nScreen's window title (\n%t\n).\nKonsole\n\\e]30;\n\\a\nKonsole's tab title.\nShell environment detection\nSee\na repository about shell environment detection\nfor tests to detect the shell environment. This includes login/interactive shell, Xorg session, TTY and SSH session.\n/dev/tcp equivalent: ztcp\nUse the\nzsh/net/tcp\nmodule:\n$ zmodload zsh/net/tcp\nYou can now establish TCP connections:\n$ ztcp example.com 80\nMore details are available in\nzshmodules(1) § THE_ZSH/NET/TCP_MODULE\nand\nzshtcpsys(1)\n.\nShortcut to exit shell on partial command line\nBy default,\nCtrl+d\nwill not close your shell if the command line is filled, this fixes it:\n.zshrc\nexit_zsh() { exit }\nzle -N exit_zsh\nbindkey '^D' exit_zsh\npacman -F \"command not found\" handler\npacman\nincludes functionality to search for packages containing a file. The following command-not-found handler will use pacman directly to search for matching packages when an unknown command is executed.\n~/.zshrc\n...\nfunction command_not_found_handler {\nlocal purple='\\e[1;35m' bright='\\e[0;1m' green='\\e[1;32m' reset='\\e[0m'\nprintf 'zsh: command not found: %s\\n' \"$1\"\nlocal entries=(\n${(f)\"$(/usr/bin/pacman -F --machinereadable -- \"/usr/bin/$1\")\"}\n)\nif (( ${#entries[@]} ))\nthen\nprintf \"${bright}$1${reset} may be found in the following packages:\\n\"\nlocal pkg\nfor entry in \"${entries[@]}\"\ndo\n# (repo package version file)\nlocal fields=(\n${(0)entry}\n)\nif [[ \"$pkg\" != \"${fields[2]}\" ]]\nthen\nprintf \"${purple}%s/${bright}%s ${green}%s${reset}\\n\" \"${fields[1]}\" \"${fields[2]}\" \"${fields[3]}\"\nfi\nprintf '    /%s\\n' \"${fields[4]}\"\npkg=\"${fields[2]}\"\ndone\nfi\nreturn 127\n}\n...\nNote\nThe files database of pacman is separate from the normal sync database and it needs to be fetched using\npacman -Fy\n. See\npacman#Querying package databases\nfor details.\nFor an alternative using\npkgfile\n, see\n#pkgfile \"command not found\" handler\n.\nClear the backbuffer using a key binding\nBy default, the clear screen keybinding will not clear the backbuffer (the part you need to scroll up for to see it) on most terminal emulators. A possible solution to this problem is the following.\n~/.zshrc\n...\nfunction clear-screen-and-scrollback() {\nprintf '\\x1Bc'\nzle clear-screen\n}\nzle -N clear-screen-and-scrollback\nbindkey '^L' clear-screen-and-scrollback\n...\nThird-party extensions\nConfiguration frameworks\nNote\nFrameworks introduce a level of abstraction and complexity. They can, and often do, introduce undefined behavior. In case of shell breakage, the\nfirst\ndebugging step should be to revert to the plain shell.\noh-my-posh\n— Oh My Posh is a custom prompt engine for any shell that has the ability to adjust the prompt string with a function or variable.\nhttps://github.com/JanDeDobbeleer/oh-my-posh\n||\noh-my-posh\nAUR\noh-my-zsh\n— A popular, community-driven framework for managing your Zsh configuration. It comes bundled with a ton of helpful functions, helpers, plugins, themes.\nhttps://github.com/ohmyzsh/ohmyzsh\n||\noh-my-zsh-git\nAUR\nPrezto\n— A configuration framework for Zsh. It comes with modules, enriching the command line interface environment with sane defaults, aliases, functions, auto completion, and prompt themes.\nhttps://github.com/sorin-ionescu/prezto\n||\nprezto-git\nAUR\nZIM\n— A configuration framework with blazing speed and modular extensions. Zim is very easy to customize, and comes with a rich set of modules and features without compromising on speed or functionality.\nhttps://github.com/zimfw/zimfw\n||\nzsh-zim-git\nAUR\nPlugin managers\nAntidote\n— A feature complete Zsh implementation of the legacy Antibody plugin manager.\nhttps://github.com/mattmc3/antidote\n||\nzsh-antidote\nAUR\nzinit (previously \"zplugin\")\n— Flexible Zsh plugin manager with clean fpath, reports, completion management, turbo mode\nREVIVED\nhttps://github.com/zdharma-continuum/zinit\n||\nzinit\nAUR\nzi (previously \"zplugin\")\n— Alternative fork of zplugin aiming to expand on the original project, instead of preservation and maintenance of the original project like zinit.\nhttps://github.com/z-shell/zi\n||\nnot packaged?\nsearch in AUR\nsheldon\n— Fast, configurable, shell plugin manager, written in Rust\n[4]\nhttps://github.com/rossmacarthur/sheldon\n||\nsheldon\nAntigen\n— A plugin manager for Zsh, inspired by oh-my-zsh and vundle.\nABANDONED\nhttps://github.com/zsh-users/antigen\n||\nantigen-git\nAUR\nzgen\n— A lightweight and simple plugin manager for Zsh.\nABANDONED\nhttps://github.com/tarjoilija/zgen\n||\nzgen-git\nAUR\nzplug\n— A next-generation plugin manager for Zsh.\nABANDONED\nhttps://github.com/zplug/zplug\n||\nzplug\nAUR\nFish-like syntax highlighting and autosuggestions\nFish\nprovides very powerful shell syntax highlighting and autosuggestions. To use both in Zsh, you can install\nzsh-syntax-highlighting\n,\nzsh-autosuggestions\n, and finally\nsource\none or both of the provided scripts from the end of your zshrc, ensuring that\nzsh-syntax-highlighting\nis sourced after\nzsh-autosuggestions\n[5]\n:\n~/.zshrc\nsource /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh\nsource /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh\npkgfile \"command not found\" handler\npkgfile\nincludes a Zsh script file that provides a\ncommand_not_found_handler\nfunction that will automatically search the pkgfile database when entering an unrecognized command.\nYou need to\nsource\nthe script to enable it. For example:\n~/.zshrc\nsource /usr/share/doc/pkgfile/command-not-found.zsh\nNote\nThe pkgfile database may need to be updated before this will work. See\npkgfile#Installation\nfor details.\nFor an alternative using pacman's native functionality, see\n#pacman -F \"command not found\" handler\n.\nTroubleshooting\nIOT instruction\nIOT instruction\nmessage just means that an application exited with signal 6 (SIGABRT, Signal Abort). The\npatch\nis already in upstream (i.e. you can use\nzsh-git\nAUR\n) and it will be applied in 5.10. For more information, see\n[6]\n,\n[7]\nand\nsignal(7) § Standard signals\n.\nSee also\nWikipedia:Zsh\nAn Introduction to the Z Shell\nA User's Guide to ZSH\nThe Z Shell Manual\n(different format available\nhere\n)\nZsh FAQ\nzsh-lovers(1)\n(available as\nzsh-lovers\npackage)\nGentoo: Zsh/Guide\nBash2Zsh Reference Card\nRetrieved from \"\nhttps://wiki.archlinux.org/index.php?title=Zsh&oldid=849318\n\"\nCategory\n:\nCommand-line shells\nHidden category:\nPages with missing package links\nSearch\nSearch\nZsh\nAdd topic", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://wiki.archlinux.org/title/Zsh"}}
{"text": "fish - ArchWiki\nHome\nPackages\nForums\nWiki\nGitLab\nSecurity\nAUR\nDownload\nJump to content\nArchWiki\nSearch\nSearch\nfish\n4 languages\nDeutsch\n日本語\nРусский\n中文（简体）\nFrom ArchWiki\nRelated articles\nCommand-line shell\nfish\n, the\nf\nriendly\ni\nnteractive\nsh\nell\n, is a\ncommandline shell\nintended to be interactive and user-friendly.\nfish\nis intentionally not fully\nPOSIX\ncompliant, it aims at addressing POSIX inconsistencies (as perceived by the creators) with a simplified or a different syntax. This means that even simple POSIX compliant scripts may require some significant adaptation or even full rewriting to run with fish.\nInstallation\nInstall\nthe\nfish\npackage.\nOnce installed, simply type\nfish\nto drop into the fish shell.\nDocumentation can be found by typing\nhelp\nfrom fish; it will be opened in a web browser. It is recommended to read at least the \"Syntax overview\" section, since fish's syntax is different from many other shells.\nSystem integration\nOne must decide whether fish is going to be the default user's shell, which means that the user falls directly in fish at login, or whether it is used in interactive terminal mode as a child process of the current default shell, here we will assume the latter is\nBash\n. To elaborate on these two setups:\nfish used as the\ndefault shell\n: this mode requires some basic understanding of the fish functioning and its scripting language. The user's current initialization scripts and environment variables need to be migrated to the new fish environment. To configure the system in this mode, follow\n#Setting fish as default shell\n.\nfish used as an\ninteractive shell only\n: this is the less disruptive mode, all the Bash initialization scripts are run as usual and fish runs on top of Bash in interactive mode connected to a terminal. To setup fish in this mode, follow\n#Setting fish as interactive shell only\n.\nSetting fish as default shell\nIf you decide to set fish as the default user shell, the first step is to set the shell of this particular user to\n/usr/bin/fish\n. This can be done by following the instructions in\nCommand-line shell#Changing your default shell\n.\nThe next step is to port the current needed actions and configuration performed in the various Bash initialization scripts, namely\n/etc/profile\n,\n~/.bash_profile\n,\n/etc/bash.bashrc\nand\n~/.bashrc\n, into the fish framework.\nIn particular, the content of the\n$PATH\nenvironment variable, once directly logged under fish, should be checked and adjusted to one's need. In fish,\n$PATH\nis defined as a\nglobal environment variable\n: it has a\nglobal\nscope across all functions, it is lost upon reboot and it is an\nenvironment variable\nwhich means it is exported to child processes. The recommended way of adding additional locations to the path is by calling the\nfish_add_path\ncommand from\nconfig.fish\n. For example:\n$ fish_add_path -p\n/first/path\n/second/path\n/third/one\nThese three locations will be prepended to the path.\nSetting fish as interactive shell only\nNot setting fish as system wide or user default allows the current Bash scripts to run on startup. It ensures the current user's environment variables are unchanged and are exported to fish which then runs as a Bash child. Below are several ways of running fish in interactive mode without setting it as the default shell.\nModify .bashrc to drop into fish\nKeep the default shell as Bash and simply add the line\nexec fish\nto the appropriate\nBash#Configuration files\n, such as\n.bashrc\n. This will allow Bash to properly source\n/etc/profile\nand all files in\n/etc/profile.d\n. Because fish replaces the Bash process, exiting fish will also exit the terminal. Compared to the following options, this is the most universal solution, since it works both on a local machine and on a SSH server.\nTip\nIn this setup, use\nbash --norc\nto manually enter Bash without executing the commands from\n~/.bashrc\nwhich would run\nexec fish\nand drop back into fish.\nTo have commands such as\nbash -c 'echo test'\nrun the command in Bash instead of starting fish, you can write\nif [ -z \"$BASH_EXECUTION_STRING\" ]; then exec fish; fi\ninstead.\nIn order to let fish know whether it is a login shell, you can detect login shell status in\n~/.bashrc\nand pass on the\n--login\noption to fish. The fish shell command\nstatus\ncan be used to show the status.\nDrop in to fish only if the parent process is not fish. This allows to quickly enter in to bash by invoking\nbash\ncommand without losing\n~/.bashrc\nconfiguration:\nif [[ $(ps --no-header --pid=$PPID --format=comm) != \"fish\" && -z ${BASH_EXECUTION_STRING} && ${SHLVL} == 1 ]]\nthen\nshopt -q login_shell && LOGIN_OPTION='--login' || LOGIN_OPTION=''\nexec fish $LOGIN_OPTION\nfi\nUse terminal emulator options\nAnother option is to open your terminal emulator with a command line option that executes fish. For most terminals this is the\n-e\nswitch, so for example, to open gnome-terminal using fish, change your shortcut to use:\ngnome-terminal -e fish\nWith terminal emulators that do not support setting the shell, for example\nlilyterm-git\nAUR\n, it would look like this:\nSHELL=/usr/bin/fish lilyterm\nAlso, depending on the terminal, you may be able to set fish as the default shell in either the terminal configuration or the terminal profile.\nUse terminal multiplexer options\nTo set fish as the shell started in\ntmux\n, put this into your\n~/.tmux.conf\n:\nset-option -g default-shell \"/usr/bin/fish\"\nWhenever you run\ntmux\n, you will be dropped into fish.\nConfiguration\nThe configuration file runs at every login and is located at\n~/.config/fish/config.fish\n. Adding commands or functions to the file will execute/define them when opening a terminal, similar to\n.bashrc\n. Note that whenever a variable needs to be preserved, it should be set as\nuniversal\nrather than defined in the aforementioned configuration file.\nThe user's functions are located in the directory\n~/.config/fish/functions\nunder the filenames\nfunction_name\n.fish\n.\nWeb interface\nThe fish terminal colors, prompt, functions, variables, history, bindings and abbreviations can be set with the interactive web interface:\nfish_config\nIt may fail to start if IPv6 has been disabled. See\n[1]\nand\nIPv6#Disable IPv6\n.\nCommand completion\nfish can generate autocompletions from man pages. Completions are written to\n~/.cache/fish/generated_completions\n(controlled by\nXDG_CACHE_HOME\nenvironment variable) and can be generated by calling:\nfish_update_completions\nYou can also define your own completions in\n~/.config/fish/completions/\n. See\n/usr/share/fish/completions/\nfor a few examples.\nContext-aware completions for Arch Linux-specific commands like\npacman\n,\npacman-key\n,\nmakepkg\n,\npbget\n,\npacmatic\nare built into fish, since the policy of the fish development is to include all the existent completions in the upstream tarball. The memory management is clever enough to avoid any negative impact on resources.\nTips and tricks\nCommand substitution\nfish\ndoes not implement Bash style history substitution (e.g.\nsudo !!\n), and the developers recommend in the\nfish faq\nto use the interactive history recall interface instead: the\nUp\narrow recalls whole past lines and\nAlt+Up\n(or\nAlt+.\n) recalls individual arguments, while\nAlt+s\nprepends\nsudo\nto the existing line.\nHowever some workarounds are described in the\nfish wiki\n: while not providing complete history substitution, some functions replace\n!!\nwith the previous command or\n!$\nwith the previous last argument.\nDisable greeting\nBy default, fish prints a greeting message at startup. To disable it, run once:\n$ set -U fish_greeting\nThis clears the universal\nfish_greeting\nvariable, shared with all fish instances and which is preserved upon restart of the shell.\nMake su launch fish\nIf\nsu\nstarts with Bash because Bash is the target user's (\nroot\nif no username is provided) default shell, one can define a function to redirect it to fish whatever the user's shell:\n~/.config/fish/functions/su.fish\nfunction su\ncommand su --shell=/usr/bin/fish $argv\nend\nStart X at login\nAdd the following to the bottom of your\n~/.config/fish/config.fish\n.\n# Start X at login\nif status is-login\nif test -z \"$DISPLAY\" -a \"$XDG_VTNR\" = 1\nexec startx -- -keeptty\nend\nend\nFor those running fish in interactive mode, replace\nstatus is-login\nwith\nstatus is-interactive\nin the above code.\nPut git status in prompt\nIf you would like fish to display the branch and dirty status when you are in a git directory, you can define the following\nfish_prompt\nfunction:\n~/.config/fish/functions/fish_prompt.fish\nfunction fish_prompt\nset -l last_status $status\nif not set -q __fish_git_prompt_show_informative_status\nset -g __fish_git_prompt_show_informative_status 1\nend\nif not set -q __fish_git_prompt_color_branch\nset -g __fish_git_prompt_color_branch brmagenta\nend\nif not set -q __fish_git_prompt_showupstream\nset -g __fish_git_prompt_showupstream \"informative\"\nend\nif not set -q __fish_git_prompt_showdirtystate\nset -g __fish_git_prompt_showdirtystate \"yes\"\nend\nif not set -q __fish_git_prompt_color_stagedstate\nset -g __fish_git_prompt_color_stagedstate yellow\nend\nif not set -q __fish_git_prompt_color_invalidstate\nset -g __fish_git_prompt_color_invalidstate red\nend\nif not set -q __fish_git_prompt_color_cleanstate\nset -g __fish_git_prompt_color_cleanstate brgreen\nend\nprintf '%s%s %s%s%s%s ' (set_color $fish_color_host) (prompt_hostname) (set_color $fish_color_cwd) (prompt_pwd) (set_color normal) (fish_git_prompt)\nif not test $last_status -eq 0\nset_color $fish_color_error\nend\necho -n '$ '\nset_color normal\nend\nColor the hostname in the prompt in SSH\nTo color the hostname in the prompt dynamically whenever connected through SSH, add the following lines in either the\nfish_prompt\nfunction or the fish configuration file, here using the red color:\n~/.config/fish/functions/fish_prompt.fish\n...\nif set -q SSH_TTY\nset -g fish_color_host brred\nend\n...\nNote that the default fish prompt colors the hostname yellow when connected through SSH; additional modification to the prompt is not required for this functionality.\nEvaluate ssh-agent\nIn fish,\neval (ssh-agent)\ngenerate errors due to how variables are set. To work around this, use the csh-style option\n-c\n:\n$ eval (ssh-agent -c)\nEvaluate keychain\nBecause\nkeychain --eval\nuses the\nSHELL\nenvironment variable to format output, it should work with fish as the default shell. However, if using fish as an interactive shell only, this variable must be set:\n$   SHELL=/bin/fish keychain --eval --quiet -Q id_ed25519 | source\nThe \"command not found\" hook\nFish includes a \"command not found\" hook that will automatically search the official repositories, when entering an unrecognized command. This hook will be run using\npkgfile\n, falling back to\npacman -F\nif it is not installed.\nSince 3.2.2, \"command not found\" will not fallback to\npacman -F\nby default due to its\nbad performance\n.\nIf the delay this behavior introduces is undesirable, this hook can be overridden by redefining\nfish_command_not_found\nso that it only prints an error message:\n$ function fish_command_not_found\n__fish_default_command_not_found_handler $argv[1]\nend\nTo make this change permanent, the\nfuncsave\nbuilt-in can be used:\n$ funcsave fish_command_not_found\nRemove a process from the list of jobs\nfish\nterminates any jobs put into the background when fish terminates. To keep a job running after fish terminates, first use the\ndisown\nbuiltin. For example, the following starts\nfirefox\nin the background and then disowns it:\n$ firefox &\n$ disown\nThis means firefox will not be closed when the fish process is closed. See\ndisown(1)\nin\nfish\nfor more details.\nSet a persistent alias\nTo quickly make a persistent alias, one can simply use the method showed in this example:\n$ alias lsl \"ls -l\"\n$ funcsave lsl\nalias\nsupports the\n-s\n/\n--save\noption since fish version 3.0:\n$ alias -s lsl \"ls -l\"\nThis will create the function:\nfunction lsl\nls -l $argv\nend\nand will set the alias as a persistent shell function. To see all functions and/or edit them, one can simply use\nfish_config\nand look into the\nFunction\ntab in the web configuration page.\nFor more detailed information, see\nalias - create a function — fish-shell\n.\nSource /etc/profile on login\nUnlike\nbash\n,\nfish\ndoes not source\n/etc/profile\non a tty login. If you need to source this file for\nthe environment variables appended and declared in the\n/etc/profile.d\ndirectory, you can add the following to your config:\n~/.config/fish/config.fish\n# source /etc/profile with bash\nif status is-login\nif not set -q __sourced_profile\nset -x __sourced_profile 1\nexec bash -c \"\\\ntest -e /etc/profile && source /etc/profile\ntest -e $HOME/.bash_profile && source $HOME/.bash_profile\nexec fish --login\n\"\nend\n# put your other configs below\n#\nset -e __sourced_profile\nend\nThis allows you to run\nfish\nas your login shell, while still having all the environment variables you would typically\nhave in a\nbash\nlogin session.\nSee also\nhttps://fishshell.com/\n- Home page\nhttps://fishshell.com/docs/current/\n- Documentation\nhttps://hyperpolyglot.org/unix-shells\n- Shell grammar correspondence table (\"shell rosetta\")\nhttps://github.com/fish-shell/fish-shell\n- fish on GitHub\nRetrieved from \"\nhttps://wiki.archlinux.org/index.php?title=Fish&oldid=847920\n\"\nCategory\n:\nCommand-line shells\nSearch\nSearch\nfish\nAdd topic", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://wiki.archlinux.org/title/Fish"}}
{"text": "ranger - ArchWiki\nHome\nPackages\nForums\nWiki\nGitLab\nSecurity\nAUR\nDownload\nJump to content\nArchWiki\nSearch\nSearch\nranger\n4 languages\nDeutsch\nEspañol\n日本語\n中文（简体）\nFrom ArchWiki\nRelated articles\nFile manager functionality\nlf\nMidnight Commander\nnnn\nVifm\nranger\nis a text-based file manager written in\nPython\n. Directories are displayed in one pane with three columns. Moving between them is accomplished with keystrokes, bookmarks, the mouse or the command history. File previews and directory contents show automatically for the current selection.\nFeatures include:\nvi\n-style key bindings, bookmarks, selections, tagging, tabs, command history, the ability to make symbolic links, several console modes, and a task view.\nranger\nhas customizable commands and key bindings, including bindings to external scripts. Ranger also comes with its own\nfile opener\n,\nrifle(1)\n.\nThe closest competitors are\nlf\nand\nVifm\n.\nInstallation\nInstall\nthe\nranger\npackage.\nUsage\nTo start ranger, launch a\nterminal\nand run\nranger\n.\nKey\nCommand\n?\nOpen the manual or list keybindings, commands and settings\nl\n,\nEnter\nLaunch files\nj\n,\nk\nSelect file in the current directory\nh\n,\nl\nTravel up and down in the directory tree\nConfiguration\nAfter startup, ranger creates a directory\n~/.config/ranger\n. To copy the default configuration to this directory issue the following command:\n$ ranger --copy-config=all\nAfterwards, set\nRANGER_LOAD_DEFAULT_RC=false\nas an\nenvironment variable\nto avoid loading the global configuration in addition to the local.\nrc.conf\n- startup commands and key bindings\ncommands.py\n- commands which are launched with\n:\nrifle.conf\n- applications used when a given type of file is launched.\nrc.conf\nonly needs to include changes from the default file as both are loaded. For\ncommands.py\n, if you do not include the whole file, put this line at the top:\nfrom ranger.api.commands import *\nSee\nranger(1)\nfor general configuration.\nMove to trash\nTo add a keybind that moves files to your trash directory\n~/.local/share/Trash/files/\nwith\nDD\n, amend the configuration file as follows:\n~/.config/ranger/rc.conf\n...\nmap DD shell mv %s /home/${USER}/.local/share/Trash/files/\n...\nAlternatively, use GIO commandline tool provided by\nglib2\npackage:\nmap DD shell gio trash %s\nInspecting and emptying the \"trash\" is normally supported by graphical file managers such as\nnautilus\n, but you can also see the trash with the command\ngio list trash://\n, and empty it with:\ngio trash --empty\n.\nDefining commands\nContinuing the above example, add the following entry to empty the trash directory\n~/.Trash\n.\n~/.config/ranger/commands.py\n...\nclass empty(Command):\n\"\"\":empty\nEmpties the trash directory ~/.Trash\n\"\"\"\ndef execute(self):\nself.fm.run(\"rm -rf /home/myname/.Trash/\")\nTo use it, type\n:empty\nand\nEnter\nwith tab completion as desired.\nColor schemes\nRanger comes with four color schemes:\ndefault\n,\njungle\n,\nsnow\nand\nsolarized\n.\nYou can change your color scheme using:\nset colorscheme\nscheme\nCustom color schemes can be placed in\n~/.config/ranger/colorschemes\n.\nColor highlight in file previews\nInstall the\npython-pygments\npackage, then copy\n/usr/share/doc/ranger/config/scope.sh\nto\n~/.config/ranger/scope.sh\nand edit the variable\nPYGMENTIZE_STYLE\nin the configuration file of ranger to your liking. The complete list of supported themes can be obtained via\npygmentize -L style\n.\nFile association\nRanger uses its own file opener called\nrifle\n.\nIt is configured in\n~/.config/ranger/rifle.conf\n. Run\nranger --copy-config=rifle\nif it does not exist. For example, the following line makes\nkile\nthe default program for tex files:\next tex = kile \"$@\"\nTo open all files with\nxdg-utils\n, make sure your\n$EDITOR\nand\n$PAGER\nare set and add:\nelse = xdg-open \"$1\"\nlabel editor = \"$EDITOR\" -- \"$@\"\nlabel pager  = \"$PAGER\" -- \"$@\"\nTips and tricks\nThis article or section needs language, wiki syntax or style improvements. See\nHelp:Style\nfor reference.\nReason:\nbad style (Discuss in\nTalk:Ranger\n)\nArchives\nThese commands use\natool\nto perform archive operations.\nArchive extraction\nThe following command implements archive extraction of the selected items to the current directory.\nimport os\nfrom ranger.core.loader import CommandLoader\nclass extract_here(Command):\ndef execute(self):\n\"\"\" extract selected files to current directory.\"\"\"\ncwd = self.fm.thisdir\nmarked_files = tuple(cwd.get_selection())\ndef refresh(_):\ncwd = self.fm.get_directory(original_path)\ncwd.load_content()\none_file = marked_files[0]\ncwd = self.fm.thisdir\noriginal_path = cwd.path\nau_flags = ['-x', cwd.path]\nau_flags += self.line.split()[1:]\nau_flags += ['-e']\nself.fm.copy_buffer.clear()\nself.fm.cut_buffer = False\nif len(marked_files) == 1:\ndescr = \"extracting: \" + os.path.basename(one_file.path)\nelse:\ndescr = \"extracting files from: \" + os.path.basename(\none_file.dirname)\nobj = CommandLoader(args=['aunpack'] + au_flags\n+ [f.path for f in marked_files], descr=descr,\nread=True)\nobj.signal_bind('after', refresh)\nself.fm.loader.add(obj)\nCompression\nThe following command allows users to compress several files on the current directory by marking them and then calling\n:compress\npackage name\n. It supports name suggestions by getting the basename of the current directory and appending several possibilities for the extension. You need to have\natool\ninstalled, otherwise you will see an error message when you create the archive.\nimport os\nfrom ranger.core.loader import CommandLoader\nclass compress(Command):\ndef execute(self):\n\"\"\" Compress marked files to current directory \"\"\"\ncwd = self.fm.thisdir\nmarked_files = cwd.get_selection()\nif not marked_files:\nreturn\ndef refresh(_):\ncwd = self.fm.get_directory(original_path)\ncwd.load_content()\noriginal_path = cwd.path\nparts = self.line.split()\nau_flags = parts[1:]\ndescr = \"compressing files in: \" + os.path.basename(parts[1])\nobj = CommandLoader(args=['apack'] + au_flags + \\\n[os.path.relpath(f.path, cwd.path) for f in marked_files], descr=descr, read=True)\nobj.signal_bind('after', refresh)\nself.fm.loader.add(obj)\ndef tab(self, tabnum):\n\"\"\" Complete with current folder name \"\"\"\nextension = ['.zip', '.tar.gz', '.rar', '.7z']\nreturn ['compress ' + os.path.basename(self.fm.thisdir.path) + ext for ext in extension]\nExternal drives\nExternal drives can be automatically mounted with\nudev\nor\nudisks\n. The default key mappings to go to common mount points\n/media\nand\n/run/media/$USER\nare\ngm\nand\ngi\nrespectively.\nHidden files\nYou can toggle the visibility of hidden files with the following command:\n:set show_hidden!\n, or use\n:set show_hidden true\nto make hidden files visible.\nTo make this permanent, add the setting to your configuration file:\nrc.conf\nset show_hidden true\nAlternatively, hidden files can be toggled by pressing\nzh\n.\nImage mounting\nThe following command assumes you are using\nCDemu\nas your image mounter and some kind of system like\nautofs\nwhich mounts the virtual drive to a specified location ('/media/virtualrom' in this case).\nDo not forget to change mountpath to reflect your system settings\n.\nTo mount an image (or images) to a cdemud virtual drive from ranger you select the image files and then type ':mount' on the console. The mounting may actually take some time depending on your setup (in mine it may take as long as one minute) so the command uses a custom loader that waits until the mount directory is mounted and then opens it on the background in tab 9.\nimport os, time\nfrom ranger.core.loader import Loadable\nfrom ranger.ext.signals import SignalDispatcher\nfrom ranger.ext.shell_escape import *\nclass MountLoader(Loadable, SignalDispatcher):\n\"\"\"\nWait until a directory is mounted\n\"\"\"\ndef __init__(self, path):\nSignalDispatcher.__init__(self)\ndescr = \"Waiting for dir '\" + path + \"' to be mounted\"\nLoadable.__init__(self, self.generate(), descr)\nself.path = path\ndef generate(self):\navailable = False\nwhile not available:\ntry:\nif os.path.ismount(self.path):\navailable = True\nexcept:\npass\nyield\ntime.sleep(0.03)\nself.signal_emit('after')\nclass mount(Command):\ndef execute(self):\nselected_files = self.fm.thisdir.get_selection()\nif not selected_files:\nreturn\nspace = ' '\nself.fm.execute_command(\"cdemu -b system unload 0\")\nself.fm.execute_command(\"cdemu -b system load 0 \" + \\\nspace.join([shell_escape(f.path) for f in selected_files]))\nmountpath = \"/media/virtualrom/\"\ndef mount_finished(path):\ncurrenttab = self.fm.current_tab\nself.fm.tab_open(9, mountpath)\nself.fm.tab_open(currenttab)\nobj = MountLoader(mountpath)\nobj.signal_bind('after', mount_finished)\nself.fm.loader.add(obj)\nNew tab in current folder\nYou may have noticed there are two shortcuts for opening a new tab in home (\ng\nn\nand\nCtrl+n\n). Let us rebind\nCtrl+n\n:\nrc.conf\nmap <c-n>  eval fm.tab_new('%d')\nPDF file preview\nBy default, ranger will preview PDF files as text. However, you can preview PDF files as an image in ranger by first converting the PDF file to an image. Ranger stores the image previews in\n~/.cache/ranger/\n. You either need to create this directory manually or set\npreview_images\nto\ntrue\nin\n~/.config/ranger/rc.conf\nto tell\nranger\nto create it automatically at the next start.  However, note that\npreview_images\ndoes not need to be set to\ntrue\nthe whole time to preview PDF file as images, only\n~/.cache/ranger\ndirectory is needed.\nTo enable this feature, uncomment the appropriate lines in\n/usr/share/doc/ranger/config/scope.sh\n, or add/uncomment these lines in your local file\n~/.config/ranger/scope.sh\n.\nShell tips\nSynchronize path\nRanger provides a shell\nfunction\n/usr/share/doc/ranger/examples/shell_automatic_cd.sh\n. Running\nranger_cd\ninstead of\nranger\nwill automatically\ncd\nto the last browsed folder.\nIf you launch ranger from a graphical launcher (such as\n$TERMCMD -e ranger\n, where TERMCMD is an X terminal), you cannot use\nranger_cd\n. Instead, create an executable script:\nranger-launcher.sh\n#!/bin/sh\nexport RANGERCD=true\n$TERMCMD\nAnd add the following at the end of your shell configuration:\n.\nshell\nrc\n$RANGERCD && unset RANGERCD && ranger_cd\nThis will launch\nranger_cd\nonly if the\nRANGERCD\nvariable is set. It is important to unset this variable again, otherwise launching a subshell from this terminal will automatically relaunch\nranger\n.\nPreventing nested ranger instances\nYou can start a shell in the current directory with\nS\n, when you exit the shell you get back to your ranger instance.\nWhen you however forget that you already are in a ranger shell and start ranger again you end up with ranger running a shell running ranger.\nTo prevent this you can create the following function in your\nshell's startup file\n:\nranger() {\nif [ -z \"$RANGER_LEVEL\" ]; then\n/usr/bin/ranger \"$@\"\nelse\nexit\nfi\n}\nImage Preview on Wayland\nUeberzugpp serves as a drop in replacement for ueberzug, adding wayland support.\n~/.config/ranger/rc.conf\nset preview_images_method ueberzug\nIf low quality pixel image is previewed,\nchange the layer output to kitty\neven if kitty is not installed.\n~/.config/ueberzugpp/config.json\n{ \"layer\": { \"output\": \"kitty\"  } }\nSee also\nBBS thread\nDotShare.it configurations\n[\ndead link\n2025-08-16—HTTP 404]\nGitHub\nOfficial User Guide\nInstalling and using ranger\nMailing list\nRanger tutorial\nRetrieved from \"\nhttps://wiki.archlinux.org/index.php?title=Ranger&oldid=853273\n\"\nCategories\n:\nFile managers\nConsole applications\nHidden categories:\nPages or sections flagged with Template:Style\nPages with dead links\nSearch\nSearch\nranger\nAdd topic", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://wiki.archlinux.org/title/Ranger"}}
{"text": "Neovim - ArchWiki\nHome\nPackages\nForums\nWiki\nGitLab\nSecurity\nAUR\nDownload\nJump to content\nArchWiki\nSearch\nSearch\nNeovim\n5 languages\nEspañol\n日本語\nPolski\nPortuguês\n中文（简体）\nFrom ArchWiki\nRelated articles\nList of applications/Documents#Vi-style text editors\nNeovim\nis a fork of\nVim\naiming to improve the codebase, allowing for easier implementation of APIs, improved user experience and plugin implementation. Neovim inspired editors like\nHelix\n.\nInstallation\nInstall\nthe\nneovim\npackage, or\nneovim-git\nAUR\nfor the latest development version, which strongly encourages the use of\nLua\nas its main configuration language. To make the system clipboard work with Neovim, you may need to install\nxclip\n(X11) or\nwl-clipboard\n(Wayland).\nNote\nWith neovim, some of its features are delegated to external \"providers\". For Python providers, use\npython-pynvim\n. For clipboard providers, see\nprovider-clipboard\nor the\n:help provider-clipboard\nneovim command.\nIt is also possible to install one of\nmany GUIs and other related projects\n:\nGnvim\n— An opinionated Neovim GTK GUI.\nhttps://github.com/vhakulinen/gnvim\n||\ngnvim-git\nAUR\nFVim\n— A cross platform Neovim front-end UI, built with F# + Avalonia.\nhttps://github.com/yatli/fvim\n||\nfvim\nAUR\nNeoray\n— A Go GUI using GLFW and OpenGL bindings.\nhttps://github.com/hismailbulut/neoray\n||\nneoray-git\nAUR\nNeovide\n— A simple Rust GUI for Neovim.\nhttps://github.com/neovide/neovide\n||\nneovide\nneovim-gtk\n— A GTK UI for neovim written in rust using gtk-rs bindings.\nhttps://github.com/Lyude/neovim-gtk\n||\nneovim-gtk\nAUR\nNeovim Qt\n— A lightweight cross-platform Neovim GUI written in C++ with Qt.\nhttps://github.com/equalsraf/neovim-qt\n||\nneovim-qt\nUivonim\n— An\ninactive\nfork of Veonim, \"a simple modal IDE built on Neovim and VSCode extensions\" written in Electron with WebGL GPU rendering and multithreading.\nhttps://github.com/smolck/uivonim\n||\nuivonim-git\nAUR\nConfiguration\nNvim's user-specific configuration file is located at\n$XDG_CONFIG_HOME/nvim/init.vim\n, by default\n~/.config/nvim/init.vim\n. The system-wide configuration file is located at\n$XDG_CONFIG_DIRS/nvim/sysinit.vim\n, by default\n/etc/xdg/nvim/sysinit.vim\n. When the system-wide configuration file does not exist, Nvim checks for\n/usr/share/nvim/sysinit.vim\n, which is not intended to be edited by users.\n[1]\nBy default, the former global configuration file does not exist. If you create the former file, you may wish to have it source the latter if you still want the functionality it provides, which is allowing pacman-installed vim packages to work with Nvim.\nNvim is compatible with most of Vim's options; however, there are options specific to Nvim. For a complete list of Nvim options, see Neovim's\nhelp file\n.\nNvim's data directory is located in\n~/.local/share/nvim/\nand contains swap for open files, the\nShaDa\n(Shared Data) file, and the site directory for plugins.\nStarting from Nvim's version 0.5, it is possible to setup Nvim via Lua, by default\n~/.config/nvim/init.lua\n, the API is still young, but common configurations work out-of-the-box without much more steps. See\n[2]\nfor suggestions on how to convert your current configuration. At the moment, there is not much of an advantage when using\ninit.lua\nvs the common\ninit.vim\n, but when correctly done, Lua provides a small improvement in startup times, and it becomes specially useful when using several plugins written in Lua, due to ease of configuration.\nMigrating from Vim\nIf you wish to migrate your existing Vim configuration to Nvim, simply copy your\n~/.vimrc\nto\n~/.config/nvim/init.vim\n. If applicable, copy the contents of\n~/.vim/autoload/\nto\n~/.local/share/nvim/site/autoload/\n.\nShared configuration between Vim and Nvim\nNeovim uses\n$XDG_CONFIG_HOME/nvim\ninstead of\n~/.vim\nas its main configuration directory and\n$XDG_CONFIG_HOME/nvim/init.vim\ninstead of\n~/.vimrc\nas its main configuration file.\nIf you wish to continue using Vim and wish to source your existing Vim configuration in Nvim, see\nnvim-from-vim\nor the\n:help nvim-from-vim\nneovim command.\nLoading plugins\nVim/Nvim plugins installed from\nofficial repositories\nor\nAUR\nget automatically sourced by\n/etc/xdg/nvim/sysinit.vim\n, so there is no need to take any extra steps. A vast amount of plugins can be found on both places, but the most recommended way to add plugins is by using a plugin manager, most commonly used are\nvim-plug\nAUR\nwhich works for both Vim and Nvim, and\nlazy.nvim\nwhich only works on Nvim and is written in Lua. Both of them allow for expressive configurations, ranging from github branch to runtime commands.\nMost plugins written for vim work without much effort on Nvim, but not every plugin written for Nvim works for Vim, so if your intention is to ensure a compatible configuration, stick to a traditional\ninit.vim\nor\n.vimrc\nTips and tricks\nReplacing vi and vim with neovim\nSetting\n$VISUAL\nand\n$EDITOR\nenvironment variables\nshould be sufficient in most cases.\nSome applications may hardcode vi or vim as default editor; to use\nneovim\nin their place, install\nneovim-symlinks\nAUR\n.\nSymlinking init.vim to .vimrc\nAs neovim is\nmostly\ncompatible with standard vim, you can symlink\nnvim/init.vim\nto your old\n.vimrc\nto keep old configuration options:\n$ ln -s ~/.vimrc ~/.config/nvim/init.vim\nIf you want some lines to be specific to each version, you can use an\nif\nblock:\n.vimrc\nif has('nvim')\n\" Neovim specific commands\nelse\n\" Standard vim specific commands\nendif\nTrue color support\nThe\nREADMEs\nof\nthis project\nexplain how to add 24-bits \"True Color\" support to your syntax highlighting and how to use a color picker to see how it looks in real-time. Comes with the syntax highlighting of the author (if installed) for C++.\nLastplace cursor support\nIf you like to keep your last position of cursor to be saved,\nlastplace.lua\nis quite useful. It just needs to be placed in\n~/.config/nvim/plugin/\nor in the system-wide directory\n/usr/share/nvim/runtime/plugin/\n.\nLanguage Server Protocol\nNeovim contains a built-in\nLanguage Server Protocol\nclient and the\nnvim-lspconfig\nplugin provides common configurations for it.\nSee\nLanguage Server Protocol\nfor a list of Arch packages.\nUse as a pager\nYou can use the\n:Man\ncommand to open manual pages. To open all manual pages with neovim set the\nMANPAGER\nenvironment variable\nto\nnvim +Man!\n.\nFor other pager support install either the\nnvimpager\nAUR\nor the\nnvimpager-git\nAUR\npackage and set the\nPAGER\nenvironment variable\nto\nnvimpager\n.\nYou can also try\npage\n, packaged in\npage-git\nAUR\n.\nMultiple isolated nvim configurations\nSeveral nvim flavors can be installed side by side using the\nNVIM_APPNAME\nenvironment variable. Create a directory in your\nXDG_CONFIG_HOME\n, e.g.\n~/.config/foo\nand put your new nvim configuration into it.\nTo run\nnvim\nusing a specified configuration:\nSet the\nNVIM_APPNAME\nvariable directly in your shell or configuration file with\nexport NVIM_APPNAME=foo\n. Now the\nnvim\ncommand will automatically invoke the\nfoo\nflavor. To restore the default behavior unset the environment variable with\nunset NVIM_APPNAME\n.\nDefine an alias, e.g.\nalias v=' NVIM_APPNAME=foo nvim'\nInstall LazyVim beside your native nvim configuration\nIf you would like to install the popular\nLazyVim\nflavor beside your\nnative\nnvim configuration, follow the\ninstall instructions\n. But keep in mind that you do not have to delete or move the following directories of your actual nvim configuration:\n~/.config/nvim\n,\n~/.local/share/nvim\n,\n~/.local/state/nvim\nand\n~/.cache/nvim\n.\nHence, clone the starter repository to a directory name of your choice in your\n.config\npath. The commands below are using\nnvimLazyvim\nas target directory:\n$ git clone\nhttps://github.com/LazyVim/starter\n~/.config/nvimLazyvim\nDo not forget to remove the\n.git\ndirectory:\n$ rm -rf ~/.config/nvimLazyvim/.git\nTo invoke the new\nflavor\nuse the following command:\n$ NVIM_APPNAME=nvimLazyvim nvim\nAn alias to shorten typing can be made in your\n.bashrc\nor\n.zshrc\nby appending following line:\n.zshrc\nalias v=' NVIM_APPNAME=nvimLazyvim nvim'\nTroubleshooting\nCursor is not restored to previous state after exit\nIf the cursor keeps blinking after exiting neovim, see the solution in the\nneovim FAQ\n.\nTree-sitter parser error after system upgrade\nThis article or section needs expansion.\nReason:\nThis is useless without specifying the installed software. (Discuss in\nTalk:Neovim\n)\nAfter updating the system, it is advised to sync neovim's packages, e.g\n:Lazy sync\n, then manually force update parsers by\n:TSUpdate\n. Removing neovim's cache files in\n~/.local/share/nvim\nmay fix issues.\nTree-sitter executable not found\nThe\ntree-sitter\npackage provides only the library. If the\ntree-sitter\nexecutable is needed, install\ntree-sitter-cli\n.\nSee also\nGithub repository\nGithub wiki\nRetrieved from \"\nhttps://wiki.archlinux.org/index.php?title=Neovim&oldid=848283\n\"\nCategories\n:\nText editors\nConsole applications\nHidden category:\nPages or sections flagged with Template:Expansion\nSearch\nSearch\nNeovim\nAdd topic", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://wiki.archlinux.org/title/Neovim"}}
{"text": "tmux - ArchWiki\nHome\nPackages\nForums\nWiki\nGitLab\nSecurity\nAUR\nDownload\nJump to content\nArchWiki\nSearch\nSearch\ntmux\n4 languages\nDeutsch\nMagyar\n日本語\n中文（简体）\nFrom ArchWiki\ntmux\nis a \"terminal multiplexer: it enables a number of terminals (or windows), each running a separate program, to be created, accessed, and controlled from a single screen. tmux may be detached from a screen and continue running in the background, then later reattached.\"\ntmux is an ISC-licensed alternative to\nGNU Screen\n. Although similar, there are many differences between the programs, as noted on the\ntmux FAQ page\n.\nInstallation\nInstall\nthe\ntmux\npackage.\nOptionally, install\ntmux-bash-completion-git\nAUR\nto provide bash completion functions for tmux.\nConfiguration\nBy default, tmux looks for user-specific configuration at\n$XDG_CONFIG_HOME/tmux/tmux.conf\nfollowed by\n~/.config/tmux/tmux.conf\n, as of\n3.2\n. A global configuration file may be provided at\n/etc/tmux.conf\nthough by default Arch does not ship such a file.\nKey bindings\nBy default, command key bindings are prefixed by\nCtrl+b\n. For example, to vertically split a window type\nCtrl+b %\n.\nAfter splitting a window into multiple panes, a pane can be resized by the hitting prefix key (e.g.\nCtrl+b\n) and, while continuing to hold\nCtrl\n, press\nLeft\n/\nRight\n/\nUp\n/\nDown\n. Swapping panes is achieved in the same manner, but by hitting\no\ninstead of a directional key.\nKey bindings may be changed with the bind and unbind commands in\ntmux.conf\n. For example, the default prefix binding of\nCtrl+b\ncan be changed to\nCtrl+a\nby adding the following commands in your configuration file:\nunbind C-b\nset -g prefix C-a\nbind C-a send-prefix\nTip\nQuote special characters to use them as prefix. You may also use\nAlt\n(called Meta) instead of\nCtrl\n. For example:\nset -g prefix m-'\\'\nTo create a new window you can use\nCtrl+b c\nand move forward one window with\nCtrl+b n\nand backwards one window with\nCtrl+b p\n.\nAdditional ways to move between windows include the following:\nCtrl+b l (Move to the previously selected window)\nCtrl+b w (List all windows / window numbers)\nCtrl+b <window number> (Move to the specified window number, the default bindings are from 0 – 9)\nCtrl+b q  (Show pane numbers, when the numbers show up type the key to goto that pane)\ntmux has a find-window option & key binding to ease navigation of many windows:\nCtrl+b f <window name> (Search for window name)\nCtrl+b w (Select from interactive list of windows)\nCopy Mode\nA tmux window may be in one of several modes. The default permits direct access to the terminal attached to the window; the other is copy mode. Once in copy mode you can navigate the buffer including scrolling the history. Use\nvi\nor\nemacs\n-style key bindings in copy mode. The default is emacs, unless VISUAL or EDITOR contains ‘vi’\nTo enter copy mode do the following:\nCtrl+b [\nYou can navigate the buffer as you would in your default editor.\nTo quit copy mode, use one of the following keybindings:\nvi mode:\nq\nemacs mode:\nEsc\nBrowsing URLs\nTo browse URLs inside tmux you must have\nurlview\nAUR\ninstalled and configured.\nInside a new terminal:\nbind-key u capture-pane \\; save-buffer /tmp/tmux-buffer \\; run-shell \"$TERMINAL -e urlview /tmp/tmux-buffer\"\nOr inside a new tmux window (no new terminal needed):\nbind-key u capture-pane \\; save-buffer /tmp/tmux-buffer \\; new-window -n \"urlview\" '$SHELL -c \"urlview < /tmp/tmux-buffer\"'\nSetting the correct term\n256 colors\nIf you are using a 256 color terminal, you will need to set the correct term in tmux:\ntmux\n, or\ntmux-256color\n. This can set in the configuration file:\ntmux.conf\nset -g default-terminal \"tmux-256color\"\nAlso, if tmux messes up, you can force tmux to assume that the terminal support 256 colors, by adding the following alias in\n.bashrc\n:\nalias tmux=\"tmux -2\"\n24-bit color\ntmux supports 24-bit color. If your terminal supports this mode (see\n[1]\n), add it to the\nterminal-features\nsetting.\nFor example, if you use the\nAlacritty\nterminal, you would add:\nset -as terminal-features \",alacritty*:RGB\"\nFor other terminals, replace\nalacritty\nabove with the relevant terminal type as stored in\n$TERM\n.\nSee\ntmux(1)\nfor details about the\nRGB\nterminfo flag.\nxterm-keys\nTo enable xterm-keys, add the following line in the configuration file:\ntmux.conf\nset-option -g xterm-keys on\nIf you enable xterm-keys in your\ntmux.conf\n, then you need to build a custom terminfo to declare the new escape codes or applications will not know about them. Compile the following with\ntic\nand you can use \"xterm-screen-256color\" as your TERM:\n# A screen- based TERMINFO that declares the escape sequences\n# enabled by the tmux config \"set-window-option -g xterm-keys\".\n#\n# Prefix the name with xterm- since some applications inspect\n# the TERM *name* in addition to the terminal capabilities advertised.\nxterm-screen-256color|GNU Screen with 256 colors bce and tmux xterm-keys,\n# As of Nov'11, the below keys are picked up by\n# .../tmux/blob/master/trunk/xterm-keys.c:\nkDC=\\E[3;2~, kEND=\\E[1;2F, kHOM=\\E[1;2H,\nkIC=\\E[2;2~, kLFT=\\E[1;2D, kNXT=\\E[6;2~, kPRV=\\E[5;2~,\nkRIT=\\E[1;2C,\n# Change this to screen-256color if the terminal you run tmux in\n# doesn't support bce:\nuse=screen-256color-bce,\nTo check if your terminal support bce, you can use\ntic -c\n:\n$ tic -c xterm-screen-256color\n\"xterm-screen-256color\", line 16, terminal 'xterm-screen-256color': resolution of use=screen-256color-bce failed\nTo compile with tic:\n$ tic xterm-screen-256color\nThe file will be compiled and saved in\n$HOME/.terminfo\nor in\n/usr/share/terminfo/\nif run as root (and so available system-wide).\nTheming\nTmux can be themed however in order to do so, first one needs to know the color codes.  This can be achieved by executing the below command, which will print the color codes together with a sample of such color:\n$ for i in {0..255}; do printf \"\\x1b[38;5;${i}mcolor${i} - ██████████\\n\"; done\nThe color codes printed using the above command can then be used to change the tmux color scheme.  The following is an example for how one can change the colors of the status bar:\n# Status line colors\nset -g status-bg \"color4\"         # blue background\nset -g status-fg \"color7\"         # gray text color\nset -g status-right \"%l:%M %p\"    # time format\nset-window-option -g window-status-current-style \"bg=color75,fg=color231 bold\"    # current window background + foreground colors\nThe panes borders can also be themed as per below example:\n# border colors\nset -g pane-border-style        fg=\"colour255\"\nset -g pane-active-border-style fg=\"colour33\"\nOther Settings\nTo limit the scrollback buffer to 10000 lines:\nset -g history-limit 10000\nMouse can be toggled with\nbind-key m set-option -g mouse \\; display \"Mouse: #{?mouse,ON,OFF}\"\nAutostart with systemd\nThere are some notable advantages to starting a tmux server at startup.\nNotably, when you start a new tmux session, having the service already running reduces any delays in the startup.\nFurthermore, any customization attached to your tmux session will be retained and your tmux session can be made to persist even if you have never logged in, if you have some reason to do that (like a heavily scripted tmux configuration or shared user tmux sessions).\nThe service below starts\ntmux\nfor the specified user (i.e. start/enable with\ntmux@\nusername\n.service\n):\n/etc/systemd/system/tmux@.service\n[Unit]\nDescription=tmux session for user %I\n[Service]\nType=forking\nUser=%I\n# WARNING: use %I instead of %u here; %u=root in system services.\nExecStart=/usr/bin/tmux new-session -s %I -d\nExecStop=/usr/bin/tmux kill-session -t %I\n[Install]\nWantedBy=multi-user.target\nTip\nYou may want to add\nWorkingDirectory=\ncustom_path\nto customize working directory. If set to\n~\n, the home directory of the user specified in\nUser=\nis used.\nAdd\n-v\ntmux arg to generate tmux client and server logs in WorkingDirectory.\nIf you want to import environment variables related to graphical session, such as\nDISPLAY\n,\nWAYLAND_DISPLAY\n, or\nSESSION_MANAGER\n, change\nWantedBy\noption to\ngraphical-session.target\n, and add\nAfter=graphical-session.target\nunder\n[Unit]\nsection.\nAlternatively, you can create a script that runs automatically after the desktop environment, window manager, or Wayland compositor loads and imports related variables using the\ntmux setenv -g name [value]\n.\nAlternatively, you can place this file within your\nsystemd/User\ndirectory (without\nUser=%I\nand by replacing\nmulti-user.target\nwith\ndefault.target\nin\nWantedBy\n), for example\n~/.config/systemd/user/tmux.service\n. This way the tmux service will start when you log in, unless you also enable\nsystemd/User#Automatic start-up of systemd user instances\n. The user service will stay active on logout due to the default explained in\nsystemd/User#Kill user processes on logout\nfor this method.\nStart with systemd user instance and socket activation\nA different way to start tmux through systemd is this pair of units:\n/etc/systemd/user/tmux@.socket\n[Unit]\nDescription=Terminal Multiplexer Activation Socket (listen on: %i)\nDocumentation=man:tmux(1)\n[Socket]\nListenStream=/tmp/tmux-%U/%i\nSocketMode=0600\nDirectoryMode=0700\n[Install]\nWantedBy=sockets.target\n/etc/systemd/user/tmux@.service\n[Unit]\nDescription=Terminal Multiplexer (listen on: %i)\nDocumentation=man:tmux(1)\nRequires=tmux@%i.socket\n[Service]\nEnvironment=TMUX_SERVER_ARGS=\nExecStart=tmux -D $TMUX_SERVER_ARGS\nExecStartPost=tmux -L%i start\nSlice=app-tmux-%i.slice\n[Install]\nWantedBy=default.target\nAlso=tmux@%i.socket\n(Or plop them into\n~/.config/systemd/user\n.) This creates a tmux process per service instance, each with a separate socket.\ntmux -D\nstarts a non-forking tmux server, which is correctly passed the activation FD; but this process will not execute the configuration file directives.\ntmux start\nruns a transient client which forces the server to execute the session, if any.\nTo enable just the activation, run\nsystemctl --user enable tmux@\nNAME\n.socket\n; start the client normally, with\ntmux -L\nNAME\n(just\ntmux\nwhen\nNAME\nis\ndefault\n). Socket activation alone simply ensures that the tmux server is moved into its own slice (\ntmux.slice/tmux-\nNAME\n.slice\n). This is equivalent to what systemd devs suggest (see\nsystemd-run(1) § EXAMPLES\n, under\nscreen\n), and prevents it from being killed by the\nsession-cleanup mechanism\n. This also allows acting on the whole group, e.g.\nsystemctl --user freeze tmux-\nNAME\n.slice\n.\nTo enable the server startup, run\nsystemctl --user enable tmux@\nNAME\n.service\n. If your user systemd instance is\nlingering\n, this runs tmux on boot; otherwise, on login. To have the server initialise and run programs, define sessions in your tmux config file.\nNote that tmux started this way inherits your systemd environment; unless spawning login shells for every pane, consult\nSystemd/User#Environment_variables\non how to populate it.\nTo change the configuration file for a single instance, use a\ndrop-in\n:\n/etc/systemd/user/tmux@topic.service.d/override.conf\n[Service]\nEnvironment=\"TMUX_SERVER_ARGS=-f %h/.tmux-topic.conf\"\nSession initialization\nYou can have tmux open a session with preloaded windows by including those details in your\n~/.tmux.conf\n:\nnew  -n WindowName Command\nneww -n WindowName Command\nneww -n WindowName Command\nTo start a session with split windows (multiple panes), include the splitw command below the neww you would like to split; thus:\nnew  -s SessionName -n WindowName Command\nneww -n foo/bar foo\nsplitw -v -p 50 -t 0 bar\nselectw -t 1\nselectp -t 0\nwould open 2 windows, the second of which would be named foo/bar and would be split vertically in half (50%) with foo running above bar. Focus would be in window 2 (foo/bar), top pane (foo).\nNote\nNumbering for sessions, windows and panes starts at zero, unless you have specified a base-index of 1 in your\n.conf\nTo manage multiple sessions, source separate session files from your configuration file:\n# initialize sessions\nbind F source-file ~/.tmux/foo\nbind B source-file ~/.tmux/bar\nClipboard integration\nTip\nThe tmux plugin\ntmux-yank\nprovides similar functionality.\nIt is possible to copy a tmux selection to the display server clipboard (both primary/secondary selections), and paste from it into tmux. The following tmux configuration file snippets integrate X11 and Wayland clipboard/selection with the current tmux selection.\nNote\nIt may be necessary to unbind the \"previous window\" shortcut with\nunbind p\nfor the Vim style examples to work.\nOn Xorg\nThe first possibility is using\nxsel\n:\nEmacs style:\nbind-key -T copy-mode y send-keys -X copy-pipe-and-cancel \"xsel -i -p && xsel -o -p | xsel -i -b\"\nbind-key C-y run \"xsel -o | tmux load-buffer - ; tmux paste-buffer\"\nVim style:\nbind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel \"xsel -i -p && xsel -o -p | xsel -i -b\"\nbind-key p run \"xsel -o | tmux load-buffer - ; tmux paste-buffer\"\nxclip\ncould also be used for this purpose. Unlike xsel, it works better when printing a raw bitstream that does not fit the current locale.  Nevertheless, it is neater to use xsel because xclip does not close\nSTDOUT\nafter it has read from the tmux buffer.  As such, tmux does not know that the copy task has completed, and continues to wait for xclip to terminate, thereby rendering tmux unresponsive.  A workaround is to redirect\nSTDOUT\nto\n/dev/null\n:\nEmacs style:\nbind-key -T copy-mode y send-keys -X copy-pipe-and-cancel \"xclip -i -sel clip > /dev/null\"\nbind-key C-y run \"xclip -o -sel clip | tmux load-buffer - ; tmux paste-buffer\"\nVim style:\nbind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel \"xclip -i -sel clip > /dev/null\"\nbind-key p run \"xclip -o -sel clip | tmux load-buffer - ; tmux paste-buffer\"\nOn Wayland\nMake sure to have\nwl-clipboard\ninstalled.\nEmacs style:\nbind-key -T copy-mode y send-keys -X copy-pipe-and-cancel \"wl-copy && wl-paste -n | wl-copy -p\"\nbind-key C-y run \"wl-paste -n | tmux load-buffer - ; tmux paste-buffer\"\nVim style:\nbind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel \"wl-copy && wl-paste -n | wl-copy -p\"\nbind-key p run \"wl-paste -n | tmux load-buffer - ; tmux paste-buffer\"\nUrxvt middle click\nNote\nTo use this, you need to enable mouse support\nThere is an unofficial perl extension (\nmentioned\nin the official\nFAQ\n) to enable copying/pasting in and out of urxvt with tmux via Middle Mouse Clicking.\nFirst, you will need to download the perl script and place it into urxvts perl lib:\nwget\nhttp://anti.teamidiot.de/static/nei/*/Code/urxvt/osc-xterm-clipboard\nmv osc-xterm-clipboard /usr/lib/urxvt/perl/\nYou will also need to enable that perl script in your .Xdefaults:\n~/.Xdefaults\n...\n*URxvt.perl-ext-common:\t\tosc-xterm-clipboard\n...\nNext, you want to tell tmux about the new function and enable mouse support (if you have not already):\n~/.tmux.conf\n...\nset-option -ga terminal-override ',rxvt-uni*:XT:Ms=\\E]52;%p1%s;%p2%s\\007'\nset -g mouse on\n...\nThat's it. Be sure to end all instances of tmux before trying the new MiddleClick functionality.\nWhile in tmux, Shift+MiddleMouseClick will paste the clipboard selection while just MiddleMouseClick will paste your tmux buffer.\nOutside of tmux, just use MiddleMouseClick to paste your tmux buffer and your standard\nCtrl+c\nto copy.\nTips and tricks\nStart tmux with default session layout\nSession managers like\ntmuxinator\nand\ntmuxp\nmake it easy to manage common session configurations.\nFor\ntmuxinator\n, install\ntmuxinator\nAUR\n. Test your installation with\n$ tmuxinator doctor\nGet the default layout values\nStart tmux as usual and configure your windows and panes layout as you like. When finished, get the current layout values by executing (while you are still within the current tmux session)\ntmux list-windows\nThe output may look like this (two windows with 3 panes and 2 panes layout)\n0: default* (3 panes) [274x83] [layout 20a0,274x83,0,0{137x83,0,0,3,136x83,138,0[136x41,138,0,5,136x41,138,42,6]}] @2 (active)\n1: remote- (2 panes) [274x83] [layout e3d3,274x83,0,0[274x41,0,0,4,274x41,0,42,7]] @3\nThe Interesting part you need to copy for later use begins after\n[layout...\nand excludes\n... ] @2 (active)\n. For the first window layout you need to copy e.g.\n20a0,274x83,0,0{137x83,0,0,3,136x83,138,0[136x41,138,0,5,136x41,138,42,6]}\nDefine the default tmux layout\nKnowing this, you can exit the current tmux session. Following this, you create your default tmux session layout by editing tmuxinator's configuration file (Do not copy the example, get your layout values as described above)\n~/.tmuxinator/default.yml\nname: default\nroot: ~/\nwindows:\n- default:\nlayout: 20a0,274x83,0,0{137x83,0,0,3,136x83,138,0[136x41,138,0,5,136x41,138,42,6]}\npanes:\n- clear\n- vim\n- clear && emacs -nw\n- remote:\nlayout: 24ab,274x83,0,0{137x83,0,0,3,136x83,138,0,4}\npanes:\n-\n-\nThe example defines two windows named \"default\" and \"remote\". With your determined layout values. For each pane you have to use at least one\n-\nline. Within the first window panes you start the commandline \"clear\" in pane one, \"vim\" in pane two and \"clear && emacs -nw\" executes two commands in pane three on each tmux start. The second window layout has two panes without defining any start commmands.\nTest the new default layout with:\ntmuxinator default\nAutostart tmux with default tmux layout\nIf you like to start your terminal session with your default tmux session layout edit\n~/.bashrc\nif [ -z \"$TMUX\" ]; then\ntmuxinator default\nfi\nAlternate approach for default session\nInstead of using the above method, one can just write a bash script that when run, will create the default session and attach to it.\nThen you can execute it from a terminal to get the pre-designed configuration in that terminal\n#!/bin/bash\ntmux new-session -d -n WindowName Command\ntmux new-window -n NewWindowName\ntmux split-window -v\ntmux selectp -t 1\ntmux split-window -h\ntmux selectw -t 1\ntmux -2 attach-session -d\nStart tmux in urxvt\nUse this command to start urxvt with a started tmux session.  I use this with the exec command from my .ratpoisonrc file.\nurxvt -e bash -c \"tmux -q has-session && exec tmux attach-session -d || exec tmux new-session -n$USER -s$USER@$HOSTNAME\"\nStart tmux on every shell login\nif [ -x \"$(command -v tmux)\" ] && [ -n \"${DISPLAY}\" ] && [ -z \"${TMUX}\" ]; then\nexec tmux new-session -A -s ${USER} >/dev/null 2>&1\nfi\nWhat the above snippet does is the following:\ntest if tmux is executable,\nand if a graphical session is running (\nremove this condition\nif you want tmux to start in any login shell, but it might interfere with\nautostarting X at login\n),\nand if we are not already inside a tmux session,\nthen try to attach, if the attachment fails, start a new session.\nIf you are using\nsystemd as a user to keep a session alive\n, you can replace the command inside the if-block with the following commands to attach to that session and detach all the other connected clients:\nif ! systemctl --user is-active --quiet tmux.service; then\nsystemctl --user start tmux.service\nfi\nexec tmux attach-session -d -t \"${USER}\" >/dev/null 2>&1\nStart a non-login shell\ntmux starts a\nlogin shell\nby default\n, which may result in multiple negative side effects:\nUsers of\nfortune\nmay notice that quotes are printed when creating a new panel.\nThe configuration files for login shells such as\n~/.profile\nare interpreted each time a new panel is created, so commands intended to be run on session initialization (e.g. setting audio level) are executed.\nTo disable this behaviour, add to\n~/.tmux.conf\n:\nset -g default-command \"${SHELL}\"\nUse tmux windows like tabs\nThe following settings added to\n~/.tmux.conf\nallow to use tmux windows like tabs, such as those provided by the reference of these hotkeys —\nurxvt's tabbing extensions\n. An advantage thereof is that these virtual “tabs” are independent of the terminal emulator.\n#urxvt tab like window switching (-n: no prior escape seq)\nbind -n S-down new-window\nbind -n S-left prev\nbind -n S-right next\nbind -n C-left swap-window -t -1\nbind -n C-right swap-window -t +1\nOf course, those should not overlap with other applications' hotkeys, such as the terminal's. Given that they substitute terminal tabbing that might as well be deactivated, though.\nIt can also come handy to supplement the EOT hotkey\nCtrl+d\nwith one for tmux's detach:\nbind-key -n C-j detach\nClients simultaneously interacting with various windows of a session\nIn\nPractical Tmux\n, Brandur Leach writes:\nScreen and tmux's behaviour for when multiple clients are attached to one session differs slightly. In Screen, each client can be connected to the session but view different windows within it, but in tmux, all clients connected to one session must view the same window.\nThis problem can be solved in tmux by spawning two separate sessions and synchronizing the second one to the windows of the first, then pointing a second new session to the first.\nThe\ntmx\nscript below implements this — the version here is slightly modified to execute\ntmux new-window\nif\n1\nis its second parameter. Invoked as\ntmx\nbase_session_name\n[1]\n, it launches the base session if necessary. Otherwise a new \"client\" session linked to the base, optionally add a new window and attach, setting it to kill itself once it turns \"zombie\". Do not forget to make it\nexecutable\n.\n~/bin/tmx\n#!/bin/bash\n# Modified TMUX start script from:\n#     http://forums.gentoo.org/viewtopic-t-836006-start-0.html\n# Works because bash automatically trims by assigning to variables and by passing arguments\ntrim() { echo $1; }\nif [[ -z \"$1\" ]]; then\necho \"Specify session name as the first argument\"\nexit\nfi\n# Only because I often issue `ls` to this script by accident\nif [[ \"$1\" == \"ls\" ]]; then\ntmux ls\nexit\nfi\nbase_session=\"$1\"\n# This actually works without the trim() on all systems except OSX\ntmux_nb=$(trim `tmux ls | grep \"^$base_session\" | wc -l`)\nif [[ \"$tmux_nb\" == \"0\" ]]; then\necho \"Launching tmux base session $base_session ...\"\ntmux new-session -s $base_session\nelse\n# Make sure we are not already in a tmux session\nif [[ -z \"$TMUX\" ]]; then\necho \"Launching copy of base session $base_session ...\"\n# Session id is date and time to prevent conflict\nsession_id=`date +%Y%m%d%H%M%S`\n# Create a new session (without attaching it) and link to base session\n# to share windows\ntmux new-session -d -t $base_session -s $session_id\nif [[ \"$2\" == \"1\" ]]; then\n# Create a new window in that session\ntmux new-window\nfi\n# Attach to the new session & kill it once orphaned\ntmux attach-session -t $session_id \\; set-option destroy-unattached\nfi\nfi\nA useful setting for this is\nsetw -g aggressive-resize on\nadded to\n~/.tmux.conf\n. It causes tmux to resize a window based on the smallest client actually viewing it, not on the smallest one attached to the entire session.\nAn alternative is to put the following\n~/.bashrc\n:\n~/.bashrc\nfunction rsc() {\nCLIENTID=$1.`date +%S`\ntmux new-session -d -t $1 -s $CLIENTID \\; set-option destroy-unattached \\; attach-session -t $CLIENTID\n}\nfunction mksc() {\ntmux new-session -d -s $1\nrsc $1\n}\nCiting the author:\n\"mksc foo\" creates a always detached permanent client named \"foo\". It also calls \"rsc foo\" to create a client to newly created session. \"rsc foo\" creates a new client grouped by \"foo\" name. It has destroy-unattached turned on so when I leave it, it kills client.\nTherefore, when my computer looses network connectivity, all \"foo.something\" clients are killed while \"foo\" remains. I can then call \"rsc foo\" to continue work from where I stopped.\nCorrect the TERM variable according to terminal type\nInstead of\nsetting a fixed TERM variable in tmux\n, it is possible to set the proper TERM (either\nscreen\nor\nscreen-256color\n) according to the type of your terminal emulator:\n~/.tmux.conf\n## set the default TERM\nset -g default-terminal screen\n## update the TERM variable of terminal emulator when creating a new session or attaching a existing session\nset -g update-environment 'DISPLAY SSH_ASKPASS SSH_AGENT_PID SSH_CONNECTION WINDOWID XAUTHORITY TERM'\n## determine if we should enable 256-colour support\nif \"[[ ${TERM} =~ 256color || ${TERM} == fbterm ]]\" 'set -g default-terminal screen-256color'\n~/.zshrc\n## workaround for handling TERM variable in multiple tmux sessions properly (by Nicholas Marriott)\nif [[ -n ${TMUX} && -n ${commands[tmux]} ]];then\ncase $(tmux showenv TERM 2>/dev/null) in\n*256color) ;&\nTERM=fbterm)\nTERM=screen-256color ;;\n*)\nTERM=screen\nesac\nfi\nReload an updated configuration without restarting tmux\nBy default tmux reads\n~/.tmux.conf\nonly if it was not already running. To have tmux load a configuration file afterwards, execute:\ntmux source-file\npath\nThis can be added to\n~/.tmux.conf\nas e. g.:\n~/.tmux.conf\nbind r source-file\npath\nYou can also do ^: and type :\nsource .tmux.conf\nTemplate script to run program in new session or attach to existing one\nThis script checks for a program presumed to have been started by a previous run of itself. Unless found it creates a new tmux session and attaches to a window named after and running the program. If however the program was found it merely attaches to the session and selects the window.\n#!/bin/bash\nPID=$(pidof $1)\nif [ -z \"$PID\" ]; then\ntmux new-session -d -s main ;\ntmux new-window -t main -n $1 \"$*\" ;\nfi\ntmux attach-session -d -t main ;\ntmux select-window -t $1 ;\nexit 0\nA derived version to run\nirssi\nwith the\nnicklist\nplugin can be found on\nits ArchWiki page\n.\nTerminal emulator window titles\nIf you SSH into a host in a tmux window, you will notice the window title of your terminal emulator remains to be\nuser@localhost\nrather than\nuser@server\n. To allow the title bar to adapt to whatever host you connect to, set the following in\n~/.tmux.conf\nset -g set-titles on\nset -g set-titles-string \"#T\"\nFor\nset-titles-string\n,\n#T\nwill display\nuser@host:~\nand change accordingly as you connect to different hosts.\nAutomatic layouting\nWhen creating new splits or destroying older ones the currently selected layout is not applied. To fix that, add following binds which will apply the currently selected layout to new or remaining panes:\nbind-key -n M-c kill-pane \\; select-layout\nbind-key -n M-n split-window \\; select-layout\nTip\nYou may be interested in\ntmux-xpanes\nAUR\nwhich makes managing window layouts and SSH connections easy.\nVim colorscheme not loading\nSee the following if your vim colorscheme is not loading in tmux:\n[2]\n[3]\nVim friendly configuration\nSee\n[4]\nfor a configuration friendly to\nvim\nusers.\nFriendly pane splitting\nThe default key-binding for splitting a pane vertically is\nCtrl+b %\nand for splitting a pane horizontally is\nCtrl+b \"\n. That can be difficult to type depending of your keyboard layout and it is also hard to remember.\nA more friendly key-binding is to use\nCtrl+b h\nfor splitting horizontally and\nCtrl+b v\nfor splitting a pane vertically, it is also very convenient to remember.\nTo make this change, add these lines in\n~/.tmux.conf\n:\n# More friendly split pane\nbind-key h split-window -h\nbind-key v split-window -v\nInhibit system suspension\nIf tmux hangs when connected from another device because the host goes to sleep, run session's shell command with an inhibition lock:\ntmux new-session -A \"systemd-inhibit --what=idle $SHELL\"\nTroubleshooting\nScrolling issues\nIn case of trouble scrolling in the terminal with Shift-Page Up/Down, the following will disable the\nsmcup\nand\nrmcup\ncapabilities for any term that reports itself as anything beginning with\nxterm\n:\nset -ga terminal-overrides ',xterm*:smcup@:rmcup@'\nThis tricks the terminal emulator into thinking tmux is a full screen application like pico or mutt\n[5]\n, which will make the scrollback be recorded properly. Beware however, it will get a bit messed up when switching between windows/panes. Consider using tmux's native scrollback instead.\nMouse scrolling\nNote\nThis interferes with selection buffer copying and pasting. To copy/paste to/from the selection buffer hold the shift key.\nIf you want to scroll with your mouse wheel, ensure mode-mouse is on in .tmux.conf\nset -g mouse on\nYou can set scroll History with:\nset -g history-limit 30000\nFor mouse wheel scrolling as from tmux 2.1 try adding one or both of these to ~/.tmux.conf\nbind -T root WheelUpPane   if-shell -F -t = \"#{alternate_on}\" \"send-keys -M\" \"select-pane -t =; copy-mode -e; send-keys -M\"\nbind -T root WheelDownPane if-shell -F -t = \"#{alternate_on}\" \"send-keys -M\" \"select-pane -t =; send-keys -M\"\nThough the above will only scroll one line at a time, add this solution to scroll an entire page instead\nbind -t vi-copy    WheelUpPane   page-up\nbind -t vi-copy    WheelDownPane page-down\nbind -t emacs-copy WheelUpPane   page-up\nbind -t emacs-copy WheelDownPane page-down\nTerminal emulator does not support UTF-8 mouse events\nWhen the terminal emulator does not support the UTF-8 mouse events and the\nmouse on\ntmux option is set, left-clicking inside the terminal window might paste strings like\n[M#\nor\n[Ma\ninto the promt.\nTo solve this issue set:\nset -g mouse-utf8 off\nShift+F6 not working in Midnight Commander\nSee\nMidnight Commander#Broken shortcuts\n.\nSee also\nBBS topic\nScreen and tmux feature comparison\npowerline\n, a dynamic statusbar for tmux\nPlugins for tmux\nOh My Tmux!\ntmux Wiki\nTutorials\nPractical Tmux\nmanual page\ntmux(1)\nTmux tutorial Part 1\nand\nPart 2\nThe Tao of tmux\n, an ebook by Tony Narlock, author of\ntmuxp\nand\nlibtmux\nRetrieved from \"\nhttps://wiki.archlinux.org/index.php?title=Tmux&oldid=850488\n\"\nCategory\n:\nTerminal multiplexers\nSearch\nSearch\ntmux\nAdd topic", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://wiki.archlinux.org/title/Tmux"}}
{"text": "Alacritty - ArchWiki\nHome\nPackages\nForums\nWiki\nGitLab\nSecurity\nAUR\nDownload\nJump to content\nArchWiki\nSearch\nSearch\nAlacritty\n6 languages\nDeutsch\n日本語\nPortuguês\nРусский\nTürkçe\n中文（简体）\nFrom ArchWiki\nAlacritty\nis a simple, GPU-accelerated terminal emulator written in\nRust\n. It supports scrollback,\n24-bit colors\n, copy/paste, clicking on URLs, and custom key bindings.\nInstallation\nInstall\nthe\nalacritty\npackage.\nConfiguration\nAlacritty searches for a configuration file at the following places in this order:\n$XDG_CONFIG_HOME/alacritty/alacritty.toml\n$XDG_CONFIG_HOME/alacritty.toml\n$HOME/.config/alacritty/alacritty.toml\n$HOME/.alacritty.toml\nVersions before 0.13.0 used a YAML configuration file. Old YAML config files can be converted to TOML by running\nalacritty migrate\n. However, automatic migration drops all comments.\nAlacritty does not provide a configuration file by default. Configuration options can be found at\nthe project's homepage\n. If the\nlive_config_reload\noption is enabled (default), most settings will take effect as soon as you save the configuration file.\nColors\nSee\nthe alacritty-theme repository\nfor a list of available color schemes. If your preferred color scheme is on the list, paste the provided code into your configuration file.\nFont\nIf you do not want to use your system’s default font, you can specify a different font by changing the following lines:\n[font]\nsize = 12.0\n[font.bold]\nfamily = \"monospace\"\nstyle = \"Bold\"\n[font.bold_italic]\nfamily = \"monospace\"\nstyle = \"Bold Italic\"\n[font.italic]\nfamily = \"monospace\"\nstyle = \"Italic\"\n[font.normal]\nfamily = \"monospace\"\nstyle = \"Regular\"\nSubstitute\nmonospace\nwith a font name from the output of\n$ fc-list : family style\nNote that some fonts do not provide an\nItalic\nstyle but an\nOblique\nstyle instead.\nTips and tricks\nSpawn new instance in same directory\nAdd the following lines to your configuration file to spawn a new instance of\nAlacritty\nin the current working directory by pressing\nCtrl+Shift+Enter\n:\n[keyboard]\nbindings = [\n{ key = \"Return\", mods = \"Control|Shift\", action = \"SpawnNewInstance\" }\n]\nVi mode and copy/paste\nThe vi mode allows moving around Alacritty's viewport and scrollback using the keyboard. By default, you can toggle it using\nCtrl+Shift+Space\n. To copy, you can either use a mouse to select and press\nCtrl+Shift+c\n, or enter Vi mode, start a selection using\nv\n, move around with\nhjkl\nlike in vim, and copy the selection with\ny\n. To paste, press\nCtrl+Shift+v\n. To copy/paste to/from X clipboard, you can use a mouse selection to copy and a middle mouse click to paste.\nHints\nTerminal hints can be used to find text or hyperlinks in the visible part of the terminal and pipe it to other applications. By default, Alacritty provides hinting URLs via the\nCtrl+Shift+O\nshortcut and opens them with\nxdg-open\n. See the\nHINTS\nsection of\nAlacritty TOML configuration manual\nfor details.\nFor example, to make\nfilename\n.rs:\nline\n:\ncharacter\nfile hints (e.g.\nmy_crate/src/server.rs:181:49\n) clickable and open in\nVisual Studio Code\n, one can add the following section to Alacritty's TOML config:\nalacritty.toml\n[[hints.enabled]]\nregex = \"[^ ]+\\\\.rs:\\\\d+:\\\\d+\"\ncommand = { program = \"code\", args = [ \"--goto\" ] }\nmouse = { enabled = true }\nMultiple types of regex-based hints can be added by adding multiple\n[[hints.enabled]]\nsections.\nSwitch themes on the fly\nIf you want to switch the theme, for example when connecting to a server over ssh. The following command can be used:\n$ alacritty msg config \"$(cat ~/path/to/theme.toml)\"\nTroubleshooting\nMouse not working properly in Vim\nAdd\nset ttymouse=sgr\nand\nset mouse=a\nto your\n.vimrc\nor switch to\nNeovim\n. Also see\nthis issue\n.\nTransparent border in dwm\nWith\ndwm\n, alacritty's borders become transparent. Adding this line to\ndrw.c\nin the\ndwm\nsource directory and recompiling fixes the issue:\nif (!XftColorAllocName(...))\ndie(\"error, cannot allocate color '%s'\", clrname); /* Find this line */\ndest->pixel |= 0xff << 24;\n/* Add this line */\nTerminal functionality unavailable in remote shells\nWhen connecting to a remote system from an Alacritty terminal, for instance over\nSSH\n, it can occur that the system does not have an entry for Alacritty in its terminfo database (\n/usr/share/terminfo/a/alacritty*\n). Therefore, all interactive terminal functionality does not work. This can be fixed either by installing a relevant system package on the server (e.g.\nncurses\non Arch or\nncurses-term\non Debian-based distributions), or by copying the terminfo for Alacritty to the remote server, as described in\ntermite#Terminal issues with SSH\n.\nOn the local host, using Alacritty:\n$ infocmp > alacritty.terminfo  # export Alacritty's Terminfo\n$ scp alacritty.terminfo user@remote-host:~/  # or any other method to copy to the remote host\nOn the remote host, in the directory where you copied\nalacritty.terminfo\n:\n$ tic -x alacritty.terminfo  # import Terminfo for current user\n$ rm alacritty.terminfo  # optional: remove Terminfo file\nHere is a one-liner version of the process above:\n$ infocmp | ssh \"$user@$host\" 'tic -x /dev/stdin'\nNote\nAfter this, you will need to start a new SSH session to have the remote shell load the new Terminfo.\nAlternatively, one can set the value of\nTERM\nin the configuration to\nxterm-256color\ninstead of the default\nalacritty\n:\n[env]\nTERM = \"xterm-256color\"\nNo title bar on Wayland GNOME\nWhen using Wayland GNOME, the title bar is empty and has strange icons. See\nhttps://github.com/alacritty/alacritty/issues/4739\nfor details.\nOne workaround is to launch Alacritty with\nXwayland\ninstead of native Wayland by setting an empty\nWAYLAND_DISPLAY\nenvironment variable\n.\nDifferent font size on multiple monitors\nBy default, Alacritty attempts to scale fonts to the appropriate point size on each monitor based on the\nDevice pixel ratio\n. On some setups with multiple displays, this behavior can result in vastly different physical sizes\n[1]\n,\n[2]\n.\nTo view the existing device pixel ratio values for each monitor, run\nalacritty -v\n, move the child window to each monitor, and pay attention to the reported\nDevice pixel ratio\nin the parent window.\nForcing a constant device pixel ratio using the\nWINIT_X11_SCALE_FACTOR\nenvironment variable may be sufficient to fix the different font size issue:\n$ WINIT_X11_SCALE_FACTOR=1.66 alacritty\nThis can also be achieved by setting the value of\nWINIT_X11_SCALE_FACTOR\nin the configuration file:\n[env]\nWINIT_X11_SCALE_FACTOR = \"1.66\"\nColor scheme not recovering what was previously set with pywal\nYou can add the following code to your shell's run commands (\n.bashrc\n).\nif command -v wal > /dev/null 2>&1 && [ \"$TERM\" = \"alacritty\" ]; then\nwal -Rqe\nfi\nThis is better than simply adding\nwal -R\nbecause\nYou only need this to happen in your terminal emulator window.\nwal -R\nis pretty slow and you don't need to run that in every subshell.\nYou don't need to see StdOut, we use the\n-q\noption.\nWe don't need to cause other parts of our desktop to reload colors again as well (i.e. gtk, xrdb, polybar, i3). This is done with the\n-e\nflag.\nRetrieved from \"\nhttps://wiki.archlinux.org/index.php?title=Alacritty&oldid=842006\n\"\nCategory\n:\nTerminal emulators\nSearch\nSearch\nAlacritty\nAdd topic", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://wiki.archlinux.org/title/Alacritty"}}
{"text": "kitty - ArchWiki\nHome\nPackages\nForums\nWiki\nGitLab\nSecurity\nAUR\nDownload\nJump to content\nArchWiki\nSearch\nSearch\nkitty\n5 languages\nDeutsch\n日本語\nPortuguês\nРусский\n中文（简体）\nFrom ArchWiki\nkitty\nis a scriptable OpenGL based terminal emulator with TrueColor, ligatures support, protocol extensions for keyboard input and image rendering. It also offers tiling capabilities, like\nGNU Screen\nor\ntmux\n.\nInstallation\nInstall\nthe\nkitty\npackage.\nUsage\nNew tabs and windows can be created and resized through various\nCtrl+Shift\nshortcuts. Layouts are switchable through\nCtrl+Shift+l\nand can be saved/restored.\nA\nfull keyboard mode\nprovides distinction between ambiguous keys like\nCtrl+i\nvs\nTab\n. Moreover, new text effects like curly-underline are also available for applications that support it.\nKittens\nkitty has a framework for creating subprograms called\nkittens\n. The commands for all kittens are prefixed with\nkitty +kitten\n, so it is convenient to use them as shell aliases.\nicat\nThis kitten is based on the\nkitty graphics protocol\n. It needs\nImageMagick\nto be installed. To show an image in the terminal:\n$ kitty +kitten icat image.jpg\nIt can also display animated gifs in the terminal. Instead of an image file, you can pass a directory or an image url. This also works over ssh to display images from a remote server. Several applications such as\nranger\nand\nneofetch\nAUR\nuse this protocol for displaying images in the terminal. For more information, see the\nofficial documentation\ndiff\nThis kitten requires either\ngit\nor\ndiffutils\nto be installed. Optionally, install\npython-pygments\nfor syntax highlighting. To show a diff of two files:\n$ kitty +kitten diff file1 file2\nIt displays diffs for images as well as text files. This kitten can also be used over ssh. You can pass directories instead of files for a recursive diff. For more information, see the\nofficial documentation\n.\nclipboard\nThis kitten is used to read and write to the system clipboard and can be used to work with a clipboard even over ssh. To copy stdin to the system clipboard:\n$ echo \"Hello\" | kitty +kitten clipboard\nTo output the current clipboard contents to stdout:\n$ kitty +kitten clipboard --get-clipboard\nThis command will show a permission popup by default. To disable this, edit the\nclipboard_control\noption in the configuration file:\n~/.config/kitty/kitty.conf\nclipboard_control write-clipboard read-clipboard\nFor more information, see the\nofficial documentation\n.\nConfiguration\nkitty stores its configuration in\n~/.config/kitty/kitty.conf\nand the default configuration can be found at\n/usr/share/doc/kitty/kitty.conf\n. Fonts, colors, cursors and scrollback behaviors can be adjusted. You can see all available options in the\nofficial documentation\nor\nkitty.conf(5)\n.\nNote\nIf you are editing the default configuration with vim, the sections will begin folded. Each section can be expanded by using\nzo\nin normal mode.\nTip\nThe default configuration file at\n/usr/share/doc/kitty/kitty.conf\nis self-documenting with comments explaining each option.\nThe official documentation is available locally at\n/usr/share/doc/kitty/html/index.html\n.\nTips and Tricks\nEnable IME support\nThis article or section is being considered for removal.\nReason:\nSee\nSpecial:Diff/829753\nthis might not be needed anymore? No references for the fix anywhere. (Discuss in\nTalk:Kitty\n)\nKitty support for\nIBus\nIME framework is disabled by default. To enable it, set the\nenvironment variable\nGLFW_IM_MODULE=ibus\n. This will also work with\nFcitx5\ndue to the compatible IBus interface that it offers.\nSingle instance mode\nThis works similar to a daemon mode. When kitty is launched with the\n--single-instance\nor\n-1\noption, only one instance of kitty will run. Launching kitty subsequently with the same option will create a new window of the existing kitty instance. This will lower memory usage because of a shared GPU cache and also reduces startup time. You can have multiple groups of kitty instances with\n--instance group\nname\noption. See\nkitty(1) § single\nfor more information.\nTroubleshooting\nTerminal issues with SSH\nWhen kitty is used to ssh into a remote that does not have its terminfo, various issues can occur. The solution is normally to copy over the terminfo. Kitty has an ssh kitten to automate exactly this.\n$ kitty +kitten ssh\nuser\n@\nhost\nYou may want to set it as an alias for\nssh\n. One way to do that is to detect if the user is using Kitty, and if so, alias the ssh command. To do that, you would append the following line to your\n~/.bashrc\nor\n~/.zshrc\nfile:\n[ \"$TERM\" = \"xterm-kitty\" ] && alias ssh=\"kitty +kitten ssh\"\nIf for whatever reason you are unable to install the terminfo on the remote, you can try setting\nTERM\nto something that is more likely to be present. Note that this might disable some of the terminal's features. See\nOpenSSH#Connecting to a remote without the appropriate terminfo entry\n.\nDisappearing background color in vim\nWhen using a color scheme with a background color in\nvim\n, the background may disappear or flicker while scrolling. To fix this, make sure the environment variable\nTERM\nis still set to\nxterm-kitty\n, then add this line to your\n.vimrc\nfile:\n~/.vimrc\nlet &t_ut=''\nRelated bug reports:\nGithub issue #108\n,\nkitty FAQ\nBitmap fonts not recognized\nkitty does not provide support for bitmap fonts, due to its fundamental feature of being able to display fonts at arbitrary font sizes, which bitmap fonts are not suited for; see\nGithub issue #97\n.\nSee also\nOfficial website\nGitHub repository\nRetrieved from \"\nhttps://wiki.archlinux.org/index.php?title=Kitty&oldid=847923\n\"\nCategories\n:\nTerminal emulators\nTerminal multiplexers\nHidden category:\nSections flagged with Template:Remove\nSearch\nSearch\nkitty\nAdd topic", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://wiki.archlinux.org/title/Kitty"}}
{"text": "Mullvad - ArchWiki\nHome\nPackages\nForums\nWiki\nGitLab\nSecurity\nAUR\nDownload\nJump to content\nArchWiki\nSearch\nSearch\nMullvad\n3 languages\nEspañol\n日本語\nNederlands\nFrom ArchWiki\nMullvad\nis a VPN service based in Sweden which uses\nOpenVPN\nand\nWireGuard\n.\nInstallation\nNote\nYou may encounter key signature issues when installing the GUI client. If so,\nfollow the instructions here\nto manually import the key before installation. You only need to follow the\nDownload and import the signing key\nsection. The key should be the same as the one referenced in the PKGBUILD of the AUR mullvad package. After importing, install\nmullvad-vpn\nAUR\nor\nmullvad-vpn-bin\nAUR\nThe\nofficial GUI client\nis available as\nmullvad-vpn\nAUR\nand\nmullvad-vpn-bin\nAUR\n.\nAfter installation, you will only have to\nstart/enable\nmullvad-daemon.service\n.\nAlternatively, see\n#Manual configuration\nfor manually setting up a Mullvad VPN connection without the official GUI.\nManual configuration\nThis article or section is out of date.\nReason:\nStill refers to iptables instead of nftables, information about dnsmasq/DNS needs verification, content about legacy OpenVPN might be excessive and should probably focus more on wireguard. Cross-reference the\nWireGuard\npage for more up-to-date info on VPN configuration. (Discuss in\nTalk:Mullvad\n)\nIf you do not want to use the official application, you can manually set up a Mullvad VPN connection with either\nOpenVPN\nor\nWireGuard\n, both of which Mullvad officially supports. WireGuard is\nrecommended\nby Mullvad, as it is more modern protocol and is deeply integrated to the kernel, allowing for better performance and a more reliable connection.\nIf you use\nNetworkManager\nyou may want to set up\ndnsmasq\nto decrease DNS lookup times and decrease the risk of DNS leakages. Follow the steps under\nDNS_caching_and_conditional_forwarding\n.\nNote\nUsing\ndnsmasq\ntogether with the official app will result in poorer performance as NetworkManager cannot manage per-interface configurations via dnsmasq.\nUsing OpenVPN\nFirst make sure the packages\nopenvpn\nand\nopenresolv\nare installed, then proceed to download Mullvad's OpenVPN configuration file package from\ntheir website\nand unzip the downloaded file to\n/etc/openvpn/client/\n. From here you can either use the\nNetworkManager front-ends\n, if using\nNetworkManager\n, or you can use\nsystemd\nto start openvpn automatically at boot.\nAlternatively, after downloading the configuration file package, change directories into the directory where you unzipped your files to and run:\n# openvpn --config mullvad_<LOCATION>.conf\nThen check your connection here:\nhttps://mullvad.net/en/check\nUsing NetworkManager front-ends\nSee\nOpenVPN#NetworkManager-native VPN configuration\n.\nNote\nMake sure to generate\nAndroid/ChromeOS\nand not\nLinux\nconfigurations in the Mullvad website.\nUsing systemd\nRename\nmullvad_linux.conf\nfor a shorter name to be used with the\nsystemd\nservice later:\n# mv /etc/openvpn/client/mullvad_linux.conf /etc/openvpn/client/mullvad.conf\nIn order to use the nameservers supplied by Mullvad,\nupdate-resolv-conf script\nis being called upon starting and stopping the connection with OpenVPN to modify\nresolv.conf\nto include the correct IP addresses. This script is also included in the Mullvad configuration zipfile, but should be moved to\n/etc/openvpn/\nto match the path specified in the Mullvad configuration file:\n# mv /etc/openvpn/client/update-resolv-conf /etc/openvpn/\nEnsure that the script is\nexecutable\n.\nThe script can be kept updated with the\nopenvpn-update-resolv-conf\nscript, which also contains a fix for DNS leaks.\nAfter configuration the VPN connection can be\nmanaged\nwith\nopenvpn-client@mullvad.service\n. If the service fails to start with an error like\nCannot open TUN/TAP dev /dev/net/tun: No such device (errno=19)\n, you might need to reboot the system to enable OpenVPN creating the correct network device for the task.\nEnabling a Kill Switch\nTo enable a Kill Switch function to prevent data leakage in case the VPN connection goes down, you can use\niptables\nas explained in the\nMullvad OpenVPN on Linux\npage, under Enabling a Kill Switch.\nUsing WireGuard\nUsing WG-Quick\nInstall\nthe\nwireguard-tools\nand\nopenresolv\npackages. Log in to\nMullvad\nwith your account and then go to the\nWireGuard configuration file generator\n. Under\nGenerate a WireGuard key\n, click generate key to generate a private key, or you can issue the following command to generate a private key and import it.\n# wg genkey\nFill out the next step under\nSelect one or multiple exit locations\non the generator and download the file.\nExtract\nthe file you downloaded to get one or several configuration files depending on your selections. Move the configuration files into\n/etc/wireguard\n.\nFor this example, we have selected Malmö, Sweden (se-mma-wg-001), as our server location, so the downloaded configuration file is named\nse-mma-wg-001.conf\n.\nAs root, run the following command. Replace se-mma-wg-001 with your selected server.\n# wg-quick up se-mma-wg-001\nTo stop it, run the following command.\n# wg-quick down se-mma-wg-001\nTo automatically have it run at boot,\nenable/start\nwg-quick@se-mma-wg-001.service\n.\nWith NetworkManager\nTo add a WireGuard connection from a config-file, issue following command in terminal:\n# nmcli connection import type wireguard file\nconfiguration_file\nIf the file was called WG1.conf a connection called WG1 should have been added.\nIf you at any point want to delete the connection, issue the command:\n# nmcli connection delete\nconnection_name\nTo actually start the WireGuard tunnel, issue command:\n# nmcli connection up\nconnection_name\nMake sure the connection is listed when you run nmcli:\n# nmcli\nYou might want to verify that the private and public keys are correct and corresponds with what you got from your VPN provider:\n# WG_HIDE_KEYS=never wg\nYou may also want to set the connection's DNS priority if exclusive use of Mullvad's DNS is desired; see\n#DNS leaks\n.\nMullvad has provided a\nshell script\nto automate this process - with a caveat: the automatically generated configuration files do not contain kill switches, which need to be manually added if you so desire.\nwith KDE\nThis article or section is a candidate for merging with\nWireguard\n.\nNotes:\nNot specific to Mullvad (Discuss in\nTalk:Mullvad\n)\nKDE settings (`systemsettings kcm_networkmanagement`), which is a frontend for Network Manager, can either import individual files that you download from mullvad's website (linux configuration), or you can open those files and manually add the values.\nThe required fields are:\nWiguard config file fields translation to KDE Conections\nsettings tab\nfield\nmullvad config file\nIP V4\nMethod: Manual\nn/a\nIP V4\nAddress/Netmask\nInterface.Address (must split on `,` and interpret the mask value. Same for IPV6)\nIP V6\nMethod: Manual (or ignored)\nn/a\nWireguard Interface\nPrivate Key\nInterface.PrivateKey\nPeers\nPublic Key\nPeer.PublicKey\nPeers\nAllowed IPs\nPeer.AllowedIPs\nPeers\nEndpoint address\nPeer.Endpoing (must split on `:`)\nPeers\nEndpoint port\nPeer.Endpoing (must split on `:`)\nNote that there's an easy to miss \"Peers\" button in the \"Wireguard Interface\" tab to open the Peers section.\nTo use multiple peers, you will have to open the `zip` file, and add one peer from each individual file on the Peers dialog. Note that the \"Wireguard Interface\" and IP tabs will be the same for all the files inside the `zip` archive you got from mullbad.\nWith systemd-networkd\n/etc/systemd/network/99-wg0.netdev\n[NetDev]\nName=wg0\nKind=wireguard\nDescription=WireGuard VPN\n[WireGuard]\nFirewallMark=0x8888\nListenPort=51820\nRouteTable=off\nPrivateKey=<private key>\n[WireGuardPeer]\nPublicKey=<public key>\nAllowedIPs=0.0.0.0/0\nAllowedIPs=::0/0\nEndpoint=<ip>:<port>\n/etc/systemd/network/99-wg0.network\n[Match]\nName=wg0\n[Network]\nAddress=<ipv4 addr>/32\nAddress=<ipv6 addr>/128\nDNS=<dns>\nDNSDefaultRoute=yes\nDomains=~.\n[RoutingPolicyRule]\nFamily=both\nSuppressPrefixLength=0\nPriority=999\nTable=main\n[RoutingPolicyRule]\nFamily=both\nFirewallMark=0x8888\nInvertRule=true\nTable=1000\nPriority=1000\n[Route]\nGateway=0.0.0.0\nTable=1000\n[Route]\nGateway=::\nTable=1000\nFor basic kill-switch functionality you can use iptables to block all outgoing connections except those with fwmark 0x8888:\niptables incomplete example\n-A OUTPUT -m mark --mark 0x8888 -j ACCEPT\n-A OUTPUT -j DROP\nDNS leaks\nBy default, the Mullvad OpenVPN configurations allow DNS leaks and for usual VPN use cases this is an unfavorable privacy defect. Mullvad's GUI client automatically stops DNS leaks by removing every DNS server IP from the system configuration and replacing them with an IP pointing out to Mullvad's own non-logging DNS server, valid during the VPN connection. This fix can also be applied with the plain OpenVPN method by configuring\nresolv.conf\nto use\nonly\nthe Mullvad DNS server IP specified on their\nwebsite\n.\nThe resolv.conf update script version in\nopenvpn-update-resolv-conf\nimplements a different fix for the leaks by using the exclusive interface switch\n-x\nwhen running the\nresolvconf\ncommand, but this might cause another form of DNS leakage by making even every local network address resolve via the DNS server provided by Mullvad, as noted in the\nscript's GitHub issue page\n.\nIf you use Mullvad with WireGuard remember to install the\nopenresolv\npackage to prevent DNS leaks. If you are manually importing WireGuard config files with NetworkManager, you may also want to set the connection's DNS priority to a negative value. This ensures that the system will use Mullvad's DNS server exclusively when the VPN is active.\n# nmcli connection modify\nconnection_name\nipv4.dns-priority -1\n# nmcli connection modify\nconnection_name\nipv6.dns-priority -1\nIPv6\nMullvad's Wireguard servers fully support\nIPv6\n, both inside and outside the tunnel. Users of the GUI app can enable tunneling IPv6 in\nVPN settings\n, and enable running the tunnel itself over IPv6 in\nVPN settings > WireGuard settings > IP version\n. This may improve performance somewhat by allowing/encouraging larger packet sizes in the WireGuard tunnel. These preferences can be chosen on the WireGuard config generator for manual users.\nPreferring IPv6 inside the tunnel\nBecause the VPN assigns a\nunique local address\nand performs network address translation (an unusual way to configure IPv6 connections to the public Internet),\ngetaddrinfo(3)\nde-prioritizes IPv6 within the tunnel\nand will only use it when it is the only available option for a connection. To solve this and prefer IPv6 within the tunnel (as is the default on a standard connection), edit the\ngai.conf(5)\nfile and add the following line:\n/etc/gai.conf\nlabel fc00:bbbb:bbbb::/48 1\nAutomatic configuration\nvopono\nsupports automatically generating configuration files for Mullvad, allowing you to instantly run applications via Mullvad connections in temporary network namespaces.\nBoth OpenVPN and Wireguard connections are supported. Shadowsocks is supported for OpenVPN connections, and port forwarding is supported for Wireguard connections.\nSee also\nMullvad client source code\nMullvad FAQ\nvopono\nRetrieved from \"\nhttps://wiki.archlinux.org/index.php?title=Mullvad&oldid=842194\n\"\nCategory\n:\nVPN providers\nHidden categories:\nPages or sections flagged with Template:Out of date\nPages or sections flagged with Template:Merge\nSearch\nSearch\nMullvad\nAdd topic", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://wiki.archlinux.org/title/Mullvad"}}
{"text": "Category:Virtual Private Network - ArchWiki\nHome\nPackages\nForums\nWiki\nGitLab\nSecurity\nAUR\nDownload\nJump to content\nArchWiki\nSearch\nSearch\nCategory\n:\nVirtual Private Network\n8 languages\nEspañol\nItaliano\n日本語\nNederlands\nPortuguês\nРусский\nSlovenčina\n中文（简体）\nHelp\nFrom ArchWiki\n(Redirected from\nVPN\n)\nA\nVirtual Private Network\n(VPN) is a security concept to create a secure communication channel between hosts over another (public) network connection.\nThis category contains general VPN software, provider-specific software belongs to\nCategory:VPN providers\n.\nSee also\nList of applications/Internet#VPN clients\n.\nSubcategories\nThis category has only the following subcategory.\nV\nVPN providers\nPages in category \"Virtual Private Network\"\nThe following 19 pages are in this category, out of 19 total.\nE\nEasy-RSA\nG\nGNUnet\nL\nLinux Containers/Using VPNs\nN\nNebula\nNetbird\nO\nOpenConnect\nOpenswan L2TP/IPsec VPN client setup\nOpenVPN\nOpenVPN/Bridge\nOpenVPN/Checklist guide\nP\nPPTP Client\nPPTP server\nR\nRosenpass\nS\nStrongSwan\nT\nTailscale\nTinc\nV\nVPN over SSH\nW\nWireGuard\nZ\nZeroTier\nRetrieved from \"\nhttps://wiki.archlinux.org/index.php?title=Category:Virtual_Private_Network&oldid=832027\n\"\nCategories\n:\nSecurity\nServers\nSearch\nSearch\nCategory\n:\nVirtual Private Network\nAdd topic", "metadata": {"source_type": "vendor_docs", "trust": "vendor_docs", "os": "linux", "distro": "ubuntu-22.04", "license": "CC BY-SA (assumed; verify per site)", "attribution_url": "https://wiki.archlinux.org/title/VPN"}}
